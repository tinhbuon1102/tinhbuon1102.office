function getConditionalValidator(value,element,params,resultFunction){for(var otherField,otherFieldValue,parts,prefix,anyValueIsNumeric,numeric,validationParameters=JSON.parse(params.validationparameters),thisField=element,result=[],i=0;i<validationParameters.length;i++){result[i]=!1;var parameter=validationParameters[i],dependentProperty=parameter.dependentproperty,compareType=parameter.comparetype,targetValue=parameter.targetvalue,dependentPropertyName=dependentProperty,dependentPropertyFieldName="",properties=dependentProperty.split("_");if(properties.length>0&&(dependentPropertyName=properties.join(".")),otherField=$(thisField.form).find('input[name="'+dependentPropertyName+'"]')[0],otherFieldValue=null,otherField==undefined&&(otherField=$(thisField.form).find('[name="'+dependentPropertyName+'"]')[0]),otherField==undefined&&(parts=element.name.split("."),prefix="",parts.length>1&&(prefix=parts[0]+"."),otherField=$('[name="'+prefix+dependentPropertyName+'"]')[0]),otherField&&(otherFieldValue=$(otherField).val()),anyValueIsNumeric=!1,numeric=parseFloat(otherFieldValue),isNumber(numeric)&&(otherFieldValue=numeric,anyValueIsNumeric=!0),numeric=parseFloat(targetValue),isNumber(numeric)&&(targetValue=numeric,anyValueIsNumeric=!0),targetValue||targetValue==0&&targetValue!=="")if(otherField)switch(compareType){case"Equal":otherField.type=="checkbox"&&otherField.checked!=targetValue?result[i]=!0:anyValueIsNumeric&&otherFieldValue!=targetValue?result[i]=!0:otherFieldValue.toString().toLowerCase()!=targetValue.toString().toLowerCase()&&(result[i]=!0);break;case"MoreThan":otherFieldValue<=targetValue&&(result[i]=!0);break;case"LessThan":otherFieldValue>=targetValue&&(result[i]=!0);break;case"LessOrEqual":otherFieldValue>targetValue&&(result[i]=!0);break;case"MoreOrEqual":otherFieldValue<targetValue&&(result[i]=!0);break;case"NotEqual":otherFieldValue==targetValue&&(result[i]=!0);break;case"In":$.isArray(targetValue)&&$.inArray(otherFieldValue,targetValue)>-1||(result[i]=!0);break;case"NotIn":$.isArray(targetValue)&&$.inArray(otherFieldValue,targetValue)>-1&&(result[i]=!0);break;default:result[i]=!0}else result[i]=!0;else otherField&&!otherField.disabled&&otherField.value&&otherField.value!=""?compareType!="NotEqual"&&(result[i]=!0):compareType=="NotEqual"&&(result[i]=!0)}return result.length>0&&result.filter(function(val){return val==!1}).length>0?resultFunction(value):!0}function LsZoomControl(controlDiv,map){var zoomInDiv=document.createElement("div"),zoomOutDiv;zoomInDiv.className="zoomIn";zoomOutDiv=document.createElement("div");zoomOutDiv.className="zoomOut";controlDiv.className+=" lsZoomControl";controlDiv.appendChild(zoomInDiv);controlDiv.appendChild(zoomOutDiv);google.maps.event.addDomListener(zoomInDiv,"click",function(){map.setZoom(map.zoom+1)});google.maps.event.addDomListener(zoomOutDiv,"click",function(){map.setZoom(map.zoom-1)})}function googleMaps(params){var _self,mapOptions;params=$.extend({mapId:"map_canvas",_centerChanged:function(latitude,longitude,bounds,event){},_onMarkerOver:function(){},_onMarkerOut:function(){},_onDragStart:function(){},markerDraggable:!1,addCenterMarker:!0,scrollwheel:!1,onLocationChanged:function(latlng){},mapCenterChanged:function(latlng){}},params);_self=this;this._allowedCountries=["AU","US","CA"];this.addCenterMarker=params.addCenterMarker;this.mapId=params.mapId;this.fitBoundsInernalTriggered=!1;this.setAllowedCountries=function(list){_self._allowedCountries=list};this.markerDraggable=params.markerDraggable;mapOptions={zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:params.scrollwheel,minZoom:2,maxZoom:21};this.pins={teardrop:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(60,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},orangeteardrop:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(0,50),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},favorited:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(90,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(30,0),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},ocean:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(60,0),anchor:new google.maps.Point(15,38),overIcon:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(30,38),origin:new google.maps.Point(60,50),anchor:new google.maps.Point(15,38)},tooltipMarginTop:-24},streetView:{url:"/content/images/manage/spr-pins2-VM.png",size:new google.maps.Size(28,35),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(13,30),overIcon:{url:"/content/images/manage/spr-pins2-VM.png",size:new google.maps.Size(28,35),origin:new google.maps.Point(28,0),anchor:new google.maps.Point(15,30)},tooltipMarginTop:-32},exactLocation:{url:"/content/images/srp/locationOnMap.png",size:new google.maps.Size(26,26),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(13,13),tooltipMarginTop:-26},dot:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(16,16),origin:new google.maps.Point(182,11),anchor:new google.maps.Point(8,8),overIcon:{url:"/content/images/icons/v4/spr-MapPins.png",scaledSize:new google.maps.Size(198,88),size:new google.maps.Size(16,16),origin:new google.maps.Point(162,11),anchor:new google.maps.Point(8,8)},tooltipMarginTop:-3},restaurant:{url:"/content/images/srp/amenities-icon.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(50,0),anchor:new google.maps.Point(14,14),overIcon:{url:"/content/images/srp/amenities-icon.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(75,0),anchor:new google.maps.Point(14,14)},tooltipMarginTop:-10},coffee:{url:"/content/images/srp/amenities-icon.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(14,14),overIcon:{url:"/content/images/srp/amenities-icon.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(25,0),anchor:new google.maps.Point(14,14)},tooltipMarginTop:-10},transit:{url:"/content/images/srp/amenities-icon.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(100,0),anchor:new google.maps.Point(14,14),overIcon:{url:"/content/images/srp/amenities-icon.png",scaledSize:new google.maps.Size(150,25),size:new google.maps.Size(25,25),origin:new google.maps.Point(125,0),anchor:new google.maps.Point(14,14)},tooltipMarginTop:-10}};this.markers=[];this.latlngbounds=new google.maps.LatLngBounds;this._lastBounds=null;this.setUpMap=function(){var useCustomZoomControl,mapElement,lsZoomControlDiv,lsZoomControl;_self.map==null&&(useCustomZoomControl=typeof LsZoomControl!="undefined",useCustomZoomControl?$.extend(mapOptions,{disableDefaultUI:!0}):$.extend(mapOptions,{panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL}}),mapElement=document.getElementById(_self.mapId),_self.map=new google.maps.Map(mapElement,mapOptions),_self.geocoder=new google.maps.Geocoder,google.maps.event.addListener(_self.map,"zoom_changed",function(event,ev1){if(!(this.zoom<this.minZoom)&&!(this.zoom>this.maxZoom)){if(!_self.fitBoundsInernalTriggered){var location=_self.map.getCenter();params._centerChanged(location&&location.lat(),location&&location.lng(),_self.map.getBounds(),"zoom_changed")}_self.fitBoundsInernalTriggered=!1}}),google.maps.event.addListener(_self.map,"dragend",function(){var location=_self.map.getCenter();params._centerChanged(location.lat(),location.lng(),_self.map.getBounds())}),google.maps.event.addListener(_self.map,"dragstart",function(){params._onDragStart()}),google.maps.event.addListener(_self.map,"click",function(){}),_self._lastBounds=_self.map.getBounds(),google.maps.event.addListener(_self.map,"idle",function(){_self._lastBounds=_self.map.getBounds()}),$.isFunction(params.mapCenterChanged)&&google.maps.event.addListener(_self.map,"center_changed",function(){var location=_self.map.getCenter();params.mapCenterChanged(location);_self.closeInfoWindows()}),useCustomZoomControl&&(lsZoomControlDiv=document.createElement("div"),lsZoomControl=new LsZoomControl(lsZoomControlDiv,_self.map),_self.map.controls[google.maps.ControlPosition.TOP_LEFT].push(lsZoomControlDiv)))};document.readyState=="complete"||document.readyState=="interactive"?_self.setUpMap():$(document).ready(function(){_self.setUpMap()});this.resizeMap=function(lat,lng){google.maps.event.trigger(_self.map,"resize");var latlng=new google.maps.LatLng(lat,lng);_self.map.setCenter(latlng)};this.getDisplayRadius=function(){var bounds=_self.map.getBounds(),center=bounds.getCenter(),ne=bounds.getNorthEast(),r=3963,lat1=center.lat()/57.2958,lon1=center.lng()/57.2958,lat2=ne.lat()/57.2958,lon2=ne.lng()/57.2958,dis=r*Math.acos(Math.sin(lat1)*Math.sin(lat2)+Math.cos(lat1)*Math.cos(lat2)*Math.cos(lon2-lon1));return dis*1610};this.fitBounds=function(lat,lng){var c;if(Math.abs(_self.latlngbounds.getNorthEast().lat()-_self.latlngbounds.getSouthWest().lat())<.001||Math.abs(_self.latlngbounds.getNorthEast().lng()-_self.latlngbounds.getSouthWest().lng())<.001)_self.map.setCenter(_self.latlngbounds.getCenter());else{if(c=_self.latlngbounds.getCenter(),lat!=null&&lng!=null&&lat!=0&&lng!=0){var dLat=c.lat()-lat,dLong=c.lng()-lng,sw=new google.maps.LatLng(_self.latlngbounds.getSouthWest().lat()-2*dLat,_self.latlngbounds.getSouthWest().lng()-2*dLong),ne=new google.maps.LatLng(_self.latlngbounds.getNorthEast().lat()-2*dLat,_self.latlngbounds.getNorthEast().lng()-2*dLong);_self.latlngbounds.extend(sw);_self.latlngbounds.extend(ne)}_self.fitBoundsInernalTriggered=!0;_self.map.fitBounds(_self.latlngbounds)}};this.setZoom=function(zoom){_self.map.setZoom(zoom)};this.drawCircle=null;this.markerCenter=null;this.showMapCenter=function(show,lat,lng){if(lat&&lng){var point=null;lat!=null&&(point=new google.maps.LatLng(lat,lng));_self.drawCircle!=null&&_self.drawCircle!=null&&_self.drawCircle.setMap(null);_self.markerCenter!=null&&_self.markerCenter!=null&&_self.markerCenter.setMap(null);point==null?point=_self.map.getCenter():_self.map.setCenter(point)}};this.infowindows=[];this.addMarker=function(options){var icon,infowindow,titleBox;if(options=$.extend({lat:null,long:null,draggable:!1,content:null,onClick:null,ignoreMapBounds:!1,title:null,titleCloseOnMouseLeave:!1,showContentByDefault:!1,appendInfoBoxToElementSelector:null,extendBounds:!0,icon:null},options),icon=_self.pins[options.icon]||_self.pins.teardrop,options.lat!=null&&options.lat!=0||options.long!=0&&options.long!=null){var latlng=new google.maps.LatLng(options.lat,options.long),currentMinMaxZIndex=this.markers.reduce(function(acc,marker){var zIndex=marker.getZIndex();return zIndex<acc.min&&(acc.min=zIndex),zIndex>acc.max&&(acc.max=zIndex),acc},{min:0,max:0}),markerSettings={position:latlng,map:_self.map,draggable:options.draggable,icon:icon,zIndex:options.extendBounds?currentMinMaxZIndex.max+1:currentMinMaxZIndex.min-1},marker=new google.maps.Marker(markerSettings),markerSetOverIcon=function(){_self.markers.forEach(function(marker){marker.initialMarker!=null&&marker.initialMarker!=marker.icon&&marker.setIcon(marker.initialMarker);marker.initialZIndex!=null&&marker.initialZIndex!=marker.zIndex&&marker.setZIndex(marker.initialZIndex)});var currentMarkerIcon=marker.initialMarker?marker.initialMarker:marker.icon;marker.initialMarker||(marker.initialMarker=currentMarkerIcon);marker.setIcon(currentMarkerIcon.overIcon);marker.initialZIndex=marker.zIndex;marker.setZIndex(9999)},markerSetNormalIcon=function(){marker.initialMarker&&marker.setIcon(marker.initialMarker);marker.initialZIndex&&marker.setZIndex(marker.initialZIndex)};return options.onClick!=null&&(google.maps.event.clearListeners(marker,"click"),google.maps.event.addListener(marker,"click",function(event){options.onClick(event)})),options.content!=null&&(infowindow=null,typeof InfoBox!="undefined"?(infowindow=new InfoBox({content:options.content,closeCallBack:function(){markerSetNormalIcon();params._onMarkerOut()},closeOnMouseLeave:!1,appendToElementSelector:options.appendInfoBoxToElementSelector,margintop:icon.tooltipMarginTop||-32}),infowindow.closeBoxURL_="",_self.infowindows.push(infowindow),options.showContentByDefault&&infowindow.open(_self.map,marker)):infowindow=new google.maps.InfoWindow({content:typeof options.content=="function"?options.content():options.content}),google.maps.event.addListener(marker,"click",function(event){_self.closeInfoWindows();infowindow.open(_self.map,marker)})),options.title!=null&&(titleBox=new InfoBox({content:options.title,closeOnMouseLeave:!0,closeBoxURL:"",margintop:icon.tooltipMarginTop||-32,appendToElementSelector:options.appendInfoBoxToElementSelector,closeCallBack:function(){setTimeout(function(){markerSetNormalIcon()},50)}}),google.maps.event.addListener(marker,"mouseover",function(event){_self.isIdle()&&($(".infobox").remove(),setTimeout(function(){markerSetOverIcon()},50),titleBox.open(_self.map,marker))}),options.titleCloseOnMouseLeave&&google.maps.event.addListener(marker,"mouseout",function(event){titleBox.close()}),_self.infowindows.push(titleBox)),google.maps.event.addListener(marker,"mouseover",function(event){markerSetOverIcon()}),google.maps.event.addListener(marker,"mouseout",function(event){markerSetNormalIcon()}),options.extendBounds&&this.latlngbounds.extend(latlng),options.ignoreMapBounds||_self.fitBounds(),this.markers.push(marker),google.maps.event.addListener(marker,"drag",function(event){var markerPos=marker.getPosition();_self.map.getBounds().contains(markerPos)||_self.map.panTo(markerPos);marker==_self.locationMarker&&_self.setLocationValues(markerPos)}),marker}};this.getBounds=function(){return _self.map?_self.map.getBounds():new google.maps.LatLngBounds};this.getResults=function(){return this._results};this.isCountryAllowed=function(c){return c==null?!1:this._allowedCountries.indexOf(c.toUpperCase())!=-1};this.locationMarker=null;this.closeInfoWindows=function(clearArr){$.each(this.infowindows,function(i,val){val.div_&&(val.closeCallBack&&val.closeCallBack(),val.close())});clearArr==!0&&(this.infowindows=[])};this.clearMarkers=function(){for(i in this.markers)this.removeMarker(this.markers[i],!0);this.closeInfoWindows(!0);this.markers=[];this.latlngbounds=new google.maps.LatLngBounds};this.removeMarker=function(marker,skipSplicing){if(marker.position=null,typeof marker.setMap=="function"&&marker.setMap(null),!skipSplicing){var index=this.markers.indexOf(marker);index>-1&&this.markers.splice(index,1)}};this.showLocation=function(address,markerDraggable,lat,long,geocodeFailedCallback,successCallback){var _self=this,geocodeParams,latlng;lat==null&&long==null?(this.geocoder=new google.maps.Geocoder,geocodeParams=typeof address=="string"?{address:address}:address,this.geocoder.geocode(geocodeParams,function(results,status){if(status==google.maps.GeocoderStatus.OK&&results!=null&&results.length>0){var venueLocation=results[0].geometry.location;_self.addLocationMarker(venueLocation,markerDraggable);typeof successCallback!="undefined"&&$.isFunction(successCallback)&&successCallback()}else typeof geocodeFailedCallback!="undefined"&&$.isFunction(geocodeFailedCallback)?geocodeFailedCallback():LSHelper.Dialog.alertDialog("Geocode was not successful. Address not found.")})):(latlng=new google.maps.LatLng(lat,long),setTimeout(function(){_self.addLocationMarker(latlng,markerDraggable);typeof successCallback!="undefined"&&$.isFunction(successCallback)&&successCallback()},1))};this.refreshLatLngBounds=function(){this.latlngbounds=new google.maps.LatLngBounds;$.each(this.markers,function(i,val){val.position!=null&&_self.latlngbounds.extend(val.position)})};this.addLocationMarker=function(location,markerDraggable){_self.addCenterMarker==!0&&(this.locationMarker!=null&&(this.removeMarker(this.locationMarker),this.refreshLatLngBounds()),this.locationMarker=this.addMarker({lat:location.lat(),long:location.lng(),draggable:markerDraggable,icon:"orangeteardrop"}));this.showMapCenter(!1,location.lat(),location.lng());this.setLocationValues(location)};this.exactLocationMarker=null;this.setExactLocationMarker=function(address){_self.locationMarker!=null&&(_self.locationMarker.setMap(null),_self.locationMarker=null);address&&_self.geocoder.geocode({address:address},function(results,status){if(results!=null&&results.length>0){var exactLocations=results.filter(function(e){return e.geometry.location_type=="ROOFTOP"||e.address_components.some(function(a){return a.types.some(function(t){return t=="street_number"})})});exactLocations.length>0&&(_self.locationMarker=new google.maps.Marker({position:exactLocations[0].geometry.location,icon:_self.pins.exactLocation,map:_self.map}))}})};this.setLocationValues=function(latlng){var selectorPrefix="";_self.mapId=="venueedit_canvas"&&(selectorPrefix="ve");$("#"+selectorPrefix+"lat").val(latlng.lat().toFixed(5));$("#"+selectorPrefix+"lng").val(latlng.lng().toFixed(5));$("#"+selectorPrefix+"latDisplay").html(null);$("#"+selectorPrefix+"latDisplay").html(latlng.lat().toFixed(5));$("#"+selectorPrefix+"lngDisplay").html(null);$("#"+selectorPrefix+"lngDisplay").html(latlng.lng().toFixed(5));params.onLocationChanged(latlng)};this.isIdle=function(){return _self._lastBounds==_self.map.getBounds()}}function isPlural(n){return n!=1}function showGridOverlay(gridId){jQuery("#lui_"+gridId).show();jQuery("#load_"+gridId).show()}function hideGridOverlay(gridId){jQuery("#lui_"+gridId).hide();jQuery("#load_"+gridId).hide()}function replaceWithLinks(text){var replaceEmail,replaceUrls,replaceUrlWithNoProtocol;return text&&(replaceEmail=/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim,text=text.replace(replaceEmail,"<a href='mailto:$1'>$1<\/a>"),replaceUrls=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,text=text.replace(replaceUrls,"<a href='$1' target='_new'>$1<\/a>"),replaceUrlWithNoProtocol=/(^|[^\/])(www\.[\S]+(\b|$))/gim,text=text.replace(replaceUrlWithNoProtocol,"$1<a href='http://$2' target='_new'>$2<\/a>")),text}function S4(){return((1+Math.random())*65536|0).toString(16).substring(1)}function createGuid(){return S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4()}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function parseJsonDate(jsonDate){var offset=(new Date).getTimezoneOffset()*6e4,parts=/\/Date\((-?\d+)([+-]\d{2})?(\d{2})?.*/.exec(jsonDate);return parts!=undefined?(parts[2]==undefined&&(parts[2]=0),parts[3]==undefined&&(parts[3]=0),new Date(+parts[1]+offset+parts[2]*36e5+parts[3]*6e4)):undefined}function handleBackButton(isUserIdentified){LSHelper.HelperLib.unblockUI("#searchWorkspacesForm");var cookieName="backButton",cookieValue=$.cookie(cookieName);cookieValue&&!isUserIdentified&&cookieValue!=window.location.href&&($.cookie(cookieName,null),$.post("/Account/UserIsAuthenticated",function(data){data!=null&&data&&(LSHelper.Account.reloadHeader(),$("#identityName").val("IdentityUser"))}));$.cookie(cookieName,encodeURIComponent(window.location.href))}function checkPageRefresh(){var cookieName="backButton",cookieValue=$.cookie(cookieName);window.isPageRefreshed=!1;cookieValue==window.location.href&&(window.isPageRefreshed=!0)}function zeroPad(num,numZeros){var n=Math.abs(num),zeros=Math.max(0,numZeros-Math.floor(n).toString().length),zeroString=Math.pow(10,zeros).toString().substr(1);return num<0&&(zeroString="-"+zeroString),zeroString+n}function FastEllipsis(cssStyle){var _charWidthArray={},_cssStyle=!cssStyle?"font-family: arial; font-size: 12pt":cssStyle,_maxWidth=10,testDrive=0,br="%br%",brRegex=new RegExp(br,"g"),generateASCIIwidth=function(){var container,charWrapper,obj,character,totalWidth=0,oldTotalWidth=0,charWidth=0,populateCacheForChar,i;if(FastEllipsisGlobal.cache[_cssStyle]==null){for(container=$("<div style='width:6000px; visibility:hidden;'><\/div>").appendTo("body"),charWrapper=$("<span style='"+_cssStyle+"'><\/span>").appendTo(container),charWrapper.append("f"),testDrive=$("<span>i<\/span>"),testDrive.appendTo(charWrapper),totalWidth=charWrapper.width(),testDrive.before("&nbsp;"),oldTotalWidth=totalWidth,totalWidth=charWrapper.width(),charWidth=totalWidth-oldTotalWidth,_charWidthArray["_ "]=charWidth,populateCacheForChar=function(i){character=String.fromCharCode(i);testDrive.before(""+character+character);oldTotalWidth=totalWidth;totalWidth=charWrapper.width();charWidth=(totalWidth-oldTotalWidth)/2;_charWidthArray["_"+character]=charWidth;_maxWidth<_charWidthArray["_"+character]&&(_maxWidth=_charWidthArray["_"+character])},i=33;i<=126;i++)populateCacheForChar(i);FastEllipsisGlobal.cache[_cssStyle]=$.extend({},_charWidthArray);container.remove()}else _charWidthArray=FastEllipsisGlobal.cache[_cssStyle]},getCharWidth=function(myChar){return _charWidthArray["_"+myChar]?_charWidthArray["_"+myChar]:(_charWidthArray["_"+myChar]=_maxWidth,_maxWidth)},getWordWidth=function(myWord){var sum,i,len;if(myWord=myWord.trim(),myWord==br)return 0;if(!_charWidthArray["_"+myWord]){for(sum=0,i=0,len=myWord.length;i<len;i++)sum=sum+getCharWidth(myWord[i]);return sum=Math.floor(sum),_charWidthArray["_"+myWord]=sum,sum}else return _charWidthArray["_"+myWord]},ellipseIt=function(myString,maxLine,lineWidth,ellipseText){var i,len,isBr,leftWidth,result,j;ellipseText==null&&(ellipseText="...");var lineNo=1,wordsInLineWidth=0,wordArr=myString.trim().strip_tags_fast().replace("-","- ").replace(/\&amp;/g,"&").split(/\s+/g),spaceWidth=getCharWidth(" "),threeDotsWidth=getWordWidth(ellipseText);for(i=0,len=wordArr.length;i<len;i++)if(wordsInLineWidth+=getWordWidth(wordArr[i]),isBr=wordArr[i]==br,wordsInLineWidth>lineWidth||isBr){if(lineNo++,lineNo==maxLine)lineWidth-=threeDotsWidth;else if(lineNo>maxLine){for(leftWidth=lineWidth-wordsInLineWidth-spaceWidth-(maxLine>1?0:threeDotsWidth);leftWidth<0&&wordArr[i];)leftWidth=leftWidth+getWordWidth(wordArr[i])+spaceWidth,leftWidth<0&&(i=i-1);if(result=wordArr.slice(0,i).join(" ").replace(brRegex,"<br>"),wordArr[i]!=br&&ellipseText=="...")for(result=result+" ";leftWidth>0;){for(j=0;j<wordArr[i].length;j++)if(leftWidth=leftWidth-getWordWidth(wordArr[i]),leftWidth>0)result=result+wordArr[i][j];else return result+ellipseText;leftWidth=leftWidth-spaceWidth;leftWidth>0&&(result=result+" ",i++)}return result+(result.length>0&&result[result.length-1]!=" "?" ":"")+ellipseText}wordsInLineWidth=0;isBr||i--}else wordsInLineWidth+=spaceWidth;return myString.replace(brRegex,"<br>").trim()};return generateASCIIwidth(),{getCharWidth:getCharWidth,getWordWidth:getWordWidth,ellipseIt:ellipseIt}}var originalValidatorPrototypeElement,qq,originalComplete,clientside_error_count,Devign,IE6,JSON,ShareLinksViewModel,koExtend,Imtech,Kicksend,COMPILED,goog,i18n;jQuery.fn.callout=function(options){return this.each(function(){var caller=this,cots,c,importStyle,s,i,left,top;if(options=="hide"){cots=caller.callout;for(c in cots)cots[c].fadeOut(1e3)}else if(options=="show"){cots=caller.callout;for(c in cots)cots[c].fadeIn(2e3);$(caller).callout("reorder")}else if(options=="destroy"){cots=caller.callout;for(c in cots)cots[c].fadeOut(1e3,function(){$(this).remove()})}else if(options=="reorder"){var cots=caller.callout,ltop=$.browser.safari?$(caller).offset().top:$(caller).position().top,lleft=$.browser.safari?$(caller).offset().left:$(caller).position().left;for(c in cots)if(cots[c].is(":visible")){var ctop=$.browser.safari?cots[c].offset().top:cots[c].position().top,cleft=$.browser.safari?cots[c].offset().left:cots[c].position().left,ltdiff=ltop-cots[c].attr("top"),lldiff=lleft-cots[c].attr("left");cots[c].css("top",ctop+ltdiff);cots[c].css("left",cleft+lldiff);cots[c].attr("top",ltop);cots[c].attr("left",lleft)}}else{options=$.extend({width:"auto",height:"auto",position:"top",align:"center",pointer:"center",msg:"Example Text",css:"",show:"true"},options||{});var position=options.position,width=options.width,height=options.height,msg=options.msg,align=options.align,pointer=options.pointer,css=options.css,$co=$("<div class='callout_main'><\/div>"),$cont=$("<div class='callout "+css+" callout_cont_"+position+"'>"+msg+"<\/div>"),$tri=$("<div class='callout_tri callout_"+position+"'><\/div>"),$tri2=$("<div><\/div>");$tri.append($tri2);$co.css("position","absolute").hide();$cont.css("zIndex",11);$tri.css("height",0).css("width",0).css("border","10px solid transparent").css("zIndex",10);$tri2.css("position","relative").css("border","10px solid transparent").css("height",0).css("width",0).css("zIndex",12);$co.append($cont);position=="bottom"||position=="right"?$co.prepend($tri):$co.append($tri);$("body").append($co);importStyle=["backgroundColor","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","marginTop","marginLeft","marginRight","marginBottom"];s={};for(i in importStyle)s[importStyle[i]]=$cont.style(importStyle[i]);$co.css("marginLeft",s.marginLeft).css("marginRight",s.marginRight).css("marginTop",s.marginTop).css("marginBottom",s.marginBottom);$cont.css("margin",0);left=-1e3;top=-1e3;$co.css("left",left);$co.css("top",top);$co.show();width!="auto"&&$co.css("width",width);height!="auto"&&$cont.css("height",height);width=$cont.width();height=$cont.height();var ttop=$.browser.safari?$(caller).offset().top:$(caller).position().top,tleft=$.browser.safari?$(caller).offset().left:$(caller).position().left,twidth=$(caller).width(),theight=$(caller).height();$co.attr("left",tleft);$co.attr("top",ttop);position=="top"||position=="bottom"?((align=="bottom"||align=="top")&&(align="center"),(pointer=="bottom"||pointer=="top")&&(pointer="center")):((align=="left"||align=="right")&&(align="center"),(pointer=="left"||pointer=="right")&&(pointer="center"));switch(pointer){case"none":$tri.hide();break;case"left":$tri.css("marginLeft",10);break;case"right":$tri.css("marginLeft",width>18?width-18:0);break;case"top":$tri.css("top",10);break;case"bottom":$tri.css("top",height>18?height-18:0);break}switch(align){case"left":left=tleft;break;case"right":left=tleft+twidth-width-8;break;case"top":top=ttop;break;case"bottom":top=ttop+theight-height-10;break}switch(position){case"top":case"bottom":position=="top"?(top=ttop-height-25,$tri.css("marginTop",-1).css("borderTopColor",s.borderBottomColor),$tri2.css("borderTopColor",s.backgroundColor).css("left",-10).css("top",-12)):(top=ttop+theight+5,$tri.css("marginBottom",-1).css("borderBottomColor",s.borderTopColor),$tri2.css("borderBottomColor",s.backgroundColor).css("left",-10).css("top",-8));align=="center"&&(left=tleft+twidth/2-width/2);pointer=="center"?$tri.css("marginLeft",width/2-8):pointer=="left"&&align=="right"?left=tleft+twidth-25:pointer=="right"&&align=="left"&&(left=tleft-width+25);$.browser.opera&&$tri2.hide();break;case"left":case"right":position=="left"?(left=tleft-width-25,$tri.css("left",width+10+1),$tri.css("borderLeftColor",s.borderRightColor),$tri2.css("borderLeftColor",s.backgroundColor).css("left",-12).css("top",-10)):(left=tleft+twidth+15,$tri.css("left",-19),$tri.css("borderRightColor",s.borderLeftColor),$tri2.css("borderRightColor",s.backgroundColor).css("left",-8).css("top",-10));$tri.css("position","absolute");align=="center"&&(top=ttop+theight/2-height/2-6);pointer=="center"?$tri.css("top",height/2-4):pointer=="top"&&align=="bottom"?top=ttop+theight-30:pointer=="bottom"&&align=="top"&&(top=ttop-height+20);break}$co.hide();$co.css("left",left);$co.css("top",top);options.show&&$co.fadeIn(2e3);caller.callout==undefined&&(caller.callout=[],$(window).bind("resize",function(e){$(caller).callout("reorder")}));caller.callout.push($co)}}),this};jQuery.fn.style=function(property){var el=this[0];return el.currentStyle?el.currentStyle[property]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(el,"")[property]:el.style[property]};
/*!
** Unobtrusive Ajax support library for jQuery
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function($){function getFunction(code,argNames){for(var fn=window,parts=(code||"").split(".");fn&&parts.length;)fn=fn[parts.shift()];return typeof fn=="function"?fn:(argNames.push(code),Function.constructor.apply(null,argNames))}function isMethodProxySafe(method){return method==="GET"||method==="POST"}function asyncOnBeforeSend(xhr,method){isMethodProxySafe(method)||xhr.setRequestHeader("X-HTTP-Method-Override",method)}function asyncOnSuccess(element,data,contentType){var mode;contentType.indexOf("application/x-javascript")===-1&&(mode=(element.getAttribute("data-ajax-mode")||"").toUpperCase(),$(element.getAttribute("data-ajax-update")).each(function(i,update){var top;switch(mode){case"BEFORE":top=update.firstChild;$("<div />").html(data).contents().each(function(){update.insertBefore(this,top)});break;case"AFTER":$("<div />").html(data).contents().each(function(){update.appendChild(this)});break;default:$(update).html(data);break}}))}function asyncRequest(element,options){var confirm,loading,method,duration;(confirm=element.getAttribute("data-ajax-confirm"),!confirm||window.confirm(confirm))&&(loading=$(element.getAttribute("data-ajax-loading")),duration=element.getAttribute("data-ajax-loading-duration")||0,$.extend(options,{type:element.getAttribute("data-ajax-method")||undefined,url:element.getAttribute("data-ajax-url")||undefined,beforeSend:function(xhr){var result;return asyncOnBeforeSend(xhr,method),result=getFunction(element.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments),result!==!1&&loading.show(duration),result},complete:function(){loading.hide(duration);getFunction(element.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(data,status,xhr){asyncOnSuccess(element,data,xhr.getResponseHeader("Content-Type")||"text/html");getFunction(element.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments)},error:getFunction(element.getAttribute("data-ajax-failure"),["xhr","status","error"])}),options.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),method=options.type.toUpperCase(),isMethodProxySafe(method)||(options.type="POST",options.data.push({name:"X-HTTP-Method-Override",value:method})),$.ajax(options))}function validate(form){var validationInfo=$(form).data(data_validation);return!validationInfo||!validationInfo.validate||validationInfo.validate()}var data_click="unobtrusiveAjaxClick",data_validation="unobtrusiveValidation";$("a[data-ajax=true]").live("click",function(evt){evt.preventDefault();asyncRequest(this,{url:this.href,type:"GET",data:[]})});$("form[data-ajax=true] input[type=image]").live("click",function(evt){var name=evt.target.name,$target=$(evt.target),form=$target.parents("form")[0],offset=$target.offset();$(form).data(data_click,[{name:name+".x",value:Math.round(evt.pageX-offset.left)},{name:name+".y",value:Math.round(evt.pageY-offset.top)}]);setTimeout(function(){$(form).removeData(data_click)},0)});$("form[data-ajax=true] :submit").live("click",function(evt){var name=evt.target.name,form=$(evt.target).parents("form")[0];$(form).data(data_click,name?[{name:name,value:evt.target.value}]:[]);setTimeout(function(){$(form).removeData(data_click)},0)});$("form[data-ajax=true]").live("submit",function(evt){var clickInfo=$(this).data(data_click)||[];(evt.preventDefault(),validate(this))&&asyncRequest(this,{url:this.action,type:this.method||"GET",data:clickInfo.concat($(this).serializeArray())})})})(jQuery);
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 JÃ¶rn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function($){$.extend($.fn,{validate:function(options){if(!this.length){options&&options.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var validator=$.data(this[0],"validator");return validator?validator:(this.attr("novalidate","novalidate"),validator=new $.validator(options,this[0]),$.data(this[0],"validator",validator),validator.settings.onsubmit&&(this.validateDelegate(":submit","click",function(event){validator.settings.submitHandler&&(validator.submitButton=event.target);$(event.target).hasClass("cancel")&&(validator.cancelSubmit=!0);$(event.target).attr("formnovalidate")!==undefined&&(validator.cancelSubmit=!0)}),this.submit(function(event){function handle(){var hidden;return validator.settings.submitHandler?(validator.submitButton&&(hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm)),validator.settings.submitHandler.call(validator,validator.currentForm,event),validator.submitButton&&hidden.remove(),!1):!0}return(validator.settings.debug&&event.preventDefault(),validator.cancelSubmit)?(validator.cancelSubmit=!1,handle()):validator.form()?validator.pendingRequest?(validator.formSubmitted=!0,!1):handle():(validator.focusInvalid(),!1)})),validator)},valid:function(){if($(this[0]).is("form"))return this.validate().form();else{var valid=!0,validator=$(this[0].form).validate();return this.each(function(){valid=valid&&validator.element(this)}),valid}},removeAttrs:function(attributes){var result={},$element=this;return $.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value)}),result},rules:function(command,argument){var element=this[0],filtered,data,param;if(command){var settings=$.data(element.form,"validator").settings,staticRules=settings.rules,existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));delete existingRules.messages;staticRules[element.name]=existingRules;argument.messages&&(settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages));break;case"remove":return argument?(filtered={},$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method]}),filtered):(delete staticRules[element.name],existingRules)}}return data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element),data.required&&(param=data.required,delete data.required,data=$.extend({required:param},data)),data}});$.extend($.expr[":"],{blank:function(a){return!$.trim(""+$(a).val())},filled:function(a){return!!$.trim(""+$(a).val())},unchecked:function(a){return!$(a).prop("checked")}});$.validator=function(options,form){this.settings=$.extend(!0,{},$.validator.defaults,options);this.currentForm=form;this.init()};$.validator.format=function(source,params){return arguments.length===1?function(){var args=$.makeArray(arguments);return args.unshift(source),$.validator.format.apply(this,args)}:(arguments.length>2&&params.constructor!==Array&&(params=$.makeArray(arguments).slice(1)),params.constructor!==Array&&(params=[params]),$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})}),source)};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(element,event){if(this.lastActive=element,this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);var _tempThis=this;setTimeout(function(){_tempThis.addWrapper(_tempThis.errorsFor(element)).hide()},500)}},onfocusout:function(element,event){!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))&&this.element(element)},onkeyup:function(element,event){if(event.which===9&&this.elementValue(element)==="")return;else(element.name in this.submitted||element===this.lastElement)&&this.element(element)},onclick:function(element,event){element.name in this.submitted?this.element(element):element.parentNode.name in this.submitted&&this.element(element.parentNode)},highlight:function(element,errorClass,validClass){element.type==="radio"?this.findByName(element.name).addClass(errorClass).removeClass(validClass):$(element).addClass(errorClass).removeClass(validClass)},unhighlight:function(element,errorClass,validClass){element.type==="radio"?this.findByName(element.name).removeClass(errorClass).addClass(validClass):$(element).removeClass(errorClass).addClass(validClass)}},setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");validator.settings[eventType]&&validator.settings[eventType].call(validator,this[0],event)}var groups,rules;this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();groups=this.groups={};$.each(this.settings.groups,function(key,value){typeof value=="string"&&(value=value.split(/\s/));$.each(value,function(index,name){groups[name]=key})});rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value)});$(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",delegate).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",delegate);this.settings.invalidHandler&&$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),$.extend(this.submitted,this.errorMap),this.invalid=$.extend({},this.errorMap),this.valid()||$(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=this.currentElements=this.elements();elements[i];i++)this.check(elements[i]);return this.valid()},element:function(element){element=this.validationTargetFor(this.clean(element));this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element)!==!1;return result?delete this.invalid[element.name]:this.invalid[element.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),result},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors)this.errorList.push({message:errors[name],element:this.findByName(name)[0]});this.successList=$.grep(this.successList,function(element){return!(element.name in errors)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){$.fn.resetForm&&$(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var count=0;for(var i in obj)count++;return count},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name===lastActive.name}).length===1&&lastActive},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], :disabled").not(this.settings.ignore).not(".ignore-jquery-validate").filter(function(){return(!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in rulesCache||!validator.objectLength($(this).rules()))?!1:(rulesCache[this.name]=!0,!0)})},clean:function(selector){return $(selector)[0]},errors:function(){var errorClass=this.settings.errorClass.replace(" ",".");return $(this.settings.errorElement+"."+errorClass+","+this.settings.errorElement+".field-validation-error span",this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element)},elementValue:function(element){var type=$(element).attr("type"),val=$(element).val();return type==="radio"||type==="checkbox"?$("input[name='"+$(element).attr("name")+"']:checked").val():typeof val=="string"?val.replace(/\r/g,""):val},check:function(element){var method,rule;element=this.validationTargetFor(this.clean(element));var rules=$(element).rules(),dependencyMismatch=!1,val=this.elementValue(element),result;for(method in rules){rule={method:method,parameters:rules[method]};try{if(result=$.validator.methods[method].call(this,val,element,rule.parameters),result==="dependency-mismatch"){dependencyMismatch=!0;continue}if(dependencyMismatch=!1,result==="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return}if(!result)return this.formatAndAdd(element,rule),!1}catch(e){this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e);throw e;}}if(!dependencyMismatch)return this.objectLength(rules)&&this.successList.push(element),!0},customDataMessage:function(element,method){return $(element).data("msg-"+method.toLowerCase())||element.attributes&&$(element).attr("data-msg-"+method.toLowerCase())},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method])},findDefined:function(){for(var i=0;i<arguments.length;i++)if(arguments[i]!==undefined)return arguments[i];return undefined},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customDataMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"<\/strong>")},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;typeof message=="function"?message=message.call(this,rule.parameters,element):theregex.test(message)&&(message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters));this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message},addWrapper:function(toToggle){return this.settings.wrapper&&(toToggle=toToggle.add(toToggle.parent(this.settings.wrapper))),toToggle},defaultShowErrors:function(){for(var elements,error,i=0;this.errorList[i];i++)error=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass),this.showLabel(error.element,error.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,elements=this.validElements();elements[i];i++)this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var label=this.errorsFor(element);label.length?(label.removeClass(this.settings.validClass).addClass(this.settings.errorClass),label.html(message)):(label=$("<"+this.settings.errorElement+">").attr("for",this.idOrName(element)).addClass(this.settings.errorClass).html(message||""),this.settings.wrapper&&(label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(label).length||(this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element)));!message&&this.settings.success&&(label.text(""),typeof this.settings.success=="string"?label.addClass(this.settings.success):this.settings.success(label,element));this.toShow=this.toShow.add(label)},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")===name})},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},validationTargetFor:function(element){return this.checkable(element)&&(element=this.findByName(element.name).not(this.settings.ignore)[0]),element},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){return $(this.currentForm).find("[name='"+name+"']")},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element))return this.findByName(element.name).filter(":checked").length}return value.length},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):!0},dependTypes:{boolean:function(param,element){return param},string:function(param,element){return!!$(param,element.form).length},"function":function(param,element){return param(element)}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch"},startRequest:function(element){this.pending[element.name]||(this.pendingRequest++,this.pending[element.name]=!0)},stopRequest:function(element,valid){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[element.name];valid&&this.pendingRequest===0&&this.formSubmitted&&this.form()?($(this.currentForm).submit(),this.formSubmitted=!1):!valid&&this.pendingRequest===0&&this.formSubmitted&&($(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:!0,message:this.defaultMessage(element,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(className,rules){className.constructor===String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className)},classRules:function(element){var rules={},classes=$(element).attr("class");return classes&&$.each(classes.split(" "),function(){this in $.validator.classRuleSettings&&$.extend(rules,$.validator.classRuleSettings[this])}),rules},attributeRules:function(element){var rules={},$element=$(element),type=$element[0].getAttribute("type"),method,value;for(method in $.validator.methods)method==="required"?(value=$element.get(0).getAttribute(method),value===""&&(value=!0),value=!!value):value=$element.attr(method),/min|max/.test(method)&&(type===null||/number|range|text/.test(type))&&(value=Number(value)),value?rules[method]=value:type===method&&type!=="range"&&(rules[method]=!0);return rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)&&delete rules.maxlength,rules},dataRules:function(element){var method,value,rules={},$element=$(element);for(method in $.validator.methods)value=$element.data("rule-"+method.toLowerCase()),value!==undefined&&(rules[method]=value);return rules},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");return validator.settings.rules&&(rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{}),rules},normalizeRules:function(rules,element){return $.each(rules,function(prop,val){if(val===!1){delete rules[prop];return}if(val.param||val.depends){var keepRule=!0;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break}keepRule?rules[prop]=val.param!==undefined?val.param:!0:delete rules[prop]}}),$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter}),$.each(["minlength","maxlength"],function(){rules[this]&&(rules[this]=Number(rules[this]))}),$.each(["rangelength","range"],function(){var parts;rules[this]&&($.isArray(rules[this])?rules[this]=[Number(rules[this][0]),Number(rules[this][1])]:typeof rules[this]=="string"&&(parts=rules[this].split(/[\s,]+/),rules[this]=[Number(parts[0]),Number(parts[1])]))}),$.validator.autoCreateRanges&&(rules.min&&rules.max&&(rules.range=[rules.min,rules.max],delete rules.min,delete rules.max),rules.minlength&&rules.maxlength&&(rules.rangelength=[rules.minlength,rules.maxlength],delete rules.minlength,delete rules.maxlength)),rules},normalizeRule:function(data){if(typeof data=="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=!0});data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!==undefined?message:$.validator.messages[name];method.length<3&&$.validator.addClassRules(name,$.validator.normalizeRule(name))},methods:{required:function(value,element,param){if(!this.depend(param,element))return"dependency-mismatch";if(element.nodeName.toLowerCase()==="select"){var val=$(element).val();return val&&val.length>0}return this.checkable(element)?this.getLength(value,element)>0:$.trim(value).length>0},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(value)},url:function(value,element){return this.optional(element)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value).toString())},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(value)},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},creditcard:function(value,element){var n,cDigit;if(this.optional(element))return"dependency-mismatch";if(/[^0-9 \-]+/.test(value))return!1;var nCheck=0,nDigit=0,bEven=!1;for(value=value.replace(/\D/g,""),n=value.length-1;n>=0;n--)cDigit=value.charAt(n),nDigit=parseInt(cDigit,10),bEven&&(nDigit*=2)>9&&(nDigit-=9),nCheck+=nDigit,bEven=!bEven;return nCheck%10==0},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length<=param},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength($.trim(value),element);return this.optional(element)||length>=param[0]&&length<=param[1]},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||value<=param},range:function(value,element,param){return this.optional(element)||value>=param[0]&&value<=param[1]},equalTo:function(value,element,param){var target=$(param);return this.settings.onfocusout&&target.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid()}),value===target.val()},remote:function(value,element,param){var previous,validator,data;return this.optional(element)?"dependency-mismatch":(previous=this.previousValue(element),this.settings.messages[element.name]||(this.settings.messages[element.name]={}),previous.originalMessage=this.settings.messages[element.name].remote,this.settings.messages[element.name].remote=previous.message,param=typeof param=="string"&&{url:param}||param,previous.old===value)?previous.valid:(previous.old=value,validator=this,this.startRequest(element),data={},data[element.name]=value,$.ajax($.extend(!0,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){var valid,submitted,errors,message;validator.settings.messages[element.name].remote=previous.originalMessage;valid=response===!0||response==="true";valid?(submitted=validator.formSubmitted,validator.prepareElement(element),validator.formSubmitted=submitted,validator.successList.push(element),delete validator.invalid[element.name],validator.showErrors()):(errors={},message=response||validator.defaultMessage(element,"remote"),errors[element.name]=previous.message=$.isFunction(message)?message(value):message,validator.invalid[element.name]=!0,validator.showErrors(errors));previous.valid=valid;validator.stopRequest(element,valid)}},param)),"pending")}}});$.format=$.validator.format})(jQuery),function($){var pendingRequests={},ajax;$.ajaxPrefilter?$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;settings.mode==="abort"&&(pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=xhr)}):(ajax=$.ajax,$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;return mode==="abort"?(pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=ajax.apply(this,arguments),pendingRequests[port]):ajax.apply(this,arguments)})}(jQuery),function($){$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate))return handler.apply(target,arguments)})}})}(jQuery);originalValidatorPrototypeElement=$.validator.prototype.element;$.validator.prototype.element=function(element){return $(element).not(this.settings.ignore).length>0?originalValidatorPrototypeElement.call(this,element):(delete this.invalid[element.name],!0)};
/*!
** Unobtrusive validation support library for jQuery and jQuery Validate
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
(function($){function setValidationValues(options,ruleName,value){options.rules[ruleName]=value;options.message&&(options.messages[ruleName]=options.message)}function splitAndTrim(value){return value.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function getModelPrefix(fieldName){return fieldName.substr(0,fieldName.lastIndexOf(".")+1)}function appendModelPrefix(value,prefix){return value.indexOf("*.")===0&&(value=value.replace("*.",prefix)),value}function onError(error,inputElement){var container=$(this).find("[data-valmsg-for='"+inputElement[0].name+"']"),replace=$.parseJSON(container.attr("data-valmsg-replace"))!==!1;container.removeClass("field-validation-valid").addClass("field-validation-error");error.data("unobtrusiveContainer",container);replace?(container.empty(),error.removeClass("input-validation-error").appendTo(container)):error.hide()}function onErrors(form,validator){var container=$(this).find("[data-valmsg-summary=true]"),list=container.find("ul");list&&list.length&&validator.errorList.length&&(list.empty(),container.addClass("validation-summary-errors").removeClass("validation-summary-valid"),$.each(validator.errorList,function(){$("<li />").html(this.message).appendTo(list)}))}function onSuccess(error){var container=error.data("unobtrusiveContainer"),replace=$.parseJSON(container.attr("data-valmsg-replace"));container&&(container.addClass("field-validation-valid").removeClass("field-validation-error"),error.removeData("unobtrusiveContainer"),replace&&container.empty())}function validationInfo(form){var $form=$(form),result=$form.data(data_validation);return result||(result={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:$.proxy(onError,form),invalidHandler:$.proxy(onErrors,form),messages:{},rules:{},success:$.proxy(onSuccess,form)},attachValidation:function(){$form.validate(this.options)},validate:function(){return $form.validate(),$form.valid()}},$form.data(data_validation,result)),result}var $jQval=$.validator,adapters,data_validation="unobtrusiveValidation";$jQval.unobtrusive={adapters:[],parseElement:function(element,skipAttach){var $element=$(element),form=$element.parents("form")[0],valInfo,rules,messages;form&&(valInfo=validationInfo(form),valInfo.options.rules[element.name]=rules={},valInfo.options.messages[element.name]=messages={},$.each(this.adapters,function(){var prefix="data-val-"+this.name,message=$element.attr(prefix),paramValues={};message!==undefined&&(prefix+="-",$.each(this.params,function(){paramValues[this]=$element.attr(prefix+this)}),this.adapt({element:element,form:form,message:message,params:paramValues,rules:rules,messages:messages}))}),jQuery.extend(rules,{__dummy__:!0}),skipAttach||valInfo.attachValidation())},parse:function(selector){$(selector).find(":input[data-val=true]").each(function(){$jQval.unobtrusive.parseElement(this,!0)});$("form").each(function(){var info=validationInfo(this);info&&info.attachValidation()})}};adapters=$jQval.unobtrusive.adapters;adapters.add=function(adapterName,params,fn){return fn||(fn=params,params=[]),this.push({name:adapterName,params:params,adapt:fn}),this};adapters.addBool=function(adapterName,ruleName){return this.add(adapterName,function(options){setValidationValues(options,ruleName||adapterName,!0)})};adapters.addMinMax=function(adapterName,minRuleName,maxRuleName,minMaxRuleName,minAttribute,maxAttribute){return this.add(adapterName,[minAttribute||"min",maxAttribute||"max"],function(options){var min=options.params.min,max=options.params.max;min&&max?setValidationValues(options,minMaxRuleName,[min,max]):min?setValidationValues(options,minRuleName,min):max&&setValidationValues(options,maxRuleName,max)})};adapters.addSingleVal=function(adapterName,attribute,ruleName){return this.add(adapterName,[attribute||"val"],function(options){setValidationValues(options,ruleName||adapterName,options.params[attribute])})};$jQval.addMethod("__dummy__",function(value,element,params){return!0});$jQval.addMethod("regex",function(value,element,params){var match;return this.optional(element)?!0:(match=new RegExp(params).exec(value),match&&match.index===0&&match[0].length===value.length)});adapters.addSingleVal("accept","exts").addSingleVal("regex","pattern");adapters.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");adapters.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");adapters.add("equalto",["other"],function(options){var prefix=getModelPrefix(options.element.name),other=options.params.other,fullOtherName=appendModelPrefix(other,prefix),element=$(options.form).find(":input[name="+fullOtherName.replace(".","\\.")+"]")[0];setValidationValues(options,"equalTo",element)});adapters.add("required",function(options){(options.element.tagName.toUpperCase()!=="INPUT"||options.element.type.toUpperCase()!=="CHECKBOX")&&setValidationValues(options,"required",!0)});adapters.add("remote",["url","type","additionalfields"],function(options){var value={url:options.params.url,type:options.params.type||"GET",data:{}},prefix=getModelPrefix(options.element.name);$.each(splitAndTrim(options.params.additionalfields||options.element.name),function(i,fieldName){var paramName=appendModelPrefix(fieldName,prefix);value.data[paramName]=function(){return $(options.form).find(":input[name='"+paramName+"']").val()}});setValidationValues(options,"remote",value)});$(function(){$jQval.unobtrusive.parse(document)})})(jQuery),function($){$.validator.unobtrusive.parseDynamicContent=function(selector){$.validator.unobtrusive.parse(selector);var form=$(selector).first().closest("form"),unobtrusiveValidation=form.data("unobtrusiveValidation"),validator=form.validate();unobtrusiveValidation&&$.each(unobtrusiveValidation.options.rules,function(elname,elrules){if(validator.settings.rules[elname]==undefined){var args={};$.extend(args,elrules);args.messages=unobtrusiveValidation.options.messages[elname];$('[name="'+elname+'"]').rules("add",args)}else $.each(elrules,function(rulename,data){if(validator.settings.rules[elname][rulename]==undefined){var args={};args[rulename]=data;args.messages=unobtrusiveValidation.options.messages[elname][rulename];$('[name="'+elname+'"]').rules("add",args)}})})}}($),function($){function switchCompareType(compareType,func,value,targetValue){switch(compareType){case"Equal":if(func(value)==func(targetValue))return!0;break;case"MoreThan":if(func(value)<func(targetValue))return!0;break;case"LessThan":if(func(value)>func(targetValue))return!0;break;case"LessOrEqual":if(func(value)>=func(targetValue))return!0;break;case"MoreOrEqual":if(func(value)<=func(targetValue))return!0;break;case"NotEqual":if(func(value)==func(targetValue))return!0;break;default:return!0}}var filterFunction=function(elem){return!(elem.id=="inviteeEmailsText")};$.validator.setDefaults({onkeyup:function(elem){return filterFunction(elem)},focusCleanup:!0});$.validator.addMethod("minimumlengthcheck",function(val,el,params){return val&&val.length>=params?!0:!1});$.validator.unobtrusive.adapters.add("minimumlength",["minimumlength"],function(options){options.rules.minimumlengthcheck=options.params.minimumlength;options.message&&(options.messages.minimumlengthcheck=options.message)});jQuery.validator.addMethod("optionalmindecimal",function(value,element,params){return element.disabled||value.length==0?!0:value!==""?parseFloat(value)>=parseFloat(params)?!0:!1:!0},"");$.validator.unobtrusive.adapters.add("optionalmindecimal",["minimumvalue"],function(options){options.rules.optionalmindecimal=options.params.minimumvalue;options.message&&(options.messages.optionalmindecimal=options.message)});jQuery.validator.addMethod("optionalmaxdecimal",function(value,element,params){return element.disabled||value.length==0?!0:value!==""?parseFloat(value)<=parseFloat(params)?!0:!1:!0},"");$.validator.unobtrusive.adapters.add("optionalmaxdecimal",["maximumvalue"],function(options){options.rules.optionalmaxdecimal=options.params.maximumvalue;options.message&&(options.messages.optionalmaxdecimal=options.message)});$.validator.unobtrusive.adapters.add("phonenumber",["regexpattern"],function(options){options.rules.phonenumber="true";options.message&&(options.messages.phonenumber=options.message)});$.validator.addMethod("phonenumber",function(invalue,element,params){var phoneUtil,res;if(i18n&&i18n.phonenumbers){if($(element).data("phonenumber-formatted")==!0)return $(element).data("phonenumber-formatted",!1),!0;function parseNumber(value,addition){value.startsWith(addition)||(value=addition+value);try{var number=phoneUtil.parse(value,null),isValid=phoneUtil.isValidNumber(number);return{number:number,isValid:isValid}}catch(e){return{number:value,isValid:!1}}}phoneUtil=i18n.phonenumbers.PhoneNumberUtil.getInstance();try{return invalue?(res=parseNumber(invalue,"+1"),res.isValid||(res=parseNumber(invalue,"+")),res.isValid&&($(element).data("phonenumber-formatted",!0),$(element).val(phoneUtil.format(res.number,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL))),res.isValid):!0}catch(e){}return!1}else return!0},"");$.validator.unobtrusive.adapters.add("url",["regexpattern"],function(options){options.rules.url=options.params.regexpattern;options.message&&(options.messages.url=options.message)});$.validator.addMethod("url",function(value,element,params){if(value.length!=0){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null}else return!0},"");$.validator.unobtrusive.adapters.add("email",["regexpattern"],function(options){options.rules.email=options.params.regexpattern;options.message&&(options.messages.email=options.message)});$.validator.addMethod("email",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("emaillist",["regexpattern"],function(options){options.rules.emaillist=options.params.regexpattern;options.message&&(options.messages.emaillist=options.message)});$.validator.addMethod("emaillist",function(value,element,params){$(element).trigger("clear.optionalField");value=$(element).val();var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("twitterhandle",["regexpattern"],function(options){options.rules.twitterhandle=options.params.regexpattern;options.message&&(options.messages.twitterhandle=options.message)});$.validator.addMethod("twitterhandle",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("namewithcharacters",["regexpattern"],function(options){options.rules.namewithcharacters=options.params.regexpattern;options.message&&(options.messages.namewithcharacters=options.message)});$.validator.addMethod("namewithcharacters",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("deskcount",["deskcount"],function(options){options.rules.deskcount=options.params;options.message&&(options.messages.deskcount=options.message)});$.validator.addMethod("deskcount",function(value,element,params){return window.viewModel_workspaceEditDesksTable==null||value>=window.viewModel_workspaceEditDesksTable.dataSource().length},"");$.validator.unobtrusive.adapters.add("stringstartingwithcharacterordigit",["regexpattern"],function(options){options.rules.stringstartingwithcharacterordigit=options.params.regexpattern;options.message&&(options.messages.stringstartingwithcharacterordigit=options.message)});$.validator.addMethod("stringstartingwithcharacterordigit",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("price",["regexpattern"],function(options){options.rules.price=options.params.regexpattern;options.message&&(options.messages.price=options.message)});$.validator.addMethod("price",function(value,element,params){if(value!==""){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null}else return!0},"");$.validator.unobtrusive.adapters.add("rationalnumber",["regexpattern"],function(options){options.rules.rationalnumber=options.params.regexpattern;options.message&&(options.messages.rationalnumber=options.message)});$.validator.addMethod("rationalnumber",function(value,element,params){if(value!==""){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null}else return!0},"");$.validator.unobtrusive.adapters.add("nohtmltags",["regexpattern"],function(options){options.rules.nohtmltags=options.params.regexpattern;options.message&&(options.messages.nohtmltags=options.message)});$.validator.addMethod("nohtmltags",function(value,element,params){var re=new RegExp(params,"g");return!re.test(value)},"");$.validator.unobtrusive.adapters.add("naturalnumber",["regexpattern"],function(options){options.rules.naturalnumber=options.params.regexpattern;options.message&&(options.messages.naturalnumber=options.message)});$.validator.addMethod("naturalnumber",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"");$.validator.unobtrusive.adapters.add("cannotbeemptylist",["regexpattern"],function(options){options.rules.cannotbeemptylist=options.params.regexpattern;options.message&&(options.messages.cannotbeemptylist=options.message)});$.validator.addMethod("cannotbeemptylist",function(value,element,params){return value&&value.length>0},"");$.validator.unobtrusive.adapters.add("requiredenum",["notallowedvalue"],function(options){options.rules.requiredenum=options.params.notallowedvalue;options.message&&(options.messages.requiredenum=options.message)});$.validator.addMethod("requiredenum",function(value,element,params){return value!=params},"");$.validator.unobtrusive.adapters.add("regexif",["validationparameters","regex"],function(options){options.rules.isregexif=options.params;options.messages.isregexif=options.message});$.validator.addMethod("isregexif",function(value,element,params){return getConditionalValidator(value,element,params,function(value){return new RegExp(params.regex).test(value)})});$.validator.unobtrusive.adapters.add("requiredif",["validationparameters"],function(options){options.rules.isrequiredif=options.params;options.messages.isrequiredif=options.message});$.validator.addMethod("isrequiredif",function(value,element,params){return getConditionalValidator(value,element,params,function(value){return!(value==null||value.length==0)})});$.validator.unobtrusive.adapters.add("rangeif",["validationparameters","min","max"],function(options){options.rules.israngeif=options.params;options.messages.israngeif=options.message});$.validator.addMethod("israngeif",function(value,element,params){return getConditionalValidator(value,element,params,function(value){return parseFloat(value)>=parseFloat(params.min)&&parseFloat(value)<=parseFloat(params.max)})});$.validator.unobtrusive.adapters.add("datecompare",["propertytested","comparetype","ignoreifoneempty"],function(options){options.rules.isdateafter=options.params;options.messages.isdateafter=options.message});$.validator.unobtrusive.adapters.add("intcompare",["propertytested","comparetype","ignoreifoneempty"],function(options){options.rules.intcompare=options.params;options.messages.intcompare=options.message});$.validator.addMethod("intcompare",function(value,element,params){var lastDot=element.name.lastIndexOf("."),el=lastDot==-1?$('[name="'+params.propertytested+'"]'):$('[name="'+element.name.slice(0,lastDot+1)+params.propertytested+'"]'),targetValue=el.val(),errors,validator;return(params.triggeredInside||(params.triggeredInside=!0,errors=this.errorList,validator=$(el[0].form).validate(),validator.element(el)==1&&el.removeClass("input-validation-error"),this.errorList=errors,params.triggeredInside=!1),!value||!targetValue)?params.ignoreifoneempty:isNaN(parseInt(targetValue))||isNaN(parseInt(value))?!0:switchCompareType(params.comparetype,parseInt,targetValue,value)});$.validator.addMethod("requiredifequal",function(value,element,parameters){var id="#"+parameters.dependentproperty,targetvalue=parameters.targetvalue,targetvaluearray,i;for(targetvalue=(targetvalue==null?"":targetvalue).toString(),targetvaluearray=targetvalue.split("|"),i=0;i<targetvaluearray.length;i++){var control=$(id),controltype=control.attr("type"),actualvalue=controltype==="checkbox"?control.attr("checked")?"true":"false":control.val();if(targetvaluearray[i]===actualvalue)return $.validator.methods.required.call(this,value,element,parameters)}return!0});$.validator.unobtrusive.adapters.add("requiredifequal",["dependentproperty","targetvalue"],function(options){options.rules.requiredifequal={dependentproperty:options.params.dependentproperty,targetvalue:options.params.targetvalue};options.messages.requiredifequal=options.message});$.validator.unobtrusive.adapters.add("notequalto",["other"],function(options){options.rules.notEqualTo="#"+options.params.other;options.message&&(options.messages.notEqualTo=options.message)});$.validator.addMethod("notEqualTo",function(value,element,param){return this.optional(element)||value!=$(param).val()},"");$.validator.addMethod("isdateafter",function(value,element,params){function parseTime(timeString){var d=new Date,time=timeString.match(/(\d.)?(\d{1,}):(\d{2,2}):(\d{2,2})/i),day=parseInt(time[1],10)||0,h=parseInt(time[2],10)||0,m=parseInt(time[3],10)||0,s=parseInt(time[4],10)||0;return day>0&&(d=new Date(d.getTime()+day*864e5)),d.setHours(h),d.setMinutes(m),d.setSeconds(s),d}var parts=element.name.split("."),prefix="",el,startdatevalue,errors,validator,year;return(parts.length>1&&(prefix=parts[0]+"."),el=$('[name="'+prefix+params.propertytested+'"]'),startdatevalue=el.val(),params.triggeredInside||(params.triggeredInside=!0,errors=this.errorList,validator=$(el[0].form).validate(),validator.element(el)==1&&el.removeClass("input-validation-error"),this.errorList=errors,params.triggeredInside=!1),!value||!startdatevalue)?params.ignoreifoneempty:(year="/"+(new Date).getFullYear(),(Date.parse(startdatevalue)||Date.parse(startdatevalue+year))&&(Date.parse(value)||Date.parse(value+year))?Date.parse(startdatevalue)&&Date.parse(value)?switchCompareType(params.comparetype,Date.parse,startdatevalue,value):switchCompareType(params.comparetype,Date.parse,startdatevalue+year,value+year):switchCompareType(params.comparetype,parseTime,startdatevalue,value))},"");$.validator.unobtrusive.adapters.add("youtubevideourl",["regexpattern"],function(options){options.rules.youtubevideourl=options.params.regexpattern;options.message&&(options.messages.youtubevideourl=options.message)});$.validator.addMethod("youtubevideourl",function(value,element,params){var re=new RegExp(params,"g"),m=re.exec(value);return m!=null},"")}(jQuery);$.ui.autocomplete.prototype._renderItem=function(ul,item){var rendered=$("<a><\/a>").text(item.label);return typeof this.options.renderItem!="undefined"&&$.isFunction(this.options.renderItem)&&(rendered=this.options.renderItem(item)),rendered&&rendered.length>0?$("<li><\/li>").data("item.autocomplete",item).append(rendered).appendTo(ul):void 0};$.ui.tabs.prototype.__trigger=$.ui.tabs.prototype._trigger;$.ui.tabs.prototype._trigger=function(b,c,d){var grids,e,f,g;if(b=="show"&&(grids=$(d.panel).find(".kgGrid"),grids.length>0&&$.each(grids,function(i,grid){var g=eval("window.viewModel_"+grid.id);$(grid).find(".kgViewport").scrollTop(g.scrollPosition())})),g=this.options[b],d=d||{},c=$.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent,f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!($.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())};
/*!
* jquery.inputmask.bundle
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2015 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 3.1.58
*/
!function($){function isInputEventSupported(eventName){var el=document.createElement("input"),evName="on"+eventName,isSupported=evName in el;return isSupported||(el.setAttribute(evName,"return;"),isSupported="function"==typeof el[evName]),el=null,isSupported}function isInputTypeSupported(inputType){var isSupported="text"==inputType||"tel"==inputType,el;return isSupported||(el=document.createElement("input"),el.setAttribute("type",inputType),isSupported="text"===el.type,el=null),isSupported}function resolveAlias(aliasStr,options,opts){var aliasDefinition=opts.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),$.extend(!0,opts,aliasDefinition),$.extend(!0,opts,options),!0):!1}function generateMaskSet(opts){function analyseMask(mask){function maskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[];this.isGroup=isGroup||!1;this.isOptional=isOptional||!1;this.isQuantifier=isQuantifier||!1;this.isAlternator=isAlternator||!1;this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){var maskdef=opts.definitions[element],newBlockMarker=0==mtoken.matches.length;if(position=void 0!=position?position:mtoken.matches.length,maskdef&&!escaped){maskdef.placeholder=$.isFunction(maskdef.placeholder)?maskdef.placeholder.call(this,opts):maskdef.placeholder;for(var prevalidators=maskdef.prevalidator,prevalidatorsL=prevalidators?prevalidators.length:0,i=1;i<maskdef.cardinality;i++){var prevalidator=prevalidatorsL>=i?prevalidators[i-1]:[],validator=prevalidator.validator,cardinality=prevalidator.cardinality;mtoken.matches.splice(position++,0,{fn:validator?"string"==typeof validator?new RegExp(validator):new function(){this.test=validator}:new RegExp("."),cardinality:cardinality?cardinality:1,optionality:mtoken.isOptional,newBlockMarker:newBlockMarker,casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element})}mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator):new function(){this.test=maskdef.validator}:new RegExp("."),cardinality:maskdef.cardinality,optionality:mtoken.isOptional,newBlockMarker:newBlockMarker,casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element})}else mtoken.matches.splice(position++,0,{fn:null,cardinality:0,optionality:mtoken.isOptional,newBlockMarker:newBlockMarker,casing:null,def:element,placeholder:void 0,mask:element}),escaped=!1}for(var quantifier,matches,groupToken,mndx,match,m,openingToken,currentOpeningToken,alternator,lastMatch,tokenizer=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,escaped=!1,currentToken=new maskToken,openenings=[],maskTokens=[];match=tokenizer.exec(mask);)switch(m=match[0],m.charAt(0)){case opts.optionalmarker.end:case opts.groupmarker.end:if(openingToken=openenings.pop(),openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){for(alternator=openenings.pop(),mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);break;case opts.optionalmarker.start:openenings.push(new maskToken(!1,!0));break;case opts.groupmarker.start:openenings.push(new maskToken(!0));break;case opts.quantifiermarker.start:quantifier=new maskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1==mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);(("*"==mq1||"+"==mq1)&&(mq0="*"==mq1?0:1),quantifier.quantifier={min:mq0,max:mq1},openenings.length>0)?(matches=openenings[openenings.length-1].matches,(match=matches.pop(),match.isGroup)||(groupToken=new maskToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifier)):((match=currentToken.matches.pop(),match.isGroup)||(groupToken=new maskToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifier));break;case opts.escapeChar:escaped=!0;break;case opts.alternatormarker:openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],lastMatch=currentOpeningToken.matches.pop()):lastMatch=currentToken.matches.pop();lastMatch.isAlternator?openenings.push(lastMatch):(alternator=new maskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator));break;default:if(openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.length>0&&(lastMatch=currentOpeningToken.matches[currentOpeningToken.matches.length-1],lastMatch.isGroup&&(lastMatch.isGroup=!1,insertTestDefinition(lastMatch,opts.groupmarker.start,0),insertTestDefinition(lastMatch,opts.groupmarker.end))),insertTestDefinition(currentOpeningToken,m),currentOpeningToken.isAlternator){for(alternator=openenings.pop(),mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.length>0&&(lastMatch=currentToken.matches[currentToken.matches.length-1],lastMatch.isGroup&&(lastMatch.isGroup=!1,insertTestDefinition(lastMatch,opts.groupmarker.start,0),insertTestDefinition(lastMatch,opts.groupmarker.end))),insertTestDefinition(currentToken,m)}return currentToken.matches.length>0&&(lastMatch=currentToken.matches[currentToken.matches.length-1],lastMatch.isGroup&&(lastMatch.isGroup=!1,insertTestDefinition(lastMatch,opts.groupmarker.start,0),insertTestDefinition(lastMatch,opts.groupmarker.end)),maskTokens.push(currentToken)),maskTokens}function generateMask(mask,metadata){if(void 0==mask||""==mask)return void 0;if(1==mask.length&&0==opts.greedy&&0!=opts.repeat&&(opts.placeholder=""),opts.repeat>0||"*"==opts.repeat||"+"==opts.repeat){var repeatStart="*"==opts.repeat?0:"+"==opts.repeat?1:opts.repeat;mask=opts.groupmarker.start+mask+opts.groupmarker.end+opts.quantifiermarker.start+repeatStart+","+opts.repeat+opts.quantifiermarker.end}return void 0==$.inputmask.masksCache[mask]&&($.inputmask.masksCache[mask]={mask:mask,maskToken:analyseMask(mask),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:metadata}),$.extend(!0,{},$.inputmask.masksCache[mask])}function preProcessMask(mask){if(mask=mask.toString(),opts.numericInput){mask=mask.split("").reverse();for(var ndx=0;ndx<mask.length;ndx++)mask[ndx]==opts.optionalmarker.start?mask[ndx]=opts.optionalmarker.end:mask[ndx]==opts.optionalmarker.end?mask[ndx]=opts.optionalmarker.start:mask[ndx]==opts.groupmarker.start?mask[ndx]=opts.groupmarker.end:mask[ndx]==opts.groupmarker.end&&(mask[ndx]=opts.groupmarker.start);mask=mask.join("")}return mask}var ms=void 0,altMask;if($.isFunction(opts.mask)&&(opts.mask=opts.mask.call(this,opts)),$.isArray(opts.mask)){if(opts.mask.length>1)return opts.keepStatic=void 0==opts.keepStatic?!0:opts.keepStatic,altMask="(",$.each(opts.mask,function(ndx,msk){altMask.length>1&&(altMask+=")|(");altMask+=preProcessMask(void 0==msk.mask||$.isFunction(msk.mask)?msk:msk.mask)}),altMask+=")",generateMask(altMask,opts.mask);opts.mask=opts.mask.pop()}return opts.mask&&(ms=void 0==opts.mask.mask||$.isFunction(opts.mask.mask)?generateMask(preProcessMask(opts.mask),opts.mask):generateMask(preProcessMask(opts.mask.mask),opts.mask)),ms}function maskScope(actionObj,maskset,opts){function getMaskTemplate(baseOnInput,minimalPos,includeInput){var ndxIntlzr,test,testPos,maskTemplate,pos,validPos;minimalPos=minimalPos||0;maskTemplate=[];pos=0;do baseOnInput===!0&&getMaskSet().validPositions[pos]?(validPos=getMaskSet().validPositions[pos],test=validPos.match,ndxIntlzr=validPos.locator.slice(),maskTemplate.push(includeInput===!0?validPos.input:getPlaceholder(pos,test))):(testPos=getTestTemplate(pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(getPlaceholder(pos,test))),pos++;while((void 0==maxLength||maxLength>pos-1)&&null!=test.fn||null==test.fn&&""!=test.def||minimalPos>=pos);return maskTemplate.pop(),maskTemplate}function getMaskSet(){return maskset}function resetMaskSet(soft){var maskset=getMaskSet();maskset.buffer=void 0;maskset.tests={};soft!==!0&&(maskset._buffer=void 0,maskset.validPositions={},maskset.p=0)}function getLastValidPosition(closestTo){var maskset=getMaskSet(),lastValidPosition=-1,valids=maskset.validPositions,before,after,posNdx,psNdx;void 0==closestTo&&(closestTo=-1);before=lastValidPosition;after=lastValidPosition;for(posNdx in valids)psNdx=parseInt(posNdx),(-1==closestTo||null!=valids[psNdx].match.fn)&&(closestTo>=psNdx&&(before=psNdx),psNdx>=closestTo&&(after=psNdx));return-1!=before&&closestTo-before>1||closestTo>after?before:after}function setValidPosition(pos,validTest,fromSetValid){var i,positionsClone,lvp,j,valid,t,vps;if(opts.insertMode&&void 0!=getMaskSet().validPositions[pos]&&void 0==fromSetValid){for(positionsClone=$.extend(!0,{},getMaskSet().validPositions),lvp=getLastValidPosition(),i=pos;lvp>=i;i++)delete getMaskSet().validPositions[i];for(getMaskSet().validPositions[pos]=validTest,valid=!0,i=pos;lvp>=i;i++)if(t=positionsClone[i],void 0!=t&&(vps=getMaskSet().validPositions,j=!opts.keepStatic&&vps[i]&&(void 0!=vps[i+1]&&getTests(i+1,vps[i].locator.slice(),i).length>1||void 0!=vps[i].alternation)?i+1:seekNext(i),valid=positionCanMatchDefinition(j,t.match.def)?valid&&isValid(j,t.input,!0,!0)!==!1:null==t.match.fn),!valid)break;if(!valid)return getMaskSet().validPositions=$.extend(!0,{},positionsClone),!1}else getMaskSet().validPositions[pos]=validTest;return!0}function stripValidPositions(start,end,nocheck,strict){var i,startPos=start,s,t,lvp;for(getMaskSet().p=start,void 0!=getMaskSet().validPositions[start]&&getMaskSet().validPositions[start].input==opts.radixPoint&&(end++,startPos++),i=startPos;end>i;i++)void 0!=getMaskSet().validPositions[i]&&(nocheck===!0||0!=opts.canClearPosition(getMaskSet(),i,getLastValidPosition(),strict,opts))&&delete getMaskSet().validPositions[i];for(resetMaskSet(!0),i=startPos+1;i<=getLastValidPosition();){for(;void 0!=getMaskSet().validPositions[startPos];)startPos++;s=getMaskSet().validPositions[startPos];startPos>i&&(i=startPos+1);t=getMaskSet().validPositions[i];void 0!=t&&void 0==s?(positionCanMatchDefinition(startPos,t.match.def)&&isValid(startPos,t.input,!0)!==!1&&(delete getMaskSet().validPositions[i],i++),startPos++):i++}lvp=getLastValidPosition();lvp>=start&&void 0!=getMaskSet().validPositions[lvp]&&getMaskSet().validPositions[lvp].input==opts.radixPoint&&delete getMaskSet().validPositions[lvp];resetMaskSet(!0)}function getTestTemplate(pos,ndxIntlzr,tstPs){for(var testPos,testPositions=getTests(pos,ndxIntlzr,tstPs),lvp=getLastValidPosition(),lvTest=getMaskSet().validPositions[lvp]||getTests(0)[0],lvTestAltArr=void 0!=lvTest.alternation?lvTest.locator[lvTest.alternation].split(","):[],ndx=0;ndx<testPositions.length&&(testPos=testPositions[ndx],!(testPos.match&&(opts.greedy&&testPos.match.optionalQuantifier!==!0||(testPos.match.optionality===!1||testPos.match.newBlockMarker===!1)&&testPos.match.optionalQuantifier!==!0)&&(void 0==lvTest.alternation||void 0!=testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAltArr))));ndx++);return testPos}function getTest(pos){return getMaskSet().validPositions[pos]?getMaskSet().validPositions[pos].match:getTests(pos)[0].match}function positionCanMatchDefinition(pos,def){for(var valid=!1,tests=getTests(pos),tndx=0;tndx<tests.length;tndx++)if(tests[tndx].match&&tests[tndx].match.def==def){valid=!0;break}return valid}function getTests(pos,ndxIntlzr,tstPs){function ResolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){var optionalToken,altIndexArr,currentPos,ndxInitializerClone,amndx,i,ndx1,altMatch,ndx2,altMatch2,qt,qndx,tokenGroup,latestMatch,isFirstMatch;if(testPos>1e4)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+getMaskSet().mask),!0;if(testPos==pos&&void 0==match.matches)return matches.push({match:match,locator:loopNdx.reverse()}),!0;if(void 0!=match.matches){if(match.isGroup&&quantifierRecurse!==!0){if(match=handleMatch(maskToken.matches[tndx+1],loopNdx))return!0}else if(match.isOptional)optionalToken=match,(match=ResolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse))&&(latestMatch=matches[matches.length-1].match,isFirstMatch=0==$.inArray(latestMatch,optionalToken.matches),isFirstMatch&&(insertStop=!0),testPos=pos);else if(match.isAlternator){var maltMatches,alternateToken=match,malternateMatches=[],currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,altIndex=ndxInitializer.length>0?ndxInitializer.shift():-1;if(-1==altIndex||"string"==typeof altIndex){for(currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),"string"==typeof altIndex&&(altIndexArr=altIndex.split(",")),amndx=0;amndx<alternateToken.matches.length;amndx++){for(matches=[],match=handleMatch(alternateToken.matches[amndx],[amndx].concat(loopNdx),quantifierRecurse)||match,maltMatches=matches.slice(),testPos=currentPos,matches=[],i=0;i<ndxInitializerClone.length;i++)ndxInitializer[i]=ndxInitializerClone[i];for(ndx1=0;ndx1<maltMatches.length;ndx1++)for(altMatch=maltMatches[ndx1],ndx2=0;ndx2<malternateMatches.length;ndx2++)if(altMatch2=malternateMatches[ndx2],altMatch.match.mask==altMatch2.match.mask&&("string"!=typeof altIndex||-1!=$.inArray(altMatch.locator[loopNdxCnt].toString(),altIndexArr))){maltMatches.splice(ndx1,1);altMatch2.locator[loopNdxCnt]=altMatch2.locator[loopNdxCnt]+","+altMatch.locator[loopNdxCnt];altMatch2.alternation=loopNdxCnt;break}malternateMatches=malternateMatches.concat(maltMatches)}"string"==typeof altIndex&&(malternateMatches=$.map(malternateMatches,function(lmnt,ndx){var mamatch,altLocArr,alndx;if(isFinite(ndx)){for(altLocArr=lmnt.locator[loopNdxCnt].toString().split(","),lmnt.locator[loopNdxCnt]=void 0,lmnt.alternation=void 0,alndx=0;alndx<altLocArr.length;alndx++)mamatch=-1!=$.inArray(altLocArr[alndx],altIndexArr),mamatch&&(void 0!=lmnt.locator[loopNdxCnt]?(lmnt.locator[loopNdxCnt]+=",",lmnt.alternation=loopNdxCnt,lmnt.locator[loopNdxCnt]+=altLocArr[alndx]):lmnt.locator[loopNdxCnt]=parseInt(altLocArr[alndx]));if(void 0!=lmnt.locator[loopNdxCnt])return lmnt}}));matches=currentMatches.concat(malternateMatches);insertStop=!0}else match=handleMatch(alternateToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse);if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==!0){for(qt=match,qndx=ndxInitializer.length>0&&quantifierRecurse!==!0?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&pos>=testPos;qndx++)if(tokenGroup=maskToken.matches[$.inArray(qt,maskToken.matches)-1],match=handleMatch(tokenGroup,[qndx].concat(loopNdx),!0)){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>qt.quantifier.min-1,isFirstMatch=0==$.inArray(latestMatch,tokenGroup.matches),isFirstMatch){if(qndx>qt.quantifier.min-1){insertStop=!0;testPos=pos;break}return!0}return!0}}else if(match=ResolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse))return!0}else testPos++}for(var match,tndx=ndxInitializer.length>0?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(maskToken.matches[tndx].isQuantifier!==!0){if(match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse),match&&testPos==pos)return match;if(testPos>pos)break}}var maskTokens=getMaskSet().maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr||[0],matches=[],insertStop=!1,test,previousPos,mtndx,match;if(void 0==ndxIntlzr){for(previousPos=pos-1;void 0==(test=getMaskSet().validPositions[previousPos])&&previousPos>-1;)previousPos--;if(void 0!=test&&previousPos>-1)testPos=previousPos,ndxInitializer=test.locator.slice();else{for(previousPos=pos-1;void 0==(test=getMaskSet().tests[previousPos])&&previousPos>-1;)previousPos--;void 0!=test&&previousPos>-1&&(testPos=previousPos,ndxInitializer=test[0].locator.slice())}}for(mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++)if(match=ResolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]),match&&testPos==pos||testPos>pos)break;return(0==matches.length||insertStop)&&matches.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),getMaskSet().tests[pos]=$.extend(!0,[],matches),getMaskSet().tests[pos]}function getBufferTemplate(){return void 0==getMaskSet()._buffer&&(getMaskSet()._buffer=getMaskTemplate(!1,1)),getMaskSet()._buffer}function getBuffer(){return void 0==getMaskSet().buffer&&(getMaskSet().buffer=getMaskTemplate(!0,getLastValidPosition(),!0)),getMaskSet().buffer}function refreshFromBuffer(start,end,buffer){var i;if(buffer=buffer||getBuffer().slice(),start===!0)resetMaskSet(),start=0,end=buffer.length;else for(i=start;end>i;i++)delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(i=start;end>i;i++)buffer[i]!=opts.skipOptionalPartCharacter&&isValid(i,buffer[i],!0,!0)}function casing(elem,test){switch(test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase()}return elem}function checkAlternationMatch(altArr1,altArr2){for(var altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,alndx=0;alndx<altArr1.length;alndx++)if(-1!=$.inArray(altArr1[alndx],altArrC)){isMatch=!0;break}return isMatch}function isValid(pos,c,strict,fromSetValid){function _isValid(position,c,strict,fromSetValid){var rslt=!1;return $.each(getTests(position),function(ndx,tst){for(var elem,validatedPos,refresh,test=tst.match,loopend=c?1:0,chrs="",i=(getBuffer(),test.cardinality);i>loopend;i--)chrs+=getBufferElement(position-(i-1));if(c&&(chrs+=c),rslt=null!=test.fn?test.fn.test(chrs,getMaskSet(),position,strict,opts):c!=test.def&&c!=opts.skipOptionalPartCharacter||""==test.def?!1:{c:test.def,pos:position},rslt!==!1){if(elem=void 0!=rslt.c?rslt.c:c,elem=elem==opts.skipOptionalPartCharacter&&null===test.fn?test.def:elem,validatedPos=position,void 0!=rslt.remove&&stripValidPositions(rslt.remove,rslt.remove+1,!0),rslt.refreshFromBuffer){if(refresh=rslt.refreshFromBuffer,strict=!0,refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end),void 0==rslt.pos&&void 0==rslt.c)return rslt.pos=getLastValidPosition(),!1;if(validatedPos=void 0!=rslt.pos?rslt.pos:position,validatedPos!=position)return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1}else if(rslt!==!0&&void 0!=rslt.pos&&rslt.pos!=position&&(validatedPos=rslt.pos,refreshFromBuffer(position,validatedPos),validatedPos!=position))return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1;return 1!=rslt&&void 0==rslt.pos&&void 0==rslt.c?!1:(ndx>0&&resetMaskSet(!0),setValidPosition(validatedPos,$.extend({},tst,{input:casing(elem,test)}),fromSetValid)||(rslt=!1),!1)}}),rslt}function alternate(pos,c,strict,fromSetValid){for(var alternation,validPsClone=$.extend(!0,{},getMaskSet().validPositions),decisionPos,possibilityPos,possibilities,dp,buffer,i,isValidRslt,lastAlt=getLastValidPosition();lastAlt>=0;lastAlt--)if(getMaskSet().validPositions[lastAlt]&&void 0!=getMaskSet().validPositions[lastAlt].alternation){alternation=getMaskSet().validPositions[lastAlt].alternation;break}if(void 0!=alternation)for(decisionPos in getMaskSet().validPositions)if(parseInt(decisionPos)>parseInt(lastAlt)&&void 0===getMaskSet().validPositions[decisionPos].alternation){for(var altPos=getMaskSet().validPositions[decisionPos],decisionTaker=altPos.locator[alternation],altNdxs=getMaskSet().validPositions[lastAlt].locator[alternation].split(","),mndx=0;mndx<altNdxs.length;mndx++)if(decisionTaker<altNdxs[mndx]){for(dp=decisionPos-1;dp>=0;dp--)if(possibilityPos=getMaskSet().validPositions[dp],void 0!=possibilityPos){possibilities=possibilityPos.locator[alternation];possibilityPos.locator[alternation]=altNdxs[mndx];break}if(decisionTaker!=possibilityPos.locator[alternation]){for(buffer=getBuffer().slice(),i=decisionPos;i<getLastValidPosition()+1;i++)delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(resetMaskSet(!0),opts.keepStatic=!opts.keepStatic,i=decisionPos;i<buffer.length;i++)buffer[i]!=opts.skipOptionalPartCharacter&&isValid(getLastValidPosition()+1,buffer[i],!1,!0);if(possibilityPos.locator[alternation]=possibilities,isValidRslt=isValid(pos,c,strict,fromSetValid),opts.keepStatic=!opts.keepStatic,isValidRslt)return isValidRslt;resetMaskSet();getMaskSet().validPositions=$.extend(!0,{},validPsClone)}}break}return!1}function trackbackAlternations(originalPos,newPos){for(var vp=getMaskSet().validPositions[newPos],targetLocator=vp.locator,tll=targetLocator.length,ps=originalPos;newPos>ps;ps++)if(!isMask(ps)){var tests=getTests(ps),bestMatch=tests[0],equality=-1;$.each(tests,function(ndx,tst){for(var i=0;tll>i;i++)tst.locator[i]&&checkAlternationMatch(tst.locator[i].toString().split(","),targetLocator[i].toString().split(","))&&i>equality&&(equality=i,bestMatch=tst)});setValidPosition(ps,$.extend({},bestMatch,{input:bestMatch.match.def}),!0)}}var buffer,pndx,currentPosValid,nPos,snPos,postValidResult;for(strict=strict===!0,buffer=getBuffer(),pndx=pos-1;pndx>-1&&!getMaskSet().validPositions[pndx];pndx--);for(pndx++;pos>pndx;pndx++)void 0==getMaskSet().validPositions[pndx]&&((!isMask(pndx)||buffer[pndx]!=getPlaceholder(pndx))&&getTests(pndx).length>1||buffer[pndx]==opts.radixPoint||"0"==buffer[pndx]&&$.inArray(opts.radixPoint,buffer)<pndx)&&_isValid(pndx,buffer[pndx],!0);var maskPos=pos,result=!1,positionsClone=$.extend(!0,{},getMaskSet().validPositions);if(maskPos<getMaskLength()&&(result=_isValid(maskPos,c,strict,fromSetValid),!strict&&result===!1))if(currentPosValid=getMaskSet().validPositions[maskPos],currentPosValid&&null==currentPosValid.match.fn&&(currentPosValid.match.def==c||c==opts.skipOptionalPartCharacter))result={caret:seekNext(maskPos)};else if((opts.insertMode||void 0==getMaskSet().validPositions[seekNext(maskPos)])&&!isMask(maskPos))for(nPos=maskPos+1,snPos=seekNext(maskPos);snPos>=nPos;nPos++)if(result=_isValid(nPos,c,strict,fromSetValid),result!==!1){trackbackAlternations(maskPos,nPos);maskPos=nPos;break}return(result===!1&&opts.keepStatic&&isComplete(buffer)&&(result=alternate(pos,c,strict,fromSetValid)),result===!0&&(result={pos:maskPos}),$.isFunction(opts.postValidation)&&0!=result&&!strict)&&(resetMaskSet(!0),postValidResult=opts.postValidation(getBuffer(),opts),!postValidResult)?(resetMaskSet(!0),getMaskSet().validPositions=$.extend(!0,{},positionsClone),!1):result}function isMask(pos){var test=getTest(pos);return null!=test.fn?test.fn:!1}function getMaskLength(){var maskLength;maxLength=$el.prop("maxLength");-1==maxLength&&(maxLength=void 0);for(var lvp=getLastValidPosition(),testPos=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!=testPos?testPos.locator.slice():void 0,pos=lvp+1;void 0==testPos||null!=testPos.match.fn||null==testPos.match.fn&&""!=testPos.match.def;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice();return maskLength=pos,void 0==maxLength||maxLength>maskLength?maskLength:maxLength}function seekNext(pos){var maskL=getMaskLength(),position;if(pos>=maskL)return maskL;for(position=pos;++position<maskL&&!isMask(position)&&(opts.nojumps!==!0||opts.nojumpsThreshold>position););return position}function seekPrevious(pos){var position=pos;if(0>=position)return 0;for(;--position>0&&!isMask(position););return position}function getBufferElement(position){return void 0==getMaskSet().validPositions[position]?getPlaceholder(position):getMaskSet().validPositions[position].input}function writeBuffer(input,buffer,caretPos,event,triggerInputEvent){var result,refresh;event&&$.isFunction(opts.onBeforeWrite)&&(result=opts.onBeforeWrite.call(input,event,buffer,caretPos,opts),result&&(result.refreshFromBuffer&&(refresh=result.refreshFromBuffer,refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer),resetMaskSet(!0),buffer=getBuffer()),caretPos=result.caret||caretPos));input._valueSet(buffer.join(""));void 0!=caretPos&&caret(input,caretPos);triggerInputEvent===!0&&(skipInputEvent=!0,$(input).trigger("input"))}function getPlaceholder(pos,test){return test=test||getTest(pos),void 0!=test.placeholder?test.placeholder:null==test.fn?test.def:opts.placeholder.charAt(pos%opts.placeholder.length)}function checkVal(input,writeOut,strict,nptvl){function isTemplateMatch(){var isMatch=!1,charCodeNdx=getBufferTemplate().slice(initialNdx,seekNext(initialNdx)).join("").indexOf(charCodes),bufferTemplateArr,i;if(-1!=charCodeNdx&&!isMask(initialNdx))for(isMatch=!0,bufferTemplateArr=getBufferTemplate().slice(initialNdx,initialNdx+charCodeNdx),i=0;i<bufferTemplateArr.length;i++)if(" "!=bufferTemplateArr[i]){isMatch=!1;break}return isMatch}var inputValue=void 0!=nptvl?nptvl.slice():input._valueGet().split(""),staticInput,matches,charCodes,initialNdx;resetMaskSet();getMaskSet().p=seekNext(-1);writeOut&&input._valueSet("");staticInput=getBufferTemplate().slice(0,seekNext(-1)).join("");matches=inputValue.join("").match(new RegExp(escapeRegex(staticInput),"g"));matches&&matches.length>0&&inputValue.splice(0,staticInput.length*matches.length);charCodes="";initialNdx=0;$.each(inputValue,function(ndx,charCode){var keypress=$.Event("keypress"),pos;keypress.which=charCode.charCodeAt(0);charCodes+=charCode;var lvp=getLastValidPosition(),lvTest=getMaskSet().validPositions[lvp],nextTest=getTestTemplate(lvp+1,lvTest?lvTest.locator.slice():void 0,lvp);!isTemplateMatch()||strict?(pos=strict?ndx:null==nextTest.match.fn&&nextTest.match.optionality&&lvp+1<getMaskSet().p?lvp+1:getMaskSet().p,keypressEvent.call(input,keypress,!0,!1,strict,pos),initialNdx=pos+1,charCodes=""):keypressEvent.call(input,keypress,!0,!1,!0,lvp+1)});writeOut&&writeBuffer(input,getBuffer(),$(input).is(":focus")?seekNext(getLastValidPosition(0)):void 0,$.Event("checkval"))}function escapeRegex(str){return $.inputmask.escapeRegex.call(this,str)}function unmaskedvalue($input){var umValue,vps,pndx,unmaskedValue,bufferValue;if($input.data("_inputmask")&&!$input.hasClass("hasDatepicker")){umValue=[];vps=getMaskSet().validPositions;for(pndx in vps)vps[pndx].match&&null!=vps[pndx].match.fn&&umValue.push(vps[pndx].input);return unmaskedValue=(isRTL?umValue.reverse():umValue).join(""),bufferValue=(isRTL?getBuffer().slice().reverse():getBuffer()).join(""),$.isFunction(opts.onUnMask)&&(unmaskedValue=opts.onUnMask.call($input,bufferValue,unmaskedValue,opts)||unmaskedValue),unmaskedValue}return $input[0]._valueGet()}function TranslatePosition(pos){if(isRTL&&"number"==typeof pos&&(!opts.greedy||""!=opts.placeholder)){var bffrLght=getBuffer().length;pos=bffrLght-pos}return pos}function caret(input,begin,end){var range,npt=input.jquery&&input.length>0?input[0]:input,scrollCalc;if("number"!=typeof begin)return npt.setSelectionRange?(begin=npt.selectionStart,end=npt.selectionEnd):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-1e5),end=begin+range.text.length),{begin:TranslatePosition(begin),end:TranslatePosition(end)};(begin=TranslatePosition(begin),end=TranslatePosition(end),end="number"==typeof end?end:begin,$(npt).is(":visible"))&&(scrollCalc=$(npt).css("font-size").replace("px","")*end,npt.scrollLeft=scrollCalc>npt.scrollWidth?scrollCalc:0,0==opts.insertMode&&begin==end&&end++,npt.setSelectionRange?(npt.selectionStart=begin,npt.selectionEnd=end):npt.createTextRange&&(range=npt.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select()))}function determineLastRequiredPosition(returnDefinition){for(var testPos,buffer=getBuffer(),bl=buffer.length,lvp=getLastValidPosition(),positions={},lvTest=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!=lvTest?lvTest.locator.slice():void 0,lvTestAltArr,pos=lvp+1;pos<buffer.length;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);for(lvTestAltArr=lvTest&&void 0!=lvTest.alternation?lvTest.locator[lvTest.alternation].split(","):[],pos=bl-1;pos>lvp&&(testPos=positions[pos].match,(testPos.optionality||testPos.optionalQuantifier||lvTest&&void 0!=lvTest.alternation&&void 0!=positions[pos].locator[lvTest.alternation]&&-1!=$.inArray(positions[pos].locator[lvTest.alternation].toString(),lvTestAltArr))&&buffer[pos]==getPlaceholder(pos,testPos));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function clearOptionalTail(buffer){for(var rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);buffer.splice(rl,lmib+1-rl)}function isComplete(buffer){var i,mask;if($.isFunction(opts.isComplete))return opts.isComplete.call($el,buffer,opts);if("*"==opts.repeat)return void 0;var complete=!1,lrp=determineLastRequiredPosition(!0),aml=seekPrevious(lrp.l),lvp=getLastValidPosition();if(lvp==aml&&(void 0==lrp.def||lrp.def.newBlockMarker||lrp.def.optionalQuantifier))for(complete=!0,i=0;aml>=i;i++)if(mask=isMask(i),mask&&(void 0==buffer[i]||buffer[i]==getPlaceholder(i))||!mask&&buffer[i]!=getPlaceholder(i)){complete=!1;break}return complete}function isSelection(begin,end){return isRTL?begin-end>1||begin-end==1&&opts.insertMode:end-begin>1||end-begin==1&&opts.insertMode}function installEventRuler(npt){var events=$._data(npt).events;$.each(events,function(eventType,eventHandlers){$.each(eventHandlers,function(ndx,eventHandler){if("inputmask"==eventHandler.namespace&&"setvalue"!=eventHandler.type){var handler=eventHandler.handler;eventHandler.handler=function(e){if(!this.disabled&&(!this.readOnly||"keydown"==e.type&&e.ctrlKey&&67==e.keyCode)){switch(e.type){case"input":if(skipInputEvent===!0)return skipInputEvent=!1,e.preventDefault();break;case"keydown":skipKeyPressEvent=!1;break;case"keypress":if(skipKeyPressEvent===!0)return e.preventDefault();skipKeyPressEvent=!0;break;case"compositionstart":break;case"compositionupdate":skipInputEvent=!0;break;case"compositionend":}return handler.apply(this,arguments)}e.preventDefault()}}})})}function patchValueProperty(npt){function PatchValhook(type){if(void 0==$.valHooks[type]||1!=$.valHooks[type].inputmaskpatch){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function(elem){var $elem=$(elem);if($elem.data("_inputmask")){if($elem.data("_inputmask").opts.autoUnmask)return $elem.inputmask("unmaskedvalue");var result=valhookGet(elem),inputData=$elem.data("_inputmask"),maskset=inputData.maskset,bufferTemplate=maskset._buffer;return bufferTemplate=bufferTemplate?bufferTemplate.join(""):"",result!=bufferTemplate?result:""}return valhookGet(elem)},set:function(elem,value){var result,$elem=$(elem),inputData=$elem.data("_inputmask");return inputData?(result=valhookSet(elem,$.isFunction(inputData.opts.onBeforeMask)?inputData.opts.onBeforeMask.call(el,value,inputData.opts)||value:value),$elem.triggerHandler("setvalue.inputmask")):result=valhookSet(elem,value),result},inputmaskpatch:!0}}}function getter(){var $self=$(this),inputData=$(this).data("_inputmask");return inputData?inputData.opts.autoUnmask?$self.inputmask("unmaskedvalue"):valueGet.call(this)!=getBufferTemplate().join("")?valueGet.call(this):"":valueGet.call(this)}function setter(value){var inputData=$(this).data("_inputmask");inputData?(valueSet.call(this,$.isFunction(inputData.opts.onBeforeMask)?inputData.opts.onBeforeMask.call(el,value,inputData.opts)||value:value),$(this).triggerHandler("setvalue.inputmask")):valueSet.call(this,value)}function InstallNativeValueSetFallback(npt){var events,handlers,ourHandler,i;$(npt).bind("mouseenter.inputmask",function(){var $input=$(this),input=this,value=input._valueGet();""!=value&&value!=getBuffer().join("")&&(this._valueSet($.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(el,value,opts)||value:value),$input.triggerHandler("setvalue.inputmask"))});
//!! the bound handlers are executed in the order they where bound
if(events=$._data(npt).events,handlers=events.mouseover,handlers){for(ourHandler=handlers[handlers.length-1],i=handlers.length-1;i>0;i--)handlers[i]=handlers[i-1];handlers[0]=ourHandler}}var valueGet,valueSet;npt._valueGet||(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(npt,"value"),document.__lookupGetter__&&npt.__lookupGetter__("value")?(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter)):(valueGet=function(){return npt.value},valueSet=function(value){npt.value=value},PatchValhook(npt.type),InstallNativeValueSetFallback(npt)),npt._valueGet=function(overruleRTL){return isRTL&&overruleRTL!==!0?valueGet.call(this).split("").reverse().join(""):valueGet.call(this)},npt._valueSet=function(value){valueSet.call(this,isRTL?value.split("").reverse().join(""):value)})}function handleRemove(input,k,pos,strict){function generalize(){var lastAlt,validInputs,keypress;if(opts.keepStatic){for(resetMaskSet(!0),validInputs=[],lastAlt=getLastValidPosition();lastAlt>=0;lastAlt--)if(getMaskSet().validPositions[lastAlt]){if(void 0!=getMaskSet().validPositions[lastAlt].alternation)break;validInputs.push(getMaskSet().validPositions[lastAlt].input);delete getMaskSet().validPositions[lastAlt]}if(lastAlt>0)for(;validInputs.length>0;)getMaskSet().p=seekNext(getLastValidPosition()),keypress=$.Event("keypress"),keypress.which=validInputs.pop().charCodeAt(0),keypressEvent.call(input,keypress,!0,!1,!1,getMaskSet().p)}}var pend,lvp;(opts.numericInput||isRTL)&&(k==$.inputmask.keyCode.BACKSPACE?k=$.inputmask.keyCode.DELETE:k==$.inputmask.keyCode.DELETE&&(k=$.inputmask.keyCode.BACKSPACE),isRTL)&&(pend=pos.end,pos.end=pos.begin,pos.begin=pend);(k==$.inputmask.keyCode.BACKSPACE&&(pos.end-pos.begin<1||0==opts.insertMode)?pos.begin=seekPrevious(pos.begin):k==$.inputmask.keyCode.DELETE&&pos.begin==pos.end&&(pos.end=isMask(pos.end)?pos.end+1:seekNext(pos.end)+1),stripValidPositions(pos.begin,pos.end,!1,strict),strict!==!0)&&(generalize(),lvp=getLastValidPosition(pos.begin),lvp<pos.begin?(-1==lvp&&resetMaskSet(),getMaskSet().p=seekNext(lvp)):getMaskSet().p=pos.begin)}function keydownEvent(e){var input=this,$input=$(input),k=e.keyCode,pos=caret(input);k==$.inputmask.keyCode.BACKSPACE||k==$.inputmask.keyCode.DELETE||iphone&&127==k||e.ctrlKey&&88==k&&!isInputEventSupported("cut")?(e.preventDefault(),88==k&&(undoValue=getBuffer().join("")),handleRemove(input,k,pos),writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!=getBuffer().join("")),input._valueGet()==getBufferTemplate().join("")?$input.trigger("cleared"):isComplete(getBuffer())===!0&&$input.trigger("complete"),opts.showTooltip&&$input.prop("title",getMaskSet().mask)):k==$.inputmask.keyCode.END||k==$.inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var caretPos=seekNext(getLastValidPosition());opts.insertMode||caretPos!=getMaskLength()||e.shiftKey||caretPos--;caret(input,e.shiftKey?pos.begin:caretPos,caretPos)},0):k==$.inputmask.keyCode.HOME&&!e.shiftKey||k==$.inputmask.keyCode.PAGE_UP?caret(input,0,e.shiftKey?pos.begin:0):(opts.undoOnEscape&&k==$.inputmask.keyCode.ESCAPE||90==k&&e.ctrlKey)&&e.altKey!==!0?(checkVal(input,!0,!1,undoValue.split("")),$input.click()):k!=$.inputmask.keyCode.INSERT||e.shiftKey||e.ctrlKey?0!=opts.insertMode||e.shiftKey||(k==$.inputmask.keyCode.RIGHT?setTimeout(function(){var caretPos=caret(input);caret(input,caretPos.begin)},0):k==$.inputmask.keyCode.LEFT&&setTimeout(function(){var caretPos=caret(input);caret(input,isRTL?caretPos.begin+1:caretPos.begin-1)},0)):(opts.insertMode=!opts.insertMode,caret(input,opts.insertMode||pos.begin!=getMaskLength()?pos.begin:pos.begin-1));ignorable=-1!=$.inArray(k,opts.ignorables)}function keypressEvent(e,checkval,writeOut,strict,ndx){var input=this,$input=$(input),k=e.which||e.charCode||e.keyCode,p,valResult,vps,self,buffer,result,refresh;if(!(checkval===!0||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ignorable))return!0;if(k){46==k&&0==e.shiftKey&&","==opts.radixPoint&&(k=44);var forwardPosition,pos=checkval?{begin:ndx,end:ndx}:caret(input),c=String.fromCharCode(k),isSlctn=isSelection(pos.begin,pos.end);isSlctn&&(getMaskSet().undoPositions=$.extend(!0,{},getMaskSet().validPositions),handleRemove(input,$.inputmask.keyCode.DELETE,pos,!0),pos.begin=getMaskSet().p,opts.insertMode||(opts.insertMode=!opts.insertMode,setValidPosition(pos.begin,strict),opts.insertMode=!opts.insertMode),isSlctn=!opts.multi);getMaskSet().writeOutBuffer=!0;p=isRTL&&!isSlctn?pos.end:pos.begin;valResult=isValid(p,c,strict);valResult!==!1&&((valResult!==!0&&(p=void 0!=valResult.pos?valResult.pos:p,c=void 0!=valResult.c?valResult.c:c),resetMaskSet(!0),void 0!=valResult.caret)?forwardPosition=valResult.caret:(vps=getMaskSet().validPositions,forwardPosition=!opts.keepStatic&&(void 0!=vps[p+1]&&getTests(p+1,vps[p].locator.slice(),p).length>1||void 0!=vps[p].alternation)?p+1:seekNext(p)),getMaskSet().p=forwardPosition);writeOut!==!1?(self=this,(setTimeout(function(){opts.onKeyValidation.call(self,valResult,opts)},0),getMaskSet().writeOutBuffer&&valResult!==!1)?(buffer=getBuffer(),writeBuffer(input,buffer,checkval?void 0:opts.numericInput?seekPrevious(forwardPosition):forwardPosition,e,checkval!==!0),checkval!==!0&&setTimeout(function(){isComplete(buffer)===!0&&$input.trigger("complete")},0)):isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions)):isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions);(opts.showTooltip&&$input.prop("title",getMaskSet().mask),checkval&&$.isFunction(opts.onBeforeWrite))&&(result=opts.onBeforeWrite.call(this,e,getBuffer(),forwardPosition,opts),result&&result.refreshFromBuffer&&(refresh=result.refreshFromBuffer,refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer),resetMaskSet(!0),result.caret&&(getMaskSet().p=result.caret)));e.preventDefault()}}function keyupEvent(e){var buffer=($(this),e.keyCode,getBuffer());opts.onKeyUp.call(this,e,buffer,opts)}function pasteEvent(e){var input=this,$input=$(input),inputValue=input._valueGet(!0),caretPos=caret(input),valueBeforeCaret,valueAfterCaret,pasteValue;if("propertychange"==e.type&&input._valueGet().length<=getMaskLength())return!0;if("paste"==e.type&&(valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length),valueBeforeCaret==getBufferTemplate().slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret==getBufferTemplate().slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData?inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret:e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(inputValue=valueBeforeCaret+e.originalEvent.clipboardData.getData("text/plain")+valueAfterCaret)),pasteValue=inputValue,$.isFunction(opts.onBeforePaste)){if(pasteValue=opts.onBeforePaste.call(input,inputValue,opts),pasteValue===!1)return e.preventDefault(),!1;pasteValue||(pasteValue=inputValue)}return checkVal(input,!0,!1,isRTL?pasteValue.split("").reverse():pasteValue.split("")),$input.click(),isComplete(getBuffer())===!0&&$input.trigger("complete"),!1}function inputFallBackEvent(e){var input=this;checkVal(input,!0,!1);isComplete(getBuffer())===!0&&$(input).trigger("complete");e.preventDefault()}function compositionStartEvent(e){var input=this;undoValue=getBuffer().join("");(""==compositionData||0!=e.originalEvent.data.indexOf(compositionData))&&(compositionCaretPos=caret(input))}function compositionUpdateEvent(e){var input=this,caretPos=compositionCaretPos||caret(input),newData,i,keypress;for(0==e.originalEvent.data.indexOf(compositionData)&&(resetMaskSet(),caretPos={begin:0,end:0}),newData=e.originalEvent.data,caret(input,caretPos.begin,caretPos.end),i=0;i<newData.length;i++)keypress=$.Event("keypress"),keypress.which=newData.charCodeAt(i),skipKeyPressEvent=!1,ignorable=!1,keypressEvent.call(input,keypress);setTimeout(function(){var forwardPosition=getMaskSet().p;writeBuffer(input,getBuffer(),opts.numericInput?seekPrevious(forwardPosition):forwardPosition)},0);compositionData=e.originalEvent.data}function compositionEndEvent(){}function mask(el){var inputData,initialValue,buffer,activeElement;if($el=$(el),$el.is(":input")&&isInputTypeSupported($el.attr("type"))){($el.data("_inputmask",{maskset:maskset,opts:opts,isRTL:!1}),opts.showTooltip&&$el.prop("title",getMaskSet().mask),("rtl"==el.dir||opts.rightAlign)&&$el.css("text-align","right"),"rtl"==el.dir||opts.numericInput)&&(el.dir="ltr",$el.removeAttr("dir"),inputData=$el.data("_inputmask"),inputData.isRTL=!0,$el.data("_inputmask",inputData),isRTL=!0);$el.unbind(".inputmask");$el.closest("form").bind("submit",function(){undoValue!=getBuffer().join("")&&$el.change();$el[0]._valueGet&&$el[0]._valueGet()==getBufferTemplate().join("")&&$el[0]._valueSet("");opts.removeMaskOnSubmit&&$el.inputmask("remove")}).bind("reset",function(){setTimeout(function(){$el.triggerHandler("setvalue.inputmask")},0)});$el.bind("mouseenter.inputmask",function(){var $input=$(this),input=this;!$input.is(":focus")&&opts.showMaskOnHover&&input._valueGet()!=getBuffer().join("")&&writeBuffer(input,getBuffer())}).bind("blur.inputmask",function(e){var $input=$(this),input=this,nptValue,buffer;$input.data("_inputmask")&&(nptValue=input._valueGet(),buffer=getBuffer().slice(),firstClick=!0,undoValue!=buffer.join("")&&setTimeout(function(){$input.change();undoValue=buffer.join("")},0),""!=nptValue&&(opts.clearMaskOnLostFocus&&(nptValue==getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),isComplete(buffer)===!1&&($input.trigger("incomplete"),opts.clearIncomplete&&(resetMaskSet(),buffer=opts.clearMaskOnLostFocus?[]:getBufferTemplate().slice())),writeBuffer(input,buffer,void 0,e)))}).bind("focus.inputmask",function(){var input=($(this),this),nptValue=input._valueGet();opts.showMaskOnFocus&&(!opts.showMaskOnHover||opts.showMaskOnHover&&""==nptValue)&&input._valueGet()!=getBuffer().join("")&&writeBuffer(input,getBuffer(),seekNext(getLastValidPosition()));undoValue=getBuffer().join("")}).bind("mouseleave.inputmask",function(){var $input=$(this),input=this,buffer,nptValue;opts.clearMaskOnLostFocus&&(buffer=getBuffer().slice(),nptValue=input._valueGet(),$input.is(":focus")||nptValue==$input.attr("placeholder")||""==nptValue||(nptValue==getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer),writeBuffer(input,buffer)))}).bind("click.inputmask",function(){var $input=$(this),input=this,selectedCaret,clickPosition,lastPosition;$input.is(":focus")&&(selectedCaret=caret(input),selectedCaret.begin==selectedCaret.end&&(opts.radixFocus&&""!=opts.radixPoint&&-1!=$.inArray(opts.radixPoint,getBuffer())&&(firstClick||getBuffer().join("")==getBufferTemplate().join(""))?(caret(input,$.inArray(opts.radixPoint,getBuffer())),firstClick=!1):(clickPosition=isRTL?TranslatePosition(selectedCaret.begin):selectedCaret.begin,lastPosition=seekNext(getLastValidPosition(clickPosition)),lastPosition>clickPosition?caret(input,isMask(clickPosition)?clickPosition:seekNext(clickPosition)):caret(input,lastPosition))))}).bind("dblclick.inputmask",function(){var input=this;setTimeout(function(){caret(input,0,seekNext(getLastValidPosition()))},0)}).bind(PasteEventType+".inputmask dragdrop.inputmask drop.inputmask",pasteEvent).bind("setvalue.inputmask",function(){var input=this;checkVal(input,!0,!1);undoValue=getBuffer().join("");(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input._valueGet()==getBufferTemplate().join("")&&input._valueSet("")}).bind("cut.inputmask",function(e){skipInputEvent=!0;var input=this,$input=$(input),pos=caret(input);handleRemove(input,$.inputmask.keyCode.DELETE,pos);writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!=getBuffer().join(""));input._valueGet()==getBufferTemplate().join("")&&$input.trigger("cleared");opts.showTooltip&&$input.prop("title",getMaskSet().mask)}).bind("complete.inputmask",opts.oncomplete).bind("incomplete.inputmask",opts.onincomplete).bind("cleared.inputmask",opts.oncleared);$el.bind("keydown.inputmask",keydownEvent).bind("keypress.inputmask",keypressEvent).bind("keyup.inputmask",keyupEvent);androidfirefox||$el.bind("compositionstart.inputmask",compositionStartEvent).bind("compositionupdate.inputmask",compositionUpdateEvent).bind("compositionend.inputmask",compositionEndEvent);"paste"===PasteEventType&&$el.bind("input.inputmask",inputFallBackEvent);patchValueProperty(el);initialValue=$.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(el,el._valueGet(),opts)||el._valueGet():el._valueGet();checkVal(el,!0,!1,initialValue.split(""));buffer=getBuffer().slice();undoValue=buffer.join("");try{activeElement=document.activeElement}catch(e){}isComplete(buffer)===!1&&opts.clearIncomplete&&resetMaskSet();opts.clearMaskOnLostFocus&&(buffer.join("")==getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer));writeBuffer(el,buffer);activeElement===el&&caret(el,seekNext(getLastValidPosition()));installEventRuler(el)}}var undoValue,compositionCaretPos,compositionData,$el,maxLength,isRTL=!1,skipKeyPressEvent=!1,skipInputEvent=!1,ignorable=!1,firstClick=!0,valueBuffer,el,valueProperty,alternation,lvp,firstAlt;if(void 0!=actionObj)switch(actionObj.action){case"isComplete":return $el=$(actionObj.el),maskset=$el.data("_inputmask").maskset,opts=$el.data("_inputmask").opts,isComplete(actionObj.buffer);case"unmaskedvalue":return $el=actionObj.$input,maskset=$el.data("_inputmask").maskset,opts=$el.data("_inputmask").opts,isRTL=actionObj.$input.data("_inputmask").isRTL,unmaskedvalue(actionObj.$input);case"mask":undoValue=getBuffer().join("");mask(actionObj.el);break;case"format":return $el=$({}),$el.data("_inputmask",{maskset:maskset,opts:opts,isRTL:opts.numericInput}),opts.numericInput&&(isRTL=!0),valueBuffer=($.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call($el,actionObj.value,opts)||actionObj.value:actionObj.value).split(""),checkVal($el,!1,!1,isRTL?valueBuffer.reverse():valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite.call(this,void 0,getBuffer(),0,opts),actionObj.metadata?{value:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join(""),metadata:$el.inputmask("getmetadata")}:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join("");case"isValid":$el=$({});$el.data("_inputmask",{maskset:maskset,opts:opts,isRTL:opts.numericInput});opts.numericInput&&(isRTL=!0);valueBuffer=actionObj.value.split("");checkVal($el,!1,!0,isRTL?valueBuffer.reverse():valueBuffer);for(var buffer=getBuffer(),rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),isComplete(buffer)&&actionObj.value==buffer.join("");case"getemptymask":return $el=$(actionObj.el),maskset=$el.data("_inputmask").maskset,opts=$el.data("_inputmask").opts,getBufferTemplate();case"remove":el=actionObj.el;$el=$(el);maskset=$el.data("_inputmask").maskset;opts=$el.data("_inputmask").opts;el._valueSet(unmaskedvalue($el));$el.unbind(".inputmask");$el.removeData("_inputmask");Object.getOwnPropertyDescriptor&&(valueProperty=Object.getOwnPropertyDescriptor(el,"value"));valueProperty&&valueProperty.get?el._valueGet&&Object.defineProperty(el,"value",{get:el._valueGet,set:el._valueSet}):document.__lookupGetter__&&el.__lookupGetter__("value")&&el._valueGet&&(el.__defineGetter__("value",el._valueGet),el.__defineSetter__("value",el._valueSet));try{delete el._valueGet;delete el._valueSet}catch(e){el._valueGet=void 0;el._valueSet=void 0}break;case"getmetadata":if($el=$(actionObj.el),maskset=$el.data("_inputmask").maskset,opts=$el.data("_inputmask").opts,$.isArray(maskset.metadata)){for(lvp=getLastValidPosition(),firstAlt=lvp;firstAlt>=0;firstAlt--)if(getMaskSet().validPositions[firstAlt]&&void 0!=getMaskSet().validPositions[firstAlt].alternation){alternation=getMaskSet().validPositions[firstAlt].alternation;break}return void 0!=alternation?maskset.metadata[getMaskSet().validPositions[lvp].locator[alternation]]:maskset.metadata[0]}return maskset.metadata}}if(void 0===$.fn.inputmask){var ua=navigator.userAgent,iphone=null!==ua.match(new RegExp("iphone","i")),androidfirefox=(null!==ua.match(new RegExp("android.*safari.*","i")),null!==ua.match(new RegExp("android.*chrome.*","i")),null!==ua.match(new RegExp("android.*firefox.*","i"))),PasteEventType=(/Kindle/i.test(ua)||/Silk/i.test(ua)||/KFTT/i.test(ua)||/KFOT/i.test(ua)||/KFJWA/i.test(ua)||/KFJWI/i.test(ua)||/KFSOWI/i.test(ua)||/KFTHWA/i.test(ua)||/KFTHWI/i.test(ua)||/KFAPWA/i.test(ua)||/KFAPWI/i.test(ua),isInputEventSupported("paste")?"paste":isInputEventSupported("input")?"input":"propertychange");$.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:$.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,definitions:{"9":{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:$.noop,postValidation:void 0},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},masksCache:{},escapeRegex:function(str){var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return str.replace(new RegExp("(\\"+specials.join("|\\")+")","gim"),"\\$1")},format:function(value,options,metadata){var opts=$.extend(!0,{},$.inputmask.defaults,options);return resolveAlias(opts.alias,options,opts),maskScope({action:"format",value:value,metadata:metadata},generateMaskSet(opts),opts)},isValid:function(value,options){var opts=$.extend(!0,{},$.inputmask.defaults,options);return resolveAlias(opts.alias,options,opts),maskScope({action:"isValid",value:value},generateMaskSet(opts),opts)}};$.fn.inputmask=function(fn,options){function importAttributeOptions(npt,opts,importedOptionsContainer){var $npt=$(npt),option,optionData;$npt.data("inputmask-alias")&&resolveAlias($npt.data("inputmask-alias"),{},opts);for(option in opts)optionData=$npt.data("inputmask-"+option.toLowerCase()),void 0!=optionData&&("mask"==option&&0==optionData.indexOf("[")?(opts[option]=optionData.replace(/[\s[\]]/g,"").split("','"),opts[option][0]=opts[option][0].replace("'",""),opts[option][opts[option].length-1]=opts[option][opts[option].length-1].replace("'","")):opts[option]="boolean"==typeof optionData?optionData:optionData.toString(),importedOptionsContainer&&(importedOptionsContainer[option]=opts[option]));return opts}var maskset,opts=$.extend(!0,{},$.inputmask.defaults,options),$input;if("string"==typeof fn)switch(fn){case"mask":return resolveAlias(opts.alias,options,opts),maskset=generateMaskSet(opts),void 0==maskset?this:this.each(function(){maskScope({action:"mask",el:this},$.extend(!0,{},maskset),importAttributeOptions(this,opts))});case"unmaskedvalue":return $input=$(this),$input.data("_inputmask")?maskScope({action:"unmaskedvalue",$input:$input}):$input.val();case"remove":return this.each(function(){var $input=$(this);$input.data("_inputmask")&&maskScope({action:"remove",el:this})});case"getemptymask":return this.data("_inputmask")?maskScope({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return this.data("_inputmask")?maskScope({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data("_inputmask")?maskScope({action:"getmetadata",el:this}):void 0;default:return resolveAlias(opts.alias,options,opts),resolveAlias(fn,options,opts)||(opts.mask=fn),maskset=generateMaskSet(opts),void 0==maskset?this:this.each(function(){maskScope({action:"mask",el:this},$.extend(!0,{},maskset),importAttributeOptions(this,opts))})}else{if("object"==typeof fn)return opts=$.extend(!0,{},$.inputmask.defaults,fn),resolveAlias(opts.alias,fn,opts),maskset=generateMaskSet(opts),void 0==maskset?this:this.each(function(){maskScope({action:"mask",el:this},$.extend(!0,{},maskset),importAttributeOptions(this,opts))});if(void 0==fn)return this.each(function(){var attrOptions=$(this).attr("data-inputmask"),dataoptions,dataOptions;if(attrOptions&&""!=attrOptions)try{attrOptions=attrOptions.replace(new RegExp("'","g"),'"');dataoptions=$.parseJSON("{"+attrOptions+"}");$.extend(!0,dataoptions,options);opts=$.extend(!0,{},$.inputmask.defaults,dataoptions);opts=importAttributeOptions(this,opts);resolveAlias(opts.alias,dataoptions,opts);opts.alias=void 0;$(this).inputmask("mask",opts)}catch(ex){}($(this).attr("data-inputmask-mask")||$(this).attr("data-inputmask-alias"))&&(opts=$.extend(!0,{},$.inputmask.defaults,{}),dataOptions={},opts=importAttributeOptions(this,opts,dataOptions),resolveAlias(opts.alias,dataOptions,opts),opts.alias=void 0,$(this).inputmask("mask",opts))})}}}return $.fn.inputmask}(jQuery),function($){return $.extend($.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),$.extend($.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+escapedSeparator+"[01])")},val2:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9])"+escapedSeparator+"(0[1-9]|1[012]))|(30"+escapedSeparator+"(0[13-9]|1[012]))|(31"+escapedSeparator+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(chrs,minyear,maxyear){if(isNaN(chrs))return!1;var enteredyear=parseInt(chrs.concat(minyear.toString().slice(chrs.length))),enteredyear2=parseInt(chrs.concat(maxyear.toString().slice(chrs.length)));return(isNaN(enteredyear)?!1:enteredyear>=minyear&&maxyear>=enteredyear)||(isNaN(enteredyear2)?!1:enteredyear2>=minyear&&maxyear>=enteredyear2)},determinebaseyear:function(minyear,maxyear,hint){var currentyear=(new Date).getFullYear(),maxYearPrefix,maxYearPostfix,maxxYear;if(minyear>currentyear)return minyear;if(currentyear>maxyear){for(maxYearPrefix=maxyear.toString().slice(0,2),maxYearPostfix=maxyear.toString().slice(2,4);maxYearPrefix+hint>maxyear;)maxYearPrefix--;return maxxYear=maxYearPrefix+maxYearPostfix,minyear>maxxYear?minyear:maxxYear}return currentyear},onKeyUp:function(e){var $input=$(this),today;e.ctrlKey&&e.keyCode==$.inputmask.keyCode.RIGHT&&(today=new Date,$input.val(today.getDate().toString()+(today.getMonth()+1).toString()+today.getFullYear().toString()),$input.triggerHandler("setvalue.inputmask"))},getFrontValue:function(mask,buffer,opts){for(var definition,start=0,length=0,i=0;i<mask.length&&"2"!=mask.charAt(i);i++)definition=opts.definitions[mask.charAt(i)],definition?(start+=length,length=definition.cardinality):length++;return buffer.join("").substr(start,length)},definitions:{"1":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.val1.test(chrs);return strict||isValid||chrs.charAt(1)!=opts.separator&&-1=="-./".indexOf(chrs.charAt(1))||!(isValid=opts.regex.val1.test("0"+chrs.charAt(0)))?isValid:(maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)})},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){isNaN(maskset.buffer[pos+1])||(chrs+=maskset.buffer[pos+1]);var isValid=1==chrs.length?opts.regex.val1pre.test(chrs):opts.regex.val1.test(chrs);return strict||isValid||!(isValid=opts.regex.val1.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},"2":{validator:function(chrs,maskset,pos,strict,opts){var frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts),isValid,dayMonthValue,year;return(-1!=frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator),isValid=opts.regex.val2(opts.separator).test(frontValue+chrs),!strict&&!isValid&&(chrs.charAt(1)==opts.separator||-1!="-./".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs.charAt(0))))?(maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)}):opts.mask.indexOf("2")==opts.mask.length-1&&isValid?(dayMonthValue=maskset.buffer.join("").substr(4,4)+chrs,dayMonthValue!=opts.leapday)?!0:(year=parseInt(maskset.buffer.join("").substr(0,4),10),year%4==0?year%100==0?year%400==0?!0:!1:!0:!1):isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var frontValue,isValid;return isNaN(maskset.buffer[pos+1])||(chrs+=maskset.buffer[pos+1]),frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts),-1!=frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator),isValid=1==chrs.length?opts.regex.val2pre(opts.separator).test(frontValue+chrs):opts.regex.val2(opts.separator).test(frontValue+chrs),strict||isValid||!(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},y:{validator:function(chrs,maskset,pos,strict,opts){var dayMonthValue,year;return opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)?(dayMonthValue=maskset.buffer.join("").substr(0,6),dayMonthValue!=opts.leapday)?!0:(year=parseInt(chrs,10),year%4==0?year%100==0?year%400==0?!0:!1:!0:!1):!1},cardinality:4,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear),yearPrefix;if(!strict&&!isValid){if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,1),isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),{pos:pos};if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,2),isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos}}return isValid},cardinality:1},{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear),yearPrefix,dayMonthValue,year;if(!strict&&!isValid){if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2),isValid=opts.isInYearRange(chrs[0]+yearPrefix[1]+chrs[1],opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos};if((yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2),opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))?(dayMonthValue=maskset.buffer.join("").substr(0,6),dayMonthValue!=opts.leapday?isValid=!0:(year=parseInt(chrs,10),isValid=year%4==0?year%100==0?year%400==0?!0:!1:!0:!1)):isValid=!1,isValid)return maskset.buffer[pos-1]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),maskset.buffer[pos++]=chrs.charAt(0),{refreshFromBuffer:{start:pos-3,end:pos},pos:pos}}return isValid},cardinality:2},{validator:function(chrs,maskset,pos,strict,opts){return opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])")},val2:function(separator){var escapedSeparator=$.inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyUp:function(e){var $input=$(this),today;e.ctrlKey&&e.keyCode==$.inputmask.keyCode.RIGHT&&(today=new Date,$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString()),$input.triggerHandler("setvalue.inputmask"))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(e){var $input=$(this),today;e.ctrlKey&&e.keyCode==$.inputmask.keyCode.RIGHT&&(today=new Date,$input.val(today.getFullYear().toString()+(today.getMonth()+1).toString()+today.getDate().toString()),$input.triggerHandler("setvalue.inputmask"))}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(chrs,maskset,pos,strict,opts){var isValid,tmp;return"24"==opts.hourFormat&&24==parseInt(chrs,10)?(maskset.buffer[pos-1]="0",maskset.buffer[pos]="0",{refreshFromBuffer:{start:pos-1,end:pos},c:"0"}):(isValid=opts.regex.hrs.test(chrs),!strict&&!isValid&&(chrs.charAt(1)==opts.timeseparator||-1!="-.:".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.hrs.test("0"+chrs.charAt(0))))?(maskset.buffer[pos-1]="0",maskset.buffer[pos]=chrs.charAt(0),pos++,{refreshFromBuffer:{start:pos-2,end:pos},pos:pos,c:opts.timeseparator}):isValid&&"24"!==opts.hourFormat&&opts.regex.hrs24.test(chrs)?(tmp=parseInt(chrs,10),24==tmp?(maskset.buffer[pos+5]="a",maskset.buffer[pos+6]="m"):(maskset.buffer[pos+5]="p",maskset.buffer[pos+6]="m"),tmp-=12,10>tmp?(maskset.buffer[pos]=tmp.toString(),maskset.buffer[pos-1]="0"):(maskset.buffer[pos]=tmp.toString().charAt(1),maskset.buffer[pos-1]=tmp.toString().charAt(0)),{refreshFromBuffer:{start:pos-1,end:pos+6},c:maskset.buffer[pos]}):isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.hrspre.test(chrs);return strict||isValid||!(isValid=opts.regex.hrs.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.mspre.test(chrs);return strict||isValid||!(isValid=opts.regex.ms.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},t:{validator:function(chrs,maskset,pos,strict,opts){return opts.regex.ampm.test(chrs+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"}}),$.fn.inputmask}(jQuery),function($){return $.extend($.inputmask.defaults.definitions,{A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"}}),$.extend($.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var result=[],prefixLimit=8,i=0;prefixLimit>i;i++)result[i]=function(){var j=i;return{validator:function(chrs,maskset,pos,strict,opts){var k,tmp,isValid;if(opts.regex["urlpre"+(j+1)]){if(tmp=chrs,j+1-chrs.length>0&&(tmp=maskset.buffer.join("").substring(0,j+1-chrs.length)+""+tmp),isValid=opts.regex["urlpre"+(j+1)].test(tmp),!strict&&!isValid){for(pos-=j,k=0;k<opts.defaultPrefix.length;k++)maskset.buffer[pos]=opts.defaultPrefix[k],pos++;for(k=0;k<tmp.length-1;k++)maskset.buffer[pos]=tmp[k],pos++;return{pos:pos}}return isValid}return!1},cardinality:j}}();return result}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(chrs,maskset,pos){return pos-1>-1&&"."!=maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,chrs=pos-2>-1&&"."!=maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):chrs="00"+chrs,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs)},cardinality:1}}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(pastedValue){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}}}),$.fn.inputmask}(jQuery),function($){return $.extend($.inputmask.defaults.aliases,{numeric:{mask:function(opts){function autoEscape(txt){for(var escapedTxt="",i=0;i<txt.length;i++)escapedTxt+=opts.definitions[txt[i]]?"\\"+txt[i]:txt[i];return escapedTxt}var seps,mod,mask;return(0!==opts.repeat&&isNaN(opts.integerDigits)&&(opts.integerDigits=opts.repeat),opts.repeat=0,opts.groupSeparator==opts.radixPoint&&(opts.groupSeparator="."==opts.radixPoint?",":","==opts.radixPoint?".":"")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),opts.autoGroup=opts.autoGroup&&""!=opts.groupSeparator,opts.autoGroup&&("string"==typeof opts.groupSize&&isFinite(opts.groupSize)&&(opts.groupSize=parseInt(opts.groupSize)),isFinite(opts.integerDigits)))&&(seps=Math.floor(opts.integerDigits/opts.groupSize),mod=opts.integerDigits%opts.groupSize,opts.integerDigits=parseInt(opts.integerDigits)+(0==mod?seps-1:seps)),opts.radixFocus=opts.radixFocus&&"0"==opts.placeholder,opts.definitions[";"]=opts.definitions["~"],mask=autoEscape(opts.prefix),mask+="[+]",mask+="~{1,"+opts.integerDigits+"}",void 0!=opts.digits&&(isNaN(opts.digits)||parseInt(opts.digits)>0)&&(mask+=opts.digitsOptional?"["+(opts.decimalProtect?":":opts.radixPoint)+";{"+opts.digits+"}]":(opts.decimalProtect?":":opts.radixPoint)+";{"+opts.digits+"}"),mask+=autoEscape(opts.suffix),mask+="[-]",opts.greedy=!1,mask},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(buffer,pos,reformatOnly,opts){var needsRefresh,charAtPos,cbuf,bufVal,bufValOrigin,escapedGroupSeparator,radixSplit,reg,i,l,newPos;if(pos=pos>=buffer.length?buffer.length-1:pos<opts.prefix.length?opts.prefix.length:pos,needsRefresh=!1,charAtPos=buffer[pos],""==opts.groupSeparator||-1!=$.inArray(opts.radixPoint,buffer)&&pos>=$.inArray(opts.radixPoint,buffer)||new RegExp("[-+]").test(charAtPos))return{pos:pos};if(cbuf=buffer.slice(),charAtPos==opts.groupSeparator&&(cbuf.splice(pos--,1),charAtPos=cbuf[pos]),reformatOnly?cbuf[pos]="?":cbuf.splice(pos,0,"?"),bufVal=cbuf.join(""),bufValOrigin=bufVal,bufVal.length>0&&opts.autoGroup||reformatOnly&&-1!=bufVal.indexOf(opts.groupSeparator)){if(escapedGroupSeparator=$.inputmask.escapeRegex.call(this,opts.groupSeparator),needsRefresh=0==bufVal.indexOf(opts.groupSeparator),bufVal=bufVal.replace(new RegExp(escapedGroupSeparator,"g"),""),radixSplit=bufVal.split(opts.radixPoint),bufVal=""==opts.radixPoint?bufVal:radixSplit[0],bufVal!=opts.prefix+"?0"&&bufVal.length>=opts.groupSize+opts.prefix.length)for(reg=new RegExp("([-+]?[\\d?]+)([\\d?]{"+opts.groupSize+"})");reg.test(bufVal);)bufVal=bufVal.replace(reg,"$1"+opts.groupSeparator+"$2"),bufVal=bufVal.replace(opts.groupSeparator+opts.groupSeparator,opts.groupSeparator);""!=opts.radixPoint&&radixSplit.length>1&&(bufVal+=opts.radixPoint+radixSplit[1])}for(needsRefresh=bufValOrigin!=bufVal,buffer.length=bufVal.length,i=0,l=bufVal.length;l>i;i++)buffer[i]=bufVal.charAt(i);return newPos=$.inArray("?",buffer),reformatOnly?buffer[newPos]=charAtPos:buffer.splice(newPos,1),{pos:newPos,refreshFromBuffer:needsRefresh,buffer:buffer}},onBeforeWrite:function(e,buffer,caretPos,opts){var maskedValue,processValue,radixPosition,i,rslt;if(e&&"blur"==e.type){if(maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,""),processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp($.inputmask.escapeRegex.call(this,opts.groupSeparator),"g"),""),processValue=processValue.replace($.inputmask.escapeRegex.call(this,opts.radixPoint),"."),isFinite(processValue)&&isFinite(opts.min)&&parseFloat(processValue)<parseFloat(opts.min))return opts.postFormat((opts.prefix+opts.min).split(""),0,!0,opts);var tmpBufSplit=""!=opts.radixPoint?buffer.join("").split(opts.radixPoint):[buffer.join("")],matchRslt=tmpBufSplit[0].match(opts.regex.integerPart(opts)),matchRsltDigits=2==tmpBufSplit.length?tmpBufSplit[1].match(opts.regex.integerNPart(opts)):void 0;if(matchRslt&&"-0"==matchRslt[0]&&(void 0==matchRsltDigits||matchRsltDigits[0].match(/^0+$/))&&buffer.splice(matchRslt.index,1),radixPosition=$.inArray(opts.radixPoint,buffer),-1!=radixPosition&&isFinite(opts.digits)&&!opts.digitsOptional){for(i=1;i<=opts.digits;i++)(void 0==buffer[radixPosition+i]||buffer[radixPosition+i]==opts.placeholder.charAt(0))&&(buffer[radixPosition+i]="0");return{refreshFromBuffer:!0,buffer:buffer}}}if(opts.autoGroup)return rslt=opts.postFormat(buffer,caretPos-1,!0,opts),rslt.caret=caretPos<=opts.prefix.length?rslt.pos:rslt.pos+1,rslt},regex:{integerPart:function(opts){return new RegExp("["+opts.negationSymbol.front+"+]?\\d+")},integerNPart:function(opts){return new RegExp("[\\d"+$.inputmask.escapeRegex.call(this,opts.groupSeparator)+"]+")}},signHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&opts.allowMinus&&"-"===chrs||opts.allowPlus&&"+"===chrs){var matchRslt=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(matchRslt&&matchRslt[0].length>0)return maskset.buffer[matchRslt.index]==("-"===chrs?"+":opts.negationSymbol.front)?{pos:matchRslt.index,c:"-"===chrs?opts.negationSymbol.front:"+",remove:matchRslt.index,caret:pos}:maskset.buffer[matchRslt.index]==("-"===chrs?opts.negationSymbol.front:"+")?{remove:matchRslt.index,caret:pos-1}:{pos:matchRslt.index,c:"-"===chrs?opts.negationSymbol.front:"+",caret:pos+1}}return!1},radixHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&chrs===opts.radixPoint&&opts.digits>0){var radixPos=$.inArray(opts.radixPoint,maskset.buffer),integerValue=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(-1!=radixPos&&maskset.validPositions[radixPos])return maskset.validPositions[radixPos-1]?{caret:radixPos+1}:{pos:integerValue.index,c:integerValue[0],caret:radixPos+1};if(!integerValue||"0"==integerValue[0]&&integerValue.index+1!=pos)return maskset.buffer[integerValue?integerValue.index:pos]="0",{pos:(integerValue?integerValue.index:pos)+1}}return!1},leadingZeroHandler:function(chrs,maskset,pos,strict,opts){var matchRslt=maskset.buffer.join("").match(opts.regex.integerNPart(opts)),radixPosition=$.inArray(opts.radixPoint,maskset.buffer);if(matchRslt&&!strict&&(-1==radixPosition||radixPosition>=pos))if(0==matchRslt[0].indexOf("0")){pos<opts.prefix.length&&(pos=matchRslt.index);var _radixPosition=$.inArray(opts.radixPoint,maskset._buffer),digitsMatch=maskset._buffer&&maskset.buffer.slice(radixPosition).join("")==maskset._buffer.slice(_radixPosition).join("")||0==parseInt(maskset.buffer.slice(radixPosition+1).join("")),integerMatch=maskset._buffer&&maskset.buffer.slice(matchRslt.index,radixPosition).join("")==maskset._buffer.slice(opts.prefix.length,_radixPosition).join("")||"0"==maskset.buffer.slice(matchRslt.index,radixPosition).join("");if(-1==radixPosition||digitsMatch&&integerMatch)return maskset.buffer.splice(matchRslt.index,1),pos=pos>matchRslt.index?pos-1:matchRslt.index,{pos:pos,remove:matchRslt.index};if(matchRslt.index+1==pos||"0"==chrs)return maskset.buffer.splice(matchRslt.index,1),pos=matchRslt.index,{pos:pos,remove:matchRslt.index}}else if("0"===chrs&&pos<=matchRslt.index)return!1;return!0},postValidation:function(buffer,opts){var isValid=!0,maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp($.inputmask.escapeRegex.call(this,opts.groupSeparator),"g"),""),processValue=processValue.replace($.inputmask.escapeRegex.call(this,opts.radixPoint),"."),isFinite(processValue)&&isFinite(opts.max)&&(isValid=parseFloat(processValue)<=parseFloat(opts.max)),isValid},definitions:{"~":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts),radixPosition;return isValid||(isValid=opts.radixHandler(chrs,maskset,pos,strict,opts),isValid||(isValid=strict?new RegExp("[0-9"+$.inputmask.escapeRegex.call(this,opts.groupSeparator)+"]").test(chrs):new RegExp("[0-9]").test(chrs),isValid!==!0||(isValid=opts.leadingZeroHandler(chrs,maskset,pos,strict,opts),isValid!==!0)))||(radixPosition=$.inArray(opts.radixPoint,maskset.buffer),isValid=opts.digitsOptional===!1&&pos>radixPosition&&!strict?{pos:pos,remove:pos}:{pos:pos}),isValid},cardinality:1,prevalidator:null},"+":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&(strict&&opts.allowMinus&&chrs===opts.negationSymbol.front||opts.allowMinus&&"-"==chrs||opts.allowPlus&&"+"==chrs)&&(isValid=!0),isValid},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&strict&&opts.allowMinus&&chrs===opts.negationSymbol.back&&(isValid=!0),isValid},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts),radix;return isValid||(radix="["+$.inputmask.escapeRegex.call(this,opts.radixPoint)+"]",isValid=new RegExp(radix).test(chrs),isValid&&maskset.validPositions[pos]&&maskset.validPositions[pos].match.placeholder==opts.radixPoint&&(isValid={caret:pos+1})),isValid},cardinality:1,prevalidator:null,placeholder:function(opts){return opts.radixPoint}}},insertMode:!0,autoUnmask:!1,onUnMask:function(maskedValue,unmaskedValue,opts){var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp($.inputmask.escapeRegex.call(this,opts.groupSeparator),"g"),"")},isComplete:function(buffer,opts){var maskedValue=buffer.join(""),bufClone=buffer.slice(),processValue;return(opts.postFormat(bufClone,0,!0,opts),bufClone.join("")!=maskedValue)?!1:(processValue=maskedValue.replace(opts.prefix,""),processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp($.inputmask.escapeRegex.call(this,opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace($.inputmask.escapeRegex.call(this,opts.radixPoint),".")),isFinite(processValue))},onBeforeMask:function(initialValue,opts){if(""!=opts.radixPoint&&isFinite(initialValue))initialValue=initialValue.toString().replace(".",opts.radixPoint);else{var kommaMatches=initialValue.match(/,/g),dotMatches=initialValue.match(/\./g);dotMatches&&kommaMatches?dotMatches.length>kommaMatches.length?(initialValue=initialValue.replace(/\./g,""),initialValue=initialValue.replace(",",opts.radixPoint)):kommaMatches.length>dotMatches.length?(initialValue=initialValue.replace(/,/g,""),initialValue=initialValue.replace(".",opts.radixPoint)):initialValue=initialValue.indexOf(".")<initialValue.indexOf(",")?initialValue.replace(/\./g,""):initialValue=initialValue.replace(/,/g,""):initialValue=initialValue.replace(new RegExp($.inputmask.escapeRegex.call(this,opts.groupSeparator),"g"),"")}return 0==opts.digits&&(-1!=initialValue.indexOf(".")?initialValue=initialValue.substring(0,initialValue.indexOf(".")):-1!=initialValue.indexOf(",")&&(initialValue=initialValue.substring(0,initialValue.indexOf(",")))),initialValue},canClearPosition:function(maskset,position,lvp,strict,opts){var positionInput=maskset.validPositions[position].input,canClear=positionInput!=opts.radixPoint&&isFinite(positionInput)||position==lvp||positionInput==opts.groupSeparator||positionInput==opts.negationSymbol.front||positionInput==opts.negationSymbol.back,matchRslt,pos,isNull,buffer,vp,radixPosition,intPart;if(canClear&&isFinite(positionInput)){if(matchRslt=maskset.buffer.join("").substr(0,position).match(opts.regex.integerNPart(opts)),!strict&&(pos=position+1,isNull=null==matchRslt||0==parseInt(matchRslt[0].replace(new RegExp($.inputmask.escapeRegex.call(this,opts.groupSeparator),"g"),"")),isNull))for(;maskset.validPositions[pos]&&(maskset.validPositions[pos].input==opts.groupSeparator||"0"==maskset.validPositions[pos].input);)delete maskset.validPositions[pos],pos++;buffer=[];for(vp in maskset.validPositions)buffer.push(maskset.validPositions[vp].input);matchRslt=buffer.join("").match(opts.regex.integerNPart(opts));radixPosition=$.inArray(opts.radixPoint,maskset.buffer);matchRslt&&(-1==radixPosition||radixPosition>=position)&&(0==matchRslt[0].indexOf("0")?canClear=matchRslt.index!=position||-1==radixPosition:(intPart=parseInt(matchRslt[0].replace(new RegExp($.inputmask.escapeRegex.call(this,opts.groupSeparator),"g"),"")),-1!=radixPosition&&10>intPart&&"0"==opts.placeholder.charAt(0)&&(maskset.validPositions[position].input="0",maskset.p=opts.prefix.length+1,canClear=!1)))}return canClear}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),$.fn.inputmask}(jQuery),function($){return $.extend($.inputmask.defaults.aliases,{phone:{url:"phone-codes/phone-codes.js",maskInit:"+pp(pp)pppppppp",countrycode:"",mask:function(opts){opts.definitions={p:{validator:function(){return!1},cardinality:1},"#":{validator:"[0-9]",cardinality:1}};var maskList=[];return $.ajax({url:opts.url,async:!1,dataType:"json",success:function(response){maskList=response},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+" - "+opts.url)}}),maskList=maskList.sort(function(a,b){return(a.mask||a)<(b.mask||b)?-1:1}),""!=opts.countrycode&&(opts.maskInit="+"+opts.countrycode+opts.maskInit.substring(3)),maskList.splice(0,0,opts.maskInit),maskList},nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(value,opts){var processedValue=value.replace(/^0/g,"");return(processedValue.indexOf(opts.countrycode)>1||-1==processedValue.indexOf(opts.countrycode))&&(processedValue="+"+opts.countrycode+processedValue),processedValue}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),$.fn.inputmask}(jQuery),function($){return $.extend($.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(buffer,opts){return new RegExp(opts.regex).test(buffer.join(""))},definitions:{r:{validator:function(chrs,maskset,pos,strict,opts){function regexToken(isGroup,isQuantifier){this.matches=[];this.isGroup=isGroup||!1;this.isQuantifier=isQuantifier||!1;this.quantifier={min:1,max:1};this.repeaterPart=void 0}function analyseRegex(){var match,m,currentToken=new regexToken,opengroups=[],quantifierToken,matches,groupToken;for(opts.regexTokens=[];match=opts.tokenizer.exec(opts.regex);)switch(m=match[0],m.charAt(0)){case"(":opengroups.push(new regexToken(!0));break;case")":groupToken=opengroups.pop();opengroups.length>0?opengroups[opengroups.length-1].matches.push(groupToken):currentToken.matches.push(groupToken);break;case"{":case"+":case"*":quantifierToken=new regexToken(!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1==mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);(quantifierToken.quantifier={min:mq0,max:mq1},opengroups.length>0)?(matches=opengroups[opengroups.length-1].matches,(match=matches.pop(),match.isGroup)||(groupToken=new regexToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifierToken)):((match=currentToken.matches.pop(),match.isGroup)||(groupToken=new regexToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifierToken));break;default:opengroups.length>0?opengroups[opengroups.length-1].matches.push(m):currentToken.matches.push(m)}currentToken.matches.length>0&&opts.regexTokens.push(currentToken)}function validateRegexToken(token,fromGroup){var isvalid=!1,mndx,matchToken,i,qm,k,testExp,l,tl,j,exp;for(fromGroup&&(regexPart+="(",openGroupCount++),mndx=0;mndx<token.matches.length;mndx++){if(matchToken=token.matches[mndx],1==matchToken.isGroup)isvalid=validateRegexToken(matchToken,!0);else if(1==matchToken.isQuantifier){var crrntndx=$.inArray(matchToken,token.matches),matchGroup=token.matches[crrntndx-1],regexPartBak=regexPart;if(isNaN(matchToken.quantifier.max)){for(;matchToken.repeaterPart&&matchToken.repeaterPart!=regexPart&&matchToken.repeaterPart.length>regexPart.length&&!(isvalid=validateRegexToken(matchGroup,!0)););isvalid=isvalid||validateRegexToken(matchGroup,!0);isvalid&&(matchToken.repeaterPart=regexPart);regexPart=regexPartBak+matchToken.quantifier.max}else{for(i=0,qm=matchToken.quantifier.max-1;qm>i&&!(isvalid=validateRegexToken(matchGroup,!0));i++);regexPart=regexPartBak+"{"+matchToken.quantifier.min+","+matchToken.quantifier.max+"}"}}else if(void 0!=matchToken.matches)for(k=0;k<matchToken.length&&!(isvalid=validateRegexToken(matchToken[k],fromGroup));k++);else{if("["==matchToken.charAt(0)){for(testExp=regexPart,testExp+=matchToken,j=0;openGroupCount>j;j++)testExp+=")";exp=new RegExp("^("+testExp+")$");isvalid=exp.test(bufferStr)}else for(l=0,tl=matchToken.length;tl>l;l++)if("\\"!=matchToken.charAt(l)){for(testExp=regexPart,testExp+=matchToken.substr(0,l+1),testExp=testExp.replace(/\|$/,""),j=0;openGroupCount>j;j++)testExp+=")";if(exp=new RegExp("^("+testExp+")$"),isvalid=exp.test(bufferStr))break}regexPart+=matchToken}if(isvalid)break}return fromGroup&&(regexPart+=")",openGroupCount--),isvalid}var bufferStr,i,regexToken;null==opts.regexTokens&&analyseRegex();var cbuffer=maskset.buffer.slice(),regexPart="",isValid=!1,openGroupCount=0;for(cbuffer.splice(pos,0,chrs),bufferStr=cbuffer.join(""),i=0;i<opts.regexTokens.length;i++)if(regexToken=opts.regexTokens[i],isValid=validateRegexToken(regexToken,regexToken.isGroup))break;return isValid},cardinality:1}}}}),$.fn.inputmask}(jQuery);
/**
 * @version: 1.0 Alpha-1
 * @author: Coolite Inc. http://www.coolite.com/
 * @date: 2008-05-13
 * @copyright: Copyright (c) 2006-2008, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * @license: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * @website: http://www.datejs.com/
 */
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,p=function(s,l){return l||(l=2),("000"+s).slice(l*-1)},$y,$m,$d;$P.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this};$P.setTimeToNow=function(){var n=new Date;return this.setHours(n.getHours()),this.setMinutes(n.getMinutes()),this.setSeconds(n.getSeconds()),this.setMilliseconds(n.getMilliseconds()),this};$D.today=function(){return(new Date).clearTime()};$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2))throw new Error(date1+" - "+date2);else if(date1 instanceof Date&&date2 instanceof Date)return date1<date2?-1:date1>date2?1:0;else throw new TypeError(date1+" - "+date2);};$D.equals=function(date1,date2){return date1.compareTo(date2)===0};$D.getDayNumberFromName=function(name){for(var n=$C.dayNames,m=$C.abbreviatedDayNames,o=$C.shortestDayNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s||o[i].toLowerCase()==s)return i;return-1};$D.getMonthNumberFromName=function(name){for(var n=$C.monthNames,m=$C.abbreviatedMonthNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s)return i;return-1};$D.isLeapYear=function(year){return year%4==0&&year%100!=0||year%400==0};$D.getDaysInMonth=function(year,month){return[31,$D.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]};$D.getTimezoneAbbreviation=function(offset){for(var z=$C.timezones,p,i=0;i<z.length;i++)if(z[i].offset===offset)return z[i].name;return null};$D.getTimezoneOffset=function(name){for(var z=$C.timezones,p,i=0;i<z.length;i++)if(z[i].name===name.toUpperCase())return z[i].offset;return null};$P.clone=function(){return new Date(this.getTime())};$P.compareTo=function(date){return Date.compare(this,date)};$P.equals=function(date){return Date.equals(this,date||new Date)};$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime()};$P.isAfter=function(date){return this.compareTo(date||new Date)===1};$P.isBefore=function(date){return this.compareTo(date||new Date)===-1};$P.isToday=function(){return this.isSameDay(new Date)};$P.isSameDay=function(date){return this.clone().clearTime().equals(date.clone().clearTime())};$P.addMilliseconds=function(value){return this.setMilliseconds(this.getMilliseconds()+value),this};$P.addSeconds=function(value){return this.addMilliseconds(value*1e3)};$P.addMinutes=function(value){return this.addMilliseconds(value*6e4)};$P.addHours=function(value){return this.addMilliseconds(value*36e5)};$P.addDays=function(value){return this.setDate(this.getDate()+value),this};$P.addWeeks=function(value){return this.addDays(value*7)};$P.addMonths=function(value){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+value),this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth()))),this};$P.addYears=function(value){return this.addMonths(value*12)};$P.add=function(config){if(typeof config=="number")return this._orient=config,this;var x=config;return x.milliseconds&&this.addMilliseconds(x.milliseconds),x.seconds&&this.addSeconds(x.seconds),x.minutes&&this.addMinutes(x.minutes),x.hours&&this.addHours(x.hours),x.weeks&&this.addWeeks(x.weeks),x.months&&this.addMonths(x.months),x.years&&this.addYears(x.years),x.days&&this.addDays(x.days),this};$P.getWeek=function(){var a,b,c,d,e,f,g,n,s,w;return $y=$y?$y:this.getFullYear(),$m=$m?$m:this.getMonth()+1,$d=$d?$d:this.getDate(),$m<=2?(a=$y-1,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=0,f=$d-1+31*($m-1)):(a=$y,b=(a/4|0)-(a/100|0)+(a/400|0),c=((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0),s=b-c,e=s+1,f=$d+(153*($m-3)+2)/5+58+s),g=(a+b)%7,d=(f+g-e)%7,n=f+3-d|0,w=n<0?53-((g-s)/5|0):n>364+s?1:(n/7|0)+1,$y=$m=$d=null,w};$P.getISOWeek=function(){return $y=this.getUTCFullYear(),$m=this.getUTCMonth()+1,$d=this.getUTCDate(),p(this.getWeek())};$P.setWeek=function(n){return this.moveToDayOfWeek(1).addWeeks(n-this.getWeek())};$D._validate=function(n,min,max,name){if(typeof n=="undefined")return!1;else if(typeof n!="number")throw new TypeError(n+" is not a Number.");else if(n<min||n>max)throw new RangeError(n+" is not a valid value for "+name+".");return!0};$D.validateMillisecond=function(value){return $D._validate(value,0,999,"millisecond")};$D.validateSecond=function(value){return $D._validate(value,0,59,"second")};$D.validateMinute=function(value){return $D._validate(value,0,59,"minute")};$D.validateHour=function(value){return $D._validate(value,0,23,"hour")};$D.validateDay=function(value,year,month){return $D._validate(value,1,$D.getDaysInMonth(year,month),"day")};$D.validateMonth=function(value){return $D._validate(value,0,11,"month")};$D.validateYear=function(value){return $D._validate(value,0,9999,"year")};$P.set=function(config){return $D.validateMillisecond(config.millisecond)&&this.addMilliseconds(config.millisecond-this.getMilliseconds()),$D.validateSecond(config.second)&&this.addSeconds(config.second-this.getSeconds()),$D.validateMinute(config.minute)&&this.addMinutes(config.minute-this.getMinutes()),$D.validateHour(config.hour)&&this.addHours(config.hour-this.getHours()),$D.validateMonth(config.month)&&this.addMonths(config.month-this.getMonth()),$D.validateYear(config.year)&&this.addYears(config.year-this.getFullYear()),$D.validateDay(config.day,this.getFullYear(),this.getMonth())&&this.addDays(config.day-this.getDate()),config.timezone&&this.setTimezone(config.timezone),config.timezoneOffset&&this.setTimezoneOffset(config.timezoneOffset),config.week&&$D._validate(config.week,0,53,"week")&&this.setWeek(config.week),this};$P.moveToFirstDayOfMonth=function(){return this.set({day:1})};$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())})};$P.moveToNthOccurrence=function(dayOfWeek,occurrence){var shift=0;if(occurrence>0)shift=occurrence-1;else if(occurrence===-1)return this.moveToLastDayOfMonth(),this.getDay()!==dayOfWeek&&this.moveToDayOfWeek(dayOfWeek,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,1).addWeeks(shift)};$P.moveToDayOfWeek=function(dayOfWeek,orient){var diff=(dayOfWeek-this.getDay()+7*(orient||1))%7;return this.addDays(diff===0?diff+=7*(orient||1):diff)};$P.moveToMonth=function(month,orient){var diff=(month-this.getMonth()+12*(orient||1))%12;return this.addMonths(diff===0?diff+=12*(orient||1):diff)};$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1};$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset())};$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=Number(offset)*-6/10;return this.addMinutes(there-here)};$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset))};$P.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()};$P.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()};$P.getUTCOffset=function(){var n=this.getTimezoneOffset()*-10/6,r;return n<0?(r=(n-1e4).toString(),r.charAt(0)+r.substr(2)):(r=(n+1e4).toString(),"+"+r.substr(1))};$P.getElapsed=function(date){return(date||new Date)-this};$P.toISOString||($P.toISOString=function(){function f(n){return n<10?"0"+n:n}return'"'+this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+'Z"'});$P._toString=$P.toString;$P.toString=function(format){var x=this,c,ord;if(format&&format.length==1){c=$C.formatPatterns;x.t=x.toString;switch(format){case"d":return x.t(c.shortDate);case"D":return x.t(c.longDate);case"F":return x.t(c.fullDateTime);case"m":return x.t(c.monthDay);case"r":return x.t(c.rfc1123);case"s":return x.t(c.sortableDateTime);case"t":return x.t(c.shortTime);case"T":return x.t(c.longTime);case"u":return x.t(c.universalSortableDateTime);case"y":return x.t(c.yearMonth)}}return ord=function(n){switch(n*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},format?format.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(m){if(m.charAt(0)==="\\")return m.replace("\\","");x.h=x.getHours;switch(m){case"hh":return p(x.h()<13?x.h()===0?12:x.h():x.h()-12);case"h":return x.h()<13?x.h()===0?12:x.h():x.h()-12;case"HH":return p(x.h());case"H":return x.h();case"mm":return p(x.getMinutes());case"m":return x.getMinutes();case"ss":return p(x.getSeconds());case"s":return x.getSeconds();case"yyyy":return p(x.getFullYear(),4);case"yy":return p(x.getFullYear());case"dddd":return $C.dayNames[x.getDay()];case"ddd":return $C.abbreviatedDayNames[x.getDay()];case"dd":return p(x.getDate());case"d":return x.getDate();case"MMMM":return $C.monthNames[x.getMonth()];case"MMM":return $C.abbreviatedMonthNames[x.getMonth()];case"MM":return p(x.getMonth()+1);case"M":return x.getMonth()+1;case"t":return x.h()<12?$C.amDesignator.substring(0,1):$C.pmDesignator.substring(0,1);case"tt":return x.h()<12?$C.amDesignator:$C.pmDesignator;case"S":return ord(x.getDate());default:return m}}):this._toString()}}(),function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,$N=Number.prototype,df,sdf,i,mf,smf,j,ef,nf,k,nthfn,l;$P._orient=1;$P._nth=null;$P._is=!1;$P._same=!1;$P._isSecond=!1;$N._dateElement="day";$P.next=function(){return this._orient=1,this};$D.next=function(){return $D.today().next()};$P.last=$P.prev=$P.previous=function(){return this._orient=-1,this};$D.last=$D.prev=$D.previous=function(){return $D.today().last()};$P.is=function(){return this._is=!0,this};$P.same=function(){return this._same=!0,this._isSecond=!1,this};$P.today=function(){return this.same().day()};$P.weekday=function(){return this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1};$P.at=function(time){return typeof time=="string"?$D.parse(this.toString("d")+" "+time):this.set(time)};$N.fromNow=$N.after=function(date){var c={};return c[this._dateElement]=this,(date?date.clone():new Date).add(c)};$N.ago=$N.before=function(date){var c={};return c[this._dateElement]=this*-1,(date?date.clone():new Date).add(c)};var dx="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),mx="january february march april may june july august september october november december".split(/\s/),px="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),pxf="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),nth="final first second third fourth fifth".split(/\s/),de;for($P.toObject=function(){for(var o={},i=0;i<px.length;i++)o[px[i].toLowerCase()]=this["get"+pxf[i]]();return o},$D.fromObject=function(config){return config.week=null,Date.today().set(config)},df=function(n){return function(){var ntemp,temp;if(this._is)return this._is=!1,this.getDay()==n;if(this._nth!==null){if(this._isSecond&&this.addSeconds(this._orient*-1),this._isSecond=!1,ntemp=this._nth,this._nth=null,temp=this.clone().moveToLastDayOfMonth(),this.moveToNthOccurrence(n,ntemp),this>temp)throw new RangeError($D.getDayName(n)+" does not occur "+ntemp+" times in the month of "+$D.getMonthName(temp.getMonth())+" "+temp.getFullYear()+".");return this}return this.moveToDayOfWeek(n,this._orient)}},sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();return n===0&&$C.firstDayOfWeek===1&&t.getDay()!==0&&(shift=shift+7),t.addDays(shift)}},i=0;i<dx.length;i++)$D[dx[i].toUpperCase()]=$D[dx[i].toUpperCase().substring(0,3)]=i,$D[dx[i]]=$D[dx[i].substring(0,3)]=sdf(i),$P[dx[i]]=$P[dx[i].substring(0,3)]=df(i);for(mf=function(n){return function(){return this._is?(this._is=!1,this.getMonth()===n):this.moveToMonth(n,this._orient)}},smf=function(n){return function(){return $D.today().set({month:n,day:1})}},j=0;j<mx.length;j++)$D[mx[j].toUpperCase()]=$D[mx[j].toUpperCase().substring(0,3)]=j,$D[mx[j]]=$D[mx[j].substring(0,3)]=smf(j),$P[mx[j]]=$P[mx[j].substring(0,3)]=mf(j);for(ef=function(j){return function(){var m;if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;var o1=this.toObject(),o2=(arguments[0]||new Date).toObject(),v="",k=j.toLowerCase();for(m=px.length-1;m>-1;m--){if(v=px[m].toLowerCase(),o1[v]!=o2[v])return!1;if(k==v)break}return!0}return j.substring(j.length-1)!="s"&&(j+="s"),this["add"+j](this._orient)}},nf=function(n){return function(){return this._dateElement=n,this}},k=0;k<px.length;k++)de=px[k].toLowerCase(),$P[de]=$P[de+"s"]=ef(px[k]),$N[de]=$N[de+"s"]=nf(de);for($P._ss=ef("Second"),nthfn=function(n){return function(dayOfWeek){return this._same?this._ss(arguments[0]):dayOfWeek||dayOfWeek===0?this.moveToNthOccurrence(dayOfWeek,n):(this._nth=n,n===2&&(dayOfWeek===undefined||dayOfWeek===null))?(this._isSecond=!0,this.addSeconds(this._orient)):this}},l=0;l<nth.length;l++)$P[nth[l]]=l===0?nthfn(-1):nthfn(l)}(),function(){var i,_vector,vx,j;Date.Parsing={Exception:function(s){this.message="Parse error at '"+s.substring(0,10)+" ...'"}};var $P=Date.Parsing,_=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx)return[mx[0],s.substring(mx[0].length)];else throw new $P.Exception(s);}},token:function(s){return function(s){return _.rtoken(new RegExp("^s*"+s+"s*"))(s)}},stoken:function(s){return _.rtoken(new RegExp("^"+s))},until:function(p){return function(s){for(var qx=[],rx=null;s.length;){try{rx=p.call(this,s)}catch(e){qx.push(rx[0]);s=rx[1];continue}break}return[qx,s]}},many:function(p){return function(s){for(var rx=[],r=null;s.length;){try{r=p.call(this,s)}catch(e){return[rx,s]}rx.push(r[0]);s=r[1]}return[rx,s]}},optional:function(p){return function(s){var r=null;try{r=p.call(this,s)}catch(e){return[null,s]}return[r[0],r[1]]}},not:function(p){return function(s){try{p.call(this,s)}catch(e){return[null,s]}throw new $P.Exception(s);}},ignore:function(p){return p?function(s){var r=null;return r=p.call(this,s),[null,r[1]]}:null},product:function(){for(var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[],i=0;i<px.length;i++)rx.push(_.each(px[i],qx));return rx},cache:function(rule){var cache={},r=null;return function(s){try{r=cache[s]=cache[s]||rule.call(this,s)}catch(e){r=cache[s]=e}if(r instanceof $P.Exception)throw r;else return r}},any:function(){var px=arguments;return function(s){for(var r=null,i=0;i<px.length;i++)if(px[i]!=null){try{r=px[i].call(this,s)}catch(e){r=null}if(r)return r}throw new $P.Exception(s);}},each:function(){var px=arguments;return function(s){for(var rx=[],r=null,i=0;i<px.length;i++)if(px[i]!=null){try{r=px[i].call(this,s)}catch(e){throw new $P.Exception(s);}rx.push(r[0]);s=r[1]}return[rx,s]}},all:function(){var px=arguments,_=_;return _.each(_.optional(px))},sequence:function(px,d,c){return(d=d||_.rtoken(/^\s*/),c=c||null,px.length==1)?px[0]:function(s){for(var r=null,q=null,rx=[],i=0;i<px.length;i++){try{r=px[i].call(this,s)}catch(e){break}rx.push(r[0]);try{q=d.call(this,r[1])}catch(ex){q=null;break}s=q[1]}if(!r)throw new $P.Exception(s);if(q)throw new $P.Exception(q[1]);if(c)try{r=c.call(this,r[1])}catch(ey){throw new $P.Exception(r[1]);}return[rx,r?r[1]:s]}},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]]}},list:function(p,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c))},set:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,function(s){for(var qx,j,r=null,p=null,q=null,rx=null,best=[[],s],last=!1,i=0;i<px.length;i++){q=null;p=null;r=null;last=px.length==1;try{r=px[i].call(this,s)}catch(e){continue}if(rx=[[r[0]],r[1]],r[1].length>0&&!last)try{q=d.call(this,r[1])}catch(ex){last=!0}else last=!0;if(last||q[1].length!==0||(last=!0),!last){for(qx=[],j=0;j<px.length;j++)i!=j&&qx.push(px[j]);p=_.set(qx,d).call(this,q[1]);p[0].length>0&&(rx[0]=rx[0].concat(p[0]),rx[1]=p[1])}if(rx[1].length<best[1].length&&(best=rx),best[1].length===0)break}if(best[0].length===0)return best;if(c){try{q=c.call(this,best[1])}catch(ey){throw new $P.Exception(best[1]);}best[1]=q[1]}return best}},forward:function(gr,fname){return function(s){return gr[fname].call(this,s)}},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]]}},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]]}},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min)throw new $P.Exception(s);return rx}}},_generator=function(op){return function(){var args=null,rx=[],i,px;if(arguments.length>1?args=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(args=arguments[0]),args)for(i=0,px=args.shift();i<px.length;i++)return args.unshift(px[i]),rx.push(op.apply(null,args)),args.shift(),rx;else return op.apply(null,arguments)}},gx="optional not ignore cache".split(/\s/);for(i=0;i<gx.length;i++)_[gx[i]]=_generator(_[gx[i]]);for(_vector=function(op){return function(){return arguments[0]instanceof Array?op.apply(null,arguments[0]):op.apply(null,arguments)}},vx="each any all".split(/\s/),j=0;j<vx.length;j++)_[vx[j]]=_vector(_[vx[j]])}(),function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,flattenAndCompact=function(ax){for(var rx=[],i=0;i<ax.length;i++)ax[i]instanceof Array?rx=rx.concat(flattenAndCompact(ax[i])):ax[i]&&rx.push(ax[i]);return rx},_C,_F,_get;$D.Grammar={};$D.Translator={hour:function(s){return function(){this.hour=Number(s)}},minute:function(s){return function(){this.minute=Number(s)}},second:function(s){return function(){this.second=Number(s)}},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase()}},timezone:function(s){return function(){var n=s.replace(/[^\d\+\-]/g,"");n.length?this.timezoneOffset=Number(n):this.timezone=s.toLowerCase()}},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\d+/)[0])}},month:function(s){return function(){this.month=s.length==3?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s)/4:Number(s)-1}},year:function(s){return function(){var n=Number(s);this.year=s.length>2?n:n+(n+2e3<$C.twoDigitYearMax?2e3:1900)}},rday:function(s){return function(){switch(s){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=!0;break}}},finishExact:function(x){var i,now,r;for(x=x instanceof Array?x:[x],i=0;i<x.length;i++)x[i]&&x[i].call(this);if(now=new Date,!(this.hour||this.minute)||this.month||this.year||this.day||(this.day=now.getDate()),this.year||(this.year=now.getFullYear()),this.month||this.month===0||(this.month=now.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0)),this.day>$D.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");return r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second),this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(x){var i,today,expression,gap,mod,orient,temp;if(x=x instanceof Array?flattenAndCompact(x):[x],x.length===0)return null;for(i=0;i<x.length;i++)typeof x[i]=="function"&&x[i].call(this);if(today=$D.today(),!this.now||this.unit||this.operator)this.now&&(today=new Date);else return new Date;return(expression=!!(this.days&&this.days!==null||this.orient||this.operator),orient=this.orient=="past"||this.operator=="subtract"?-1:1,this.now||"hour minute second".indexOf(this.unit)==-1||today.setTimeToNow(),(this.month||this.month===0)&&"year day hour minute second".indexOf(this.unit)!=-1&&(this.value=this.month+1,this.month=null,expression=!0),expression||!this.weekday||this.day||this.days||(temp=Date[this.weekday](),this.day=temp.getDate(),this.month||(this.month=temp.getMonth()),this.year=temp.getFullYear()),expression&&this.weekday&&this.unit!="month"&&(this.unit="day",gap=$D.getDayNumberFromName(this.weekday)-today.getDay(),mod=7,this.days=gap?(gap+orient*mod)%mod:orient*mod),this.month&&this.unit=="day"&&this.operator&&(this.value=this.month+1,this.month=null),this.value!=null&&this.month!=null&&this.year!=null&&(this.day=this.value*1),this.month&&!this.day&&this.value&&(today.set({day:this.value*1}),expression||(this.day=this.value*1)),this.month||!this.value||this.unit!="month"||this.now||(this.month=this.value,expression=!0),expression&&(this.month||this.month===0)&&this.unit!="year"&&(this.unit="month",gap=this.month-today.getMonth(),mod=12,this.months=gap?(gap+orient*mod)%mod:orient*mod,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null?this[this.unit+"s"]=this[this.unit+"s"]+(this.operator=="add"?1:-1)+(this.value||0)*orient:(this[this.unit+"s"]==null||this.operator!=null)&&(this.value||(this.value=1),this[this.unit+"s"]=this.value*orient),this.meridian&&this.hour&&(this.meridian=="p"&&this.hour<12?this.hour=this.hour+12:this.meridian=="a"&&this.hour==12&&(this.hour=0)),!this.weekday||this.day||this.days||(temp=Date[this.weekday](),this.day=temp.getDate(),temp.getMonth()!==today.getMonth()&&(this.month=temp.getMonth())),(this.month||this.month===0)&&!this.day&&(this.day=1),!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month)?Date.today().setWeek(this.value):(expression&&this.timezone&&this.day&&this.days&&(this.day=this.days),expression?today.add(this):today.set(this))}};var _=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator,_fn;g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/);g.timePartDelimiter=_.stoken(":");g.whiteSpace=_.rtoken(/^\s*/);g.generalDelimiter=_.rtoken(/^(([\s\,]|at|@|on)+)/);_C={};g.ctoken=function(keys){var fn=_C[keys],i;if(!fn){var c=$C.regexPatterns,kx=keys.split(/\s+/),px=[];for(i=0;i<kx.length;i++)px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]));fn=_C[keys]=_.any.apply(null,px)}return fn};g.ctoken2=function(key){return _.rtoken($C.regexPatterns[key])};g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour));g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour));g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour));g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour));g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute));g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute));g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second));g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second));g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter));g.t=_.cache(_.process(g.ctoken2("shortMeridian"),t.meridian));g.tt=_.cache(_.process(g.ctoken2("longMeridian"),t.meridian));g.z=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone));g.zz=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone));g.zzz=_.cache(_.process(g.ctoken2("timezone"),t.timezone));g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz]));g.time=_.each(_.optional(_.ignore(_.stoken("T"))),g.hms,g.timeSuffix);g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/),_.optional(g.ctoken2("ordinalSuffix"))),t.day));g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/),_.optional(g.ctoken2("ordinalSuffix"))),t.day));g.ddd=g.dddd=_.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"),function(s){return function(){this.weekday=s}}));g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/),t.month));g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/),t.month));g.MMM=g.MMMM=_.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month));g.y=_.cache(_.process(_.rtoken(/^(\d\d?)/),t.year));g.yy=_.cache(_.process(_.rtoken(/^(\d\d)/),t.year));g.yyy=_.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/),t.year));g.yyyy=_.cache(_.process(_.rtoken(/^(\d\d\d\d)/),t.year));_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2("timeContext")))};g.day=_fn(g.d,g.dd);g.month=_fn(g.M,g.MMM);g.year=_fn(g.yyyy,g.yy);g.orientation=_.process(g.ctoken("past future"),function(s){return function(){this.orient=s}});g.operator=_.process(g.ctoken("add subtract"),function(s){return function(){this.operator=s}});g.rday=_.process(g.ctoken("yesterday tomorrow today now"),t.rday);g.unit=_.process(g.ctoken("second minute hour day week month year"),function(s){return function(){this.unit=s}});g.value=_.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\D/g,"")}});g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]);_fn=function(){return _.set(arguments,g.datePartDelimiter)};g.mdy=_fn(g.ddd,g.month,g.day,g.year);g.ymd=_fn(g.ddd,g.year,g.month,g.day);g.dmy=_fn(g.ddd,g.day,g.month,g.year);g.date=function(s){return(g[$C.dateElementOrder]||g.mdy).call(this,s)};g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt])return g[fmt];else throw $D.Parsing.Exception(fmt);}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s))}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact)});_F={};_get=function(f){return _F[f]=_F[f]||g.format(f)[0]};g.formats=function(fx){var rx,i;if(fx instanceof Array){for(rx=[],i=0;i<fx.length;i++)rx.push(_get(fx[i]));return _.any.apply(null,rx)}else return _get(fx)};g._formats=g.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish);g.start=function(s){try{var r=g._formats.call({},s);if(r[1].length===0)return r}catch(e){}return g._start.call({},s)};$D._parse=$D.parse;$D.parse=function(s){var r=null;if(!s)return null;if(s instanceof Date)return s;try{r=$D.Grammar.start.call({},s.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(e){return null}return r[1].length===0?r[0]:null};$D.getParseFunction=function(fx){var fn=$D.Grammar.formats(fx);return function(s){var r=null;try{r=fn.call({},s)}catch(e){return null}return r[1].length===0?r[0]:null}};$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s)}}();
/*!
 * jQuery Form Plugin
 * version: 3.50.0-2014.02.05
 * Requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],factory):factory(typeof jQuery!="undefined"?jQuery:window.Zepto)})(function($){"use strict";function doAjaxSubmit(e){var options=e.data;e.isDefaultPrevented()||(e.preventDefault(),$(e.target).ajaxSubmit(options))}function captureSubmittingElement(e){var target=e.target,$el=$(target),t,form,offset;if(!$el.is("[type=submit],[type=image]")){if(t=$el.closest("[type=submit]"),t.length===0)return;target=t[0]}form=this;form.clk=target;target.type=="image"&&(e.offsetX!==undefined?(form.clk_x=e.offsetX,form.clk_y=e.offsetY):typeof $.fn.offset=="function"?(offset=$el.offset(),form.clk_x=e.pageX-offset.left,form.clk_y=e.pageY-offset.top):(form.clk_x=e.pageX-target.offsetLeft,form.clk_y=e.pageY-target.offsetTop));setTimeout(function(){form.clk=form.clk_x=form.clk_y=null},100)}function log(){if($.fn.ajaxSubmit.debug){var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(msg):window.opera&&window.opera.postError&&window.opera.postError(msg)}}var feature={},hasProp;feature.fileapi=$("<input type='file'/>").get(0).files!==undefined;feature.formdata=window.FormData!==undefined;hasProp=!!$.fn.prop;$.fn.attr2=function(){if(!hasProp)return this.attr.apply(this,arguments);var val=this.prop.apply(this,arguments);return val&&val.jquery||typeof val=="string"?val:this.attr.apply(this,arguments)};$.fn.ajaxSubmit=function(options){function deepSerialize(extraData){for(var serialized=$.param(extraData,options.traditional).split("&"),len=serialized.length,result=[],part,i=0;i<len;i++)serialized[i]=serialized[i].replace(/\+/g," "),part=serialized[i].split("="),result.push([decodeURIComponent(part[0]),decodeURIComponent(part[1])]);return result}function fileUploadXhr(a){for(var serializedData,s,beforeSend,formdata=new FormData,i=0;i<a.length;i++)formdata.append(a[i].name,a[i].value);if(options.extraData)for(serializedData=deepSerialize(options.extraData),i=0;i<serializedData.length;i++)serializedData[i]&&formdata.append(serializedData[i][0],serializedData[i][1]);return options.data=null,s=$.extend(!0,{},$.ajaxSettings,options,{contentType:!1,processData:!1,cache:!1,type:method||"POST"}),options.uploadProgress&&(s.xhr=function(){var xhr=$.ajaxSettings.xhr();return xhr.upload&&xhr.upload.addEventListener("progress",function(event){var percent=0,position=event.loaded||event.position,total=event.total;event.lengthComputable&&(percent=Math.ceil(position/total*100));options.uploadProgress(event,position,total,percent)},!1),xhr}),s.data=null,beforeSend=s.beforeSend,s.beforeSend=function(xhr,o){o.data=options.formData?options.formData:formdata;beforeSend&&beforeSend.call(this,xhr,o)},$.ajax(s)}function fileUploadIframe(a){function getDoc(frame){var doc=null;try{frame.contentWindow&&(doc=frame.contentWindow.document)}catch(err){log("cannot get iframe.contentWindow document: "+err)}if(doc)return doc;try{doc=frame.contentDocument?frame.contentDocument:frame.document}catch(err){log("cannot get iframe.contentDocument: "+err);doc=frame.document}return doc}function doSubmit(){function checkState(){try{var state=getDoc(io).readyState;log("state = "+state);state&&state.toLowerCase()=="uninitialized"&&setTimeout(checkState,50)}catch(e){log("Server abort: ",e," (",e.name,")");cb(SERVER_ABORT);timeoutHandle&&clearTimeout(timeoutHandle);timeoutHandle=undefined}}var t=$form.attr2("target"),a=$form.attr2("action"),mp="multipart/form-data",et=$form.attr("enctype")||$form.attr("encoding")||mp,extraInputs,n,submitFn;form.setAttribute("target",id);(!method||/post/i.test(method))&&form.setAttribute("method","POST");a!=s.url&&form.setAttribute("action",s.url);s.skipEncodingOverride||method&&!/post/i.test(method)||$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});s.timeout&&(timeoutHandle=setTimeout(function(){timedOut=!0;cb(CLIENT_TIMEOUT_ABORT)},s.timeout));extraInputs=[];try{if(s.extraData)for(n in s.extraData)s.extraData.hasOwnProperty(n)&&($.isPlainObject(s.extraData[n])&&s.extraData[n].hasOwnProperty("name")&&s.extraData[n].hasOwnProperty("value")?extraInputs.push($('<input type="hidden" name="'+s.extraData[n].name+'">').val(s.extraData[n].value).appendTo(form)[0]):extraInputs.push($('<input type="hidden" name="'+n+'">').val(s.extraData[n]).appendTo(form)[0]));s.iframeTarget||$io.appendTo("body");io.attachEvent?io.attachEvent("onload",cb):io.addEventListener("load",cb,!1);setTimeout(checkState,15);try{form.submit()}catch(err){submitFn=document.createElement("form").submit;submitFn.apply(form)}}finally{form.setAttribute("action",a);form.setAttribute("enctype",et);t?form.setAttribute("target",t):$form.removeAttr("target");$(extraInputs).remove()}}function cb(e){var status,errMsg,isXml,docRoot,dt,scr,ta,pre,b;if(!xhr.aborted&&!callbackProcessed){if(doc=getDoc(io),doc||(log("cannot access response document"),e=SERVER_ABORT),e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort("timeout");deferred.reject(xhr,"timeout");return}else if(e==SERVER_ABORT&&xhr){xhr.abort("server abort");deferred.reject(xhr,"error","server abort");return}if(doc&&doc.location.href!=s.iframeSrc||timedOut){io.detachEvent?io.detachEvent("onload",cb):io.removeEventListener("load",cb,!1);status="success";try{if(timedOut)throw"timeout";if(isXml=s.dataType=="xml"||doc.XMLDocument||$.isXMLDoc(doc),log("isXml="+isXml),!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML)&&--domCheckCount){log("requeing onLoad callback, DOM not available");setTimeout(cb,250);return}docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;isXml&&(s.dataType="xml");xhr.getResponseHeader=function(header){var headers={"content-type":s.dataType};return headers[header.toLowerCase()]};docRoot&&(xhr.status=Number(docRoot.getAttribute("status"))||xhr.status,xhr.statusText=docRoot.getAttribute("statusText")||xhr.statusText);dt=(s.dataType||"").toLowerCase();scr=/(json|script|text)/.test(dt);scr||s.textarea?(ta=doc.getElementsByTagName("textarea")[0],ta?(xhr.responseText=ta.value,xhr.status=Number(ta.getAttribute("status"))||xhr.status,xhr.statusText=ta.getAttribute("statusText")||xhr.statusText):scr&&(pre=doc.getElementsByTagName("pre")[0],b=doc.getElementsByTagName("body")[0],pre?xhr.responseText=pre.textContent?pre.textContent:pre.innerText:b&&(xhr.responseText=b.textContent?b.textContent:b.innerText))):dt=="xml"&&!xhr.responseXML&&xhr.responseText&&(xhr.responseXML=toXml(xhr.responseText));try{data=httpData(xhr,dt,s)}catch(err){status="parsererror";xhr.error=errMsg=err||status}}catch(err){log("error caught: ",err);status="error";xhr.error=errMsg=err||status}xhr.aborted&&(log("upload aborted"),status=null);xhr.status&&(status=xhr.status>=200&&xhr.status<300||xhr.status===304?"success":"error");status==="success"?(s.success&&s.success.call(s.context,data,"success",xhr),deferred.resolve(xhr.responseText,"success",xhr),g&&$.event.trigger("ajaxSuccess",[xhr,s])):status&&(errMsg===undefined&&(errMsg=xhr.statusText),s.error&&s.error.call(s.context,xhr,status,errMsg),deferred.reject(xhr,"error",errMsg),g&&$.event.trigger("ajaxError",[xhr,s,errMsg]));g&&$.event.trigger("ajaxComplete",[xhr,s]);g&&!--$.active&&$.event.trigger("ajaxStop");s.complete&&s.complete.call(s.context,xhr,status);callbackProcessed=!0;s.timeout&&clearTimeout(timeoutHandle);setTimeout(function(){s.iframeTarget?$io.attr("src",s.iframeSrc):$io.remove();xhr.responseXML=null},100)}}}var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle,deferred=$.Deferred(),CLIENT_TIMEOUT_ABORT,SERVER_ABORT,csrf_token,csrf_param,data,doc,domCheckCount,callbackProcessed;if(deferred.abort=function(status){xhr.abort(status)},a)for(i=0;i<elements.length;i++)el=$(elements[i]),hasProp?el.prop("disabled",!1):el.removeAttr("disabled");if(s=$.extend(!0,{},$.ajaxSettings,options),s.context=s.context||s,id="jqFormIO"+(new Date).getTime(),s.iframeTarget?($io=$(s.iframeTarget),n=$io.attr2("name"),n?id=n:$io.attr2("name",id)):($io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />'),$io.css({position:"absolute",top:"-1000px",left:"-1000px"})),io=$io[0],xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=status==="timeout"?"timeout":"aborted";log("aborting upload... "+e);this.aborted=1;try{io.contentWindow.document.execCommand&&io.contentWindow.document.execCommand("Stop")}catch(ignore){}$io.attr("src",s.iframeSrc);xhr.error=e;s.error&&s.error.call(s.context,xhr,e,status);g&&$.event.trigger("ajaxError",[xhr,s,e]);s.complete&&s.complete.call(s.context,xhr,e)}},g=s.global,g&&0==$.active++&&$.event.trigger("ajaxStart"),g&&$.event.trigger("ajaxSend",[xhr,s]),s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===!1)return s.global&&$.active--,deferred.reject(),deferred;if(xhr.aborted)return deferred.reject(),deferred;sub=form.clk;sub&&(n=sub.name,n&&!sub.disabled&&(s.extraData=s.extraData||{},s.extraData[n]=sub.value,sub.type=="image"&&(s.extraData[n+".x"]=form.clk_x,s.extraData[n+".y"]=form.clk_y)));CLIENT_TIMEOUT_ABORT=1;SERVER_ABORT=2;csrf_token=$("meta[name=csrf-token]").attr("content");csrf_param=$("meta[name=csrf-param]").attr("content");csrf_param&&csrf_token&&(s.extraData=s.extraData||{},s.extraData[csrf_param]=csrf_token);s.forceSync?doSubmit():setTimeout(doSubmit,10);domCheckCount=50;var toXml=$.parseXML||function(s,doc){return window.ActiveXObject?(doc=new ActiveXObject("Microsoft.XMLDOM"),doc.async="false",doc.loadXML(s)):doc=(new DOMParser).parseFromString(s,"text/xml"),doc&&doc.documentElement&&doc.documentElement.nodeName!="parsererror"?doc:null},parseJSON=$.parseJSON||function(s){return window.eval("("+s+")")},httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;return xml&&data.documentElement.nodeName==="parsererror"&&$.error&&$.error("parsererror"),s&&s.dataFilter&&(data=s.dataFilter(data,type)),typeof data=="string"&&(type==="json"||!type&&ct.indexOf("json")>=0?data=parseJSON(data):(type==="script"||!type&&ct.indexOf("javascript")>=0)&&$.globalEval(data)),data};return deferred}var method,action,url,$form,veto,traditional,elements,qx,a,q,callbacks,oldSuccess,oldError,oldComplete,shouldUseFrame,jqxhr,k;if(!this.length)return log("ajaxSubmit: skipping submit process - no element selected"),this;if($form=this,typeof options=="function"?options={success:options}:options===undefined&&(options={}),method=options.type||this.attr2("method"),action=options.url||this.attr2("action"),url=typeof action=="string"?$.trim(action):"",url=url||window.location.href||"",url&&(url=(url.match(/^([^#]+)/)||[])[1]),options=$.extend(!0,{url:url,success:$.ajaxSettings.success,type:method||$.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options),veto={},this.trigger("form-pre-serialize",[this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(options.beforeSerialize&&options.beforeSerialize(this,options)===!1)return log("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(traditional=options.traditional,traditional===undefined&&(traditional=$.ajaxSettings.traditional),elements=[],a=this.formToArray(options.semantic,elements),options.data&&(options.extraData=options.data,qx=$.param(options.data,traditional)),options.beforeSubmit&&options.beforeSubmit(a,this,options)===!1)return log("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,options,veto]),veto.veto)return log("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;q=$.param(a,traditional);qx&&(q=q?q+"&"+qx:qx);options.type.toUpperCase()=="GET"?(options.url+=(options.url.indexOf("?")>=0?"&":"?")+q,options.data=null):options.data=q;callbacks=[];options.resetForm&&callbacks.push(function(){$form.resetForm()});options.clearForm&&callbacks.push(function(){$form.clearForm(options.includeHidden)});!options.dataType&&options.target?(oldSuccess=options.success||function(){},callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})):options.success&&callbacks.push(options.success);options.success=function(data,status,xhr){for(var context=options.context||this,i=0,max=callbacks.length;i<max;i++)callbacks[i].apply(context,[data,status,xhr||$form,$form])};options.error&&(oldError=options.error,options.error=function(xhr,status,error){var context=options.context||this;oldError.apply(context,[xhr,status,error,$form])});options.complete&&(oldComplete=options.complete,options.complete=function(xhr,status){var context=options.context||this;oldComplete.apply(context,[xhr,status,$form])});var fileInputs=$("input[type=file]:enabled",this).filter(function(){return $(this).val()!==""}),hasFileInputs=fileInputs.length>0,mp="multipart/form-data",multipart=$form.attr("enctype")==mp||$form.attr("encoding")==mp,fileAPI=feature.fileapi&&feature.formdata;for(log("fileAPI :"+fileAPI),shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI,options.iframe!==!1&&(options.iframe||shouldUseFrame)?options.closeKeepAlive?$.get(options.closeKeepAlive,function(){jqxhr=fileUploadIframe(a)}):jqxhr=fileUploadIframe(a):jqxhr=(hasFileInputs||multipart)&&fileAPI?fileUploadXhr(a):$.ajax(options),$form.removeData("jqxhr").data("jqxhr",jqxhr),k=0;k<elements.length;k++)elements[k]=null;return this.trigger("form-submit-notify",[this,options]),this};$.fn.ajaxForm=function(options){if(options=options||{},options.delegation=options.delegation&&$.isFunction($.fn.on),!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};return!$.isReady&&o.s?(log("DOM not ready, queuing ajaxForm"),$(function(){$(o.s,o.c).ajaxForm(options)}),this):(log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)")),this)}if(options.delegation){$(document).off("submit.form-plugin",this.selector,doAjaxSubmit).off("click.form-plugin",this.selector,captureSubmittingElement).on("submit.form-plugin",this.selector,options,doAjaxSubmit).on("click.form-plugin",this.selector,options,captureSubmittingElement);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",options,doAjaxSubmit).bind("click.form-plugin",options,captureSubmittingElement)};$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};$.fn.formToArray=function(semantic,elements){var a=[],i,j,n,v,el,max,jmax,files,$input,input;if(this.length===0)return a;var form=this[0],formId=this.attr("id"),els=semantic?form.getElementsByTagName("*"):form.elements,els2;if(els&&!/MSIE [678]/.test(navigator.userAgent)&&(els=$(els).get()),formId&&(els2=$(":input[form="+formId+"]").get(),els2.length&&(els=(els||[]).concat(els2))),!els||!els.length)return a;for(i=0,max=els.length;i<max;i++)if(el=els[i],n=el.name,n&&!el.disabled){if(semantic&&form.clk&&el.type=="image"){form.clk==el&&(a.push({name:n,value:$(el).val(),type:el.type}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}));continue}if(v=$.fieldValue(el,!0),v&&v.constructor==Array)for(elements&&elements.push(el),j=0,jmax=v.length;j<jmax;j++)a.push({name:n,value:v[j]});else if(feature.fileapi&&el.type=="file")if(elements&&elements.push(el),files=el.files,files.length)for(j=0;j<files.length;j++)a.push({name:n,value:files[j],type:el.type});else a.push({name:n,value:"",type:el.type});else v!==null&&typeof v!="undefined"&&(elements&&elements.push(el),a.push({name:n,value:v,type:el.type,required:el.required}))}return!semantic&&form.clk&&($input=$(form.clk),input=$input[0],n=input.name,n&&!input.disabled&&input.type=="image"&&(a.push({name:n,value:$input.val()}),a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y}))),a};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))};$.fn.fieldSerialize=function(successful){var a=[];return this.each(function(){var n=this.name,v,i,max;if(n)if(v=$.fieldValue(this,successful),v&&v.constructor==Array)for(i=0,max=v.length;i<max;i++)a.push({name:n,value:v[i]});else v!==null&&typeof v!="undefined"&&a.push({name:this.name,value:v})}),$.param(a)};$.fn.fieldValue=function(successful){for(var el,v,val=[],i=0,max=this.length;i<max;i++)(el=this[i],v=$.fieldValue(el,successful),v!==null&&typeof v!="undefined"&&(v.constructor!=Array||v.length))&&(v.constructor==Array?$.merge(val,v):val.push(v));return val};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase(),index,i,op,v;if(successful===undefined&&(successful=!0),successful&&(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1))return null;if(tag=="select"){if(index=el.selectedIndex,index<0)return null;var a=[],ops=el.options,one=t=="select-one",max=one?index+1:ops.length;for(i=one?index:0;i<max;i++)if(op=ops[i],op.selected){if(v=op.value,v||(v=op.attributes&&op.attributes.value&&!op.attributes.value.specified?op.text:op.value),one)return v;a.push(v)}return a}return $(el).val()};$.fn.clearForm=function(includeHidden){return this.each(function(){$("input,select,textarea",this).clearFields(includeHidden)})};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();re.test(t)||tag=="textarea"?this.value="":t=="checkbox"||t=="radio"?this.checked=!1:tag=="select"?this.selectedIndex=-1:t=="file"?/MSIE/.test(navigator.userAgent)?$(this).replaceWith($(this).clone(!0)):$(this).val(""):includeHidden&&(includeHidden===!0&&/hidden/.test(t)||typeof includeHidden=="string"&&$(this).is(includeHidden))&&(this.value="")})};$.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};$.fn.enable=function(b){return b===undefined&&(b=!0),this.each(function(){this.disabled=!b})};$.fn.selected=function(select){return select===undefined&&(select=!0),this.each(function(){var t=this.type,$sel;t=="checkbox"||t=="radio"?this.checked=select:this.tagName.toLowerCase()=="option"&&($sel=$(this).parent("select"),select&&$sel[0]&&$sel[0].type=="select-one"&&$sel.find("option").selected(!1),this.selected=select)})};$.fn.ajaxSubmit.debug=!1});
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(){"use strict";function setup($){function install(el,opts){var css,themedCSS,full=el==window,msg=opts&&opts.message!==undefined?opts.message:undefined,node,data,z,lyr1,lyr2,lyr3,s,layers,$par,expr,to;if(opts=$.extend({},$.blockUI.defaults,opts||{}),!opts.ignoreIfBlocked||!$(el).data("blockUI.isBlocked")){if(opts.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,opts.overlayCSS||{}),css=$.extend({},$.blockUI.defaults.css,opts.css||{}),opts.onOverlayClick&&(opts.overlayCSS.cursor="pointer"),themedCSS=$.extend({},$.blockUI.defaults.themedCSS,opts.themedCSS||{}),msg=msg===undefined?opts.message:msg,full&&pageBlock&&remove(window,{fadeOut:0}),msg&&typeof msg!="string"&&(msg.parentNode||msg.jquery)&&(node=msg.jquery?msg[0]:msg,data={},$(el).data("blockUI.history",data),data.el=node,data.parent=node.parentNode,data.display=node.style.display,data.position=node.style.position,data.parent&&data.parent.removeChild(node)),$(el).data("blockUI.onUnblock",opts.onUnblock),z=opts.baseZ,lyr1=msie||opts.forceIframe?$('<iframe class="blockUI" style="z-index:'+z+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+opts.iframeSrc+'"><\/iframe>'):$('<div class="blockUI" style="display:none"><\/div>'),lyr2=opts.theme?$('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+z+++';display:none"><\/div>'):$('<div class="blockUI blockOverlay" style="z-index:'+z+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"><\/div>'),opts.theme&&full?(s='<div class="blockUI '+opts.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">',opts.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+"<\/div>"),s+='<div class="ui-widget-content ui-dialog-content"><\/div>',s+="<\/div>"):opts.theme?(s='<div class="blockUI '+opts.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">',opts.title&&(s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(opts.title||"&nbsp;")+"<\/div>"),s+='<div class="ui-widget-content ui-dialog-content"><\/div>',s+="<\/div>"):s=full?'<div class="blockUI '+opts.blockMsgClass+' blockPage" style="z-index:'+(z+10)+';display:none;position:fixed"><\/div>':'<div class="blockUI '+opts.blockMsgClass+' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"><\/div>',lyr3=$(s),msg&&(opts.theme?(lyr3.css(themedCSS),lyr3.addClass("ui-widget-content")):lyr3.css(css)),opts.theme||lyr2.css(opts.overlayCSS),lyr2.css("position",full?"fixed":"absolute"),(msie||opts.forceIframe)&&lyr1.css("opacity",0),layers=[lyr1,lyr2,lyr3],$par=full?$("body"):$(el),$.each(layers,function(){this.appendTo($par)}),opts.theme&&opts.draggable&&$.fn.draggable&&lyr3.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),expr=setExpr&&(!$.support.boxModel||$("object,embed",full?null:el).length>0),ie6||expr){if(full&&opts.allowBodyStretch&&$.support.boxModel&&$("html,body").css("height","100%"),(ie6||!$.support.boxModel)&&!full)var t=sz(el,"borderTopWidth"),l=sz(el,"borderLeftWidth"),fixT=t?"(0 - "+t+")":0,fixL=l?"(0 - "+l+")":0;$.each(layers,function(i,o){var s=o[0].style,top,expression;s.position="absolute";i<2?(full?s.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+opts.quirksmodeOffsetHack+') + "px"'):s.setExpression("height",'this.parentNode.offsetHeight + "px"'),full?s.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):s.setExpression("width",'this.parentNode.offsetWidth + "px"'),fixL&&s.setExpression("left",fixL),fixT&&s.setExpression("top",fixT)):opts.centerY?(full&&s.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),s.marginTop=0):!opts.centerY&&full&&(top=opts.css&&opts.css.top?parseInt(opts.css.top,10):0,expression="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+top+') + "px"',s.setExpression("top",expression))})}if(msg&&(opts.theme?lyr3.find(".ui-widget-content").append(msg):lyr3.append(msg),(msg.jquery||msg.nodeType)&&$(msg).show()),(msie||opts.forceIframe)&&opts.showOverlay&&lyr1.show(),opts.fadeIn){var cb=opts.onBlock?opts.onBlock:noOp,cb1=opts.showOverlay&&!msg?cb:noOp,cb2=msg?cb:noOp;opts.showOverlay&&lyr2._fadeIn(opts.fadeIn,cb1);msg&&lyr3._fadeIn(opts.fadeIn,cb2)}else opts.showOverlay&&lyr2.show(),msg&&lyr3.show(),opts.onBlock&&opts.onBlock.bind(lyr3)();bind(1,el,opts);full?(pageBlock=lyr3[0],pageBlockEls=$(opts.focusableElements,pageBlock),opts.focusInput&&setTimeout(focus,20)):center(lyr3[0],opts.centerX,opts.centerY);opts.timeout&&(to=setTimeout(function(){full?$.unblockUI(opts):$(el).unblock(opts)},opts.timeout),$(el).data("blockUI.timeout",to))}}function remove(el,opts){var count,full=el==window,$el=$(el),data=$el.data("blockUI.history"),to=$el.data("blockUI.timeout"),els;to&&(clearTimeout(to),$el.removeData("blockUI.timeout"));opts=$.extend({},$.blockUI.defaults,opts||{});bind(0,el,opts);opts.onUnblock===null&&(opts.onUnblock=$el.data("blockUI.onUnblock"),$el.removeData("blockUI.onUnblock"));els=full?$("body").children().filter(".blockUI").add("body > .blockUI"):$el.find(">.blockUI");opts.cursorReset&&(els.length>1&&(els[1].style.cursor=opts.cursorReset),els.length>2&&(els[2].style.cursor=opts.cursorReset));full&&(pageBlock=pageBlockEls=null);opts.fadeOut?(count=els.length,els.stop().fadeOut(opts.fadeOut,function(){--count==0&&reset(els,data,opts,el)})):reset(els,data,opts,el)}function reset(els,data,opts,el){var $el=$(el);if(!$el.data("blockUI.isBlocked")){if(els.each(function(i,o){this.parentNode&&this.parentNode.removeChild(this)}),data&&data.el&&(data.el.style.display=data.display,data.el.style.position=data.position,data.el.style.cursor="default",data.parent&&data.parent.appendChild(data.el),$el.removeData("blockUI.history")),$el.data("blockUI.static")&&$el.css("position","static"),typeof opts.onUnblock=="function")opts.onUnblock(el,opts);var body=$(document.body),w=body.width(),cssW=body[0].style.width;body.width(w-1).width(w);body[0].style.width=cssW}}function bind(b,el,opts){var full=el==window,$el=$(el),events;(b||(!full||pageBlock)&&(full||$el.data("blockUI.isBlocked")))&&($el.data("blockUI.isBlocked",b),full&&opts.bindEvents&&(!b||opts.showOverlay))&&(events="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",b?$(document).bind(events,opts,handler):$(document).unbind(events,handler))}function handler(e){var opts,target;if(e.type==="keydown"&&e.keyCode&&e.keyCode==9&&pageBlock&&e.data.constrainTabKey){var els=pageBlockEls,fwd=!e.shiftKey&&e.target===els[els.length-1],back=e.shiftKey&&e.target===els[0];if(fwd||back)return setTimeout(function(){focus(back)},10),!1}if(opts=e.data,target=$(e.target),target.hasClass("blockOverlay")&&opts.onOverlayClick)opts.onOverlayClick(e);return target.parents("div."+opts.blockMsgClass).length>0?!0:target.parents().children().filter("div.blockUI").length===0}function focus(back){if(pageBlockEls){var e=pageBlockEls[back===!0?pageBlockEls.length-1:0];e&&e.focus()}}function center(el,x,y){var p=el.parentNode,s=el.style,l=(p.offsetWidth-el.offsetWidth)/2-sz(p,"borderLeftWidth"),t=(p.offsetHeight-el.offsetHeight)/2-sz(p,"borderTopWidth");x&&(s.left=l>0?l+"px":"0");y&&(s.top=t>0?t+"px":"0")}function sz(el,p){return parseInt($.css(el,p),10)||0}var pageBlock,pageBlockEls;$.fn._fadeIn=$.fn.fadeIn;var noOp=$.noop||function(){},msie=/MSIE/.test(navigator.userAgent),ie6=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),mode=document.documentMode||0,setExpr=$.isFunction(document.createElement("div").style.setExpression);$.blockUI=function(opts){install(window,opts)};$.unblockUI=function(opts){remove(window,opts)};$.growlUI=function(title,message,timeout,onClose){var $m=$('<div class="growlUI"><\/div>'),callBlock,nonmousedOpacity;title&&$m.append("<h1>"+title+"<\/h1>");message&&$m.append("<h2>"+message+"<\/h2>");timeout===undefined&&(timeout=3e3);callBlock=function(opts){opts=opts||{};$.blockUI({message:$m,fadeIn:typeof opts.fadeIn!="undefined"?opts.fadeIn:700,fadeOut:typeof opts.fadeOut!="undefined"?opts.fadeOut:1e3,timeout:typeof opts.timeout!="undefined"?opts.timeout:timeout,centerY:!1,showOverlay:!1,onUnblock:onClose,css:$.blockUI.defaults.growlCSS})};callBlock();nonmousedOpacity=$m.css("opacity");$m.mouseover(function(){callBlock({fadeIn:0,timeout:3e4});var displayBlock=$(".blockMsg");displayBlock.stop();displayBlock.fadeTo(300,1)}).mouseout(function(){$(".blockMsg").fadeOut(1e3)})};$.fn.block=function(opts){if(this[0]===window)return $.blockUI(opts),this;var fullOpts=$.extend({},$.blockUI.defaults,opts||{});return this.each(function(){var $el=$(this);fullOpts.ignoreIfBlocked&&$el.data("blockUI.isBlocked")||$el.unblock({fadeOut:0})}),this.each(function(){$.css(this,"position")=="static"&&(this.style.position="relative",$(this).data("blockUI.static",!0));this.style.zoom=1;install(this,opts)})};$.fn.unblock=function(opts){return this[0]===window?($.unblockUI(opts),this):this.each(function(){remove(this,opts)})};$.blockUI.version=2.7;$.blockUI.defaults={message:"<h1>Please wait...<\/h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};pageBlock=null;pageBlockEls=[]}typeof define=="function"&&define.amd&&define.amd.jQuery?define(["jquery"],setup):setup(jQuery)})();qq=qq||{};qq.extend=function(first,second){for(var prop in second)first[prop]=second[prop]};qq.indexOf=function(arr,elt,from){if(arr.indexOf)return arr.indexOf(elt,from);from=from||0;var len=arr.length;for(from<0&&(from+=len);from<len;from++)if(from in arr&&arr[from]===elt)return from;return-1};qq.getUniqueId=function(){var id=0;return function(){return id++}}();qq.attach=function(element,type,fn){element.addEventListener?element.addEventListener(type,fn,!1):element.attachEvent&&element.attachEvent("on"+type,fn)};qq.detach=function(element,type,fn){element.removeEventListener?element.removeEventListener(type,fn,!1):element.attachEvent&&element.detachEvent("on"+type,fn)};qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)};qq.remove=function(element){element.parentNode.removeChild(element)};qq.contains=function(parent,descendant){return parent==descendant?!0:parent.contains?parent.contains(descendant):!!(descendant.compareDocumentPosition(parent)&8)};qq.toElement=function(){var div=document.createElement("div");return function(html){div.innerHTML=html;var element=div.firstChild;return div.removeChild(element),element}}();qq.css=function(element,styles){styles.opacity!=null&&typeof element.style.opacity!="string"&&typeof element.filters!="undefined"&&(styles.filter="alpha(opacity="+Math.round(100*styles.opacity)+")");qq.extend(element.style,styles)};qq.hasClass=function(element,name){var re=new RegExp("(^| )"+name+"( |$)");return re.test(element.className)};qq.addClass=function(element,name){qq.hasClass(element,name)||(element.className+=" "+name)};qq.removeClass=function(element,name){var re=new RegExp("(^| )"+name+"( |$)");element.className=element.className.replace(re," ").replace(/^\s+|\s+$/g,"")};qq.setText=function(element,text){element.innerText=text;element.textContent=text};qq.children=function(element){for(var children=[],child=element.firstChild;child;)child.nodeType==1&&children.push(child),child=child.nextSibling;return children};qq.getByClass=function(element,className){var i;if(element.querySelectorAll)return element.querySelectorAll("."+className);var result=[],candidates=element.getElementsByTagName("*"),len=candidates.length;for(i=0;i<len;i++)qq.hasClass(candidates[i],className)&&result.push(candidates[i]);return result};qq.obj2url=function(obj,temp,prefixDone){var uristrings=[],prefix="&",add=function(nextObj,i){var nextTemp=temp?/\[\]$/.test(temp)?temp:temp+"["+i+"]":i;nextTemp!="undefined"&&i!="undefined"&&uristrings.push(typeof nextObj=="object"?qq.obj2url(nextObj,nextTemp,!0):Object.prototype.toString.call(nextObj)==="[object Function]"?encodeURIComponent(nextTemp)+"="+encodeURIComponent(nextObj()):encodeURIComponent(nextTemp)+"="+encodeURIComponent(nextObj))},len,i;if(!prefixDone&&temp)prefix=/\?/.test(temp)?/\?$/.test(temp)?"":"&":"?",uristrings.push(temp),uristrings.push(qq.obj2url(obj));else if(Object.prototype.toString.call(obj)==="[object Array]"&&typeof obj!="undefined")for(i=0,len=obj.length;i<len;++i)add(obj[i],i);else if(typeof obj!="undefined"&&obj!==null&&typeof obj=="object")for(i in obj)add(obj[i],i);else uristrings.push(encodeURIComponent(temp)+"="+encodeURIComponent(obj));return uristrings.join(prefix).replace(/^&/,"").replace(/%20/g,"+")};qq=qq||{};qq.FileUploaderBasic=function(o){this._options={buttonName:"Upload a file",iconCss:"",debug:!1,action:"/server/upload",params:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(id,fileName){},onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,responseJSON){},onCancel:function(id,fileName){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(message){alert(message)}};qq.extend(this._options,o);this._filesInProgress=0;this._handler=this._createUploadHandler();this._options.button&&(this._button=this._createUploadButton(this._options.button));this._preventLeaveInProgress()};qq.FileUploaderBasic.prototype={setParams:function(params){this._options.params=params},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(element){var self=this;return new qq.UploadButton({element:element,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(input){self._onInputChange(input)}})},_createUploadHandler:function(){var self=this,handlerClass;return handlerClass=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm",handlerClass="UploadHandlerForm",new qq[handlerClass]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function(id,fileName,loaded,total){self._onProgress(id,fileName,loaded,total);self._options.onProgress(id,fileName,loaded,total)},onComplete:function(id,fileName,result){self._onComplete(id,fileName,result);self._options.onComplete(id,fileName,result)},onCancel:function(id,fileName){self._onCancel(id,fileName);self._options.onCancel(id,fileName)}})},_preventLeaveInProgress:function(detach){var self=this,_leaveFunction=function(e){if(self._filesInProgress){var e=e||window.event;return e.returnValue=self._options.messages.onLeave,self._options.messages.onLeave}};detach?qq.detach(window,"beforeunload",_leaveFunction):qq.attach(window,"beforeunload",_leaveFunction)},_onSubmit:function(id,fileName){this._filesInProgress++},_onProgress:function(id,fileName,loaded,total){},_onComplete:function(id,fileName,result){this._filesInProgress--;result.error&&this._options.showMessage(result.error)},_onCancel:function(id,fileName){this._filesInProgress--},_onInputChange:function(input){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(input.files):this._validateFile(input)&&this._uploadFile(input);this._button.reset()},_uploadFileList:function(files){for(var i=0;i<files.length;i++)if(!this._validateFile(files[i]))return;for(i=0;i<files.length;i++)this._uploadFile(files[i])},_uploadFile:function(fileContainer){var id=this._handler.add(fileContainer),fileName=this._handler.getName(id);this._options.onSubmit(id,fileName)!==!1&&(this._onSubmit(id,fileName),this._handler.upload(id,this._options.params))},_validateFile:function(file){var name,size;if(file.value?name=file.value.replace(/.*(\/|\\)/,""):(name=file.fileName!=null?file.fileName:file.name,size=file.fileSize!=null?file.fileSize:file.size),this._isAllowedExtension(name)){if(size===0)return this._error("emptyError",name),!1;else if(size&&this._options.sizeLimit&&size>this._options.sizeLimit)return this._error("sizeError",name),!1;else if(size&&size<this._options.minSizeLimit)return this._error("minSizeError",name),!1}else return this._error("typeError",name),!1;return!0},_error:function(code,fileName){function r(name,replacement){message=message.replace(name,replacement)}var message=this._options.messages[code];r("{file}",this._formatFileName(fileName));r("{extensions}",this._options.allowedExtensions.join(", "));r("{sizeLimit}",this._formatSize(this._options.sizeLimit));r("{minSizeLimit}",this._formatSize(this._options.minSizeLimit));this._options.showMessage(message)},_formatFileName:function(name){return name.length>33&&(name=name.slice(0,19)+"..."+name.slice(-13)),name},_isAllowedExtension:function(fileName){var ext=-1!==fileName.indexOf(".")?fileName.replace(/.*[.]/,"").toLowerCase():"",allowed=this._options.allowedExtensions,i;if(!allowed.length)return!0;for(i=0;i<allowed.length;i++)if(allowed[i].toLowerCase()==ext)return!0;return!1},_formatSize:function(bytes){var i=-1;do bytes=bytes/1024,i++;while(bytes>99);return Math.max(bytes,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][i]}};qq.FileUploader=function(o){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload<\/span><\/div><div class="qq-upload-button"><div class="qq-upload-button-text">'+this._options.buttonName+'<\/div><\/div><ul class="qq-upload-list"><\/ul><\/div>',fileTemplate:'<li><span class="qq-upload-file"><\/span><span class="qq-upload-spinner"><\/span><span class="qq-upload-size"><\/span><a class="qq-upload-cancel" href="#">Cancel<\/a><span class="qq-upload-failed-text">Failed<\/span><\/li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}});qq.extend(this._options,o);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,"button"));this._bindCancelEvent();this._setupDragDrop()};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function(parent,type){var element=qq.getByClass(parent,this._options.classes[type])[0];if(!element)throw new Error("element not found "+type);return element},_setupDragDrop:function(){var self=this,dropArea=this._find(this._element,"drop"),dz=new qq.UploadDropZone({element:dropArea,onEnter:function(e){qq.addClass(dropArea,self._classes.dropActive);e.stopPropagation()},onLeave:function(e){e.stopPropagation()},onLeaveNotDescendants:function(e){qq.removeClass(dropArea,self._classes.dropActive)},onDrop:function(e){dropArea.style.display="none";qq.removeClass(dropArea,self._classes.dropActive);self._uploadFileList(e.dataTransfer.files)}});dropArea.style.display="none";qq.attach(document,"dragenter",function(e){dz._isValidFileDrag(e)&&(dropArea.style.display="block")});qq.attach(document,"dragleave",function(e){if(dz._isValidFileDrag(e)){var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);relatedTarget&&relatedTarget.nodeName!="HTML"||(dropArea.style.display="none")}})},_onSubmit:function(id,fileName){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(id,fileName)},_onProgress:function(id,fileName,loaded,total){var item,size,text;qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);item=this._getItemByFileId(id);size=this._find(item,"size");size.style.display="inline";text=loaded!=total?Math.round(loaded/total*100)+"% from "+this._formatSize(total):this._formatSize(total);qq.setText(size,text)},_onComplete:function(id,fileName,result){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var item=this._getItemByFileId(id);qq.remove(this._find(item,"cancel"));qq.remove(this._find(item,"spinner"));result.success?qq.addClass(item,this._classes.success):qq.addClass(item,this._classes.fail)},_addToList:function(id,fileName){var item=qq.toElement(this._options.fileTemplate),fileElement;item.qqFileId=id;fileElement=this._find(item,"file");qq.setText(fileElement,this._formatFileName(fileName));this._find(item,"size").style.display="none";this._listElement.lastChild&&this._listElement.removeChild(this._listElement.lastChild);this._listElement.appendChild(item)},_getItemByFileId:function(id){for(var item=this._listElement.firstChild;item;){if(item.qqFileId==id)return item;item=item.nextSibling}},_bindCancelEvent:function(){var self=this,list=this._listElement;qq.attach(list,"click",function(e){var target,item;e=e||window.event;target=e.target||e.srcElement;qq.hasClass(target,self._classes.cancel)&&(qq.preventDefault(e),item=target.parentNode,self._handler.cancel(item.qqFileId),qq.remove(item))})}});qq.UploadDropZone=function(o){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}};qq.extend(this._options,o);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};qq.UploadDropZone.prototype={_disableDropOutside:function(e){qq.UploadDropZone.dropOutsideDisabled||(qq.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var self=this;qq.attach(self._element,"dragover",function(e){if(self._isValidFileDrag(e)){var effect=e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect=effect=="move"||effect=="linkMove"?"move":"copy";e.stopPropagation();e.preventDefault()}});qq.attach(self._element,"dragenter",function(e){if(self._isValidFileDrag(e))self._options.onEnter(e)});qq.attach(self._element,"dragleave",function(e){if(self._isValidFileDrag(e)){self._options.onLeave(e);var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(!qq.contains(this,relatedTarget))self._options.onLeaveNotDescendants(e)}});qq.attach(self._element,"drop",function(e){if(self._isValidFileDrag(e)){e.preventDefault();self._options.onDrop(e)}})},_isValidFileDrag:function(e){var dt=e.dataTransfer,isWebkit=navigator.userAgent.indexOf("AppleWebKit")>-1,result;try{result=dt&&dt.effectAllowed!="none"&&(dt.files||!isWebkit&&dt.types.contains&&dt.types.contains("Files"))}catch(err){}return result}};qq.UploadButton=function(o){this._options={element:null,multiple:!1,name:"file",onChange:function(input){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,o);this._element=this._options.element;qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input);qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function(){var input=document.createElement("input"),self;return this._options.multiple&&input.setAttribute("multiple","multiple"),input.setAttribute("tabindex","-1"),input.setAttribute("type","file"),input.setAttribute("name",this._options.name),qq.css(input,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(input),self=this,qq.attach(input,"change",function(){self._options.onChange(input)}),qq.attach(input,"mouseover",function(){qq.addClass(self._element,self._options.hoverClass)}),qq.attach(input,"mouseout",function(){qq.removeClass(self._element,self._options.hoverClass)}),qq.attach(input,"focus",function(){qq.addClass(self._element,self._options.focusClass)}),qq.attach(input,"blur",function(){qq.removeClass(self._element,self._options.focusClass)}),window.attachEvent&&input.setAttribute("tabIndex","-1"),input}};qq.UploadHandlerAbstract=function(o){this._options={debug:!1,action:"/upload.php",maxConnections:999,onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,response){},onCancel:function(id,fileName){}};qq.extend(this._options,o);this._queue=[];this._params=[]};qq.UploadHandlerAbstract.prototype={log:function(str){this._options.debug&&window.console&&console.log("[uploader] "+str)},add:function(file){},upload:function(id,params){var len=this._queue.push(id),copy={};qq.extend(copy,params);this._params[id]=copy;len<=this._options.maxConnections&&this._upload(id,this._params[id])},cancel:function(id){this._cancel(id);this._dequeue(id)},cancelAll:function(){for(var i=0;i<this._queue.length;i++)this._cancel(this._queue[i]);this._queue=[]},getName:function(id){},getSize:function(id){},getQueue:function(){return this._queue},_upload:function(id){},_cancel:function(id){},_dequeue:function(id){var i=qq.indexOf(this._queue,id),max,nextId;this._queue.splice(i,1);max=this._options.maxConnections;this._queue.length>=max&&i<max&&(nextId=this._queue[max-1],this._upload(nextId,this._params[nextId]))}};qq.UploadHandlerForm=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function(fileInput){fileInput.setAttribute("name","qqfile");var id="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[id]=fileInput,fileInput.parentNode&&qq.remove(fileInput),id},getName:function(id){return this._inputs[id].value.replace(/.*(\/|\\)/,"")},_cancel:function(id){this._options.onCancel(id,this.getName(id));delete this._inputs[id];var iframe=document.getElementById(id);iframe&&(iframe.setAttribute("src","javascript:false;"),qq.remove(iframe))},_upload:function(id,params){var input=this._inputs[id],self;if(!input)throw new Error("file with passed id was not added, or already uploaded or cancelled");var fileName=this.getName(id),iframe=this._createIframe(id),form=this._createForm(iframe,params);return form.appendChild(input),self=this,this._attachLoadEvent(iframe,function(){self.log("iframe loaded");var response=self._getIframeContentJSON(iframe);self._options.onComplete(id,fileName,response);self._dequeue(id);delete self._inputs[id];setTimeout(function(){qq.remove(iframe)},1)}),form.submit(),qq.remove(form),id},_attachLoadEvent:function(iframe,callback){qq.attach(iframe,"load",function(){iframe.parentNode&&(iframe.contentDocument&&iframe.contentDocument.body&&iframe.contentDocument.body.innerHTML=="false"||callback())})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(err){response={};try{iframe.contentWindow.document.title=="Maximum request length exceeded."&&(response.message="Maximum allowed image size exceeded.")}catch(err2){response.message="Sorry, there was some unexpected error."}}return response},_createIframe:function(id){var iframe=qq.toElement('<iframe src="javascript:false;" name="'+id+'" />');return iframe.setAttribute("id",id),iframe.style.display="none",document.body.appendChild(iframe),iframe},_createForm:function(iframe,params){var form=qq.toElement('<form method="post" enctype="multipart/form-data"><\/form>'),queryString=qq.obj2url(params,this._options.action);return form.setAttribute("action",queryString),form.setAttribute("target",iframe.name),form.style.display="none",document.body.appendChild(form),form}});qq.UploadHandlerXhr=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var input=document.createElement("input");return input.type="file","multiple"in input&&typeof File!="undefined"&&typeof(new XMLHttpRequest).upload!="undefined"};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerXhr.prototype,{add:function(file){if(!(file instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(file)-1},getName:function(id){var file=this._files[id];return file.fileName!=null?file.fileName:file.name},getSize:function(id){var file=this._files[id];return file.fileSize!=null?file.fileSize:file.size},getLoaded:function(id){return this._loaded[id]||0},_upload:function(id,params){var file=this._files[id],name=this.getName(id),size=this.getSize(id),xhr,self,queryString;this._loaded[id]=0;xhr=this._xhrs[id]=new XMLHttpRequest;self=this;xhr.upload.onprogress=function(e){if(e.lengthComputable){self._loaded[id]=e.loaded;self._options.onProgress(id,name,e.loaded,e.total)}};xhr.onreadystatechange=function(){xhr.readyState==4&&self._onComplete(id,xhr)};params=params||{};params.qqfile=name;queryString=qq.obj2url(params,this._options.action);xhr.open("POST",queryString,!0);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-File-Name",encodeURIComponent(name));xhr.setRequestHeader("Content-Type","application/octet-stream");xhr.send(file)},_onComplete:function(id,xhr){var name,size,response;if(this._files[id]){name=this.getName(id);size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);try{response=eval("("+xhr.responseText+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else this._options.onComplete(id,name,{});this._files[id]=null;this._xhrs[id]=null;this._dequeue(id)}},_cancel:function(id){this._options.onCancel(id,this.getName(id));this._files[id]=null;this._xhrs[id]&&(this._xhrs[id].abort(),this._xhrs[id]=null)}});qq&&qq.FileUploaderBasic&&(originalComplete=qq.FileUploaderBasic.prototype._onComplete,qq.FileUploaderBasic.prototype._onComplete=function(id,fileName,result){originalComplete(id,fileName,result);$&&$.isEmptyObject(result)&&LSHelper&&LSHelper.Account&&(qq.FileUploaderBasic.prototype._preventLeaveInProgress(!0),LSHelper.Account.popUpSignIn({signInMessage:"Your session has timed out. Please sign in and try again."}))});
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)})(function($){function raw(s){return s}function decoded(s){var result=s;try{result=decodeURIComponent(s.replace(pluses," "))}catch(ex){}return result}function converted(s){s.indexOf('"')===0&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return config.json?JSON.parse(s):s}catch(er){}}var pluses=/\+/g,config=$.cookie=function(key,value,options){var days,t,i,l;if(value!==undefined)return options=$.extend({},config.defaults,options),typeof options.expires=="number"&&(days=options.expires,t=options.expires=new Date,t.setDate(t.getDate()+days)),value=config.json?JSON.stringify(value):String(value),document.cookie=[config.raw?key:encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("");var decode=config.raw?raw:decoded,cookies=document.cookie.split("; "),result=key?undefined:{};for(i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=decode(parts.join("="));if(key&&key===name){result=converted(cookie);break}key||(result[name]=converted(cookie))}return result};config.defaults={};$.removeCookie=function(key,options){return $.cookie(key)!==undefined?($.cookie(key,"",$.extend({},options,{expires:-1})),!0):!1}}),function($,window,document,undefined){function Plugin(element,options){this.element=element;this.options=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init()}function is_touch_device(){return!!("ontouchstart"in window)}function supportsTransitions(){var b=document.body||document.documentElement,s=b.style,p="transition",i;if(typeof s[p]=="string")return!0;for(v=["Moz","Webkit","Khtml","O","ms"],p=p.charAt(0).toUpperCase()+p.substr(1),i=0;i<v.length;i++)if(typeof s[v[i]+p]=="string")return!0;return!1}var pluginName="tooltipster",defaults={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(origin,continueTooltip){continueTooltip()},functionReady:function(origin,tooltip){},functionAfter:function(origin){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},transitionSupport=!0,touchDevice;supportsTransitions()||(transitionSupport=!1);touchDevice=is_touch_device();$(window).on("mousemove.tooltipster",function(){touchDevice=!1;$(window).off("mousemove.tooltipster")});Plugin.prototype={init:function(){var $this=$(this.element),object=this,run=!0,transferContent,theme,icon,tooltipsterContent;if(object.options.touchDevices==!1&&touchDevice&&(run=!1),document.all&&!document.querySelector&&(run=!1),run==!0)if((this.options.iconDesktop==!0&&!touchDevice||this.options.iconTouch==!0&&touchDevice)&&(transferContent=$this.attr("title"),$this.removeAttr("title"),theme=object.options.iconTheme,icon=$('<span class="'+theme.replace(".","")+'" title="'+transferContent+'">'+this.options.icon+"<\/span>"),icon.insertAfter($this),$this.data("tooltipsterIcon",icon),$this=icon),tooltipsterContent=$.trim(object.options.content).length>0?object.options.content:$this.attr("title"),$this.data("tooltipsterContent",tooltipsterContent),$this.removeAttr("title"),this.options.touchDevices==!0&&touchDevice&&(this.options.trigger=="click"||this.options.trigger=="hover"))$this.bind("touchstart",function(element,options){object.showTooltip()});else{if(this.options.trigger=="hover"){$this.on("mouseenter.tooltipster",function(){object.showTooltip()});if(this.options.interactive==!0)$this.on("mouseleave.tooltipster",function(){var tooltipster=$this.data("tooltipster"),keepAlive=!1,tolerance;tooltipster!==undefined&&tooltipster!==""?(tooltipster.mouseenter(function(){keepAlive=!0}),tooltipster.mouseleave(function(){keepAlive=!1}),tolerance=setTimeout(function(){keepAlive==!0?tooltipster.mouseleave(function(){object.hideTooltip()}):object.hideTooltip()},object.options.interactiveTolerance)):object.hideTooltip()});else $this.on("mouseleave.tooltipster",function(){object.hideTooltip()})}if(this.options.trigger=="click")$this.on("click.tooltipster",function(){$this.data("tooltipster")==""||$this.data("tooltipster")==undefined?object.showTooltip():object.hideTooltip()})}},showTooltip:function(options){var $this=$(this.element),object=this;$this.data("tooltipsterIcon")!==undefined&&($this=$this.data("tooltipsterIcon"));$this.hasClass("tooltipster-disable")||($(".tooltipster-base").not(".tooltipster-dying").length>0&&object.options.onlyOne==!0&&$(".tooltipster-base").not(".tooltipster-dying").not($this.data("tooltipster")).each(function(){$(this).addClass("tooltipster-kill");var origin=$(this).data("origin");origin.data("plugin_tooltipster").hideTooltip()}),$this.clearQueue().delay(object.options.delay).queue(function(){object.options.functionBefore($this,function(){var tooltipster,animation,currentTooltipContent,contentUpdateChecker,timer;if($this.data("tooltipster")!==undefined&&$this.data("tooltipster")!=="")tooltipster=$this.data("tooltipster"),tooltipster.hasClass("tooltipster-kill")||(animation="tooltipster-"+object.options.animation,tooltipster.removeClass("tooltipster-dying"),transitionSupport==!0&&tooltipster.clearQueue().addClass(animation+"-show"),object.options.timer>0&&(timer=tooltipster.data("tooltipsterTimer"),clearTimeout(timer),timer=setTimeout(function(){tooltipster.data("tooltipsterTimer",undefined);object.hideTooltip()},object.options.timer),tooltipster.data("tooltipsterTimer",timer)),object.options.touchDevices==!0&&touchDevice&&$("body").bind("touchstart",function(event){if(object.options.interactive==!0){var touchTarget=$(event.target),closeTooltip=!0;touchTarget.parents().each(function(){$(this).hasClass("tooltipster-base")&&(closeTooltip=!1)});closeTooltip==!0&&(object.hideTooltip(),$("body").unbind("touchstart"))}else object.hideTooltip(),$("body").unbind("touchstart")}));else{$("body").css("overflow-x","hidden");var content=$this.data("tooltipsterContent"),theme=object.options.theme,themeClass=theme.replace(".",""),animation="tooltipster-"+object.options.animation,animationSpeed="-webkit-transition-duration: "+object.options.speed+"ms; -webkit-animation-duration: "+object.options.speed+"ms; -moz-transition-duration: "+object.options.speed+"ms; -moz-animation-duration: "+object.options.speed+"ms; -o-transition-duration: "+object.options.speed+"ms; -o-animation-duration: "+object.options.speed+"ms; -ms-transition-duration: "+object.options.speed+"ms; -ms-animation-duration: "+object.options.speed+"ms; transition-duration: "+object.options.speed+"ms; animation-duration: "+object.options.speed+"ms;",fixedWidth=object.options.fixedWidth>0?"width:"+object.options.fixedWidth+"px;":"",maxWidth=object.options.maxWidth>0?"max-width:"+object.options.maxWidth+"px;":"",pointerEvents=object.options.interactive==!0?"pointer-events: auto;":"",tooltipster=$('<div class="tooltipster-base '+themeClass+" "+animation+'" style="'+fixedWidth+" "+maxWidth+" "+pointerEvents+" "+animationSpeed+'"><\/div>'),tooltipsterHTML=$('<div class="tooltipster-content"><\/div>');tooltipsterHTML.html(content);tooltipster.append(tooltipsterHTML);tooltipster.appendTo("body");$this.data("tooltipster",tooltipster);tooltipster.data("origin",$this);object.positionTooltip();object.options.functionReady($this,tooltipster);transitionSupport==!0?tooltipster.addClass(animation+"-show"):tooltipster.css("display","none").removeClass(animation).fadeIn(object.options.speed);currentTooltipContent=content;contentUpdateChecker=setInterval(function(){var newTooltipContent=$this.data("tooltipsterContent");$("body").find($this).length==0?(tooltipster.addClass("tooltipster-dying"),object.hideTooltip()):currentTooltipContent!==newTooltipContent&&newTooltipContent!==""&&(currentTooltipContent=newTooltipContent,tooltipster.find(".tooltipster-content").html(newTooltipContent),object.options.updateAnimation==!0&&(supportsTransitions()?(tooltipster.css({width:"","-webkit-transition":"all "+object.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+object.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+object.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+object.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+object.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){tooltipster.removeClass("tooltipster-content-changing");setTimeout(function(){tooltipster.css({"-webkit-transition":object.options.speed+"ms","-moz-transition":object.options.speed+"ms","-o-transition":object.options.speed+"ms","-ms-transition":object.options.speed+"ms",transition:object.options.speed+"ms"})},object.options.speed)},object.options.speed)):tooltipster.fadeTo(object.options.speed,.5,function(){tooltipster.fadeTo(object.options.speed,1)})),object.positionTooltip());($("body").find(tooltipster).length==0||$("body").find($this).length==0)&&clearInterval(contentUpdateChecker)},200);object.options.timer>0&&(timer=setTimeout(function(){tooltipster.data("tooltipsterTimer",undefined);object.hideTooltip()},object.options.timer+object.options.speed),tooltipster.data("tooltipsterTimer",timer));object.options.touchDevices==!0&&touchDevice&&$("body").bind("touchstart",function(event){if(object.options.interactive==!0){var touchTarget=$(event.target),closeTooltip=!0;touchTarget.parents().each(function(){$(this).hasClass("tooltipster-base")&&(closeTooltip=!1)});closeTooltip==!0&&(object.hideTooltip(),$("body").unbind("touchstart"))}else object.hideTooltip(),$("body").unbind("touchstart")});tooltipster.mouseleave(function(){object.hideTooltip()})}});$this.dequeue()}))},hideTooltip:function(options){var $this=$(this.element),object=this,tooltipster,timer,animation;$this.data("tooltipsterIcon")!==undefined&&($this=$this.data("tooltipsterIcon"));tooltipster=$this.data("tooltipster");tooltipster==undefined&&(tooltipster=$(".tooltipster-dying"));$this.clearQueue();tooltipster!==undefined&&tooltipster!==""&&(timer=tooltipster.data("tooltipsterTimer"),timer!==undefined&&clearTimeout(timer),animation="tooltipster-"+object.options.animation,transitionSupport==!0?tooltipster.clearQueue().removeClass(animation+"-show").addClass("tooltipster-dying").delay(object.options.speed).queue(function(){tooltipster.remove();$this.data("tooltipster","");$("body").css("verflow-x","");object.options.functionAfter($this)}):tooltipster.clearQueue().addClass("tooltipster-dying").fadeOut(object.options.speed,function(){tooltipster.remove();$this.data("tooltipster","");$("body").css("verflow-x","");object.options.functionAfter($this)}))},positionTooltip:function(options){var $this=$(this.element),object=this,tooltipster,areaNumber,leftDifference,topDifference,borderWidth,newWidth,arrowClass,arrowColor,arrowReposition,tooltipBorderWidth,tooltipBorderColor,arrowBorder,arrowBorderSize,arrowBorderColor;if($this.data("tooltipsterIcon")!==undefined&&($this=$this.data("tooltipsterIcon")),$this.data("tooltipster")!==undefined&&$this.data("tooltipster")!==""){tooltipster=$this.data("tooltipster");tooltipster.css("width","");var windowWidth=$(window).width(),containerWidth=$this.outerWidth(!1),containerHeight=$this.outerHeight(!1),tooltipWidth=tooltipster.outerWidth(!1),tooltipInnerWidth=tooltipster.innerWidth()+1,tooltipHeight=tooltipster.outerHeight(!1),offset=$this.offset(),offsetTop=offset.top,offsetLeft=offset.left,resetPosition=undefined;if($this.is("area")){var areaShape=$this.attr("shape"),mapName=$this.parent().attr("name"),map=$('img[usemap="#'+mapName+'"]'),mapOffsetLeft=map.offset().left,mapOffsetTop=map.offset().top,areaMeasurements=$this.attr("coords")!==undefined?$this.attr("coords").split(","):undefined;if(areaShape=="circle"){var areaLeft=parseInt(areaMeasurements[0]),areaTop=parseInt(areaMeasurements[1]),areaWidth=parseInt(areaMeasurements[2]);containerHeight=areaWidth*2;containerWidth=areaWidth*2;offsetTop=mapOffsetTop+areaTop-areaWidth;offsetLeft=mapOffsetLeft+areaLeft-areaWidth}else if(areaShape=="rect"){var areaLeft=parseInt(areaMeasurements[0]),areaTop=parseInt(areaMeasurements[1]),areaRight=parseInt(areaMeasurements[2]),areaBottom=parseInt(areaMeasurements[3]);containerHeight=areaBottom-areaTop;containerWidth=areaRight-areaLeft;offsetTop=mapOffsetTop+areaTop;offsetLeft=mapOffsetLeft+areaLeft}else if(areaShape=="poly"){var areaXs=[],areaYs=[],areaSmallestX=0,areaSmallestY=0,areaGreatestX=0,areaGreatestY=0,arrayAlternate="even";for(i=0;i<areaMeasurements.length;i++)areaNumber=parseInt(areaMeasurements[i]),arrayAlternate=="even"?(areaNumber>areaGreatestX&&(areaGreatestX=areaNumber,i==0&&(areaSmallestX=areaGreatestX)),areaNumber<areaSmallestX&&(areaSmallestX=areaNumber),arrayAlternate="odd"):(areaNumber>areaGreatestY&&(areaGreatestY=areaNumber,i==1&&(areaSmallestY=areaGreatestY)),areaNumber<areaSmallestY&&(areaSmallestY=areaNumber),arrayAlternate="even");containerHeight=areaGreatestY-areaSmallestY;containerWidth=areaGreatestX-areaSmallestX;offsetTop=mapOffsetTop+areaSmallestY;offsetLeft=mapOffsetLeft+areaSmallestX}else containerHeight=map.outerHeight(!1),containerWidth=map.outerWidth(!1),offsetTop=mapOffsetTop,offsetLeft=mapOffsetLeft}object.options.fixedWidth==0&&tooltipster.css({width:tooltipInnerWidth+"px","padding-left":"0px","padding-right":"0px"});var myLeft=0,myTop=0,offsetY=parseInt(object.options.offsetY),offsetX=parseInt(object.options.offsetX),arrowConstruct="";function dontGoOffScreenX(){var windowLeft=$(window).scrollLeft(),arrowReposition;myLeft-windowLeft<0&&(arrowReposition=myLeft-windowLeft,myLeft=windowLeft,tooltipster.data("arrow-reposition",arrowReposition));myLeft+tooltipWidth-windowLeft>windowWidth&&(arrowReposition=myLeft-(windowWidth+windowLeft-tooltipWidth),myLeft=windowWidth+windowLeft-tooltipWidth,tooltipster.data("arrow-reposition",arrowReposition))}function dontGoOffScreenY(switchTo,resetTo){offsetTop-$(window).scrollTop()-tooltipHeight-offsetY-12<0&&resetTo.indexOf("top")>-1&&(object.options.position=switchTo,resetPosition=resetTo);offsetTop+containerHeight+tooltipHeight+12+offsetY>$(window).scrollTop()+$(window).height()&&resetTo.indexOf("bottom")>-1&&(object.options.position=switchTo,resetPosition=resetTo,myTop=offsetTop-tooltipHeight-offsetY-12)}object.options.position=="top"&&(leftDifference=offsetLeft+tooltipWidth-(offsetLeft+containerWidth),myLeft=offsetLeft+offsetX-leftDifference/2,myTop=offsetTop-tooltipHeight-offsetY-12,dontGoOffScreenX(),dontGoOffScreenY("bottom","top"));object.options.position=="top-left"&&(myLeft=offsetLeft+offsetX,myTop=offsetTop-tooltipHeight-offsetY-12,dontGoOffScreenX(),dontGoOffScreenY("bottom-left","top-left"));object.options.position=="top-right"&&(myLeft=offsetLeft+containerWidth+offsetX-tooltipWidth,myTop=offsetTop-tooltipHeight-offsetY-12,dontGoOffScreenX(),dontGoOffScreenY("bottom-right","top-right"));object.options.position=="bottom"&&(leftDifference=offsetLeft+tooltipWidth-(offsetLeft+containerWidth),myLeft=offsetLeft-leftDifference/2+offsetX,myTop=offsetTop+containerHeight+offsetY+12,dontGoOffScreenX(),dontGoOffScreenY("top","bottom"));object.options.position=="bottom-left"&&(myLeft=offsetLeft+offsetX,myTop=offsetTop+containerHeight+offsetY+12,dontGoOffScreenX(),dontGoOffScreenY("top-left","bottom-left"));object.options.position=="bottom-right"&&(myLeft=offsetLeft+containerWidth+offsetX-tooltipWidth,myTop=offsetTop+containerHeight+offsetY+12,dontGoOffScreenX(),dontGoOffScreenY("top-right","bottom-right"));object.options.position=="left"&&(myLeft=offsetLeft-offsetX-tooltipWidth-12,myLeftMirror=offsetLeft+offsetX+containerWidth+12,topDifference=offsetTop+tooltipHeight-(offsetTop+$this.outerHeight(!1)),myTop=offsetTop-topDifference/2-offsetY,myLeft<0&&myLeftMirror+tooltipWidth>windowWidth?(borderWidth=parseFloat(tooltipster.css("border-width"))*2,newWidth=tooltipWidth+myLeft-borderWidth,tooltipster.css("width",newWidth+"px"),tooltipHeight=tooltipster.outerHeight(!1),myLeft=offsetLeft-offsetX-newWidth-12-borderWidth,topDifference=offsetTop+tooltipHeight-(offsetTop+$this.outerHeight(!1)),myTop=offsetTop-topDifference/2-offsetY):myLeft<0&&(myLeft=offsetLeft+offsetX+containerWidth+12,tooltipster.data("arrow-reposition","left")));object.options.position=="right"&&(myLeft=offsetLeft+offsetX+containerWidth+12,myLeftMirror=offsetLeft-offsetX-tooltipWidth-12,topDifference=offsetTop+tooltipHeight-(offsetTop+$this.outerHeight(!1)),myTop=offsetTop-topDifference/2-offsetY,myLeft+tooltipWidth>windowWidth&&myLeftMirror<0?(borderWidth=parseFloat(tooltipster.css("border-width"))*2,newWidth=windowWidth-myLeft-borderWidth,tooltipster.css("width",newWidth+"px"),tooltipHeight=tooltipster.outerHeight(!1),topDifference=offsetTop+tooltipHeight-(offsetTop+$this.outerHeight(!1)),myTop=offsetTop-topDifference/2-offsetY):myLeft+tooltipWidth>windowWidth&&(myLeft=offsetLeft-offsetX-tooltipWidth-12,tooltipster.data("arrow-reposition","right")));object.options.arrow==!0&&(arrowClass="tooltipster-arrow-"+object.options.position,arrowColor=object.options.arrowColor.length<1?tooltipster.css("background-color"):object.options.arrowColor,arrowReposition=tooltipster.data("arrow-reposition"),arrowReposition?arrowReposition=="left"?(arrowClass="tooltipster-arrow-right",arrowReposition=""):arrowReposition=="right"?(arrowClass="tooltipster-arrow-left",arrowReposition=""):arrowReposition="left:"+arrowReposition+"px;":arrowReposition="",object.options.position=="top"||object.options.position=="top-left"||object.options.position=="top-right"?(tooltipBorderWidth=parseFloat(tooltipster.css("border-bottom-width")),tooltipBorderColor=tooltipster.css("border-bottom-color")):object.options.position=="bottom"||object.options.position=="bottom-left"||object.options.position=="bottom-right"?(tooltipBorderWidth=parseFloat(tooltipster.css("border-top-width")),tooltipBorderColor=tooltipster.css("border-top-color")):object.options.position=="left"?(tooltipBorderWidth=parseFloat(tooltipster.css("border-right-width")),tooltipBorderColor=tooltipster.css("border-right-color")):object.options.position=="right"?(tooltipBorderWidth=parseFloat(tooltipster.css("border-left-width")),tooltipBorderColor=tooltipster.css("border-left-color")):(tooltipBorderWidth=parseFloat(tooltipster.css("border-bottom-width")),tooltipBorderColor=tooltipster.css("border-bottom-color")),tooltipBorderWidth>1&&tooltipBorderWidth++,arrowBorder="",tooltipBorderWidth!==0&&(arrowBorderSize="",arrowBorderColor="border-color: "+tooltipBorderColor+";",arrowClass.indexOf("bottom")!==-1?arrowBorderSize="margin-top: -"+tooltipBorderWidth+"px;":arrowClass.indexOf("top")!==-1?arrowBorderSize="margin-bottom: -"+tooltipBorderWidth+"px;":arrowClass.indexOf("left")!==-1?arrowBorderSize="margin-right: -"+tooltipBorderWidth+"px;":arrowClass.indexOf("right")!==-1&&(arrowBorderSize="margin-left: -"+tooltipBorderWidth+"px;"),arrowBorder='<span class="tooltipster-arrow-border" style="'+arrowBorderSize+" "+arrowBorderColor+';"><\/span>'),tooltipster.find(".tooltipster-arrow").remove(),arrowConstruct='<div class="'+arrowClass+' tooltipster-arrow" style="'+arrowReposition+'">'+arrowBorder+'<span style="border-color:'+arrowColor+';"><\/span><\/div>',tooltipster.append(arrowConstruct));tooltipster.css({top:myTop+"px",left:myLeft+"px"});resetPosition!==undefined&&(object.options.position=resetPosition)}}};$.fn[pluginName]=function(options){var $t,newContent,query;return typeof options=="string"?($t=this,newContent=arguments[1],$t.data("plugin_tooltipster")==undefined&&(query=$t.find("*"),$t=$(),query.each(function(){$(this).data("plugin_tooltipster")!==undefined&&$t.push($(this))})),$t.each(function(){switch(options.toLowerCase()){case"show":$(this).data("plugin_tooltipster").showTooltip();break;case"hide":$(this).data("plugin_tooltipster").hideTooltip();break;case"disable":$(this).addClass("tooltipster-disable");break;case"enable":$(this).removeClass("tooltipster-disable");break;case"destroy":$(this).data("plugin_tooltipster").hideTooltip();$(this).data("plugin_tooltipster","").attr("title",$t.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster");break;case"update":if($(this).data("tooltipsterIcon")==undefined)$(this).data("tooltipsterContent",newContent);else{var $this=$(this).data("tooltipsterIcon");$this.data("tooltipsterContent",newContent)}break;case"reposition":$(this).data("plugin_tooltipster").positionTooltip();break}}),this):this.each(function(){var thisOptions,transferObject;$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options));thisOptions=$(this).data("plugin_tooltipster").options;(thisOptions.iconDesktop==!0&&!touchDevice||thisOptions.iconTouch==!0&&touchDevice)&&(transferObject=$(this).data("plugin_tooltipster"),$(this).next().data("plugin_tooltipster",transferObject))})};touchDevice&&window.addEventListener("orientationchange",function(){$(".tooltipster-base").length>0&&$(".tooltipster-base").each(function(){var origin=$(this).data("origin");origin.data("plugin_tooltipster").hideTooltip()})},!1);$(window).on("resize.tooltipster",function(){var origin=$(".tooltipster-base").data("origin");origin!==null&&origin!==undefined&&origin.tooltipster("reposition")});$(document).ready(function(){$.each($("[data-tooltip]"),function(i,e){var $e=$(e),text=$e.attr("data-tooltip");text.length>0&&$e.tooltipster({content:text})})})}(jQuery,window,document),function($){var initialized=!1;$.fn.jScroll=function(options,shouldScroll,bottomScrollSelector,shouldProcessFilters){function processFilters(isFixed){if($(".search-autocomplete:visible").each(function(ind,val){var tid=$(val).attr("target-id");tid&&($(val).hasClass("dropdown-autocomplete")?$(tid).autocomplete("search",""):$(tid).autocomplete("search"))}),$(".search-datepicker:visible").each(function(ind,val){var tid=$(val).attr("target-id");tid&&$(tid).datepicker("hide").datepicker("show")}),$("#workspaceScenariousDropDownContent").is(":visible")){var _offset=$("#workpsaceScenariousFilter").offset();isFixed?$("#workspaceScenariousDropDownContent").css("top",33).css("left",_offset.left):$("#workspaceScenariousDropDownContent").css("top",_offset.top+24).css("left",_offset.left)}}function location($element){this.getMargin=function($window){var min=$element.parent().offset().top,max=$element.parent().height()-$element.outerHeight(),margin=parseInt($element.css("margin-top"),10)||0;return $window.scrollTop()+opts.top>=min&&(margin=margin+opts.top+$window.scrollTop()-min),margin>max&&max>0&&(margin=max),margin};this.getBottomMargin=function($element,$bottom){var curPos=$element.position().top+$element.outerHeight();return bottomPos=$bottom.position().top,bottomPos-curPos};this.getStringMargin=function($window){return{marginTop:this.getMargin($window)+"px"}}}var opts;if(!initialized){var previousScrollHeight=document.documentElement.scrollHeight,timeout=null,jScrollDOMSubtreeModified=function(){if(timeout==null){var scrollHeight=document.documentElement.scrollHeight;timeout=setTimeout(function(){previousScrollHeight!=scrollHeight&&$(window).trigger("scroll");previousScrollHeight=scrollHeight;timeout=null},200)}};$(document).on("DOMSubtreeModified",jScrollDOMSubtreeModified);initialized=!0}return opts=$.extend({},$.fn.jScroll.defaults,options),typeof shouldScroll!="undefined"&&$.isFunction(shouldScroll)||(shouldScroll=function(){return!0}),this.each(function(){var $element=$(this),$window=$(window),locator=new location($element),hasBottom=!1,$bottom=$(bottomScrollSelector);$bottom.length>0&&(hasBottom=!0);$window.scroll(function(){var margin,bottomMargin;shouldScroll()==!0&&(opts.speed=="fixed"?(margin=locator.getMargin($window),margin>0&&!$element.hasClass("fixed-filter")?($element.addClass("fixed-filter"),$element.removeClass("bottom-filter"),$("body").addClass("fixed-filter"),shouldProcessFilters&&processFilters(!0)):margin<=0&&$element.hasClass("fixed-filter")&&($element.removeClass("fixed-filter"),$("body").removeClass("fixed-filter"),shouldProcessFilters&&processFilters()),hasBottom&&(bottomMargin=locator.getBottomMargin($element,$bottom),bottomMargin<=0&&!$element.hasClass("bottom-filter")?($element.addClass("bottom-filter"),$element.removeClass("fixed-filter")):bottomMargin>0&&$element.removeClass("bottom-filter"))):$element.stop().animate(locator.getStringMargin($window),opts.speed))})})};$.fn.jScroll.defaults={speed:"slow",top:10}}(jQuery);
/*! Copyright 2012, Ben Lin (http://dreamerslab.com/)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 1.0.13
 *
 * Requires: jQuery 1.2.3 ~ 1.8.2
 */
(function($){$.fn.extend({actual:function(method,options){var tmp,style,$hidden,actual;if(!this[method])throw'$.actual => The jQuery method "'+method+'" you called does not exist';var defaults={absolute:!0,clone:!1,includeMargin:!1},configs=$.extend(defaults,options),$target=this.eq(0),fix,restore;return configs.clone===!0?(fix=function(){var style="position: absolute !important; top: -1000 !important; ";$target=$target.clone().attr("style",style).appendTo("body")},restore=function(){$target.remove()}):(tmp=[],style="",fix=function(){$hidden=$target.parents().andSelf().filter(":hidden");style+="visibility: hidden !important; display: block !important; ";configs.absolute===!0&&(style+="position: absolute !important; ");$hidden.each(function(){var $this=$(this),tempStyle=$this.attr("style");tmp.push(tempStyle);$this.attr("style",style+tempStyle)})},restore=function(){$hidden.each(function(i){var $this=$(this),_tmp=tmp[i];_tmp===undefined?$this.removeAttr("style"):$this.attr("style",_tmp)})}),fix(),actual=/(outer)/g.test(method)?$target[method](configs.includeMargin):$target[method](),restore(),actual}})})(jQuery),function(){var boxedString=Object("a"),splitString=boxedString[0]!=="a"||!(0 in boxedString),_toString=Object.prototype.toString,isFunction=function(val){return Object.prototype.toString.call(val)==="[object Function]"},isRegex=function(val){return Object.prototype.toString.call(val)==="[object RegExp]"},isArray=function(obj){return _toString.call(obj)==="[object Array]"},isString=function(obj){return _toString.call(obj)==="[object String]"},toObject=function(o){if(o==null)throw new TypeError("can't convert "+o+" to object");return Object(o)};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in this&&this[from]===elt)return from;return-1});Array.prototype.filter||(Array.prototype.filter=function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=[],value,thisp=arguments[1],i;if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(i=0;i<length;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result});Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1],i;if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(i=0;i<length;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1});Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&isString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1],i;if(!isFunction(fun))throw new TypeError(fun+" is not a function");for(i=0;i<length;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result});String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(searchString,position){return position=position||0,this.lastIndexOf(searchString,position)===position}});String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(searchString,position){var subjectString=this.toString(),lastIndex;return(position===undefined||position>subjectString.length)&&(position=subjectString.length),position-=searchString.length,lastIndex=subjectString.indexOf(searchString,position),lastIndex!==-1&&lastIndex===position}});Array.prototype.find||(Array.prototype.find=function(predicate){var i;if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof predicate!="function")throw new TypeError("predicate must be a function");var list=Object(this),length=list.length>>>0,thisArg=arguments[1],value;for(i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return value;return undefined})}();clientside_error_count=0;window.onerror=function(msg,url,line){clientside_error_count++;clientside_error_count<=10&&window.navigator.userAgent.indexOf("Baiduspider")==-1&&jQuery.ajax({url:"/Error/LogJsError",type:"POST",async:!0,cache:!1,data:{message:"JavaScript error: "+msg+" url: "+url+" line: "+line+" error_count:"+clientside_error_count}})};window.console&&console.log||function(){for(var noop=function(){},methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],length=methods.length,console=window.console={};length--;)console[methods[length]]=noop}();jQuery.cachedScript=function(url,callback){return jQuery.ajax({dataType:"script",cache:!0,url:url,success:callback})};typeof Devign=="undefined"&&(Devign={});Devign.Sequence=function(){this.list={};this.dataList=[];this.index=-1;this.aborted=!1;this.count=0;this.finished=!1};Devign.Sequence.prototype={add:function(sequenceFunction,data){this.list["func"+this.count]=sequenceFunction;this.dataList["data"+this.count]=data;this.count++},start:function(){this.index=-1;this.aborted=!1;this.next();typeof this.onStart=="function"&&this.onStart()},end:function(){typeof this.onEnd=="function"&&this.onEnd();this.finished=!0;this.clear()},next:function(){if(!this.aborted){this.index++;var currFunction=this.list["func"+this.index];currFunction?currFunction(this,this.dataList["data"+this.index]):this.end()}},abort:function(){this.aborted=!0;this.clear()},clear:function(){this.index=-1;this.list={};this.dataList=[];this.count=0}};$.maxZIndex=$.fn.maxZIndex=function(opt){var def={inc:10,group:"*"},zmax;return($.extend(def,opt),zmax=0,$(def.group).each(function(){var cur=parseInt($(this).css("z-index"));zmax=cur>zmax?cur:zmax}),!this.jquery)?zmax:this.each(function(){zmax+=def.inc;$(this).css("z-index",zmax)})};window.LSHelper=window.LSHelper||{};LSHelper.storage=function(storage){var _self=this;this.setExpiration=function(key,date){storage&&storage.setItem(key+"-expiration",JSON.stringify(date))};this.getExpiration=function(key){return this.get(key+"-expiration")};this.set=function(key,value,expiration){if(storage){expiration&&this.setExpiration(key,expiration);try{storage.setItem(key,JSON.stringify(value))}catch(e){if(e.name==="QUOTA_EXCEEDED_ERR"||e.name==="QuotaExceededError"||e.name=="NS_ERROR_DOM_QUOTA_REACHED")storage.clear(),storage.setItem(key,JSON.stringify(value));else throw e;}}};this.get=function(key,checkExpiration){var exp,item;return storage?checkExpiration==!0&&(exp=this.getExpiration(key),exp==null||new Date(exp).getTime()-(new Date).getTime()<0)?null:(item=storage.getItem(key),item&&item.length>0?JSON.parse(item):null):null}};LSHelper.sessionStorage=new LSHelper.storage(sessionStorage);LSHelper.localStorage=new LSHelper.storage(localStorage);LSHelper.ga={getPageViewCount:function(pageName,callback){$.get("/Home/GetPageViewCount",{pageName:pageName},function(data){callback!=null&&callback(data)})},trackMonthlyRequest:function(action,label){var actionLabel="Undefined";switch(action){case 0:actionLabel="Inquire";break;case 1:actionLabel="Tour";break;case 2:actionLabel="Book";break;default:actionLabel="Undefined";break}typeof ga=="function"&&(ga("send","event",{eventCategory:"Request",eventAction:actionLabel,eventLabel:label}),typeof dataLayer=="object"&&(dataLayer.push({MonthlyRequestType:actionLabel}),dataLayer.push({event:"trackMonthlyRequestConversion"})))}};LSHelper.isFlashAvailable=function(){var hasFlash=!1,fo;try{fo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");fo&&(hasFlash=!0)}catch(e){navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!=undefined&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(hasFlash=!0)}return hasFlash};LSHelper.UI={populateStatesSelect:function($stateSelect,data){$stateSelect.empty();$.each(data,function(i,val){$stateSelect.append($('<option value="'+val+'">'+i+"<\/option>"))})},getDelimitedString:function(arr,field,delim){var res="",f;if($.isArray(arr))$.each(arr,function(i,val){res=res+val[field]+delim});else for(f in arr)arr[f]&&arr[f][field]&&(res=res+arr[f][field]+delim);return res.substr(0,res.length-delim.length)},showError:function(obj){var minwidth=400;obj.width&&(minwidth=obj.width);dialogOpt={modal:!0,minWidth:minwidth,title:obj.title,resizable:!1};LSHelper.HelperLib.showDialog({html:obj.content,predraw:!0,dialogOptions:dialogOpt,divId:"errorDialog"})},datePickerP:function(params){var extendedParams={elem:null,onSelect:null,anyDateChecked:null,anyDateText:null,btnImage:null,onClose:null,buttonText:null,cssClass:null,enableAnyDate:null,showOn:"both",minDate:null,currentDate:null,useInputMask:null,beforeShowDay:null,buttonImageOnly:!0};$.extend(extendedParams,params);LSHelper.UI.datePicker(extendedParams.elem,extendedParams.onSelect,extendedParams.anyDateChecked,extendedParams.anyDateText,extendedParams.btnImage,extendedParams.onClose,extendedParams.buttonText,extendedParams.cssClass,extendedParams.enableAnyDate,extendedParams.showOn,extendedParams.minDate,extendedParams.currentDate,extendedParams.useInputMask,extendedParams.beforeShowDay,extendedParams.buttonImageOnly)},datePicker:function(elem,onSelect,anyDateChecked,anyDateText,btnImage,onClose,buttonText,cssClass,enableAnyDate,showOn,minDate,currentDate,useInputMask,beforeShowDay,buttonImageOnly){function setDynamicDatePicker(date){var $trigger=$("#"+triggerId),pos=calculatePosition(date);$trigger.find(".dymanic-month").css("background-position",pos.month.x+"px "+pos.month.y+"px");$trigger.find(".dymanic-day").css("background-position",pos.day.x+"px "+pos.day.y+"px")}var isDynamicImage,triggerId,$elem,initialPos,$trigger;btnImage==null&&(btnImage="/Content/images/srp/calendar-icon-2.png");isDynamicImage=!1;triggerId="dtrigger-"+(new Date).getTime();btnImage=="dynamic"&&(btnImage="",isDynamicImage=!0);anyDateChecked==null&&(anyDateChecked=function(){});anyDateText==null&&(anyDateText="Anytime this week");enableAnyDate==null&&(enableAnyDate=!0);buttonImageOnly==null&&(buttonImageOnly=!0);var addAnyDateCheckbox=function(inst){setTimeout(function(){var $widget=$(inst).datepicker("widget"),buttonPane,checked;if($widget.find(".ui-corner-all").removeClass("ui-corner-all"),buttonPane=$("#"+inst.id).datepicker("widget").find(".ui-datepicker-calendar"),typeof dateText=="undefined"&&(dateText="Any Date"),checked=$("#StartTime").val()==dateText?"checked":"",enableAnyDate){buttonPane.after("<div class='hr datepicker-hr'><\/div><div class='any-date-link'>"+anyDateText+"<\/div>");buttonPane.next().next().on("click",function(){$("#"+inst.id).datepicker("hide");setDynamicDatePicker(new Date);anyDateChecked()})}},1)},adjustPane=function(inst){setTimeout(function(){var $widget=$(inst).datepicker("widget");$widget.removeClass("ui-corner-all").addClass("search-datepicker "+cssClass).attr("target-id","#"+inst.id);$widget.css("left",Math.floor(parseInt($widget.css("left")))+"px")})},calculatePosition=function(date){var dayYoffset=-66,getYoffset=function(num){return Math.floor(num/6)*-20},getXoffset=function(num){return num%6*-40},month=date.getMonth(),day=date.getDate();return{month:{x:getXoffset(month),y:getYoffset(month)},day:{x:getXoffset(day-1),y:dayYoffset+getYoffset(day-1)}}};$elem=$(elem);useInputMask&&($elem.attr("data-inputmask","'alias': 'mm/dd/yyyy'"),$elem.inputmask());$elem.datepicker({option:$.datepicker.regional["en-US"],dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"m/d/yy",showOn:showOn||"button",buttonImage:btnImage,buttonImageOnly:buttonImageOnly,buttonText:buttonText,minDate:minDate?minDate:(new Date).getUTCHours()>12?0:-1,beforeShowDay:beforeShowDay,beforeShow:function(input,inst){adjustPane(inst);addAnyDateCheckbox(inst);$(".ui-autocomplete:visible").hide();$("#workspaceScenariousDropDownContent").hide()},onSelect:function(dateText,inst){isDynamicImage&&setDynamicDatePicker(Date.fromISO(dateText));onSelect!=null&&onSelect(dateText,inst)},onChangeMonthYear:function(year,month,inst){addAnyDateCheckbox(inst)},onClose:onClose});isDynamicImage&&(initialPos=calculatePosition(currentDate||new Date),$trigger=$('<div class="ui-datepicker-trigger dymanic-trigger" id="'+triggerId+'"><div class="dymanic-month" style="background-position: '+initialPos.month.x+"px "+initialPos.month.y+'px;"><\/div><div class="dymanic-day" style="background-position: '+initialPos.day.x+"px "+initialPos.day.y+'px;"><\/div><\/div>'),$trigger.click(function(){$elem.datepicker("show")}),$elem.after($trigger))}};LSHelper.disabledEventPropagation=function(event){event.stopPropagation?event.stopPropagation():window.event&&(window.event.cancelBubble=!0)};LSHelper.InproductMessage={$notification:$("#inproductMessage"),close:function(){LSHelper.InproductMessage.$notification.hide();$.cookie("im2","close",{path:"/",expires:30})}};LSHelper.Friends={currentUserId:null,list:[],getFriends:function(requestNumber,loadVenues){var containsObject=function(obj,list){for(var i=0;i<list.length;i++)if(list[i].Email===obj.Email&&list[i].VenueId===obj.VenueId)return!0;return!1};requestNumber==undefined&&(requestNumber=0);$.ajax({async:!0,data:{requestNumber:requestNumber,totalEmailCount:LSHelper.Friends.list.length,loadVenues:loadVenues},url:"/Calendar/GetFriends",type:"POST",success:function(result){result&&result.success==!0&&(result.userId&&result.userId!=LSHelper.Friends.currentUserId&&(LSHelper.Friends.list=[],LSHelper.Friends.currentUserId=result.userId),$(result.emails).each(function(i,val){containsObject(val,LSHelper.Friends.list)||LSHelper.Friends.list.push(val)}),result.continueRequest&&(requestNumber++,LSHelper.Friends.getFriends(requestNumber)))},error:function(){}})},initAutocomplete:function(params){var targetPropertySelector=params.targetPropertySelector||"data-autocomplete-target",opts=$.extend({blockWrapperSelector:"",targetPropertySelector:targetPropertySelector,idSelector:"["+targetPropertySelector+'="Id"]',nameSelector:"["+targetPropertySelector+'="Name"]',firstNameSelector:"["+targetPropertySelector+'="FirstName"]',lastNameSelector:"["+targetPropertySelector+'="LastName"]',emailSelector:"["+targetPropertySelector+'="Email"]',companySelector:"["+targetPropertySelector+'="Company"]',phoneSelector:"["+targetPropertySelector+'="Phone"]',venueSelector:"["+targetPropertySelector+'="Venue"]',maxDisplay:10,mode:"startsWith"},params);$("["+targetPropertySelector+"]").not(".ui-autocomplete-input").each(function(i,el){var $el=$(el);$el.autocomplete({delay:0,appendTo:"body",focus:function(event,ui){$(this).val(ui.item.value);event.preventDefault()},select:function(event,ui){for(var $wrapper=opts.blockWrapperSelector?$(this).parents(opts.blockWrapperSelector):$(this),targetProperty=$(this).attr(opts.targetPropertySelector),selectedObject={},j=0;j<LSHelper.Friends.list.length;j++)if(LSHelper.Friends.list[j][targetProperty]&&LSHelper.Friends.list[j][targetProperty].toLowerCase()==ui.item.value.toLowerCase()){selectedObject=LSHelper.Friends.list[j];break}$wrapper.find(opts.idSelector).val(selectedObject.Id).change();$wrapper.find(opts.nameSelector).val(selectedObject.Name).change();$wrapper.find(opts.firstNameSelector).val(selectedObject.FirstName).change();$wrapper.find(opts.lastNameSelector).val(selectedObject.LastName).change();$wrapper.find(opts.emailSelector).val(selectedObject.Email).change();$wrapper.find(opts.companySelector).val(selectedObject.Company).change();$wrapper.find(opts.phoneSelector).val(selectedObject.Phone).change();$wrapper.find(opts.venueSelector).val(selectedObject.VenueId).change();event.preventDefault()},source:function(request,response){for(var curdisplay=0,targetProperty=$el.attr(opts.targetPropertySelector),sortArray=[],j=0;j<LSHelper.Friends.list.length;j++)sortArray.push(LSHelper.Friends.list[j][targetProperty]);var term=request.term.toLowerCase(),comparer=opts.mode=="contains"?function(val){return val.toLowerCase().indexOf(term)>-1&&term!=""}:function(val){return val.toLowerCase().indexOf(term)==0&&term!=""},data=sortArray.filter(function(val){var result=!1;return val&&(result=comparer(val),result&&curdisplay++,curdisplay>opts.maxDisplay&&(result=!1)),result});response(data)}}).autocomplete("widget").removeClass("ui-corner-all")})}};LSHelper.Favorites={memberId:null,processEvent:function(event,workspaceId,venueId,callback){return event.stopPropagation(),LSHelper.Favorites.process(event.target||event.srcElement,workspaceId,venueId,callback),!1},process:function(elem,workspaceId,venueId,callback,showToast){LiquidSpace.Favorites.favorite({elem:elem,workspaceId:workspaceId,venueId:venueId,callback:callback,showToast:showToast})},share:function(params){params=$.extend({url:"",title:"Share",onClose:null},params);document.notLoggedInCallBack=function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){LSHelper.Favorites.share(params)},onlyHeaderReload:!0,signInMessage:"Sign In to share your favorites",joinMessage:"Join us to share your favorites"})};var dialogParams={dialogOptions:{resizable:!1,modal:!0,width:600,heigth:"auto",position:"center",title:params.title,dialogClass:"favorite-share-dialog",open:function(){$.validator.unobtrusive.parse($("#shareForm"));document.notLoggedInCallBack=null;LSHelper.isFlashAvailable()&&$.isFunction($.fn.zclip)?$("#copyme").zclip({path:"/Content/Scripts/ZeroClipboard.swf",copy:function(){return $("#sharelink").val()},beforeCopy:function(){$(".copy-success").hide()},afterCopy:function(){$(".copy-success").show()}}):$("#copyme").click(function(){window.prompt("Copy to clipboard: Ctrl+C, Enter",$("#sharelink").val())})}},onclose:function(){$.isFunction(params.onClose)&&params.onClose()},divId:"shareFavorites",url:params.url};LSHelper.HelperLib.showDialog(dialogParams)},initFavoriteScroller:function(){return function(){var _self=this,currentPosition=0,maxPosition=$(".favorite-block").length-1,$prevButton=$(".favorite-prev"),$nextButton=$(".favorite-next"),$innerWrapper=$(".favorite-inner-wrapper"),scroll=function(){var multiplier=100,translate=currentPosition*multiplier;$innerWrapper.css("transform","translateX(-"+translate+"%)")};_self.processButtons=function(){currentPosition>0?$prevButton.removeClass("disabled"):$prevButton.addClass("disabled");currentPosition<maxPosition?$nextButton.removeClass("disabled"):$nextButton.addClass("disabled")};_self.scrollNext=function(){currentPosition<maxPosition&&(currentPosition++,scroll());processButtons()};_self.scrollPrev=function(){currentPosition>0&&(currentPosition--,scroll());processButtons()};$nextButton.click(_self.scrollNext);$prevButton.click(_self.scrollPrev);_self.processButtons()}()}};LSHelper.Home={showVideoDialog:function(){var dialogParams={dialogOptions:{resizable:!1,modal:!0,width:680,minHeight:200,position:"center",title:"Watch Video",open:function(){}},onclose:function(){},html:$("#watchVideo").html(),divId:"watchVideoDialog"};LSHelper.HelperLib.showDialog(dialogParams)}};LSHelper.SessionCoupon={cookieName:"session.coupon",couponUrlParam:"coupon",trackCoupon:function(){var couponCode=LSHelper.HelperLib.getURLParameter(LSHelper.SessionCoupon.couponUrlParam);LSHelper.SessionCoupon.validateCoupon(couponCode,function(coupon){coupon.valid&&LSHelper.SessionCoupon.saveCouponCookie(coupon.couponCode,coupon.expiration)})},validateCoupon:function(couponCode,callback){if(couponCode){var _callback=callback&&$.isFunction(callback)?callback:function(){};$.ajax({type:"POST",data:{code:couponCode},url:GetUrl("ValidatePromotion","Promotion"),success:function(data){_callback(data)},error:function(request,status,error){_callback({valid:!1,couponCode:couponCode,expiration:undefined,errorMessage:request.responseText})}})}},saveCouponCookie:function(couponCode,expiration){couponCode&&expiration?$.cookie(LSHelper.SessionCoupon.cookieName,couponCode,{expires:expiration,path:"/"}):couponCode&&$.cookie(LSHelper.SessionCoupon.cookieName,couponCode,{path:"/"})},removeCouponCookie:function(){$.removeCookie(LSHelper.SessionCoupon.cookieName)},getCouponFromCookie:function(){return $.cookie(LSHelper.SessionCoupon.cookieName)}};LSHelper.html={getTemplateString:function(sel){var $template=$(sel);return $template.detach(),$template.css("display","block"),$template.html()}};LSHelper.google={alreadyInitialized:!1,loadInitialized:!1,func:[],infoboxLoaded:!1,infoboxRequested:!1,infoboxLoad:function(callback){$.cachedScript("/Content/Scripts/GoogleMaps/infobox.js",function(){LSHelper.google.infoboxLoaded=!0;$.isFunction(callback)&&callback()})},callback:function(){var f=function(){LSHelper.google.alreadyInitialized=!0;$.each(LSHelper.google.func,function(i,val){val()})};LSHelper.google.infoboxRequested&&!LSHelper.google.infoboxLoaded?LSHelper.google.infoboxLoad(f):f()},loadScript:function(){$.cachedScript("https://maps.googleapis.com/maps/api/js?v=3&callback=LSHelper.google.callback&libraries=places&language=en&key="+GoogleAPIKey)},init:function(param){var options={callback:function(){},loadInfobox:!1};$.isFunction(param)?options.callback=param:options=$.extend(options,param);LSHelper.google.infoboxRequested|=options.loadInfobox;LSHelper.google.loadInitialized==!1?(LSHelper.google.func.push(options.callback),LSHelper.google.loadInitialized=!0,$(document).ready(function(){LSHelper.google.loadScript()})):LSHelper.google.alreadyInitialized==!1?LSHelper.google.func.push(options.callback):LSHelper.google.infoboxRequested&&!LSHelper.google.infoboxLoaded?LSHelper.google.infoboxLoad(options.callback):options.callback()},closeInfoWindow:function(){typeof model!="undefined"&&model.map!=null&&model.map.closeInfoWindows!=null?model.map.closeInfoWindows():$(document).trigger("closeInfoWindow")},eliminateDuplicates:function(arr){for(var compareCities=function(a,b){var nameA=a.label.replace(/, USA/gi,"").toLowerCase(),nameB=b.label.replace(/, USA/gi,"").toLowerCase();return nameA<nameB?1:nameA>nameB?-1:a.latitude!=null?1:b.latitude!=null?-1:0},len=arr.length,out=[],obj={},i=0;i<len;i++)arr[i].label&&(obj[arr[i].label.replace(/, USA/gi,"")]=arr[i]);for(i in obj)out.push(obj[i]);return out},geocode:function(str,callback){if(!LSHelper.google.alreadyInitialized){LSHelper.google.init(function(){LSHelper.google.geocode(str,callback)});return}var geocoder=new google.maps.Geocoder,removeZip=!(!isNaN(parseFloat(str))&&isFinite(str));geocoder.geocode({address:str},function(results,status){var result=$.map(results,function(item){for(var addr,label,country="",state="",state_name="",street_address="",locality="",postal_code="",route="",street_number="",i=0;i<item.address_components.length;i++){if(addr=item.address_components[i],addr.types[0]=="country"){country=addr.short_name;continue}if(addr.types[0]=="administrative_area_level_1"){state=addr.short_name;state_name=addr.long_name;continue}if(addr.types[0]=="street_address"){street_address=addr.long_name;continue}if(addr.types[0]=="street_number"){street_number=addr.long_name;continue}if(addr.types[0]=="route"){route=addr.long_name;continue}if(addr.types[0]=="locality"){locality=addr.long_name;continue}if(addr.types[0]=="postal_code"){postal_code=addr.long_name;continue}}return label=postal_code&&postal_code.length>0&&removeZip?item.formatted_address.replace(" "+postal_code,""):item.formatted_address,{label:label,value:label,latitude:item.geometry.location.lat(),longitude:item.geometry.location.lng(),street_address:street_address,street_number:street_number,route:route,locality:locality,postal_code:removeZip==!1?postal_code:"",country:country,state:state,state_name:state_name,extended:!1,location_type:item.geometry}});result=LSHelper.google.eliminateDuplicates(result);callback(result)})}};LSHelper.Sso={popupSsoLogin:function(url,width,height){return LSHelper.Sso.popupSsoLoginCommon(url,!0,width,height)},popupSsoLoginCommon:function(url,setRememberMe,width,height){var $rememberMe;width=width==undefined?700:width;height=height==undefined?700:height;var left=(screen.width-width)/2,top=(screen.height-height)/2,params="width="+width+", height="+height;return params+=", top="+top+", left="+left,params+=", directories=no",params+=", location=no",params+=", menubar=no",params+=", resizable=yes",params+=", scrollbars=yes",params+=", status=no",params+=", toolbar=no",setRememberMe&&($rememberMe=$("#RememberMe"),$rememberMe.length>0&&(url=url+"&rememberMe="+$rememberMe.is(":checked"))),newwin=window.open(url,"ssoLoginWindow",params),window.focus&&newwin&&newwin.focus(),newwin},updateSsoStatusDialog:function(type,additionalGETData,title,closeCallback,memberId){var url=GetUrl("ShowDialogUpdateSsoStatus","Social")+"?ssoType="+type+"&memberId="+memberId,dialogParams;additionalGETData!=undefined&&(url+=additionalGETData);title==null&&(title="Update Status");dialogParams={dialogOptions:{resizable:!1,modal:!0,width:500,minHeight:200,position:"center",title:"<img style='top:15px;left:20px;position:absolute;' src='/content/images/sso/"+type+"_16.png'/><span style='margin-left:20px'>"+title+"<\/span>",open:function(){$.unblockUI();$("#updateSsoStatusDialog").find("form").each(function(){$.validator.unobtrusive.parseDynamicContent(this)})}},onclose:function(){LSHelper.HelperLib.unblockUI();typeof closeCallback!="undefined"&&$.isFunction(closeCallback)&&closeCallback()},divId:"updateSsoStatusDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)}};LSHelper.Venue={noPhotoConfirmation:function(params){var options=$.extend({},{memberId:null,venueId:null},params),isSelfEdit=User.id==options.memberId,dialogParams={dialogOptions:{resizable:!1,modal:!0,width:540,heigth:"auto",position:"center",title:""},divId:"noPhotoDialog",url:"/ManageVenue/NoPhotoConfirmation/"+(options.venueId||"")+"?memberId="+(options.memberId||"")};LSHelper.HelperLib.showDialog(dialogParams)},showAdminProfile:function(params){var options=$.extend({},{memberId:null,venueId:null,onOpen:function(){}},params),isSelfEdit=User.id==options.memberId,dialogParams={dialogOptions:{resizable:!1,modal:!0,width:540,heigth:"auto",position:"center",title:isSelfEdit?"My Profile":"Host Profile",open:function(){options.onOpen()}},divId:"editAdminDialog",url:"/ManageVenue/EditVenueAdmin/"+(options.venueId||"")+"?memberId="+(options.memberId||"")};LSHelper.HelperLib.showDialog(dialogParams)},GetEncodedVLPUrlSlug:function(name){return name!=undefined&&name!=""?name.replace(/\W+/gi,"-").toLowerCase():""},BulkImportSuccess:function(inData,document,queryUrl,cancelUrl,successFunc){jQuery("#bulkImportStatus",document).show().html(inData.StatusMessage);jQuery("#bulkImportLog",document).show().html(inData.ImportLog);var cancelButton=jQuery("#bulkInputCancel",document);cancelButton.is(":visible")||cancelButton.show().unbind("click").click(function(){return jQuery.ajax({url:cancelUrl,async:!0,cache:!1,data:{venueId:inData.EntityId,memberId:inData.EntityId,importId:inData.ImportId,importEntityType:inData.ImportEntityType}}),!1});inData.Ended||inData.Cancelled?(typeof successFunc!="undefined"&&$.isFunction(successFunc)&&successFunc(),cancelButton.unbind("click").hide()):setTimeout(function(){jQuery.ajax({url:queryUrl,async:!0,cache:!1,data:{venueId:inData.EntityId,memberId:inData.EntityId,importId:inData.ImportId,importEntityType:inData.ImportEntityType},success:function(result){LSHelper.Venue.BulkImportSuccess(result,document,queryUrl,cancelUrl,successFunc)},error:function(xhr,ajaxOptions,thrownError){LSHelper.Venue.BulkImportSuccess(inData,document,queryUrl,cancelUrl,successFunc)}})},3e3)},LoadVenueNotifications:function(url,venueId,containerId){$(containerId).length>0&&$.ajax({url:url,async:!1,data:{venueId:venueId},success:function(result){$(containerId).html(result)}})},addVenueAdmin:function(actionUrl,position,venueId){(position==undefined||position==null)&&(position="top");var url=actionUrl+"/?venueId="+venueId,dialogParams={dialogOptions:{resizable:!1,modal:!0,width:420,heigth:"auto",position:position,title:"Add New Admin",open:function(){LSHelper.HelperLib.unblockUI()}},divId:"addAdminDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)},inviteNewVenueAdmin:function(actionUrl,callbackFunction,position,venueId,email){(position==undefined||position==null)&&(position="top");var url=actionUrl+"/?venueId="+venueId+"&email="+encodeURIComponent(email),dialogParams={dialogOptions:{resizable:!1,modal:!0,width:557,heigth:"auto",position:position,title:"Invite New Admin"},onclose:callbackFunction,divId:"inviteAdminDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)},editVenueAdmin:function(actionUrl,venueId,memberId){var url=actionUrl+"/?venueId="+venueId+"&memberId="+memberId,dialogParams={dialogOptions:{resizable:!1,modal:!0,width:600,heigth:"auto",position:"center",title:"Edit Venue Admin",open:function(){LSHelper.HelperLib.unblockUI()}},divId:"editAdminDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)},venueHostChanged:function(actionUrl,venueId,memberId,isVenueHost){$.ajax({url:actionUrl,type:"POST",async:!1,data:{venueId:venueId,memberId:memberId,isVenueHost:isVenueHost},success:function(result){}})},removeVenueAdmin:function(actionUrl,venueNotificationsUrl,venueId,memberId){$.ajax({url:actionUrl,type:"POST",async:!1,data:{venueId:venueId,memberId:memberId},success:function(result){result.success?(LSHelper.Venue.LoadVenueNotifications(venueNotificationsUrl,venueId,"#venueNotificationsSection"),$("#editAdminDialog").dialog("close")):($("#editAdminErrorMessage").text(result.message),$(".error").show());LSHelper.HelperLib.unblockUI()}})}};LSHelper.Account={registerTermsOfUse:function(hideButtons,content,onOpenCallback,onCloseCallback){var dialogOptions={resizable:!1,height:"auto",width:400,modal:!0,position:"center",title:"Terms of Use",open:onOpenCallback};return hideButtons!=undefined&&hideButtons||(dialogOptions.buttons={Agree:function(){jQuery("form").submit();jQuery(this).dialog("close")},Cancel:function(){jQuery("#registerNotConfirmed").show();jQuery(this).dialog("close")}}),LSHelper.HelperLib.showDialog({onclose:function(){onCloseCallback&&$.isFunction(onCloseCallback)&&onCloseCallback()},html:content,dialogOptions:dialogOptions,divId:"termsOfUseContainer"}),jQuery(".terms_and_conditions").scrollTop(0),!1},trackSignInPopup:function(){var message="/account/signin-popup";typeof ga=="function"&&ga("send","pageview",{page:message})},popUpSignIn:function(params){var options=$.extend({},{onCloseCallback:function(){},onLogInSuccessCallback:function(){},onlyHeaderReload:undefined,redirectUrl:undefined,joinMessage:undefined,signInMessage:undefined,popupParams:{},userName:undefined},params),data=$.extend({flow:"direct",returnUrl:window.location.toString(),regType:null,additionalRegData:"",email:""},options.popupParams);LSHelper.HelperLib.blockUI();$.ajax({url:"/Account/LogonPopup",async:!0,data:data,success:function(result){jQuery("#SignInDialog").remove();var $dialog=$('<div id="SignInDialog" style="display: none;">'+result+"<\/div>");options.joinMessage&&$($dialog).find(".join-welcome").html(options.joinMessage);options.signInMessage&&$($dialog).find(".signin-welcome").html(options.signInMessage);jQuery("body").append($dialog);LSHelper.Account.popUpSignInInline(options)},complete:function(){LSHelper.HelperLib.unblockUI()}})},reloadHeader:function(querystring){$("header").length>0&&$.get("/Account/HeaderMenu"+(querystring||""),function(data){$("header").html(data);$(document).trigger("headerReloaded")})},popUpSignInInline:function(options){var divId,dialogParams;LSHelper.Account.trackSignInPopup();LSHelper.Account.onLogInSuccessCallback=undefined;divId="SignInDialog";this.popUpRedirectUrl=options.redirectUrl;options.onlyHeaderReload!=undefined&&options.onlyHeaderReload!=null&&(this.onlyHeaderReload=options.onlyHeaderReload);options.onLogInSuccessCallback&&$.isFunction(options.onLogInSuccessCallback)&&(LSHelper.Account.onLogInSuccessCallback=options.onLogInSuccessCallback);$("#SignInForm").length>0&&($("#SignInForm").validate().resetForm(),$("#SignInForm .formErrors").hide());$("#SignInDialog .input-validation-error").addClass("input-validation-valid");$("#SignInDialog .input-validation-error").removeClass("input-validation-error");$("#SignInDialog .field-validation-error").addClass("field-validation-valid");$("#SignInDialog .field-validation-error").removeClass("field-validation-error");$("#SignInDialog .validation-summary-errors").addClass("validation-summary-valid");$("#SignInDialog .validation-summary-errors").removeClass("validation-summary-errors");dialogParams={dialogOptions:{resizable:!1,modal:!0,width:document.body.clientWidth<422?document.body.clientWidth-2:480,heigth:"auto",position:"center",dialogClass:"noTitleStuff",open:function(){options.userName&&$("#SignInDialog #userNameInput").val(options.userName);$("#SignInDialog #UserName").focus()}},onclose:function(){options.onCloseCallback&&$.isFunction(options.onCloseCallback)&&options.onCloseCallback()},divId:"SignInDialog",useDivId:divId,roundedBorders:!1};LSHelper.HelperLib.showDialog(dialogParams)},popUpJoin:function(elem,url){if(LSHelper.Account.getJoinDataObject&&$.isFunction(LSHelper.Account.getJoinDataObject)&&LSHelper.Account.onLogInSuccessCallback&&$.isFunction(LSHelper.Account.onLogInSuccessCallback)){var joinData=LSHelper.Account.getJoinDataObject();window.location=url+"&encRetUrl="+encodeURIComponent(location.href)+"&encCallback="+encodeURIComponent(JSON.stringify(joinData))}else window.location=url},logoff:function(redirectToSignIn){LSHelper.HelperLib.blockUI();$.ajax({url:"/Account/Logoff",async:!0,data:{redirectToSignIn:redirectToSignIn},success:function(result){if(result.ssoUrl&&result.ssoUrl.length>0){var logoutIframe=jQuery("#logoutIframe");logoutIframe.length==0&&(jQuery("body").append('<iframe style="position:absolute; left:-10000px; visible:hidden;" src="" id="logoutIframe"/>'),logoutIframe=jQuery("#logoutIframe"));logoutIframe.attr("src",result.ssoUrl).load(function(){LSHelper.Account.ssoLogoffComplete(result.Url)})}else window.location=result.Url},complete:function(){LSHelper.HelperLib.unblockUI()}})},ssoLogoffComplete:function(returnUrl){window.location=returnUrl},getMemberId:function(){var mid="";return $.ajax({type:"POST",data:{},async:!1,url:"/Member/GetMemberId",success:function(result){result!=undefined&&result.memberId!=undefined&&result.memberId!=""&&(mid=result.memberId)},error:function(){}}),mid}};LSHelper.Resource={deleteResource:function(id,actionUrl,venueId){var data={};data=venueId!=undefined?{SelectedResourceId:id,SelectedVenueId:venueId}:{id:id};LSHelper.Dialog.deleteDialog("Are you sure you want to delete this amenity?",actionUrl,data,function(res){window.viewModel_resourceGrid.dataSource.remove(window.viewModel_resourceGrid.selectedItem())})}};LSHelper.StaticPage={deleteStaticPage:function(id,actionUrl,grid){var data={id:id};LSHelper.Dialog.deleteDialog("Are you sure you want to delete this page?",actionUrl,data,function(res){grid.dataSource.remove(grid.selectedItem())})},cloneStaticPage:function(id){console.log()}};LSHelper.WorkspaceScenario={deleteWorkspaceScenario:function(id,instanceId,type,actionUrl){var data={};type=="workspace"?data={SelectedWorkspaceScenarioId:id,SelectedWorkspaceId:instanceId}:type=="venue"&&(data={SelectedWorkspaceScenarioId:id,SelectedVenueId:instanceId});LSHelper.Dialog.deleteDialog("Are you sure you want to delete this workspace scenario?",actionUrl,data,function(res){window.location.reload()})}};LSHelper.Member={showInviteFriendsViaEmailDialog:function(memberId,jsCallBack){var dialogParams={dialogOptions:{resizable:!1,modal:!0,width:690,heigth:"auto",position:"center",title:"Invite friends",open:function(){$("#inviteFriendsDialog").find("form").each(function(){$.validator.unobtrusive.parseDynamicContent(this)});document.show_start_button=!0;$("#start-button").show()}},divId:"inviteFriendsDialog",url:GetUrl("InvitePeopleViaEmail","Profile")+"?memberId="+memberId};LSHelper.HelperLib.showDialog(dialogParams)},setTrimmedValue:function(selector,elemToSkip,val){$(selector).not(elemToSkip).each(function(){jQuery.trim($(this).val()).length==0&&$(this).val(val)})},setEmailFocus:function(elem,classToProcess){$.browser.msie||(LSHelper.Member.setTrimmedValue(elem,null,""),LSHelper.Member.setTrimmedValue(classToProcess,elem," "))},showInviteOfferDetails:function(){var dialogParams={dialogOptions:{resizable:!1,modal:!0,width:580,heigth:"auto",position:"center",title:"Offer Terms and Conditions",open:function(){}},divId:"inviteFriendsDialog",url:GetUrl("InviteOfferDetails","Home")};LSHelper.HelperLib.showDialog(dialogParams)},invitePeople:function(formId,replaceElem,url,onsuccess,ssoData,populateFunc,errorFunc){if(LSHelper.Member.setTrimmedValue(".emailTextBox",null,""),$(formId).valid()==!0&&(ssoData==null||ssoData.length>0)){var data=$(formId).formToArray(!0);data.push({name:"ssoProfiles",value:JSON.stringify(ssoData)});LSHelper.HelperLib.blockUI(formId);$.ajax({type:"POST",url:url,data:data,async:!0,success:function(result){LSHelper.HelperLib.unblockUI(formId);$(formId).find(".field-validation-error.additionalError").html("");result.Error||result.Data?(result.Data&&populateFunc(result),result.Error&&($(formId).find(".field-validation-error.additionalError").html(result.Error),typeof errorFunc!="undefined"&&$.isFunction(errorFunc)&&errorFunc())):(replaceElem.html(result),$.validator.unobtrusive.parseDynamicContent(formId));document.show_start_button&&$("#start-button").show();typeof onsuccess!="undefined"&&$.isFunction(onsuccess)&&onsuccess()},error:function(xhr,ajaxOptions,thrownError){LSHelper.HelperLib.unblockUI(formId)}})}ssoData!=null&&ssoData.length==0&&$(formId).find(".field-validation-error.additionalError").html("You need to select at least one person without invitation.")},editMemberProfile:function(memberId,actionUrl,showAdminPanel,callbackFunction,showEditPanel,position){(position==undefined||position==null)&&(position="top");var url=actionUrl+"/"+memberId+"?showAdminPanel="+showAdminPanel+"&showEditPanel="+showEditPanel,dialogParams={dialogOptions:{resizable:!1,modal:!0,width:700,heigth:"auto",position:position,title:"Edit Member Profile"},onclose:function(){callbackFunction&&$.isFunction(callbackFunction)&&callbackFunction()},divId:"EditMemberDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)},editCalendatUserProfile:function(memberId,actionUrl,callbackFunction,position,venueId,allowPendingVisas){var url,dialogParams;(position==undefined||position==null)&&(position="top");url=actionUrl+"/"+memberId+"?venueId="+venueId;typeof allowPendingVisas!="undefined"&&allowPendingVisas&&(url=url+"&allowPendingVisas=true");dialogParams={dialogOptions:{resizable:!1,modal:!0,width:557,heigth:"auto",position:position,title:"Edit Member Profile"},onclose:callbackFunction,divId:"EditMemberDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)}};LSHelper.Dialog={deleteDialog:function(title,postUrl,data,onSuccess,contentType){LSHelper.Dialog.confirmDialog(title,function(){LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:postUrl,data:data,contentType:contentType,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},complete:function(){LSHelper.HelperLib.unblockUI()}})},"Are you sure?")},editDialog:function(title,getUrl,postUrl,onSuccess,onDialogOpen){var dialogId=(new Date).getTime(),dialogParams={dialogOptions:{resizable:!1,modal:!0,width:557,heigth:"auto",position:"center",title:title,buttons:{Save:function(){if(jQuery("#"+dialogId).find("form:first").valid()){var dialogData=$("#"+dialogId).formToArray(!0);LSHelper.HelperLib.blockUI($("#"+dialogId).parent());$.ajax({type:"POST",url:postUrl,data:dialogData,async:!0,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)?($("#"+dialogId).dialog("close"),onSuccess(result)):result.Result&&(result.Result=="true"||result.Result==!0)?$("#"+dialogId).dialog("close"):($("#"+dialogId).html(result.RenderedViews[0]),LSHelper.HelperLib.unblockUI("#"+dialogId))},error:function(xhr,ajaxOptions,thrownError){LSHelper.HelperLib.unblockUI($("#"+dialogId).parent())}})}},Cancel:function(){jQuery(this).dialog("close")}},dialogButtons:{},create:function(event,ui){var parentDialog=jQuery(event.target).parent(".ui-dialog");parentDialog.find("button:first").addClass("orange-button");dialogButtons=parentDialog.find("button").addClass("button35");dialogButtons.attr("tabIndex","-1")},open:function(){dialogButtons.removeAttr("tabIndex");onDialogOpen&&jQuery.isFunction(onDialogOpen)&&onDialogOpen()}},divId:dialogId,url:getUrl};LSHelper.HelperLib.showDialog(dialogParams)},confirmDialog:function(text,okFunction,title,isDiscardChanges,okButtonText,cancelFunc,cancelButtonText,divId,width,noClose){(okButtonText==undefined||okButtonText=="")&&(okButtonText="OK");(cancelButtonText==undefined||cancelButtonText=="")&&(cancelButtonText="Cancel");isDiscardChanges==undefined&&(isDiscardChanges=!1);var dialogOptions={resizable:!1,height:"auto",width:document.body.clientWidth<404?document.body.clientWidth-4:width||400,modal:!0,position:"center",title:title};noClose&&(dialogOptions.dialogClass="no-close",dialogOptions.closeOnEscape=!1);dialogOptions.buttons=isDiscardChanges?{"Discard Changes":function(){okFunction();jQuery(this).dialog("close")},"Continue Editing":function(){jQuery(this).dialog("close")}}:[{text:okButtonText,click:function(){okFunction();jQuery(this).dialog("close")},"class":"ocean-button"},{text:cancelButtonText,click:function(){cancelFunc!=null&&cancelFunc();jQuery(this).dialog("close")}}];LSHelper.HelperLib.showDialog({html:text,dialogOptions:dialogOptions,divId:divId==null?"confirmDialog":divId});$(".ui-dialog-buttonpane :button").addClass("button35")},alertDialog:function(text,title,okFunction,getUrl,onclose){(title==undefined||title=="")&&(title="We're Sorry");var dialogOptions={resizable:!1,height:"auto",width:document.body.clientWidth<404?document.body.clientWidth-4:400,modal:!0,position:"center",title:title};dialogOptions.buttons={OK:function(){jQuery(this).dialog("close");okFunction!=undefined&&okFunction()}};LSHelper.HelperLib.showDialog({html:text,url:getUrl,dialogOptions:dialogOptions,divId:"alertDialog",onclose:onclose})},exceptionDialogClose:function(item,doNotTriggerEvent,e){$(item).closest(".ui-dialog-content").dialog("close");e||(e=window.event);e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0);doNotTriggerEvent||$(document).trigger("exceptionDialogClosed")},continueExistingSYSDialog:function(text,continueExistingFunction,getUrl){var dialogOptions={resizable:!1,height:"auto",width:400,modal:!0,position:"center",title:"Share Your Space"};dialogOptions.buttons={"Continue Existing":function(){jQuery(this).dialog("close");continueExistingFunction!=undefined&&continueExistingFunction()},"Start New":function(){jQuery(this).dialog("close")}};dialogOptions.create=function(event,ui){var parentDialog=jQuery(event.target).parent(".ui-dialog");parentDialog.find("button:first").addClass("orange-button")};LSHelper.HelperLib.showDialog({html:text,url:getUrl,dialogOptions:dialogOptions,divId:"continueExistingSYSDialogWrapper"})}};LSHelper.Calendar={reservationSourceNames:{Calendar:{LS:"CAL",GA:"Calendar"},CalendarDirect:{LS:"CAL",GA:"Calendar-Direct"},MPPWorkspaces:{LS:"MPP-Workspaces",GA:"MPP-Workspaces"},MPPReservations:{LS:"MPP-Reservations",GA:"MPP-Reservations"},VPP:{LS:"VPP",GA:"VPP"},WPP:{LS:"WPP",GA:"WPP"},XPP:{LS:"XPP",GA:"XPP"},HomePage:{LS:"HomePage",GA:"HomePage"},ReservationConfirmation:{LS:"ReservationConfirmation",GA:"ReservationConfirmation"},Campaign:{LS:"Campaign",GA:"Campaign"},FindSpace:{LS:"FindSpace",GA:"FindSpace"},Recommendations:{LS:"Recommendations",GA:"Recommendations"},Search:function(page,position,isWorm,isFeatured,isVPP){if(isWorm&&isVPP)return{LS:"VPP-Worm",GA:"VPP-Worm"};var label="SRP-"+(isWorm?"Worm":isFeatured?"Feat":"Pos"),pos=isFeatured?position:zeroPad(position,4),gap="&page="+page+"&position="+position+(isFeatured?"&featured=true":"");return{LS:label+pos,GA:"SRP",GAPosition:gap}},TenantPP:{LS:"TenantProfilePage",GA:"TenantProfilePage"},Messenger:{LS:"Messenger",GA:"Messenger"},Manual:{LS:"Manual",GA:"Manual"}},defaults:{ev:{},position:"center",userId:undefined,onClose:undefined,daysAhead:0,compact:!1,reservationName:"LiquidSpacing",currentVenueDate:undefined,successCallBack:undefined,errorCallback:undefined,isOneClick:!1,basedOnReservationId:undefined,notLoggedInCallBack:undefined,mayShiftStartTime:undefined,skipCurrentUtcOverride:!1,selectedAmenityIds:undefined,guestCount:undefined,confirmationCallback:undefined,reservationSourcePage:undefined,occurrenceDate:undefined,applyDate:undefined,exactDateAndTimeSpecified:!1},scheduleTour:function(params){params=$.extend({venueId:null,workspaceId:null,tourDate:null},params);var dialogParams={overflow:"overflow:visible;",onError:function(responseText,textStatus,xhr){xhr!=undefined&&xhr.status==530;$("#scheduleTourDialogContent").remove()},dialogOptions:{resizable:!1,modal:!0,width:480,heigth:"auto",position:"center",dialogClass:"scht-dialog",title:"Schedule a Tour",open:function(){LSHelper.HelperLib.unblockUI();var $dlg=$("#scheduleTourDialogContent");if(params.onopen!=null)params.onopen($dlg);$.validator.unobtrusive.parseDynamicContent($dlg.find("form"))}},onclose:function(){},divId:"scheduleTourDialogContent",data:{venueId:params.venueId,workspaceId:params.workspaceId,tourDate:LSHelper.Calendar.toServerString(params.tourDate)},url:GetUrl("ScheduleDialog","Tour")};LSHelper.HelperLib.showDialog(dialogParams)},workspaceRequestDialog:function(params){var opts=$.extend({vId:null,wId:null,inStartDate:null,onopen:null,isTourRequest:!1,bookingMethod:null},params),title="Request Space",dialogParams;opts.isTourRequest?title="Schedule a Tour":opts.bookingMethod=="RequestToBook"?title="Request to Book":opts.bookingMethod=="InquireNow"&&(title="Inquire Now");dialogParams={overflow:"overflow:visible;",onError:function(responseText,textStatus,xhr){xhr!=undefined&&xhr.status==530;$("#workspaceRequestDialogContent").remove()},dialogOptions:{resizable:!1,modal:!0,width:580,heigth:"auto",position:"center",dialogClass:"workspaceRequestDialog",title:title,open:function(){LSHelper.HelperLib.unblockUI();$(document).trigger("workspaceRequestDialogOpened");var $dlg=$("#workspaceRequestDialogContent");if(opts.onopen!=null)opts.onopen($dlg);$.validator.unobtrusive.parseDynamicContent($dlg.find("form"))}},onclose:function(){},divId:"workspaceRequestDialogContent",data:{venueId:opts.vId,workspaceId:opts.wId,inStartDate:LSHelper.Calendar.toServerString(opts.inStartDate),requestType:opts.requestType,isTourRequest:opts.isTourRequest},url:GetUrl("WorkspaceRequestDialog","Venues")};LSHelper.HelperLib.showDialog(dialogParams)},editReservation:function(params){var ev=params.ev;ev.id?LSHelper.Calendar.getReservationDetails(params):$.ajax({url:"/Calendar/NeedToDoRequest",data:{venueId:ev.venue_id,workspaceId:ev.workspace_id,userId:params.userId},type:"POST",success:function(response){if(response.isException){LSHelper.UI.showError(response);return}response.needToDoRequest?response.bookingMethod=="RequestToBook"?LSHelper.Calendar.scheduleTour({venueId:ev.venue_id,workspaceId:ev.workspace_id,scheduleTour:ev.start_date}):LSHelper.Calendar.workspaceRequestDialog({vId:ev.venue_id,wId:ev.workspace_id,inStartDate:ev.start_date,bookingMethod:response.bookingMethod}):LSHelper.Calendar.getReservationDetails(params)}})},getReservationDetails:function(params){var opts=$.extend({},LSHelper.Calendar.defaults,params),offset,dialogParams;opts.reservationSourcePage&&!opts.ev.id&&opts.ev.workspace&&LSHelper.Calendar.trackBookItNowClick(opts.reservationSourcePage.GA,opts.reservationSourcePage.GAPosition,opts.ev.workspace.ReservationMethod===2);document.confirmationCallback=function(changedUserId){var finalUserId=changedUserId?changedUserId:opts.userId;$.isFunction(opts.confirmationCallback)&&opts.confirmationCallback(finalUserId);params.userId=finalUserId;LSHelper.Calendar.editReservation(params)};document.notLoggedInCallBack=opts.notLoggedInCallBack||function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){params.userId=userId;LSHelper.Calendar.editReservation(params)},onlyHeaderReload:!0,joinMessage:"As a next step to your new office, join our community."})};offset=$('div[event_id="'+opts.ev.id+'"]').offset();dialogParams={overflow:"overflow:visible;",onError:function(responseText,textStatus,xhr){xhr!=undefined&&xhr.status==530||opts.errorCallback!=null&&$.isFunction(opts.errorCallback)&&opts.errorCallback()},dialogOptions:{resizable:!1,modal:!0,width:"auto",heigth:"auto",position:"center",dialogClass:"editReservationDialog",open:function(){LSHelper.HelperLib.unblockUI();$(document).trigger("editReservationDialogOpened");$("#reservationName").focus();opts.selectedAmenityIds&&$.each(opts.selectedAmenityIds,function(index,value){$('.reservation-amenity[data-resource-id="'+value+'"]').attr("checked","checked")})}},onclose:function(){if($(document).unbind("cancelAuthorizeNetPopup.reservation"),$(document).unbind("successAuthorizeNetPopup.reservation"),$(document).unbind("resizeAuthorizeNetPopup.reservation"),$(document).unbind("recurrenceRuleChanged.reservation"),LSHelper.Calendar.trackCalendarReservation(opts.ev.venue_id),opts.successCallBack!=null&&$.isFunction(opts.successCallBack)&&opts.successCallBack(opts.userId),opts.onClose&&jQuery.isFunction(opts.onClose))opts.onClose(opts.ev,!0,$("#waiting-div").hasClass("confirmed"));document.SSO_logon_Completed_Temp&&(document.SSO_logon_Completed=document.SSO_logon_Completed_Temp)},divId:"editReservationDialog",data:$.extend({},{memberListDataId:"memberListDataInputBIN"+(opts.ev.workspace_id?opts.ev.workspace_id.replace(/-/g,""):null),id:opts.ev.id,workspaceId:opts.ev.workspace_id,venueId:opts.ev.venue_id,startDate:LSHelper.Calendar.toServerString(opts.ev.start_date),endDate:LSHelper.Calendar.toServerString(opts.ev.end_date),userId:opts.userId==undefined?$("#userId").val():opts.userId,isOneClickReservation:opts.isOneClick,daysAhead:opts.daysAhead,reservationName:opts.reservationName,currentVenueDate:opts.currentVenueDate,mayShiftStartTime:opts.mayShiftStartTime,basedOnReservationId:opts.basedOnReservationId,skipCurrentUtcOverride:opts.skipCurrentUtcOverride,cookiePromotionCode:LSHelper.SessionCoupon.getCouponFromCookie(),guestCount:opts.guestCount,reservationSourcePage:opts.reservationSourcePage.LS,occurrenceDate:opts.occurrenceDate,applyDate:opts.applyDate,reservationReferenceId:opts.reservationReferenceId,exactDateAndTimeSpecified:opts.exactDateAndTimeSpecified},opts.searchFilter,opts.request),url:GetUrl("GetReservationDetails","Calendar")};LSHelper.HelperLib.showDialog(dialogParams)},stopAutoRenew:function(params){var options=$.extend({reservationId:null,memberId:null,onSuccessFunc:null,divId:"stopAutoRenewDialog",init:function(){options.$dialog=$("#"+options.divId);options.$yesButton=options.$dialog.find(".yes-button");options.$noButton=options.$dialog.find(".no-button");options.$yesButton.click(function(){if($("#doNotRenewSuperUserForm").valid()){var formData=$("#doNotRenewSuperUserForm").serializeArray();LSHelper.HelperLib.blockUI();$.ajax({url:"/Calendar/StopAutoRenew",data:formData,type:"POST",success:function(response){if(response.isException){LSHelper.UI.showError(response);return}$.isFunction(options.onSuccessFunc)&&options.onSuccessFunc();options.$dialog.dialog("close")},complete:function(){LSHelper.HelperLib.unblockUI()}})}});options.$noButton.click(function(){options.$dialog.dialog("close")})}},params);LSHelper.HelperLib.showDialog({divId:options.divId,dialogOptions:{minWidth:500,modal:!0,title:"Are You Sure?",resizable:!1,open:function(){options.init()}},roundedBorders:!1,url:"/Calendar/StopAutoRenewDialog/",data:{reservationId:options.reservationId,memberId:options.memberId}})},changePaymentMethod:function(params){var options=$.extend({reservationId:null},params);LSHelper.HelperLib.showDialog({divId:"changePaymentMethodDialog",dialogOptions:{minWidth:500,modal:!0,title:"Change Payment Method",resizable:!1,dialogClass:"changePaymentMethodDialog",open:function(){}},roundedBorders:!1,url:"/Calendar/ChangePaymentMethodDialog/",data:{reservationId:options.reservationId}})},showVenueHouseRules:function(params){var options=$.extend({},{venueName:null,rules:null,BINmode:!1,acceptCallback:function($dialog){$dialog.dialog("close")},cancelCallback:function($dialog){$dialog.dialog("close")},isMobileView:!1},params),dialogParams={dialogOptions:{position:{my:options.isMobileView?"top":"center",at:options.isMobileView?"top":"center",of:window},resizable:!1,modal:!0,width:580,heigth:"auto",title:"Please review and accept "+(options.venueName?options.venueName+"'s ":"")+"House Rules",dialogClass:"houseRulesDialog",open:function(){var $dialog=$(".ui-dialog #HouseRulesDialog"),rulesWrapperHeight;options.rules&&$(".rules-wrapper").html(options.rules);$(".ui-dialog #HouseRulesDialog .rules-accept-btn").bind("click",function(){options.acceptCallback($dialog)});$(".ui-dialog #HouseRulesDialog .rules-cancel-btn").bind("click",function(){options.cancelCallback($dialog)});options.BINmode?$(".ui-dialog #HouseRulesDialog .show-on-bin").show():$(".ui-dialog #HouseRulesDialog .show-on-bin").hide();options.isMobileView&&(rulesWrapperHeight=$(window).height(),rulesWrapperHeight-=$dialog.parent().find(".ui-dialog-titlebar").outerHeight(!0)||0,rulesWrapperHeight-=$dialog.outerHeight(!0)-$dialog.height(),options.BINmode&&($dialog.find(".house-rules-buttons").css("margin","10px 0"),$dialog.find(".house-rules-buttons .rules-accept-btn").css("width","49%").css("float","left"),$dialog.find(".house-rules-buttons .rules-cancel-btn").css("width","49%").css("float","right"),rulesWrapperHeight-=$dialog.find(".accept-text").outerHeight(!0)||0,rulesWrapperHeight-=$dialog.find(".house-rules-buttons").outerHeight(!0)||0),rulesWrapperHeight-=$dialog.find(".rules-wrapper").outerHeight(!0)-$dialog.find(".rules-wrapper").height(),$dialog.find(".rules-wrapper").height(rulesWrapperHeight),$dialog.find(".rules-wrapper").css("max-height","none"))}},useDivId:"HouseRulesDialog",roundedBorders:!1,onclose:function(){$(".ui-dialog #HouseRulesDialog .rules-accept-btn").unbind("click");$(".ui-dialog #HouseRulesDialog .rules-cancel-btn").unbind("click")}};LSHelper.HelperLib.showDialog(dialogParams)},toServerString:function(date){return date?date.toServerString():null},trackCalendarReservation:function(page){page==undefined&&(page="ReservationDialogUnknown");var message="/calendar/IndexByVenue/"+page;typeof ga=="function"&&ga("send","pageview",{page:message})},trackAdWordsConversion:function(totalPrice,isSignedIn,isCreditCardBilled,reservationId){var google_conversion_id=1019535038,google_conversion_label="GBFZCKKFigQQvr2T5gM",google_conversion_value=totalPrice;if(isCreditCardBilled===!0){isSignedIn===!0&&(google_conversion_label="cusKCKqEigQQvr2T5gM");var ticks=Math.floor(1e9*Math.random()),imageSource="https://www.googleadservices.com/pagead/conversion/"+google_conversion_id+"/?label="+google_conversion_label+"&value="+google_conversion_value+"&script=0&ticks="+ticks,image=new Image(1,1);image.src=imageSource;$("body").append(image);$('<img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=l4x3r&p_id=Twitter" />').appendTo("body");$('<img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=l4x3r&p_id=Twitter" />').appendTo("body");typeof Munchkin=="object"&&Munchkin.munchkinFunction("visitWebPage",{url:"/event/booked-creditcard",params:"Amt="+totalPrice+"&Scenario=NotAvailable&ResId="+reservationId});typeof dataLayer=="object"&&(dataLayer.push({ReservationId:reservationId}),dataLayer.push({ReservationTotalPrice:totalPrice}),dataLayer.push({event:"trackReservationConversion"}))}},trackCalendarReservationTransaction:function(gaAccount,gaDomain,reservationEvent,isNewReservation,isSignedIn){var isCreditCardBilled=reservationEvent.scenario.toLowerCase()=="creditcard";isSignedIn===!0&&window.location.pathname.toLowerCase().indexOf("/calendar")==0&&LSHelper.Calendar.trackAdWordsConversion(reservationEvent.totalPrice,isSignedIn,isCreditCardBilled,reservationEvent.reservationId);typeof ga=="function"&&isCreditCardBilled&&(isNewReservation?(ga("ecommerce:addTransaction",{id:reservationEvent.reservationId,affiliation:reservationEvent.venueName,revenue:reservationEvent.totalPrice,shipping:"",tax:""}),ga("ecommerce:addItem",{id:reservationEvent.reservationId,sku:reservationEvent.workspaceName,name:reservationEvent.venueName,category:reservationEvent.reservationMethod,price:reservationEvent.unitPrice,quantity:reservationEvent.units}),ga("ecommerce:send"),ga("send","event",{eventCategory:"Reservation",eventAction:"Create",eventLabel:reservationEvent.venueName+" - "+reservationEvent.workspaceName})):ga("send","event",{eventCategory:"Reservation",eventAction:"Edit",eventLabel:reservationEvent.venueName+" - "+reservationEvent.workspaceName}))},trackSYSConversion:function(venueId){typeof dataLayer=="object"&&(dataLayer.push({VenueId:venueId}),dataLayer.push({event:"trackSYSConversion"}))},trackCalendarReservationCoupon:function(couponRedeemMessage){typeof ga=="function"&&ga("send","event",{eventCategory:"Promotion Coupon",eventAction:"Redeem",eventLabel:couponRedeemMessage})},trackBookItNowClick:function(source,position,isMonthly){source==undefined&&(source="Unknown");position==undefined&&(position="");var message="/vpv/BookItNowClick?source="+source+position+"&monthly="+isMonthly;typeof ga=="function"&&(ga("send","pageview",{page:message}),source.toUpperCase()=="SRP"&&ga("send","pageview",{page:"/vpv/BookItNowClick?source="+source}))},trackCalendarReservationRecurringWarning:function(){typeof ga=="function"&&ga("send","pageview",{page:"/vpv/BookItNowRecurringWarning"})},trackCalendarReservationRecurringError:function(){typeof ga=="function"&&ga("send","pageview",{page:"/vpv/BookItNowRecurringError"})},trackCalendarViewSwitchEvents:function(viewType){typeof ga=="function"&&viewType.length>0&&ga("send","pageview",{page:"/vpv/calendar/"+viewType})},memberVisaStatus:function(userId,venueId){$.get("/Calendar/VisaStatus",{userId:userId,venueId:venueId},function(data){$("#visaStatusContent").html(data)})}};LSHelper.HelperLib={getURLParameter:function(name){return decodeURIComponent((new RegExp("[?|&]"+name+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null},setDeleteIcon:function($image,defUrl,actionUrl){$image=$($image);var $icon=$image.prev(".delete-icon");$image.attr("src")!=defUrl?($icon.length==0&&($icon=$image.before('<span class="delete-icon"><\/span>').prev()),$icon.css("left",$image.width()-10).css("margin-top",-7).click(function(){LSHelper.Dialog.confirmDialog("Image will be deleted. Are you sure?",function(){LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:actionUrl,success:function(data){$image.attr("src",defUrl);$image.load(function(){LSHelper.HelperLib.setDeleteIcon($image,defUrl,actionUrl)})},complete:function(){LSHelper.HelperLib.unblockUI()}})},"Image will be deleted.")})):$icon.remove()},getUrlVars:function(){var vars={},parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value});return vars},getHashSafe:function(){var arr=window.location.href.split("#");return arr!=null&&arr.length>1?decodeURIComponent(arr[1]):null},trackRegex:function(str){try{str=str.replace(/\[/g,"\\[").replace(/\]/g,"\\]");var pattern="(^|;)"+str+"=(.*?);";return new RegExp(pattern)}catch(ex){}},getTrackFromUrl:function(key){var hash=LSHelper.HelperLib.getHashSafe(),result;return hash?(result=LSHelper.HelperLib.trackRegex(key).exec(hash),result!=null&&result.length>1?result[2]:null):null},addTrackToUrl:function(key,value,rewriteHash){var regex,hash,finalStr;document.hashChangedFromTrackToUrl||(document.hashChangedFromTrackToUrl=[]);document.hashChangedFromTrackToUrl.push(1);regex=LSHelper.HelperLib.trackRegex(key);hash="";rewriteHash=rewriteHash==!0;rewriteHash||(hash=LSHelper.HelperLib.getHashSafe()||"");finalStr=";"+key+"="+value+";";hash=!rewriteHash&&LSHelper.HelperLib.getTrackFromUrl(key)?hash.replace(regex,finalStr):hash+finalStr;hash=hash.replace(/^;/,"");window.location.hash=encodeURIComponent(hash)},getBookmarkUrlParams:function(){var q=LSHelper.HelperLib.getTrackFromUrl("q"),result=null,names,paramValues,i;if(q&&q.length>0&&(names=q.match(new RegExp(/@(.*?)=/g)),names!=null))for(paramValues=q.match(new RegExp(/=(.*?)\$/g)),i=0;i<names.length;i++)names[i]=names[i].substr(1,names[i].length-2).replace(/@/g,""),paramValues[i]!=null&&paramValues[i].length>0&&(result==null&&(result={}),result[decodeURIComponent(names[i])]=paramValues[i].replace(/\$/g,"").replace(/=/g,""));return result},setOptionalText:function(elem){(typeof Modernizr=="undefined"||Modernizr.input.placeholder===!1)&&$(elem).each(function(){var $elem=$(this),text=$elem.attr("placeholder"),background=$elem.css("backgroundColor"),borderradius=$elem.css("borderRadius")||$elem.css("MozBorderRadius")||$elem.css("-moz-border-radius")||$elem.css("-webkit-border-radius")||$elem.css("border-radius")||0,width=$elem.outerWidth()+"px";$elem.removeAttr("placeholder");$elem.wrap('<div class="optional-wrapper" style="background-color: '+background+"; border-radius: "+borderradius+"; width: "+width+';"><div class="optional-input-wrapper"><\/div><div class="optional-input-label">'+text+"<\/div><\/div>");$elem.bind("propertychange keyup input paste show change",function(){var $optional=$(this).parent().parent().find(".optional-input-label");$(this).val()?$optional.addClass("hidden"):$optional.removeClass("hidden")}).trigger("propertychange");$elem.parent().next().click(function(){$elem.focus()})})},optionalFieldCollection:{},optionalField:function(selector,emptyVal,emptyClass,emptyValCallback){var selectedClassName="has-focus",optionalFieldBlur=function(e){$(this).removeClass(selectedClassName);f($(this))},optionalFieldChange=function(){f($(this))},optionalFieldKeyUp=function(e){$(this).addClass(selectedClassName);f($(this))},optionalFieldFocus=function(e,_self){_self=_self==null?$(this):$(_self);(_self.is(":focus")||document.activeElement===_self[0]||e!=undefined&&e.type=="clear")&&_self.val()==emptyVal&&(_self.val(""),_self.removeClass(emptyClass),_self.addClass(selectedClassName),$.isFunction(emptyValCallback)&&emptyValCallback(_self))},f;$(selector).unbind("change.optionalField");$(selector).unbind("keyup.optionalField");$(selector).unbind("focus.optionalField");$(selector).unbind("blur.optionalField");$(selector).unbind("clear.optionalField");f=function(elem){elem.val().length!=0&&elem.val()!=emptyVal||elem.hasClass(selectedClassName)?elem.removeClass(emptyClass):(elem.addClass(emptyClass),elem.val(emptyVal).trigger("propertychange"),$.isFunction(emptyValCallback)&&emptyValCallback($(this)))};LSHelper.HelperLib.optionalFieldCollection[selector]!=undefined&&$(selector).removeClass(LSHelper.HelperLib.optionalFieldCollection[selector]);LSHelper.HelperLib.optionalFieldCollection[selector]=emptyClass;$(selector).each(function(){($(this).val().length==0||$(this).val()==emptyVal)&&($(this).addClass(emptyClass),$(this).val(emptyVal).trigger("propertychange"))});$(selector).bind("change.optionalField",optionalFieldChange);$(selector).bind("keyup.optionalField",optionalFieldKeyUp);$(selector).bind("blur.optionalField",optionalFieldBlur);$(selector).bind("focus.optionalField",optionalFieldFocus);$(selector).bind("clear.optionalField",optionalFieldFocus);$(document).ready(function(){$.each($(selector),function(i,val){optionalFieldFocus(null,val)})})},blockUI:function(elem){elem?($(elem).attr("disabled","disabled"),$(elem).find(":button").button({disabled:!0}),$(elem).find(":input").attr("disabled","disabled"),$(elem).find("a.ui-button").addClass("disabled")):$.blockUI({ignoreIfBlocked:!0,message:null,css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"4px","-moz-border-radius":"4px",opacity:.25,color:"#737373"},baseZ:1e4})},unblockUI:function(elem){elem?($(elem).removeAttr("disabled"),$(elem).find(":button").button({disabled:!1}),$(elem).find(":input").removeAttr("disabled"),$(elem).find("a.ui-button").removeClass("disabled")):$.unblockUI()},encodeDataForPaymentGateway:function(formId,braintree){var $newForm=$(formId).clone(),$selectsToFix=$newForm.find("select"),$textAreaToFix;return $.each($(formId).find("select"),function(i,val){$($selectsToFix[i]).val($(val).val())}),$textAreaToFix=$newForm.find("textarea"),$.each($(formId).find("textarea"),function(i,val){$($textAreaToFix[i]).val($(val).val())}),$.each($newForm.find("[data-encrypted-name]"),function(i,val){$(val).val(braintree.encrypt($(val).val()))}),$newForm.formToArray(!0)},submitAjaxForm:function(formId,targetToReplaceId,onSuccess,onFailure,replaceTatgetOnFailure,urlToSubmit,formData,onComplete){if(replaceTatgetOnFailure==undefined&&(replaceTatgetOnFailure=!0),$(formId).valid()){var url=$(formId).attr("action");urlToSubmit!=undefined&&(url=urlToSubmit);jQuery.ajax({type:"POST",url:url,data:formData!=null?formData:$(formId).formToArray(!0),async:!0,success:function(response){if(response.isException){LSHelper.UI.showError(response);onFailure!=undefined&&onFailure(response);return}response===!0||response.toString().toLowerCase()==="true"||response.Result&&response.Result==!0?onSuccess!=undefined&&onSuccess(response):(targetToReplaceId!=undefined&&targetToReplaceId!=""&&targetToReplaceId!=null&&$(targetToReplaceId).html(response),onFailure!=undefined&&onFailure(response))},error:function(xhr,textStatus,errorThrown){var response={};try{response=eval("("+xhr.responseText+")")}catch(ex){}targetToReplaceId!=undefined&&targetToReplaceId!=""&&replaceTatgetOnFailure&&$(targetToReplaceId).html(xhr.response);onFailure!=undefined&&onFailure(response.content)},complete:function(){onComplete!=undefined&&onComplete()}})}else onFailure!=undefined&&onFailure()},submitObjectAsForm:function(obj,formConfiguration){var defaultConfiguration={action:"",method:"POST"},configuration=$.extend({},defaultConfiguration,formConfiguration),$form=$("<form/>",{action:configuration.action,method:configuration.method});for(var property in obj)obj.hasOwnProperty(property)&&$form.append($("<input>",{name:property,value:obj[property],type:"hidden"}));$("body").append($form);$form.submit()},FillParallelDropDown:function(url,destElem,dataValue,onSuccess){destElem.attr("disabled","disabled");jQuery.ajax({type:"POST",url:url,async:!0,data:dataValue,success:function(result){destElem.removeAttr("disabled");var resultValue=eval(result);LSHelper.HelperLib.FillDropDownWithJSon(destElem,resultValue);onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(resultValue)},error:function(XMLHttpRequest,textStatus,errorThrown){destElem.removeAttr("disabled")}})},fillDropDownWithObject:function(destObject,dataObject,desiredValue,propertySelector,propertyFilter){var listItems="<option value=''>Not Selected<\/option>";for(var i in dataObject)(propertyFilter===undefined||propertyFilter(dataObject[i]))&&(listItems+="<option value='"+i+"'"+(desiredValue==i?" selected ":"")+">"+(propertySelector===undefined?dataObject[i]:propertySelector(dataObject[i]))+"<\/option>");$(destObject).html(listItems)},integrationReservationOwnersLoaded:!1,loadIntegrationReservationOwners:function(url,dropDownSelector,venueId,workspaceId){if(!this.integrationReservationOwnersLoaded){var dropDown=$(dropDownSelector),selected=dropDown.find(":selected");LSHelper.HelperLib.FillParallelDropDown(url,dropDown,{venueId:venueId,workspaceId:workspaceId},function(){dropDown.find("option").removeAttr("selected");selected.each(function(index,elem){jQuery(dropDown[index]).find('[value="'+jQuery(selected[index]).val()+'"]').attr("selected","selected")});this.integrationReservationOwnersLoaded=!0})}},FillDropDownWithJSon:function(destElem,inData){var optionList="";for(var i in inData)optionList+="<option value='"+inData[i].Value+"'>"+inData[i].Text+"<\/option>";destElem.html(optionList)},correctDialogTitleWidth:function(item){var closeIconWidth,contentWidth;$.browser.msie&&parseInt($.browser.version,10)==7&&(closeIconWidth=$(item).parent().find(".ui-dialog-titlebar-close").width(),closeIconWidth>0&&(closeIconWidth=closeIconWidth-4),contentWidth=$(item).width()-closeIconWidth,$(item).parent().find(".ui-dialog-titlebar").each(function(){$(this).width(contentWidth)}),$(item).parent().find(".dialog-bottom-line").each(function(){$(this).width($(item).width()+closeIconWidth)}))},popUp:function(elem,content,showCloseBtn,css){var $wrappper,$closeBtn,offset;return $(".popUp-wrapper").length?($wrappper=$(".popUp-wrapper"),$wrappper.removeAttr("style"),$wrappper.find(".popUp-content").html(content)):($wrappper=$('<div class="popUp-wrapper"><div class="popUp-content">'+content+'<\/div><div class="popUp-extender"><img src="/Content/images/icons/map-popup-bottom2.png" alt="" /><\/div><\/div>'),showCloseBtn&&($closeBtn=$('<div class="popUp-close">&nbsp;<\/div>'),$closeBtn.bind("click",function(){$(this).parent().hide()}),$wrappper.append($closeBtn)),$wrappper.appendTo("body")),offset=$(elem).offset(),css&&$wrappper.css(css),$wrappper.css({top:offset.top-$wrappper.height()-10+"px",left:offset.left-$wrappper.width()/2+$(elem).width()/2+"px"}),$wrappper.show(),$wrappper},showDialog:function(options){var overflow,div,opts,f;if(options)if(overflow=options.overflow==null?"overflow:hidden;":options.overflow,div=null,options.useDivId?div=$("#"+options.useDivId):($("#"+options.divId).length!=0&&$("#"+options.divId).remove(),$("body").append('<div style="'+overflow+'height:0px;visibility:hidden;" id="'+options.divId+'"><\/div>'),div=$("#"+options.divId)),opts=$.extend({},{close:function(){$.browser.msie&&parseInt($.browser.version,10)==7&&$(this).parent().css("width","auto");$.isFunction(options.onclose)&&options.onclose();options.useDivId||div.remove()}},options.dialogOptions),opts.position&&opts.position!="center"||(opts.position={collision:"none",using:function(pos){var topOffset=$(this).css(pos).offset().top,windowTop=$(window).scrollTop();topOffset<windowTop&&$(this).css("top",windowTop)}}),$.isFunction(opts.open)?(f=opts.open,opts.open=function(ev,item){div.css("visibility","visible");options.roundedBorders||($(".ui-dialog-titlebar").removeClass("ui-corner-all"),$(".ui-dialog").removeClass("ui-corner-all"));setTimeout(function(){$(document).unbind("mousedown.dialog-overlay").unbind("mouseup.dialog-overlay")},100);LSHelper.HelperLib.correctDialogTitleWidth(ev!=null?ev.target:item);f()}):opts.open=function(ev,item){div.css("visibility","visible");options.roundedBorders||($(".ui-dialog-titlebar").removeClass("ui-corner-all"),$(".ui-dialog").removeClass("ui-corner-all"));LSHelper.HelperLib.correctDialogTitleWidth(ev!=null?ev.target:item)},opts.closeText||(opts.closeText="&nbsp;"),options.predraw&&div.dialog(opts),options.url)LSHelper.HelperLib.blockUI(),div.load(options.url,options.data,function(responseText,textStatus,xhr){xhr.status==530&&typeof document.notLoggedInCallBack!="undefined"&&document.notLoggedInCallBack!=null&&$.isFunction(document.notLoggedInCallBack)||LSHelper.HelperLib.unblockUI();var obj=null;try{if(obj=$.parseJSON(xhr.responseText),obj!=null&&obj.isException&&(LSHelper.UI.showError(obj),options.onError!=null&&$.isFunction(options.onError)))options.onError(obj.content,obj.title,xhr)}catch(ex){}if(obj==null)if(textStatus=="error"){if(options.onError!=null&&$.isFunction(options.onError))options.onError(responseText,textStatus,xhr)}else options.predraw||(div.dialog(opts),div.offset().left<0&&div.parent(".ui-dialog").css("left",""))});else if(options.html){$.isFunction(opts.preOpen)&&opts.preOpen(null,$("#"+options.divId));try{$(options.html).show()}catch(ex){}div.empty().append(options.html);div.find("button, input:submit, input:button, .dhx_btn_set").button();$.isFunction(opts.afterOpen)&&opts.afterOpen(div);options.predraw||div.dialog(opts)}else options.useDivId&&div.dialog(opts)},autoEllipseTextShowDetails:function(item){var div=$(item).closest(".short-content");div.hide();div.next().show()},autoEllipseTextHideDetails:function(item){var div=$(item).closest(".full-content");div.hide();div.prev().show()},autoEllipse:function(params){params=$.extend({selector:null,inwidth:null,inheight:null,position:null,queueProcessing:null,isForPopUp:null,showMoreButton:null,showMoreButtonTitle:null,showMoreButtonAction:null,showMoreButtonLink:null,showEllipses:null,strPostProcess:null},params);LSHelper.HelperLib.autoEllipseText(params.selector,params.inwidth,params.inheight,params.position,params.queueProcessing,params.isForPopUp,params.showMoreButton,params.showMoreButtonTitle,params.showMoreButtonAction,params.showMoreButtonLink,params.showEllipses,params.strPostProcess)},autoEllipseText:function(selector,inwidth,inheight,position,queueProcessing,isForPopUp,showMoreButton,showMoreButtonTitle,showMoreButtonAction,showMoreButtonLink,showEllipses,strPostProcess){function getWidthHeightFromClassName(str){var index=str.indexOf("autoEllipseText"),result={width:inwidth,height:inheight},temp,xIndex;return index!=-1&&(temp=str.substring(index+15,str.length),xIndex=temp.indexOf("x"),xIndex!=-1?(result.width=parseInt(temp.substring(0,xIndex)),result.height=parseInt(temp.substring(xIndex+1,temp.length))):result.width=parseInt(temp)),result}var getStyle,$selector;if(queueProcessing==undefined&&(queueProcessing=!0),isForPopUp==undefined&&(isForPopUp=!0),showMoreButton==undefined&&(showMoreButton=!1),showEllipses==undefined&&(showEllipses=!1),getStyle=function(el,styleProp){var camelize=function(str){return str.replace(/\-(\w)/g,function(str,letter){return letter.toUpperCase()})};return el.currentStyle?el.currentStyle[camelize(styleProp)]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(el,null).getPropertyValue(styleProp):el.style[camelize(styleProp)]},$selector=$(selector),$selector.length!=0){var fs=getStyle($selector[0],"font-size"),ff=getStyle($selector[0],"font-family"),fw=getStyle($selector[0],"font-weight"),ln=getStyle($selector[0],"line-height");ln=(isNaN(parseInt(ln))?parseInt(fs)+2:parseInt(ln))+"px";var cssStr="font-size:"+fs+";font-family:"+ff+";font-weight:"+fw+";line-height:"+ln+";",myEllipsis=new FastEllipsis(cssStr),text_replacement="^see_more^",dim=getWidthHeightFromClassName($($(selector)[0]).attr("class")),assignFromDim=inwidth==undefined&&inheight==undefined,width=assignFromDim?dim.width:inwidth,height=assignFromDim?dim.height:inheight,completed_class="autoellipse-completed";$.each($(selector),function(i,val){var $val=$(val),h=height==null?1:Math.floor(height/parseInt(ln)),aText,wasEllipserApplied;if(!$val.hasClass(completed_class)){var originalString=$val.html(),ellipsed=myEllipsis.ellipseIt(originalString,h,width,showMoreButton?text_replacement:"..."),$span=null;showMoreButton&&((showMoreButtonTitle==undefined||showMoreButtonTitle=="")&&(showMoreButtonTitle="See more"),(showMoreButtonAction==undefined||showMoreButtonAction=="")&&(showMoreButtonAction="LSHelper.HelperLib.autoEllipseTextShowDetails(this); return false;"),(showMoreButtonLink==undefined||showMoreButtonLink=="")&&(showMoreButtonLink="#"),aText='<a class="expand-link" href="'+showMoreButtonLink+'" onclick="'+showMoreButtonAction+'">'+showMoreButtonTitle+"<\/a>",ellipsed=ellipsed.replace(text_replacement,aText));wasEllipserApplied=ellipsed!=$val.html();try{$val.data("tooltipsterContent")&&$val.tooltipster("destroy")}catch(ex){}wasEllipserApplied&&($span=height==undefined?$('<span class="short-content" style="white-space:nowrap;">'+ellipsed+"<\/span>"):$('<span class="short-content" style="white-space:normal;display: inline-block;">'+ellipsed+"<\/span>"),$val.html(""),$val.append($span),isForPopUp?($val.css("cursor","help"),position==undefined?$val.tooltipster({content:originalString}):$val.tooltipster({content:originalString})):showMoreButton&&$span.after("<div style='display:none;' class='full-content'>"+originalString+" <a class='expand-link' href='#' onclick='LSHelper.HelperLib.autoEllipseTextHideDetails(this);return false;'>See less<\/a><\/div>"));strPostProcess!=null&&$.isFunction(strPostProcess)&&strPostProcess($val);$val.addClass(completed_class);$val.css("visibility","visible")}})}},radioButtonListChangeState:function(selector,obj){$(selector).next().css("font-weight","normal");$(obj).next().css("font-weight","bold")},restoreFormData:function(data,selector,isCheckBoxList){var nameCount,elem;for($(selector).find('[type="radio"]').attr("checked",!1),$(selector).find('[type="checkbox"]:not(:disabled)').attr("checked",!1),i=0;i<data.length;i++){if(nameCount=0,!isCheckBoxList)for(j=0;j<i;j++)data[i].name==data[j].name&&nameCount++;if(elem=isCheckBoxList?$(selector).find('[value="'+data[i].value+'"][name="'+data[i].name+'"]:not(:disabled)'):$(selector).find('[name="'+data[i].name+'"]:eq('+nameCount.toString()+"):not(:disabled)"),elem.length>0)switch(elem[0].type){case"checkbox":isCheckBoxList?elem.attr("checked",!0):data[i].value=="true"||data[i].value=="on"?elem.attr("checked",!0):elem.removeAttr("checked");break;case"radio":$.each(elem,function(k,v){v.value==data[i].value&&($(v).attr("checked",!0),$(v).click())});break;default:elem.val(data[i].value)}}},wasFormDataChanged:function(originalFormData,currentFormData,replaceNewLine){for(var origValue,newValue,wasChanged=!1,j=0;j<originalFormData.length;j++)origValue=originalFormData[j].value,typeof currentFormData[j]=="undefined"?wasChanged=!0:(newValue=currentFormData[j].value,replaceNewLine&&(origValue=origValue.replace(/\n/g,"").replace(/ /g,""),newValue=newValue.replace(/\n/g,"").replace(/ /g,"")),(originalFormData.length!=currentFormData.length||origValue!=newValue)&&(wasChanged=!0));return wasChanged},downloadFile:function(fileUrl){var downloadIframe=jQuery("#downloadframe");return downloadIframe.length==0?jQuery("body").append('<iframe style="position:absolute; left:-10000px; visible:hidden;" src="'+fileUrl+'" id="downloadframe" />'):downloadIframe.attr("src",fileUrl),!1},fixDisabledCheckboxes:function(){jQuery(":disabled:checkbox").each(function(){var checkboxElem=jQuery(this);jQuery(':hidden[name="'+checkboxElem.attr("name")+'"]').val(checkboxElem.attr("checked")==undefined?!1:!0)})},sendFormToLink:function(formId,link){var destForm=jQuery("#"+formId),destLink=jQuery(link);destForm.attr("action",destLink.attr("href"));destForm.submit()},changeDisabled:function(obj){$(obj).attr("disabled")?$(obj).removeAttr("disabled"):$(obj).attr("disabled","disabled")},changeReadonly:function(obj){$(obj).attr("readonly")?$(obj).removeAttr("readonly"):$(obj).attr("readonly","readonly")},closedClicked:function(elem,id,messageType,defaultValueOpening,defaultValueClosing){var timeElem=$("#time"+id),open=$(".opened"+id)[0],close=$(".closed"+id)[0];switch(messageType){case 0:$("#closed"+id).html("CLOSED");$(elem).is(":checked")&&$(open).removeAttr("checked");break;case 1:$("#closed"+id).html("Open 24 hours");$(elem).is(":checked")&&$(close).removeAttr("checked");break}timeElem.css("display","none");$("#closed"+id).css("display","none");$("#closed"+id).next().css("display","none");$(elem).is(":checked")?($("#closed"+id).css("display","inline"),timeElem.children().attr("disabled","disabled")):(timeElem.css("display","inline"),$("#closed"+id).next().css("display","inline"),timeElem.children().removeAttr("disabled"),timeElem.find('[name$="OffsetToOpening"]').val()==timeElem.find('[name$="OffsetToClosing"]').val()&&(timeElem.find('[name$="OffsetToOpening"]').val(defaultValueOpening),timeElem.find('[name$="OffsetToClosing"]').val(defaultValueClosing)))},animateMarkedElementFlashing:function(elementToAnimate,flashStep,maxPosition){elementToAnimate.css("background-position","0 -"+Math.round(maxPosition*flashStep/2e4).toString()+"px");flashStep+=50;flashStep<2e4?setTimeout(function(){LSHelper.HelperLib.animateMarkedElementFlashing(elementToAnimate,flashStep,maxPosition)},50):elementToAnimate.removeClass("markedGlow")},validateEmail:function(value){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value)},isIE7:function(){return jQuery.browser.msie&&jQuery.browser.version==7},tmplFormatDate:function(str,format,useClientTime,uriEncode){var date,res;return uriEncode==undefined&&(uriEncode=!1),useClientTime==undefined&&(useClientTime=!1),format==undefined&&(format="g"),date=Date.fromISO(str),isNaN(date)&&(date=parseJsonDate(str)),date!=undefined?(useClientTime&&(date=date.addMinutes((new Date).getTimezoneOffset())),res=date.cformat(format),uriEncode&&(res=encodeURIComponent(res)),res):""},tryGetDate:function(strDate){var startDate=strDate?Date.fromISO(strDate):!1;return isNaN(startDate)&&(startDate=parseJsonDate(strDate)),startDate||(startDate=null),startDate},addMinutesToDate:function(date,minutes){return new Date(date.getTime()+parseInt(minutes)*6e4)},openElementContent:function(elem,selectorId){var $p,setCoord;selectorId||(selectorId="priceRatesInfo");$p=$("#"+selectorId);$p.appendTo(document.body);setCoord=function(){var _offset=$(elem).offset(),_w=$p.width(),_h=$p.height(),_l;$.browser.msie&&$p.find(".elem-extender").css("margin-top","-3px");_l=Math.round(_offset.left-_w/2)+7;$p.css("top",_offset.top-_h-10).css("left",_l>0?_l<$(window).width()-_w?_l:$(window).width()-_w:0)};setCoord();$p.show();$(document).bind("scroll."+selectorId,function(){setTimeout(setCoord,1)})},closeElementContent:function(selectorId){$(document).unbind("scroll."+selectorId);$("#"+selectorId).hide()},inputFocus:function(elem,defaultText){$(elem).val()==defaultText&&($(elem).val(""),$(elem).addClass("focused"))},inputFocusOut:function(elem,defaultText){$(elem).val()==""&&($(elem).val(defaultText),$(elem).removeClass("focused"))},registerForNewsletterClearValidators:function(){$("#formRegisterForNewsletter").removeData("validator");$("#formRegisterForNewsletter").removeData("unobtrusiveValidation");$.validator.unobtrusive.parse($("#formRegisterForNewsletter"))},registerForNewsletter:function(isV2){$("#formRegisterForNewsletter").valid()&&(LSHelper.HelperLib.blockUI(),$.ajax({url:"/Account/RegisterForNewsletter",async:!0,type:"POST",data:$("#formRegisterForNewsletter").serialize(),success:function(result){isV2?$("#formRegisterForNewsletter").html("<h2>Thank you!<\/h2><div>We're excited to have you as part of our family. Woo-hoo!<\/div>"):$("#sign-up-inner").html(result)},complete:function(){LSHelper.HelperLib.unblockUI()}}))},manageFooterSignUp:function(defaultText){$("#txtRegisterForNewsletterEmail").length>0&&($("#formRegisterForNewsletter").validate(),$("#txtRegisterForNewsletterEmail").focus(function(e){return LSHelper.HelperLib.inputFocus(this,defaultText),!1}),$("#txtRegisterForNewsletterEmail").focusout(function(e){return LSHelper.HelperLib.inputFocusOut(this,defaultText),!1}),$("#btnFooterSignUp").click(function(e){return e.preventDefault(),LSHelper.HelperLib.registerForNewsletter(),!1}),$("#txtRegisterForNewsletterEmail").keypress(function(event){event.which==13&&(event.preventDefault(),LSHelper.HelperLib.registerForNewsletter())}))},openSharePopup:function(href,title){title=title||"LiquidSpace - Share";var w=500,h=500,left=window.screen.width/2-w/2,top=window.screen.height/2-h/2,shareWindow=window.open(href,"_blank","height="+h+",width="+w+",left="+left+",top="+top);shareWindow.document.title=title}};LSHelper.Workspace={rebuildAvailabilityWorm:function(parentSelector,topoffset){topoffset||(topoffset=0);parentSelector=parentSelector?parentSelector+" ":"";$(parentSelector+".availability-worm-square-timeline").mouseover(function(){var $worm=$(".worm-square-tooltip"),topcoord;$worm.appendTo(document.body);topcoord=$(this).offset().top;$(document).unbind("mousemove.worm");$(document).bind("mousemove.worm",function(e){$worm.css({left:e.pageX-59,top:topcoord-67-topoffset})}).trigger("mousemove.worm");$worm.show()});$(parentSelector+".availability-worm-square-timeline").mouseout(function(){$(".worm-square-tooltip").hide();$(document).unbind("mousemove.worm")});$(parentSelector+".half-hour").mouseover(function(){var $hourSquare=$($(this).parent()),hourOrder=parseInt($hourSquare.attr("data-order")),hour=(hourOrder+3)%12,isFirstHour=$(this).hasClass("first-half"),hourString,hourclass;if(hour==0&&(hour=12),hourString=hour+":"+(isFirstHour?"00":"30")+" "+(hourOrder>8?"pm":"am"),$(".worm-square-tooltip-time").text(hourString),$(this).hasClass("hour-square-wrapper-busy")){$(".worm-square-tooltip-label").text("Your Meeting");return}if(hourclass=$hourSquare.attr("class").split(" ")[1].split("-")[isFirstHour?0:1],hourclass.indexOf("own")>=0){$(".worm-square-tooltip-label").text("Your Reservation");return}if(hourclass.indexOf("booked")>=0){$(".worm-square-tooltip-label").text("Booked");return}if(hourclass.indexOf("available")>=0){$(".worm-square-tooltip-label").text("Available");return}if(hourclass.indexOf("closed")>=0){$(".worm-square-tooltip-label").text("Closed");return}})},quickLook:function(params){var options={workspaceId:null,venueId:null,bookItFunction:function(){LSHelper.Calendar.editReservation({ev:{id:"",workspace_id:options.workspaceId,venue_id:options.venueId},reservationSourcePage:LSHelper.Calendar.reservationSourceNames.Calendar})},autoClose:!0};$.extend(options,params);LSHelper.HelperLib.showDialog({divId:"workspaceQuickLook",dialogOptions:{dialogClass:"noTitleStuff",modal:!0,minWidth:560,title:"Quick Look",resizable:!1,open:function(){$("#workspaceQuickLook .book-it-button").click(function(){options.autoClose&&$("#workspaceQuickLook").dialog("close");options.bookItFunction()})},close:function(){$("#priceRatesInfo").hide()}},roundedBorders:!1,url:"/Workspace/QuickLook/",data:{workspaceId:options.workspaceId,venueId:options.venueId}})},toggleRatesDisplay:function(elem,event){event&&event.stopPropagation();var $elem=$(elem),$wrapper=$elem.next(),expandedClass="expanded";$wrapper.hasClass(expandedClass)?($elem.html("Show Rates"),$wrapper.removeClass(expandedClass)):($elem.html("Hide Rates"),$wrapper.addClass(expandedClass))}};LSHelper.Diagnostics={console:{stopPoll:!1},consolePoller:function(queryUrl,parentSelector){if(!LSHelper.Diagnostics.console.stopPoll){var parentElement=jQuery(parentSelector);setTimeout(function(){jQuery.ajax({url:queryUrl,async:!0,cache:!1,dataType:"json",success:function(result){parentElement.find(".consoleLine").remove();for(var lineNdx=0;lineNdx<result.length;lineNdx++)parentElement.append("<div class='consoleLine'><span class='consoleTaskTime'>"+result[lineNdx].CreateTime+"<\/span><span class='consoleTaskName'>"+result[lineNdx].TaskName+"&gt;<\/span><span>"+result[lineNdx].Text+"<\/span><\/div>");LSHelper.Diagnostics.consolePoller(queryUrl,parentSelector)}})},3e3)}},runConsoleTask:function(url){jQuery.ajax({url:url,async:!0,cache:!1})}};LSHelper.HooExceptions={weekGridToDataArray:function(){var result=[];return $("#weekGrid tr").each(function(index,item){var data=$(item).formToArray(!0);data&&data.length>0&&(result[index-1]=data.length==6?{open:null,close:null,isClosed:data[0].value,isOpen24h:data[1].value,day:data[4].value}:{open:data[0].value,close:data[1].value,isClosed:data[2].value,isOpen24h:data[3].value,day:data[5].value})}),result},wasTimeSlotChanged:function(originalGridData){for(var currentGridData=LSHelper.HooExceptions.weekGridToDataArray(),wasTimeDecreased=!1,i=0;i<currentGridData.length;i++)(currentGridData[i].isClosed=="true"&&originalGridData[i].isClosed=="false"||currentGridData[i].open>originalGridData[i].open||currentGridData[i].close<originalGridData[i].close)&&(wasTimeDecreased=!0);return wasTimeDecreased}};LSHelper.SystemActivity={oldActivityData:null,systemActivityMonitoring:function(activityDataUrl,onSuccessCallback){LSHelper.SystemActivity.pollActivityData(activityDataUrl,function(data,oldData){onSuccessCallback(data,oldData);setInterval(function(){LSHelper.SystemActivity.pollActivityData(activityDataUrl,onSuccessCallback)},3e4)})},pollActivityData:function(activityDataUrl,onSuccessCallback){jQuery.ajax({url:activityDataUrl,data:{},success:function(data){onSuccessCallback(data,LSHelper.SystemActivity.oldActivityData);LSHelper.SystemActivity.oldActivityData=data}})}};LSHelper.Reservation={confirmationMessage:function(isMonthly){var cancellationPolicyLink="/Terms/Hourly-Space-License-Agreement",cancellationPolicyText="24 Hour Cancellation Policy";return isMonthly&&(cancellationPolicyLink="/Terms/Monthly-Space-License-Agreement",cancellationPolicyText="Flexible Cancellation Policy"),'This reservation will be deleted immediately. Information about refunds is available on <a href="'+cancellationPolicyLink+'" target="_blank">'+cancellationPolicyText+"<\/a> page."},deleteReservation:function(resId,onSuccess,onError,occurrenceDate,applyDate,recurrentEditType,beforeActionFunc,isMonthly,memberId,IsCreditCardPayment,isVenueAdmin,organizerName){var message,title,yesButton,noButton;IsCreditCardPayment&&isVenueAdmin?(organizerName=organizerName||"Organizer",message=organizerName+" paid for this reservation with LiquidSpace and is expecting this space.<br /><br />If "+organizerName+" called you to cancel, then it's ok to cancel. Otherwise, please move the customer to a better space. <a href='https://support.liquidspace.com/hc/en-us/articles/204185129-Editing-Guest-Reservations' target='_blank'>Learn how.<\/a><br /><br />If you have no alternative, <a href='mailto:support@liquidspace.com' target='_blank'>contact support<\/a> immediately.",title="Wait! Don't leave "+organizerName+" without a space...",yesButton="Cancel Reservation",noButton="Don't Cancel Reservation"):(message=LSHelper.Reservation.confirmationMessage(isMonthly),title="Are You Sure You Want to Cancel?",yesButton="Yes",noButton="No");LSHelper.Dialog.confirmDialog(message,function(){beforeActionFunc&&jQuery.isFunction(beforeActionFunc)&&beforeActionFunc();LSHelper.Reservation.deleteAction(resId,onSuccess,onError,!1,occurrenceDate,applyDate,memberId)},title,null,yesButton,null,noButton)},deleteAction:function(reservationId,onSuccess,onError,async,occurrenceDate,applyDate,memberId){async=async==null?!0:async;async||LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:"/Calendar/DeleteReservation",data:{id:reservationId,occurrenceDate:occurrenceDate,applyDate:applyDate,memberId:memberId},async:!0,success:function(result){if(result.isException){LSHelper.UI.showError(result);onError&&jQuery.isFunction(onError)&&onError();return}onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){onError&&jQuery.isFunction(onError)&&onError()},complete:function(){async||LSHelper.HelperLib.unblockUI()}})},checkIn:function(reservationId,memberId,wasCheckInConfirmed,onSuccess,onError,throwException,occurrenceDate){throwException==null&&(throwException=!0);$.ajax({type:"POST",url:"/Calendar/CheckInReservation",data:{id:reservationId,checkInMemberId:memberId,throwException:throwException,wasCheckInConfirmed:wasCheckInConfirmed,occurrenceDate:occurrenceDate},async:!0,success:function(result){$.unblockUI();onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){$.unblockUI();onError&&jQuery.isFunction(onError)&&onError()}})},checkout:function(reservationId,checkOutMemberId,onStart,onSuccess,onError,occurrenceDate){onStart&&jQuery.isFunction(onStart)&&onStart();$.ajax({type:"POST",url:"/Calendar/CheckOutReservation/",data:{id:reservationId,checkOutMemberId:checkOutMemberId,occurrenceDate:occurrenceDate},async:!0,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){onError&&jQuery.isFunction(onError)&&onError()}})},undocheckinout:function(reservationId,checkInOutMemberId,currentState,onStart,onSuccess,onError,occurrenceDate){onStart&&jQuery.isFunction(onStart)&&onStart();$.ajax({type:"POST",url:"/Calendar/UndoCheckInOutReservation/",data:{id:reservationId,checkInOutMemberId:checkInOutMemberId,currentState:currentState,occurrenceDate:occurrenceDate},async:!0,success:function(result){onSuccess&&jQuery.isFunction(onSuccess)&&onSuccess(result)},error:function(xhr,ajaxOptions,thrownError){onError&&jQuery.isFunction(onError)&&onError()}})},RecurrenceEditTypes:{AllEvents:1,SingleEvent:2,AllFollowing:3},RecurrentDialogModes:{edit:"edit",del:"del"},showRecurrentDialog:function(mode,callback){var recurrenceDialogViewModel,dialogParams;$.isFunction(callback)&&(LSHelper.Reservation.RecurrentDialogModes[mode]||(mode=LSHelper.Reservation.RecurrentDialogModes.edit),recurrenceDialogViewModel={mode:ko.observable(mode)},recurrenceDialogViewModel.texts=ko.computed(function(){var result={};switch(recurrenceDialogViewModel.mode()){case LSHelper.Reservation.RecurrentDialogModes.edit:result={title:"Edit recurring reservation",caption:"Would you like to change only this reservation or all reservations in the series?",all:"All reservations in the series will be changed (Any changes made to other reservations will be kept).",single:"All other reservations in the series will remain the same.",allfollowing:"This and all the following reservations will be changed."};break;case LSHelper.Reservation.RecurrentDialogModes.del:result={title:"Delete recurring reservation",caption:"Would you like to delete only this reservation or all reservations in the series?",all:"All reservations in the series will be deleted.",single:"All other reservations in the series will remain.",allfollowing:"This and all the following reservations will be deleted."};break}return result}),dialogParams={overflow:"overflow:visible;",dialogOptions:{title:recurrenceDialogViewModel.texts().title,resizable:!1,modal:!0,width:"500px",heigth:"auto",position:"center",open:function(){var $content=$("#bin-recurrence-popup"),$rDialog=$content.hasClass("ui-dialog")?$content:$content.parent(),elem=this;$content.show();recurrenceDialogViewModel.callback=function(_mode){$rDialog.dialog("close");callback(elem,{recurrenceEditType:_mode})};recurrenceDialogViewModel.close=function(){$rDialog.dialog("close")};ko.cleanNode($content[0]);ko.applyBindings(recurrenceDialogViewModel,$content[0])}}},dialogParams.url="/Calendar/RecurrenceDialog",LSHelper.HelperLib.showDialog(dialogParams))},quickLook:function(params){var options={reservationId:null,occurrenceDate:null,divId:"reservationQuickLook",checkInFunction:function(){options.$dialog.dialog("close");LSHelper.Reservation.checkIn(options.reservationId)},checkOutFunction:function(){options.$dialog.dialog("close");LSHelper.Reservation.checkout(options.reservationId)},editFunction:function(){options.$dialog.dialog("close");LSHelper.Calendar.editReservation({ev:{id:options.reservationId},reservationSourcePage:LSHelper.Calendar.reservationSourceNames.Calendar})},deleteFunction:function(){options.$dialog.dialog("close");deleteReservation(options.reservationId)},stopAutoRenewSuccessFunc:function(){},init:function(){options.$dialog=$("#"+options.divId);options.$checkInButton=options.$dialog.find(".check-in-button");options.$checkOutButton=options.$dialog.find(".check-out-button");options.$editButton=options.$dialog.find(".edit-button");options.$deleteButton=options.$dialog.find(".delete-button");options.$stopAutoRenew=options.$dialog.find(".stop-renew-button");options.$checkInButton.click(function(){options.checkInFunction()});options.$checkOutButton.click(function(){options.checkOutFunction()});options.$editButton.click(function(){options.editFunction()});options.$deleteButton.click(function(){options.deleteFunction()});options.$stopAutoRenew.click(function(){var opt={reservationId:options.reservationId,memberId:options.memberId,onSuccessFunc:function(){options.$stopAutoRenew.attr("disabled","disabled");options.stopAutoRenewSuccessFunc&&jQuery.isFunction(options.stopAutoRenewSuccessFunc)&&options.stopAutoRenewSuccessFunc()}};LSHelper.Calendar.stopAutoRenew(opt)})},refresh:function(success){$.ajax({url:"/Calendar/QuickLook/",type:"POST",data:{reservationId:options.reservationId,occurrenceDate:options.occurrenceDate},success:function(result){options.$dialog.html(result);options.$dialog.find(".buttons button").button();options.init();$.isFunction(success)&&success()}})}};if($.extend(options,params),!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(options.reservationId))throw"Invalid reservationId at "+window.location.toString();return LSHelper.HelperLib.showDialog({divId:options.divId,dialogOptions:{modal:!0,minWidth:580,title:"Reservation Details",resizable:!1,open:function(){options.init()}},roundedBorders:!1,url:"/Calendar/QuickLook/",data:{reservationId:options.reservationId,occurrenceDate:options.occurrenceDate}}),options}};LSHelper.Validation={checkRegexp:function(o,regexp,n,onFalse){return regexp.test(o.val())?!0:(onFalse!=undefined&&jQuery.isFunction(onFalse)&&onFalse(o,n),!1)},checkLength:function(o,n,min,max,onFalse){return o.val().length>max||o.val().length<min?(onFalse!=undefined&&jQuery.isFunction(onFalse)&&onFalse(o,n,min,max),!1):!0},checkNotEmpty:function(o,onFalse){return o.val().length==0?(onFalse!=undefined&&jQuery.isFunction(onFalse)&&onFalse(o),!1):!0}};LSHelper.MemberGroup={deleteGroupElement:function(item,id,groupId,confirmMessageStart,actionURL,gridElement){LSHelper.Dialog.confirmDialog(confirmMessageStart+", are you sure?",function(){LSHelper.HelperLib.blockUI();$.ajax({type:"POST",url:actionURL,data:{id:id,groupId:groupId},success:function(result){gridElement.dataSource.remove(gridElement.selectedItem())},complete:function(){LSHelper.HelperLib.unblockUI()}})},"Are you sure?")}};LSHelper.Report={changeDropDownStatus:function(elem){var parentForm=$(elem).closest("form");elem.checked&&parentForm.find(".dateRangeItem").each(function(index,dateRangeElem){var currentElement=$(dateRangeElem);currentElement.attr("id")==$(elem).val()?(currentElement.find("input,select").removeAttr("disabled"),jQuery("#StartDate,#EndDate").datepicker("disable")):(currentElement.find("input,select").attr("disabled","disabled"),jQuery("#StartDate,#EndDate").datepicker("enable"))})},showReportDialog:function(url,refreshGridUrl,reportIndexUrl,doNotRedirect,useUrlForPost){var isCheckBoxSelected=function(){var memberGroupSection=$("#memberGroupCheckBoxes");return memberGroupSection.length>0?$(".mgcheckbox:checked").length>0?($("#memberGroupsValidator").addClass("field-validation-valid"),!0):($("#memberGroupsValidator").removeClass("field-validation-valid"),$("#memberGroupsValidator > span").removeAttr("style"),!1):!0},dataFunc=function(){var $form=$("#runReportDialog"),$dialog=$("#runReportDialog").parent(),parameterForm=$form.find("form"),data=[];parameterForm.length>0&&(data=$form.formToArray(!0));LSHelper.HelperLib.blockUI($dialog);doNotRedirect&&(data[data.length]={name:"doNotRedirect",value:!0});$.ajax({type:"POST",url:useUrlForPost==null||useUrlForPost==!1?GetUrl("RunReport","Report"):url,data:data,async:!0,success:function(result){result=="true"||result==!0?reportIndexUrl!=null?window.location=reportIndexUrl:(setTimeout(function(){LSHelper.Report.refreshGrid(refreshGridUrl)},2e3),$form.dialog("close")):(LSHelper.HelperLib.unblockUI($dialog),$form.html(result))},error:function(xhr,ajaxOptions,thrownError){LSHelper.HelperLib.unblockUI($dialog)}})},dialogParams={dialogOptions:{resizable:!1,modal:!0,width:557,heigth:"auto",position:"center",title:"Run report parameters",buttons:{"Run Report":function(){setTimeout(function(){if($("#reportParametersForm").length==0)dataFunc();else{var formIsValid=$("#reportParametersForm").valid(),memberGroupSelected=isCheckBoxSelected();formIsValid&&memberGroupSelected&&dataFunc()}},1)},Cancel:function(){jQuery(this).dialog("close")}}},divId:"runReportDialog",url:url};LSHelper.HelperLib.showDialog(dialogParams)},refreshGrid:function(refreshGridUrl,model){model==null&&(model=window.viewModel_reportGrid);$("#refreshButton").button({disabled:!0});$.ajax({type:"POST",url:refreshGridUrl,async:!0,success:function(result){model.dataSource(eval(result));$("#refreshButton").button({disabled:!1})},error:function(xhr,ajaxOptions,thrownError){$("#refreshButton").button({disabled:!1})}})}};LSHelper.Connections={followVenueProfile:function(params){document.notLoggedInCallBack=function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){LSHelper.Connections.followVenueProfile(params)},onlyHeaderReload:!0,signInMessage:"Great "+params.venueFormat+"! Sign In to follow this "+params.venueFormat+".",joinMessage:"To keep track and share your followings, join our community.",popupParams:{mode:params.signInPopUpMode||"join",regType:"FollowVenue",additionalRegData:params.venueId}})};$.ajax({url:"/My/FollowVenueProfile",data:{venueId:params.venueId,memberId:params.memberId,sendSync:params.sendSync},type:"POST",success:function(data){data&&data.success&&params.callback&&$.isFunction(params.callback)&&params.callback()},complete:function(){params.completeCallback&&$.isFunction(params.completeCallback)&&params.completeCallback()}})},removeConnection:function(params){$.ajax({url:"/My/Unfollow",data:{targetId:params.targetId,memberId:params.memberId,sendSync:params.sendSync},type:"POST",success:function(data){data&&data.success&&params.callback&&$.isFunction(params.callback)&&params.callback()},complete:function(){params.completeCallback&&$.isFunction(params.completeCallback)&&params.completeCallback()}})},action:function(button,memberId,targetUserId,unfollowAfterCallback,followAfterCallback){var buttonwrapper=$(button).parent();if(!$(buttonwrapper).hasClass("ui-state-disabled")&&!$(buttonwrapper).hasClass("pending")){$(buttonwrapper).addClass("ui-state-disabled");var _unfollowAfterCallback=function(result){$(buttonwrapper).removeClass("following");$(buttonwrapper).removeClass("mutual");$(buttonwrapper).addClass("follow");unfollowAfterCallback!=undefined&&$.isFunction(unfollowAfterCallback)&&unfollowAfterCallback(result);$(buttonwrapper).removeClass("ui-state-disabled")},_followAfterCallback=function(result){$(buttonwrapper).removeClass("follow");result!=undefined?result.Pending?$(buttonwrapper).addClass("pending"):($(buttonwrapper).addClass("following"),result.MutualApproval&&$(buttonwrapper).addClass("mutual")):$(buttonwrapper).addClass("following");followAfterCallback!=undefined&&$.isFunction(followAfterCallback)&&followAfterCallback(result);$(buttonwrapper).removeClass("ui-state-disabled")},_remindAfterCallback=function(result){$(buttonwrapper).removeClass("remind");result!=undefined&&$(buttonwrapper).addClass("pending")};$(buttonwrapper).hasClass("following")?this.unfollow(button,memberId,targetUserId,undefined,_unfollowAfterCallback):$(buttonwrapper).hasClass("follow")?this.follow(button,memberId,targetUserId,undefined,_followAfterCallback):$(buttonwrapper).hasClass("remind")&&this.remind(button,memberId,targetUserId,undefined,_remindAfterCallback)}},follow:function(button,memberId,targetUserId,beforeCallback,afterCallback){beforeCallback!=undefined&&$.isFunction(beforeCallback)&&beforeCallback();$.ajax({type:"POST",data:{memberId:memberId,targetUserId:targetUserId},url:"/Social/Follow",success:function(result){afterCallback!=undefined&&$.isFunction(afterCallback)&&afterCallback(result)},error:function(xhr,ajaxOptions,thrownError){}})},unfollow:function(button,memberId,targetUserId,beforeCallback,afterCallback){beforeCallback!=undefined&&$.isFunction(beforeCallback)&&beforeCallback();$.ajax({type:"POST",data:{memberId:memberId,targetUserId:targetUserId},url:"/Social/Unfollow",success:function(result){afterCallback!=undefined&&$.isFunction(afterCallback)&&afterCallback(result)},error:function(xhr,ajaxOptions,thrownError){}})},cancelPending:function(button,memberId,targetUserId,beforeCallback,afterCallback){this.unfollow(button,memberId,targetUserId,beforeCallback,afterCallback)},remind:function(button,memberId,targetUserId,beforeCallback,afterCallback){beforeCallback!=undefined&&$.isFunction(beforeCallback)&&beforeCallback();$.ajax({type:"POST",data:{memberId:memberId,targetUserId:targetUserId},url:"/Social/Remind",success:function(result){afterCallback!=undefined&&$.isFunction(afterCallback)&&afterCallback(result)},error:function(xhr,ajaxOptions,thrownError){}})},approve:function(button,memberId,targetUserId,beforeCallback,afterCallback){var buttonwrapper=$(button).parent();$(buttonwrapper).hasClass("ui-state-disabled")||($(buttonwrapper).addClass("ui-state-disabled"),beforeCallback!=undefined&&$.isFunction(beforeCallback)&&beforeCallback(),$.ajax({type:"POST",data:{memberId:memberId,targetUserId:targetUserId},url:"/Social/Approve",success:function(result){afterCallback!=undefined&&$.isFunction(afterCallback)&&afterCallback(result);$(buttonwrapper).removeClass("ui-state-disabled")},error:function(xhr,ajaxOptions,thrownError){$(buttonwrapper).removeClass("ui-state-disabled")}}))},decline:function(button,memberId,targetUserId,beforeCallback,afterCallback){var buttonwrapper=$(button).parent();$(buttonwrapper).hasClass("ui-state-disabled")||($(buttonwrapper).addClass("ui-state-disabled"),beforeCallback!=undefined&&$.isFunction(beforeCallback)&&beforeCallback(),$.ajax({type:"POST",data:{memberId:memberId,targetUserId:targetUserId},url:"/Social/Decline",success:function(result){afterCallback!=undefined&&$.isFunction(afterCallback)&&afterCallback(result)},error:function(xhr,ajaxOptions,thrownError){$(buttonwrapper).removeClass("ui-state-disabled")}}))}};LSHelper.Resizer={resizeUploadButtonText:function(buttonId){$("#"+buttonId).width()<70?($("#"+buttonId+" div.qq-upload-button .qq-upload-button-text").addClass("qq-upload-button-text-light"),$("#"+buttonId+" div.qq-upload-button .qq-upload-button-text").removeClass("qq-upload-button-text"),$("#"+buttonId+" div.qq-upload-button .qq-upload-button-text-light").attr("title","Upload Image")):($("#"+buttonId+" div.qq-upload-button .qq-upload-button-text-light").addClass("qq-upload-button-text"),$("#"+buttonId+" div.qq-upload-button .qq-upload-button-text-light").removeClass("qq-upload-button-text-light"))}};LSHelper.Pricing={showHiddenDiv:function(item,expandText,collapseText){(expandText==undefined||expandText=="")&&(expandText="See other pricing");(collapseText==undefined||collapseText=="")&&(collapseText="Hide other pricing");var parent=$(item).parent(),div=parent.prev();div.is(":visible")?($(item).html(expandText),div.hide()):($(item).html(collapseText),div.show())}};LSHelper.Constants={reservationSearchDaysAhead:function(){return 7}};LSHelper.Enterprise={trackDemoRequest:function(){var google_conversion_id=1019535038,google_conversion_label="EN-8COLE6wYQvr2T5gM",google_conversion_language="en",google_conversion_format="3",google_conversion_color="ffffff",google_conversion_value=0,ticks=Math.floor(1e9*Math.random()),imageSource="https://www.googleadservices.com/pagead/conversion/"+google_conversion_id+"/?label="+google_conversion_label+"&value="+google_conversion_value+"&script=0&ticks="+ticks,image=new Image(1,1);image.src=imageSource;$("body").append(image)}};IE6=navigator.userAgent.indexOf("MSIE 6")>=0?!0:!1;$(document).ready(function(){$(function(){$("ul.dropdown li").hover(function(){$("ul:first",this).css("visibility","visible")},function(){$("ul:first",this).css("visibility","hidden")});$("ul.dropdown li ul li").hover(function(){var offset=$(this).offset(),offset2=$("#topNavigationWrap").offset();$("ul:first",this).css("margin-top",offset.top-offset2.top-45)});$("ul.dropdown li ul li:has(ul)").find("a:first").append(" &raquo; ")})}),function($){$.fn.autoResize=function(options){var settings=$.extend({onResize:function(){},animate:!0,animateDuration:150,animateCallback:function(){},extraSpace:2,limit:1e3},options);return this.filter("textarea").each(function(){if(!$(this).hasClass("autoResizeApplied")){var textarea=$(this).css({resize:"none","overflow-y":"hidden"}),origHeight=textarea.height(),clone=function(){var props=["height","width","lineHeight","textDecoration","letterSpacing"],propOb={};return $.each(props,function(i,prop){propOb[prop]=textarea.css(prop)}),textarea.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(propOb).attr("tabIndex","-1").addClass("autoResizeApplied").insertBefore(textarea)}(),lastScrollTop=null,updateSize=function(){clone.height(0).val($(this).val()).scrollTop(1e4);var scrollTop=Math.max(clone.scrollTop(),origHeight)+settings.extraSpace,toChange=$(this).add(clone);if(lastScrollTop!==scrollTop){if(lastScrollTop=scrollTop,scrollTop>=settings.limit){$(this).css("overflow-y","");return}settings.onResize.call(this);settings.animate&&textarea.css("display")==="block"?toChange.stop().animate({height:scrollTop},settings.animateDuration,settings.animateCallback):toChange.height(scrollTop)}};$(this).addClass("autoResizeApplied");textarea.unbind(".dynSiz").bind("keyup.dynSiz",updateSize).bind("keydown.dynSiz",updateSize).bind("change.dynSiz",updateSize)}}),this.change(),this}}(jQuery);JSON||(JSON={}),function(){"use strict";function f(n){return n<10?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c=="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];value&&typeof value=="object"&&typeof value.toJSON=="function"&&(value=value.toJSON(key));typeof rep=="function"&&(value=rep.call(holder,key,value));switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],Object.prototype.toString.apply(value)==="[object Array]"){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&typeof rep=="object")for(length=rep.length,i=0;i<length;i+=1)typeof rep[i]=="string"&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="",typeof space=="number")for(i=0;i<space;i+=1)indent+=" ";else typeof space=="string"&&(indent=space);if(rep=replacer,replacer&&typeof replacer!="function"&&(typeof replacer!="object"||typeof replacer.length!="number"))throw new Error("JSON.stringify");return str("",{"":value})});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value=="object")for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),v!==undefined?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");})}();window.Liquidspace=window.Liquidspace||{};window.Liquidspace.Common=window.Liquidspace.Common||{};Array.prototype.every||(Array.prototype.every=function(callbackfn,thisArg){"use strict";var T,k,O,len,kValue,testResult;if(this==null)throw new TypeError("this is null or not defined");if(O=Object(this),len=O.length>>>0,typeof callbackfn!="function")throw new TypeError;for(arguments.length>1&&(T=thisArg),k=0;k<len;){if(k in O&&(kValue=O[k],testResult=callbackfn.call(T,kValue,k,O),!testResult))return!1;k++}return!0});Array.prototype.forEach||(Array.prototype.forEach=function(callback,thisArg){var T,k,O,len,kValue;if(this==null)throw new TypeError(" this is null or not defined");if(O=Object(this),len=O.length>>>0,typeof callback!="function")throw new TypeError(callback+" is not a function");for(arguments.length>1&&(T=thisArg),k=0;k<len;)k in O&&(kValue=O[k],callback.call(T,kValue,k,O)),k++});Number.prototype.formatMoney=function(c,d,t){var n=this,c=isNaN(c=Math.abs(c))?2:c,d=d==undefined?",":d,t=t==undefined?".":t,s=n<0?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(c))+"",j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")},function($){$.QueryString=function(a){var b,i,p;if(a=="")return{};for(b={},i=0;i<a.length;++i)(p=a[i].split("="),p.length==2)&&(b[p[0]]=decodeURIComponent(p[1].replace(/\+/g," ")));return b}(window.location.search.substr(1).split("&"))}(jQuery),function($){function _printElement(element,opts){var $elementToPrint=$(element),html=_getMarkup($elementToPrint,opts),popupOrIframe=null,documentToWriteTo=null,printElementID,iframe;opts.printMode.toLowerCase()=="popup"?(popupOrIframe=window.open("","printElementWindow","width=650,height=440,scrollbars=yes"),documentToWriteTo=popup.document):(printElementID="printElement_"+(Math.random()*99999).toString(),iframe=document.createElement("IFRAME"),$(iframe).attr({style:opts.iframeElementOptions.styleToAdd,id:printElementID,className:opts.iframeElementOptions.classNameToAdd}),document.body.appendChild(iframe),documentToWriteTo=iframe.contentWindow.document,iframe=document.frames?document.frames[printElementID]:document.getElementById(printElementID),popupOrIframe=iframe.contentWindow||iframe);documentToWriteTo.open();documentToWriteTo.write(html);documentToWriteTo.close();popupOrIframe.focus()}function _getMarkup(element,opts){var $elementToPrint=$(element),html=[],x;if(html.push("<html><head><title>"+opts.pageTitle+"<\/title>"),opts.overrideElementCSSstring&&opts.overrideElementCSSstring.length>0&&html.push('<style type="text/css">'+opts.overrideElementCSSstring+"<\/style>"),opts.overrideElementCSS&&opts.overrideElementCSS.length>0)for(x=0;x<opts.overrideElementCSS.length;x++)html.push('<link type="text/css" rel="stylesheet" href="'+opts.overrideElementCSS[x]+'" >');else $(document).find("link ").filter(function(){return $(this).attr("rel").toLowerCase()=="stylesheet"}).each(function(){html.push('<link type="text/css" rel="stylesheet" href="'+$(this).attr("href")+'" >')});return html.push('<\/head><body onload="printPage();" style="'+opts.printBodyOptions.styleToAdd+'" class="'+opts.printBodyOptions.classNameToAdd+'">'),html.push('<div class="'+$elementToPrint.attr("class")+'">'+$elementToPrint.html()+"<\/div>"),html.push('<script type="text/javascript">function printPage() { focus();print();'+(opts.leaveOpen?"":"close();")+"}<\/script><\/body><\/html>"),html.join("")}$.fn.printElement=function(options){var mainOptions=$.extend({},$.fn.printElement.defaults,options);return $("[id^='printElement_']").remove(),this.each(function(){var opts=$.meta?$.extend({},mainOptions,$this.data()):mainOptions;_printElement($(this),opts)})};$.fn.printElement.defaults={printMode:"iframe",pageTitle:"",overrideElementCSSstring:"",overrideElementCSS:[],printBodyOptions:{styleToAdd:"padding:10px;margin:10px;",classNameToAdd:""},leaveOpen:!1,iframeElementOptions:{styleToAdd:"position:absolute;width:0px;height:0px;",classNameToAdd:""}}}(jQuery),function($){jQuery.fn.extend({lazyLoad:function(callback){var d=$(window).data("lazyloaders");d||(d=[]);this.each(function(){this.callback=callback;$(this).addClass("lazy-load-processed");d.push(this)});$(window).data("lazyloaders",d);$(d).each(function(i){this&&$.inviewport(this,{threshold:0})&&$(this).showComment()})},showComment:function(){return this.each(function(){this.callback&&$.isFunction(this.callback)&&this.callback(this);var child=$(this).contents().filter(function(){return this.nodeType===8});child!=null&&child.length>0&&child[0].nodeType===8&&(this.innerHTML="",$(this).replaceWith(child[0].nodeValue))})}});$(document).ready(function(){var scrolling=!1;$(window).scroll(function(){scrolling||setTimeout(function(){var d=$(window).data("lazyloaders");if(!d||!d.length){scrolling=!1;return}$(d).each(function(ind){this&&$.inviewport(this,{threshold:0})&&$(this).showComment()});scrolling=!1},100)});$(window).trigger("scroll")});$.belowthefold=function(element,settings){var fold=$(window).height()+$(window).scrollTop();return fold<=$(element).offset().top-settings.threshold};$.abovethetop=function(element,settings){var top=$(window).scrollTop();return top>=$(element).offset().top+$(element).height()-settings.threshold};$.rightofscreen=function(element,settings){var fold=$(window).width()+$(window).scrollLeft();return fold<=$(element).offset().left-settings.threshold};$.leftofscreen=function(element,settings){var left=$(window).scrollLeft();return left>=$(element).offset().left+$(element).width()-settings.threshold};$.inviewport=function(element,settings){return!$.rightofscreen(element,settings)&&!$.leftofscreen(element,settings)&&!$.belowthefold(element,settings)&&!$.abovethetop(element,settings)};$.extend($.expr[":"],{"below-the-fold":function(a,i,m){return $.belowthefold(a,{threshold:0})},"above-the-top":function(a,i,m){return $.abovethetop(a,{threshold:0})},"left-of-screen":function(a,i,m){return $.leftofscreen(a,{threshold:0})},"right-of-screen":function(a,i,m){return $.rightofscreen(a,{threshold:0})},"in-viewport":function(a,i,m){return $.inviewport(a,{threshold:0})}})}(jQuery),function($){$.fn.lsLoading=function(action,params){var options=$.extend({},$.fn.lsLoading.defaults,params);return this.each(function(){var $this=$(this),loader;if(action==="set"){if(!$this.hasClass("reloading")){var screenHeight=$(window).height(),elemHeight=$this.height(),activityHeight=Math.min(screenHeight,elemHeight)/2-34;$this.addClass("reloading");loader=$('<div class="ls-loading"><\/div>').css("top",activityHeight);options.theme&&loader.addClass(options.theme);$this.append(loader)}}else action==="remove"&&($this.removeClass("reloading"),$this.find(".ls-loading").remove())}),this};$.fn.lsLoading.defaults={theme:null}}(jQuery);
/*!
 * Knockout JavaScript library v3.4.0
 * (c) Steven Sanderson - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
(function(){var DEBUG=!1;(function(undefined){var window=this||eval("this"),document=window.document,navigator=window.navigator,jQueryInstance=window.jQuery,JSON=window.JSON;(function(factory){typeof define=="function"&&define.amd?define(["exports","require"],factory):typeof exports=="object"&&typeof module=="object"?factory(module.exports||exports):factory(window.ko={})})(function(koExports,amdRequire){function valuesArePrimitiveAndEqual(a,b){var oldValueIsPrimitive=a===null||typeof a in primitiveTypes;return oldValueIsPrimitive?a===b:!1}function throttle(callback,timeout){var timeoutInstance;return function(){timeoutInstance||(timeoutInstance=ko.utils.setTimeout(function(){timeoutInstance=undefined;callback()},timeout))}}function debounce(callback,timeout){var timeoutInstance;return function(){clearTimeout(timeoutInstance);timeoutInstance=ko.utils.setTimeout(callback,timeout)}}function applyExtenders(requestedExtenders){var target=this;return requestedExtenders&&ko.utils.objectForEach(requestedExtenders,function(key,value){var extenderHandler=ko.extenders[key];typeof extenderHandler=="function"&&(target=extenderHandler(target,value)||target)}),target}function limitNotifySubscribers(value,event){event&&event!==defaultEvent?event==="beforeChange"?this._limitBeforeChange(value):this._origNotifySubscribers(value,event):this._limitChange(value)}function computedDisposeDependencyCallback(id,entryToDispose){entryToDispose!==null&&entryToDispose.dispose&&entryToDispose.dispose()}function computedBeginDependencyDetectionCallback(subscribable,id){var computedObservable=this.computedObservable,state=computedObservable[computedState];state.isDisposed||(this.disposalCount&&this.disposalCandidates[id]?(computedObservable.addDependencyTracking(id,subscribable,this.disposalCandidates[id]),this.disposalCandidates[id]=null,--this.disposalCount):state.dependencyTracking[id]||computedObservable.addDependencyTracking(id,subscribable,state.isSleeping?{_target:subscribable}:computedObservable.subscribeToDependency(subscribable)))}function makeEventHandlerShortcut(eventName){ko.bindingHandlers[eventName]={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var newValueAccessor=function(){var result={};return result[eventName]=valueAccessor(),result};return ko.bindingHandlers.event.init.call(this,element,newValueAccessor,allBindings,viewModel,bindingContext)}}}function makeWithIfBinding(bindingKey,isWith,isNot,makeContextCallback){ko.bindingHandlers[bindingKey]={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var didDisplayOnLastUpdate,savedNodes;return ko.computed(function(){var dataValue=ko.utils.unwrapObservable(valueAccessor()),shouldDisplay=!isNot!=!dataValue,isFirstRender=!savedNodes,needsRefresh=isFirstRender||isWith||shouldDisplay!==didDisplayOnLastUpdate;needsRefresh&&(isFirstRender&&ko.computedContext.getDependenciesCount()&&(savedNodes=ko.utils.cloneNodes(ko.virtualElements.childNodes(element),!0)),shouldDisplay?(isFirstRender||ko.virtualElements.setDomNodeChildren(element,ko.utils.cloneNodes(savedNodes)),ko.applyBindingsToDescendants(makeContextCallback?makeContextCallback(bindingContext,dataValue):bindingContext,element)):ko.virtualElements.emptyNode(element),didDisplayOnLastUpdate=shouldDisplay)},null,{disposeWhenNodeIsRemoved:element}),{controlsDescendantBindings:!0}}};ko.expressionRewriting.bindingRewriteValidators[bindingKey]=!1;ko.virtualElements.allowedBindings[bindingKey]=!0}var ko=typeof koExports!="undefined"?koExports:{},primitiveTypes,defaultEvent,ko_subscribable_fn,observableLatestValue,observableFn,protoProperty,arrayChangeEventName,computedState,protoProp,attrHtmlToJavascriptMap,classesWrittenByBindingKey,hasfocusUpdatingProperty,hasfocusLastValue,captionPlaceholder;ko.exportSymbol=function(koPath,object){for(var tokens=koPath.split("."),target=ko,i=0;i<tokens.length-1;i++)target=target[tokens[i]];target[tokens[tokens.length-1]]=object};ko.exportProperty=function(owner,publicName,object){owner[publicName]=object};ko.version="3.4.0";ko.exportSymbol("version",ko.version);ko.options={deferUpdates:!1,useOnlyNativeEvents:!1};ko.utils=function(){function objectForEach(obj,action){for(var prop in obj)obj.hasOwnProperty(prop)&&action(prop,obj[prop])}function extend(target,source){if(source)for(var prop in source)source.hasOwnProperty(prop)&&(target[prop]=source[prop]);return target}function setPrototypeOf(obj,proto){return obj.__proto__=proto,obj}function isClickOnCheckableElement(element,eventType){if(ko.utils.tagNameLower(element)!=="input"||!element.type||eventType.toLowerCase()!="click")return!1;var inputType=element.type;return inputType=="checkbox"||inputType=="radio"}function toggleDomNodeCssClass(node,classNames,shouldHaveClass){var addOrRemoveFn;classNames&&(typeof node.classList=="object"?(addOrRemoveFn=node.classList[shouldHaveClass?"add":"remove"],ko.utils.arrayForEach(classNames.match(cssClassNameRegex),function(className){addOrRemoveFn.call(node.classList,className)})):typeof node.className.baseVal=="string"?toggleObjectClassPropertyString(node.className,"baseVal",classNames,shouldHaveClass):toggleObjectClassPropertyString(node,"className",classNames,shouldHaveClass))}function toggleObjectClassPropertyString(obj,prop,classNames,shouldHaveClass){var currentClassNames=obj[prop].match(cssClassNameRegex)||[];ko.utils.arrayForEach(classNames.match(cssClassNameRegex),function(className){ko.utils.addOrRemoveItem(currentClassNames,className,shouldHaveClass)});obj[prop]=currentClassNames.join(" ")}var canSetPrototype={__proto__:[]}instanceof Array,canUseSymbols=!DEBUG&&typeof Symbol=="function",knownEvents={},knownEventTypesByEventName={},keyEventTypeName=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents",cssClassNameRegex;knownEvents[keyEventTypeName]=["keyup","keydown","keypress"];knownEvents.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];objectForEach(knownEvents,function(eventType,knownEventsForType){if(knownEventsForType.length)for(var i=0,j=knownEventsForType.length;i<j;i++)knownEventTypesByEventName[knownEventsForType[i]]=eventType});var eventsThatMustBeRegisteredUsingAttachEvent={propertychange:!0},ieVersion=document&&function(){for(var version=3,div=document.createElement("div"),iElems=div.getElementsByTagName("i");div.innerHTML="<!--[if gt IE "+ ++version+"]><i><\/i><![endif]-->",iElems[0];);return version>4?version:undefined}(),isIe6=ieVersion===6,isIe7=ieVersion===7;return cssClassNameRegex=/\S+/g,{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(array,action){for(var i=0,j=array.length;i<j;i++)action(array[i],i)},arrayIndexOf:function(array,item){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(array,item);for(var i=0,j=array.length;i<j;i++)if(array[i]===item)return i;return-1},arrayFirst:function(array,predicate,predicateOwner){for(var i=0,j=array.length;i<j;i++)if(predicate.call(predicateOwner,array[i],i))return array[i];return null},arrayRemoveItem:function(array,itemToRemove){var index=ko.utils.arrayIndexOf(array,itemToRemove);index>0?array.splice(index,1):index===0&&array.shift()},arrayGetDistinctValues:function(array){var result,i,j;for(array=array||[],result=[],i=0,j=array.length;i<j;i++)ko.utils.arrayIndexOf(result,array[i])<0&&result.push(array[i]);return result},arrayMap:function(array,mapping){var result,i,j;for(array=array||[],result=[],i=0,j=array.length;i<j;i++)result.push(mapping(array[i],i));return result},arrayFilter:function(array,predicate){var result,i,j;for(array=array||[],result=[],i=0,j=array.length;i<j;i++)predicate(array[i],i)&&result.push(array[i]);return result},arrayPushAll:function(array,valuesToPush){if(valuesToPush instanceof Array)array.push.apply(array,valuesToPush);else for(var i=0,j=valuesToPush.length;i<j;i++)array.push(valuesToPush[i]);return array},addOrRemoveItem:function(array,value,included){var existingEntryIndex=ko.utils.arrayIndexOf(ko.utils.peekObservable(array),value);existingEntryIndex<0?included&&array.push(value):included||array.splice(existingEntryIndex,1)},canSetPrototype:canSetPrototype,extend:extend,setPrototypeOf:setPrototypeOf,setPrototypeOfOrExtend:canSetPrototype?setPrototypeOf:extend,objectForEach:objectForEach,objectMap:function(source,mapping){var target,prop;if(!source)return source;target={};for(prop in source)source.hasOwnProperty(prop)&&(target[prop]=mapping(source[prop],prop,source));return target},emptyDomNode:function(domNode){while(domNode.firstChild)ko.removeNode(domNode.firstChild)},moveCleanedNodesToContainerElement:function(nodes){for(var nodesArray=ko.utils.makeArray(nodes),templateDocument=nodesArray[0]&&nodesArray[0].ownerDocument||document,container=templateDocument.createElement("div"),i=0,j=nodesArray.length;i<j;i++)container.appendChild(ko.cleanNode(nodesArray[i]));return container},cloneNodes:function(nodesArray,shouldCleanNodes){for(var clonedNode,i=0,j=nodesArray.length,newNodesArray=[];i<j;i++)clonedNode=nodesArray[i].cloneNode(!0),newNodesArray.push(shouldCleanNodes?ko.cleanNode(clonedNode):clonedNode);return newNodesArray},setDomNodeChildren:function(domNode,childNodes){if(ko.utils.emptyDomNode(domNode),childNodes)for(var i=0,j=childNodes.length;i<j;i++)domNode.appendChild(childNodes[i])},replaceDomNodes:function(nodeToReplaceOrNodeArray,newNodesArray){var nodesToReplaceArray=nodeToReplaceOrNodeArray.nodeType?[nodeToReplaceOrNodeArray]:nodeToReplaceOrNodeArray,insertionPoint,parent,i,j;if(nodesToReplaceArray.length>0){for(insertionPoint=nodesToReplaceArray[0],parent=insertionPoint.parentNode,i=0,j=newNodesArray.length;i<j;i++)parent.insertBefore(newNodesArray[i],insertionPoint);for(i=0,j=nodesToReplaceArray.length;i<j;i++)ko.removeNode(nodesToReplaceArray[i])}},fixUpContinuousNodeArray:function(continuousNodeArray,parentNode){if(continuousNodeArray.length){for(parentNode=parentNode.nodeType===8&&parentNode.parentNode||parentNode;continuousNodeArray.length&&continuousNodeArray[0].parentNode!==parentNode;)continuousNodeArray.splice(0,1);while(continuousNodeArray.length>1&&continuousNodeArray[continuousNodeArray.length-1].parentNode!==parentNode)continuousNodeArray.length--;if(continuousNodeArray.length>1){var current=continuousNodeArray[0],last=continuousNodeArray[continuousNodeArray.length-1];for(continuousNodeArray.length=0;current!==last;)continuousNodeArray.push(current),current=current.nextSibling;continuousNodeArray.push(last)}}return continuousNodeArray},setOptionNodeSelectionState:function(optionNode,isSelected){ieVersion<7?optionNode.setAttribute("selected",isSelected):optionNode.selected=isSelected},stringTrim:function(string){return string===null||string===undefined?"":string.trim?string.trim():string.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(string,startsWith){return(string=string||"",startsWith.length>string.length)?!1:string.substring(0,startsWith.length)===startsWith},domNodeIsContainedBy:function(node,containedByNode){if(node===containedByNode)return!0;if(node.nodeType===11)return!1;if(containedByNode.contains)return containedByNode.contains(node.nodeType===3?node.parentNode:node);if(containedByNode.compareDocumentPosition)return(containedByNode.compareDocumentPosition(node)&16)==16;while(node&&node!=containedByNode)node=node.parentNode;return!!node},domNodeIsAttachedToDocument:function(node){return ko.utils.domNodeIsContainedBy(node,node.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(nodes){return!!ko.utils.arrayFirst(nodes,ko.utils.domNodeIsAttachedToDocument)},tagNameLower:function(element){return element&&element.tagName&&element.tagName.toLowerCase()},catchFunctionErrors:function(delegate){return ko.onError?function(){try{return delegate.apply(this,arguments)}catch(e){ko.onError&&ko.onError(e);throw e;}}:delegate},setTimeout:function(handler,timeout){return setTimeout(ko.utils.catchFunctionErrors(handler),timeout)},deferError:function(error){setTimeout(function(){ko.onError&&ko.onError(error);throw error;},0)},registerEventHandler:function(element,eventType,handler){var wrappedHandler=ko.utils.catchFunctionErrors(handler),mustUseAttachEvent=ieVersion&&eventsThatMustBeRegisteredUsingAttachEvent[eventType],attachEventHandler,attachEventName;if(ko.options.useOnlyNativeEvents||mustUseAttachEvent||!jQueryInstance)if(mustUseAttachEvent||typeof element.addEventListener!="function")if(typeof element.attachEvent!="undefined")attachEventHandler=function(event){wrappedHandler.call(element,event)},attachEventName="on"+eventType,element.attachEvent(attachEventName,attachEventHandler),ko.utils.domNodeDisposal.addDisposeCallback(element,function(){element.detachEvent(attachEventName,attachEventHandler)});else throw new Error("Browser doesn't support addEventListener or attachEvent");else element.addEventListener(eventType,wrappedHandler,!1);else jQueryInstance(element).bind(eventType,wrappedHandler)},triggerEvent:function(element,eventType){var useClickWorkaround,eventCategory,event;if(!(element&&element.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(useClickWorkaround=isClickOnCheckableElement(element,eventType),ko.options.useOnlyNativeEvents||!jQueryInstance||useClickWorkaround)if(typeof document.createEvent=="function")if(typeof element.dispatchEvent=="function")eventCategory=knownEventTypesByEventName[eventType]||"HTMLEvents",event=document.createEvent(eventCategory),event.initEvent(eventType,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,element),element.dispatchEvent(event);else throw new Error("The supplied element doesn't support dispatchEvent");else if(useClickWorkaround&&element.click)element.click();else if(typeof element.fireEvent!="undefined")element.fireEvent("on"+eventType);else throw new Error("Browser doesn't support triggering events");else jQueryInstance(element).trigger(eventType)},unwrapObservable:function(value){return ko.isObservable(value)?value():value},peekObservable:function(value){return ko.isObservable(value)?value.peek():value},toggleDomNodeCssClass:toggleDomNodeCssClass,setTextContent:function(element,textContent){var value=ko.utils.unwrapObservable(textContent),innerTextNode;(value===null||value===undefined)&&(value="");innerTextNode=ko.virtualElements.firstChild(element);!innerTextNode||innerTextNode.nodeType!=3||ko.virtualElements.nextSibling(innerTextNode)?ko.virtualElements.setDomNodeChildren(element,[element.ownerDocument.createTextNode(value)]):innerTextNode.data=value;ko.utils.forceRefresh(element)},setElementName:function(element,name){if(element.name=name,ieVersion<=7)try{element.mergeAttributes(document.createElement("<input name='"+element.name+"'/>"),!1)}catch(e){}},forceRefresh:function(node){if(ieVersion>=9){var elem=node.nodeType==1?node:node.parentNode;elem.style&&(elem.style.zoom=elem.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(selectElement){if(ieVersion){var originalWidth=selectElement.style.width;selectElement.style.width=0;selectElement.style.width=originalWidth}},range:function(min,max){var result,i;for(min=ko.utils.unwrapObservable(min),max=ko.utils.unwrapObservable(max),result=[],i=min;i<=max;i++)result.push(i);return result},makeArray:function(arrayLikeObject){for(var result=[],i=0,j=arrayLikeObject.length;i<j;i++)result.push(arrayLikeObject[i]);return result},createSymbolOrString:function(identifier){return canUseSymbols?Symbol(identifier):identifier},isIe6:isIe6,isIe7:isIe7,ieVersion:ieVersion,getFormFields:function(form,fieldName){for(var fields=ko.utils.makeArray(form.getElementsByTagName("input")).concat(ko.utils.makeArray(form.getElementsByTagName("textarea"))),isMatchingField=typeof fieldName=="string"?function(field){return field.name===fieldName}:function(field){return fieldName.test(field.name)},matches=[],i=fields.length-1;i>=0;i--)isMatchingField(fields[i])&&matches.push(fields[i]);return matches},parseJson:function(jsonString){return typeof jsonString=="string"&&(jsonString=ko.utils.stringTrim(jsonString),jsonString)?JSON&&JSON.parse?JSON.parse(jsonString):new Function("return "+jsonString)():null},stringifyJson:function(data,replacer,space){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(ko.utils.unwrapObservable(data),replacer,space)},postJson:function(urlOrForm,data,options){var originalForm,i,fields,j,form,key,input;options=options||{};var params=options.params||{},includeFields=options.includeFields||this.fieldsIncludedWithJsonPost,url=urlOrForm;if(typeof urlOrForm=="object"&&ko.utils.tagNameLower(urlOrForm)==="form")for(originalForm=urlOrForm,url=originalForm.action,i=includeFields.length-1;i>=0;i--)for(fields=ko.utils.getFormFields(originalForm,includeFields[i]),j=fields.length-1;j>=0;j--)params[fields[j].name]=fields[j].value;data=ko.utils.unwrapObservable(data);form=document.createElement("form");form.style.display="none";form.action=url;form.method="post";for(key in data)input=document.createElement("input"),input.type="hidden",input.name=key,input.value=ko.utils.stringifyJson(ko.utils.unwrapObservable(data[key])),form.appendChild(input);objectForEach(params,function(key,value){var input=document.createElement("input");input.type="hidden";input.name=key;input.value=value;form.appendChild(input)});document.body.appendChild(form);options.submitter?options.submitter(form):form.submit();setTimeout(function(){form.parentNode.removeChild(form)},0)}}}();ko.exportSymbol("utils",ko.utils);ko.exportSymbol("utils.arrayForEach",ko.utils.arrayForEach);ko.exportSymbol("utils.arrayFirst",ko.utils.arrayFirst);ko.exportSymbol("utils.arrayFilter",ko.utils.arrayFilter);ko.exportSymbol("utils.arrayGetDistinctValues",ko.utils.arrayGetDistinctValues);ko.exportSymbol("utils.arrayIndexOf",ko.utils.arrayIndexOf);ko.exportSymbol("utils.arrayMap",ko.utils.arrayMap);ko.exportSymbol("utils.arrayPushAll",ko.utils.arrayPushAll);ko.exportSymbol("utils.arrayRemoveItem",ko.utils.arrayRemoveItem);ko.exportSymbol("utils.extend",ko.utils.extend);ko.exportSymbol("utils.fieldsIncludedWithJsonPost",ko.utils.fieldsIncludedWithJsonPost);ko.exportSymbol("utils.getFormFields",ko.utils.getFormFields);ko.exportSymbol("utils.peekObservable",ko.utils.peekObservable);ko.exportSymbol("utils.postJson",ko.utils.postJson);ko.exportSymbol("utils.parseJson",ko.utils.parseJson);ko.exportSymbol("utils.registerEventHandler",ko.utils.registerEventHandler);ko.exportSymbol("utils.stringifyJson",ko.utils.stringifyJson);ko.exportSymbol("utils.range",ko.utils.range);ko.exportSymbol("utils.toggleDomNodeCssClass",ko.utils.toggleDomNodeCssClass);ko.exportSymbol("utils.triggerEvent",ko.utils.triggerEvent);ko.exportSymbol("utils.unwrapObservable",ko.utils.unwrapObservable);ko.exportSymbol("utils.objectForEach",ko.utils.objectForEach);ko.exportSymbol("utils.addOrRemoveItem",ko.utils.addOrRemoveItem);ko.exportSymbol("utils.setTextContent",ko.utils.setTextContent);ko.exportSymbol("unwrap",ko.utils.unwrapObservable);Function.prototype.bind||(Function.prototype.bind=function(object){var originalFunction=this,partialArgs;return arguments.length===1?function(){return originalFunction.apply(object,arguments)}:(partialArgs=Array.prototype.slice.call(arguments,1),function(){var args=partialArgs.slice(0);return args.push.apply(args,arguments),originalFunction.apply(object,args)})});ko.utils.domData=new function(){function getAll(node,createIfNotFound){var dataStoreKey=node[dataStoreKeyExpandoPropertyName],hasExistingDataStore=dataStoreKey&&dataStoreKey!=="null"&&dataStore[dataStoreKey];if(!hasExistingDataStore){if(!createIfNotFound)return undefined;dataStoreKey=node[dataStoreKeyExpandoPropertyName]="ko"+uniqueId++;dataStore[dataStoreKey]={}}return dataStore[dataStoreKey]}var uniqueId=0,dataStoreKeyExpandoPropertyName="__ko__"+(new Date).getTime(),dataStore={};return{get:function(node,key){var allDataForNode=getAll(node,!1);return allDataForNode===undefined?undefined:allDataForNode[key]},set:function(node,key,value){if(value!==undefined||getAll(node,!1)!==undefined){var allDataForNode=getAll(node,!0);allDataForNode[key]=value}},clear:function(node){var dataStoreKey=node[dataStoreKeyExpandoPropertyName];return dataStoreKey?(delete dataStore[dataStoreKey],node[dataStoreKeyExpandoPropertyName]=null,!0):!1},nextKey:function(){return uniqueId+++dataStoreKeyExpandoPropertyName}}};ko.exportSymbol("utils.domData",ko.utils.domData);ko.exportSymbol("utils.domData.clear",ko.utils.domData.clear);ko.utils.domNodeDisposal=new function(){function getDisposeCallbacksCollection(node,createIfNotFound){var allDisposeCallbacks=ko.utils.domData.get(node,domDataKey);return allDisposeCallbacks===undefined&&createIfNotFound&&(allDisposeCallbacks=[],ko.utils.domData.set(node,domDataKey,allDisposeCallbacks)),allDisposeCallbacks}function destroyCallbacksCollection(node){ko.utils.domData.set(node,domDataKey,undefined)}function cleanSingleNode(node){var callbacks=getDisposeCallbacksCollection(node,!1),i;if(callbacks)for(callbacks=callbacks.slice(0),i=0;i<callbacks.length;i++)callbacks[i](node);ko.utils.domData.clear(node);ko.utils.domNodeDisposal.cleanExternalData(node);cleanableNodeTypesWithDescendants[node.nodeType]&&cleanImmediateCommentTypeChildren(node)}function cleanImmediateCommentTypeChildren(nodeWithChildren){for(var child,nextChild=nodeWithChildren.firstChild;child=nextChild;)nextChild=child.nextSibling,child.nodeType===8&&cleanSingleNode(child)}var domDataKey=ko.utils.domData.nextKey(),cleanableNodeTypes={1:!0,8:!0,9:!0},cleanableNodeTypesWithDescendants={1:!0,9:!0};return{addDisposeCallback:function(node,callback){if(typeof callback!="function")throw new Error("Callback must be a function");getDisposeCallbacksCollection(node,!0).push(callback)},removeDisposeCallback:function(node,callback){var callbacksCollection=getDisposeCallbacksCollection(node,!1);callbacksCollection&&(ko.utils.arrayRemoveItem(callbacksCollection,callback),callbacksCollection.length==0&&destroyCallbacksCollection(node))},cleanNode:function(node){var descendants,i,j;if(cleanableNodeTypes[node.nodeType]&&(cleanSingleNode(node),cleanableNodeTypesWithDescendants[node.nodeType]))for(descendants=[],ko.utils.arrayPushAll(descendants,node.getElementsByTagName("*")),i=0,j=descendants.length;i<j;i++)cleanSingleNode(descendants[i]);return node},removeNode:function(node){ko.cleanNode(node);node.parentNode&&node.parentNode.removeChild(node)},cleanExternalData:function(node){jQueryInstance&&typeof jQueryInstance.cleanData=="function"&&jQueryInstance.cleanData([node])}}};ko.cleanNode=ko.utils.domNodeDisposal.cleanNode;ko.removeNode=ko.utils.domNodeDisposal.removeNode;ko.exportSymbol("cleanNode",ko.cleanNode);ko.exportSymbol("removeNode",ko.removeNode);ko.exportSymbol("utils.domNodeDisposal",ko.utils.domNodeDisposal);ko.exportSymbol("utils.domNodeDisposal.addDisposeCallback",ko.utils.domNodeDisposal.addDisposeCallback);ko.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",ko.utils.domNodeDisposal.removeDisposeCallback),function(){function getWrap(tags){var m=tags.match(/^<([a-z]+)[ >]/);return m&&lookup[m[1]]||none}function simpleHtmlParse(html,documentContext){documentContext||(documentContext=document);var windowContext=documentContext.parentWindow||documentContext.defaultView||window,tags=ko.utils.stringTrim(html).toLowerCase(),div=documentContext.createElement("div"),wrap=getWrap(tags),depth=wrap[0],markup="ignored<div>"+wrap[1]+html+wrap[2]+"<\/div>";for(typeof windowContext.innerShiv=="function"?div.appendChild(windowContext.innerShiv(markup)):(mayRequireCreateElementHack&&documentContext.appendChild(div),div.innerHTML=markup,mayRequireCreateElementHack&&div.parentNode.removeChild(div));depth--;)div=div.lastChild;return ko.utils.makeArray(div.lastChild.childNodes)}function jQueryHtmlParse(html,documentContext){var elems,elem;if(jQueryInstance.parseHTML)return jQueryInstance.parseHTML(html,documentContext)||[];else{if(elems=jQueryInstance.clean([html],documentContext),elems&&elems[0]){for(elem=elems[0];elem.parentNode&&elem.parentNode.nodeType!==11;)elem=elem.parentNode;elem.parentNode&&elem.parentNode.removeChild(elem)}return elems}}var none=[0,"",""],table=[1,"<table>","<\/table>"],tbody=[2,"<table><tbody>","<\/tbody><\/table>"],tr=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],select=[1,"<select multiple='multiple'>","<\/select>"],lookup={thead:table,tbody:table,tfoot:table,tr:tbody,td:tr,th:tr,option:select,optgroup:select},mayRequireCreateElementHack=ko.utils.ieVersion<=8;ko.utils.parseHtmlFragment=function(html,documentContext){return jQueryInstance?jQueryHtmlParse(html,documentContext):simpleHtmlParse(html,documentContext)};ko.utils.setHtml=function(node,html){var parsedNodes,i;if(ko.utils.emptyDomNode(node),html=ko.utils.unwrapObservable(html),html!==null&&html!==undefined)if(typeof html!="string"&&(html=html.toString()),jQueryInstance)jQueryInstance(node).html(html);else for(parsedNodes=ko.utils.parseHtmlFragment(html,node.ownerDocument),i=0;i<parsedNodes.length;i++)node.appendChild(parsedNodes[i])}}();ko.exportSymbol("utils.parseHtmlFragment",ko.utils.parseHtmlFragment);ko.exportSymbol("utils.setHtml",ko.utils.setHtml);ko.memoization=function(){function randomMax8HexChars(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function generateRandomId(){return randomMax8HexChars()+randomMax8HexChars()}function findMemoNodes(rootNode,appendToArray){var memoId;if(rootNode)if(rootNode.nodeType==8)memoId=ko.memoization.parseMemoText(rootNode.nodeValue),memoId!=null&&appendToArray.push({domNode:rootNode,memoId:memoId});else if(rootNode.nodeType==1)for(var i=0,childNodes=rootNode.childNodes,j=childNodes.length;i<j;i++)findMemoNodes(childNodes[i],appendToArray)}var memos={};return{memoize:function(callback){if(typeof callback!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var memoId=generateRandomId();return memos[memoId]=callback,"<!--[ko_memo:"+memoId+"]-->"},unmemoize:function(memoId,callbackParams){var callback=memos[memoId];if(callback===undefined)throw new Error("Couldn't find any memo with ID "+memoId+". Perhaps it's already been unmemoized.");try{return callback.apply(null,callbackParams||[]),!0}finally{delete memos[memoId]}},unmemoizeDomNodeAndDescendants:function(domNode,extraCallbackParamsArray){var memos=[],i,j,node,combinedParams;for(findMemoNodes(domNode,memos),i=0,j=memos.length;i<j;i++)node=memos[i].domNode,combinedParams=[node],extraCallbackParamsArray&&ko.utils.arrayPushAll(combinedParams,extraCallbackParamsArray),ko.memoization.unmemoize(memos[i].memoId,combinedParams),node.nodeValue="",node.parentNode&&node.parentNode.removeChild(node)},parseMemoText:function(memoText){var match=memoText.match(/^\[ko_memo\:(.*?)\]$/);return match?match[1]:null}}}();ko.exportSymbol("memoization",ko.memoization);ko.exportSymbol("memoization.memoize",ko.memoization.memoize);ko.exportSymbol("memoization.unmemoize",ko.memoization.unmemoize);ko.exportSymbol("memoization.parseMemoText",ko.memoization.parseMemoText);ko.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",ko.memoization.unmemoizeDomNodeAndDescendants);ko.tasks=function(){function processTasks(){var mark,countMarks,task;if(taskQueueLength)for(mark=taskQueueLength,countMarks=0;nextIndexToProcess<taskQueueLength;)if(task=taskQueue[nextIndexToProcess++]){if(nextIndexToProcess>mark){if(++countMarks>=5e3){nextIndexToProcess=taskQueueLength;ko.utils.deferError(Error("'Too much recursion' after processing "+countMarks+" task groups."));break}mark=taskQueueLength}try{task()}catch(ex){ko.utils.deferError(ex)}}}function scheduledProcess(){processTasks();nextIndexToProcess=taskQueueLength=taskQueue.length=0}function scheduleTaskProcessing(){ko.tasks.scheduler(scheduledProcess)}var scheduler,taskQueue=[],taskQueueLength=0,nextHandle=1,nextIndexToProcess=0;return scheduler=window.MutationObserver?function(callback){var div=document.createElement("div");return new MutationObserver(callback).observe(div,{attributes:!0}),function(){div.classList.toggle("foo")}}(scheduledProcess):document&&"onreadystatechange"in document.createElement("script")?function(callback){var script=document.createElement("script");script.onreadystatechange=function(){script.onreadystatechange=null;document.documentElement.removeChild(script);script=null;callback()};document.documentElement.appendChild(script)}:function(callback){setTimeout(callback,0)},{scheduler:scheduler,schedule:function(func){return taskQueueLength||scheduleTaskProcessing(),taskQueue[taskQueueLength++]=func,nextHandle++},cancel:function(handle){var index=handle-(nextHandle-taskQueueLength);index>=nextIndexToProcess&&index<taskQueueLength&&(taskQueue[index]=null)},resetForTesting:function(){var length=taskQueueLength-nextIndexToProcess;return nextIndexToProcess=taskQueueLength=taskQueue.length=0,length},runEarly:processTasks}}();ko.exportSymbol("tasks",ko.tasks);ko.exportSymbol("tasks.schedule",ko.tasks.schedule);ko.exportSymbol("tasks.runEarly",ko.tasks.runEarly);ko.extenders={throttle:function(target,timeout){target.throttleEvaluation=timeout;var writeTimeoutInstance=null;return ko.dependentObservable({read:target,write:function(value){clearTimeout(writeTimeoutInstance);writeTimeoutInstance=ko.utils.setTimeout(function(){target(value)},timeout)}})},rateLimit:function(target,options){var timeout,method,limitFunction;typeof options=="number"?timeout=options:(timeout=options.timeout,method=options.method);target._deferUpdates=!1;limitFunction=method=="notifyWhenChangesStop"?debounce:throttle;target.limit(function(callback){return limitFunction(callback,timeout)})},deferred:function(target,options){if(options!==!0)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");target._deferUpdates||(target._deferUpdates=!0,target.limit(function(callback){var handle;return function(){ko.tasks.cancel(handle);handle=ko.tasks.schedule(callback);target.notifySubscribers(undefined,"dirty")}}))},notify:function(target,notifyWhen){target.equalityComparer=notifyWhen=="always"?null:valuesArePrimitiveAndEqual}};primitiveTypes={undefined:1,boolean:1,number:1,string:1};ko.exportSymbol("extenders",ko.extenders);ko.subscription=function(target,callback,disposeCallback){this._target=target;this.callback=callback;this.disposeCallback=disposeCallback;this.isDisposed=!1;ko.exportProperty(this,"dispose",this.dispose)};ko.subscription.prototype.dispose=function(){this.isDisposed=!0;this.disposeCallback()};ko.subscribable=function(){ko.utils.setPrototypeOfOrExtend(this,ko_subscribable_fn);ko_subscribable_fn.init(this)};defaultEvent="change";ko_subscribable_fn={init:function(instance){instance._subscriptions={};instance._versionNumber=1},subscribe:function(callback,callbackTarget,event){var self=this,boundCallback,subscription;return event=event||defaultEvent,boundCallback=callbackTarget?callback.bind(callbackTarget):callback,subscription=new ko.subscription(self,boundCallback,function(){ko.utils.arrayRemoveItem(self._subscriptions[event],subscription);self.afterSubscriptionRemove&&self.afterSubscriptionRemove(event)}),self.beforeSubscriptionAdd&&self.beforeSubscriptionAdd(event),self._subscriptions[event]||(self._subscriptions[event]=[]),self._subscriptions[event].push(subscription),subscription},notifySubscribers:function(valueToNotify,event){if(event=event||defaultEvent,event===defaultEvent&&this.updateVersion(),this.hasSubscriptionsForEvent(event))try{ko.dependencyDetection.begin();for(var a=this._subscriptions[event].slice(0),i=0,subscription;subscription=a[i];++i)subscription.isDisposed||subscription.callback(valueToNotify)}finally{ko.dependencyDetection.end()}},getVersion:function(){return this._versionNumber},hasChanged:function(versionToCheck){return this.getVersion()!==versionToCheck},updateVersion:function(){++this._versionNumber},limit:function(limitFunction){var self=this,selfIsObservable=ko.isObservable(self),ignoreBeforeChange,previousValue,pendingValue,beforeChange="beforeChange",finish;self._origNotifySubscribers||(self._origNotifySubscribers=self.notifySubscribers,self.notifySubscribers=limitNotifySubscribers);finish=limitFunction(function(){self._notificationIsPending=!1;selfIsObservable&&pendingValue===self&&(pendingValue=self());ignoreBeforeChange=!1;self.isDifferent(previousValue,pendingValue)&&self._origNotifySubscribers(previousValue=pendingValue)});self._limitChange=function(value){self._notificationIsPending=ignoreBeforeChange=!0;pendingValue=value;finish()};self._limitBeforeChange=function(value){ignoreBeforeChange||(previousValue=value,self._origNotifySubscribers(value,beforeChange))}},hasSubscriptionsForEvent:function(event){return this._subscriptions[event]&&this._subscriptions[event].length},getSubscriptionsCount:function(event){if(event)return this._subscriptions[event]&&this._subscriptions[event].length||0;else{var total=0;return ko.utils.objectForEach(this._subscriptions,function(eventName,subscriptions){eventName!=="dirty"&&(total+=subscriptions.length)}),total}},isDifferent:function(oldValue,newValue){return!this.equalityComparer||!this.equalityComparer(oldValue,newValue)},extend:applyExtenders};ko.exportProperty(ko_subscribable_fn,"subscribe",ko_subscribable_fn.subscribe);ko.exportProperty(ko_subscribable_fn,"extend",ko_subscribable_fn.extend);ko.exportProperty(ko_subscribable_fn,"getSubscriptionsCount",ko_subscribable_fn.getSubscriptionsCount);ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(ko_subscribable_fn,Function.prototype);ko.subscribable.fn=ko_subscribable_fn;ko.isSubscribable=function(instance){return instance!=null&&typeof instance.subscribe=="function"&&typeof instance.notifySubscribers=="function"};ko.exportSymbol("subscribable",ko.subscribable);ko.exportSymbol("isSubscribable",ko.isSubscribable);ko.computedContext=ko.dependencyDetection=function(){function getId(){return++lastId}function begin(options){outerFrames.push(currentFrame);currentFrame=options}function end(){currentFrame=outerFrames.pop()}var outerFrames=[],currentFrame,lastId=0;return{begin:begin,end:end,registerDependency:function(subscribable){if(currentFrame){if(!ko.isSubscribable(subscribable))throw new Error("Only subscribable things can act as dependencies");currentFrame.callback.call(currentFrame.callbackTarget,subscribable,subscribable._id||(subscribable._id=getId()))}},ignore:function(callback,callbackTarget,callbackArgs){try{return begin(),callback.apply(callbackTarget,callbackArgs||[])}finally{end()}},getDependenciesCount:function(){if(currentFrame)return currentFrame.computed.getDependenciesCount()},isInitial:function(){if(currentFrame)return currentFrame.isInitial}}}();ko.exportSymbol("computedContext",ko.computedContext);ko.exportSymbol("computedContext.getDependenciesCount",ko.computedContext.getDependenciesCount);ko.exportSymbol("computedContext.isInitial",ko.computedContext.isInitial);ko.exportSymbol("ignoreDependencies",ko.ignoreDependencies=ko.dependencyDetection.ignore);observableLatestValue=ko.utils.createSymbolOrString("_latestValue");ko.observable=function(initialValue){function observable(){return arguments.length>0?(observable.isDifferent(observable[observableLatestValue],arguments[0])&&(observable.valueWillMutate(),observable[observableLatestValue]=arguments[0],observable.valueHasMutated()),this):(ko.dependencyDetection.registerDependency(observable),observable[observableLatestValue])}return observable[observableLatestValue]=initialValue,ko.utils.canSetPrototype||ko.utils.extend(observable,ko.subscribable.fn),ko.subscribable.fn.init(observable),ko.utils.setPrototypeOfOrExtend(observable,observableFn),ko.options.deferUpdates&&ko.extenders.deferred(observable,!0),observable};observableFn={equalityComparer:valuesArePrimitiveAndEqual,peek:function(){return this[observableLatestValue]},valueHasMutated:function(){this.notifySubscribers(this[observableLatestValue])},valueWillMutate:function(){this.notifySubscribers(this[observableLatestValue],"beforeChange")}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(observableFn,ko.subscribable.fn);protoProperty=ko.observable.protoProperty="__ko_proto__";observableFn[protoProperty]=ko.observable;ko.hasPrototype=function(instance,prototype){return instance===null||instance===undefined||instance[protoProperty]===undefined?!1:instance[protoProperty]===prototype?!0:ko.hasPrototype(instance[protoProperty],prototype)};ko.isObservable=function(instance){return ko.hasPrototype(instance,ko.observable)};ko.isWriteableObservable=function(instance){return typeof instance=="function"&&instance[protoProperty]===ko.observable?!0:typeof instance=="function"&&instance[protoProperty]===ko.dependentObservable&&instance.hasWriteFunction?!0:!1};ko.exportSymbol("observable",ko.observable);ko.exportSymbol("isObservable",ko.isObservable);ko.exportSymbol("isWriteableObservable",ko.isWriteableObservable);ko.exportSymbol("isWritableObservable",ko.isWriteableObservable);ko.exportSymbol("observable.fn",observableFn);ko.exportProperty(observableFn,"peek",observableFn.peek);ko.exportProperty(observableFn,"valueHasMutated",observableFn.valueHasMutated);ko.exportProperty(observableFn,"valueWillMutate",observableFn.valueWillMutate);ko.observableArray=function(initialValues){if(initialValues=initialValues||[],typeof initialValues!="object"||!("length"in initialValues))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var result=ko.observable(initialValues);return ko.utils.setPrototypeOfOrExtend(result,ko.observableArray.fn),result.extend({trackArrayChanges:!0})};ko.observableArray.fn={remove:function(valueOrPredicate){for(var value,underlyingArray=this.peek(),removedValues=[],predicate=typeof valueOrPredicate=="function"&&!ko.isObservable(valueOrPredicate)?valueOrPredicate:function(value){return value===valueOrPredicate},i=0;i<underlyingArray.length;i++)value=underlyingArray[i],predicate(value)&&(removedValues.length===0&&this.valueWillMutate(),removedValues.push(value),underlyingArray.splice(i,1),i--);return removedValues.length&&this.valueHasMutated(),removedValues},removeAll:function(arrayOfValues){if(arrayOfValues===undefined){var underlyingArray=this.peek(),allValues=underlyingArray.slice(0);return this.valueWillMutate(),underlyingArray.splice(0,underlyingArray.length),this.valueHasMutated(),allValues}return arrayOfValues?this.remove(function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0}):[]},destroy:function(valueOrPredicate){var underlyingArray=this.peek(),predicate=typeof valueOrPredicate=="function"&&!ko.isObservable(valueOrPredicate)?valueOrPredicate:function(value){return value===valueOrPredicate},i,value;for(this.valueWillMutate(),i=underlyingArray.length-1;i>=0;i--)value=underlyingArray[i],predicate(value)&&(underlyingArray[i]._destroy=!0);this.valueHasMutated()},destroyAll:function(arrayOfValues){return arrayOfValues===undefined?this.destroy(function(){return!0}):arrayOfValues?this.destroy(function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0}):[]},indexOf:function(item){var underlyingArray=this();return ko.utils.arrayIndexOf(underlyingArray,item)},replace:function(oldItem,newItem){var index=this.indexOf(oldItem);index>=0&&(this.valueWillMutate(),this.peek()[index]=newItem,this.valueHasMutated())}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(ko.observableArray.fn,ko.observable.fn);ko.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(methodName){ko.observableArray.fn[methodName]=function(){var underlyingArray=this.peek(),methodCallResult;return this.valueWillMutate(),this.cacheDiffForKnownOperation(underlyingArray,methodName,arguments),methodCallResult=underlyingArray[methodName].apply(underlyingArray,arguments),this.valueHasMutated(),methodCallResult===underlyingArray?this:methodCallResult}});ko.utils.arrayForEach(["slice"],function(methodName){ko.observableArray.fn[methodName]=function(){var underlyingArray=this();return underlyingArray[methodName].apply(underlyingArray,arguments)}});ko.exportSymbol("observableArray",ko.observableArray);arrayChangeEventName="arrayChange";ko.extenders.trackArrayChanges=function(target,options){function trackChanges(){var underlyingNotifySubscribersFunction,previousContents;trackingChanges||(trackingChanges=!0,underlyingNotifySubscribersFunction=target.notifySubscribers,target.notifySubscribers=function(valueToNotify,event){return event&&event!==defaultEvent||++pendingNotifications,underlyingNotifySubscribersFunction.apply(this,arguments)},previousContents=[].concat(target.peek()||[]),cachedDiff=null,arrayChangeSubscription=target.subscribe(function(currentContents){if(currentContents=[].concat(currentContents||[]),target.hasSubscriptionsForEvent(arrayChangeEventName))var changes=getChanges(previousContents,currentContents);previousContents=currentContents;cachedDiff=null;pendingNotifications=0;changes&&changes.length&&target.notifySubscribers(changes,arrayChangeEventName)}))}function getChanges(previousContents,currentContents){return(!cachedDiff||pendingNotifications>1)&&(cachedDiff=ko.utils.compareArrays(previousContents,currentContents,target.compareArrayOptions)),cachedDiff}if(target.compareArrayOptions={},options&&typeof options=="object"&&ko.utils.extend(target.compareArrayOptions,options),target.compareArrayOptions.sparse=!0,!target.cacheDiffForKnownOperation){var trackingChanges=!1,cachedDiff=null,arrayChangeSubscription,pendingNotifications=0,underlyingBeforeSubscriptionAddFunction=target.beforeSubscriptionAdd,underlyingAfterSubscriptionRemoveFunction=target.afterSubscriptionRemove;target.beforeSubscriptionAdd=function(event){underlyingBeforeSubscriptionAddFunction&&underlyingBeforeSubscriptionAddFunction.call(target,event);event===arrayChangeEventName&&trackChanges()};target.afterSubscriptionRemove=function(event){underlyingAfterSubscriptionRemoveFunction&&underlyingAfterSubscriptionRemoveFunction.call(target,event);event!==arrayChangeEventName||target.hasSubscriptionsForEvent(arrayChangeEventName)||(arrayChangeSubscription.dispose(),trackingChanges=!1)};target.cacheDiffForKnownOperation=function(rawArray,operationName,args){function pushDiff(status,value,index){return diff[diff.length]={status:status,value:value,index:index}}var index,argsIndex;if(trackingChanges&&!pendingNotifications){var diff=[],arrayLength=rawArray.length,argsLength=args.length,offset=0;switch(operationName){case"push":offset=arrayLength;case"unshift":for(index=0;index<argsLength;index++)pushDiff("added",args[index],offset+index);break;case"pop":offset=arrayLength-1;case"shift":arrayLength&&pushDiff("deleted",rawArray[offset],offset);break;case"splice":var startIndex=Math.min(Math.max(0,args[0]<0?arrayLength+args[0]:args[0]),arrayLength),endDeleteIndex=argsLength===1?arrayLength:Math.min(startIndex+(args[1]||0),arrayLength),endAddIndex=startIndex+argsLength-2,endIndex=Math.max(endDeleteIndex,endAddIndex),additions=[],deletions=[];for(index=startIndex,argsIndex=2;index<endIndex;++index,++argsIndex)index<endDeleteIndex&&deletions.push(pushDiff("deleted",rawArray[index],index)),index<endAddIndex&&additions.push(pushDiff("added",args[argsIndex],index));ko.utils.findMovesInArrayComparison(deletions,additions);break;default:return}cachedDiff=diff}}}};computedState=ko.utils.createSymbolOrString("_state");ko.computed=ko.dependentObservable=function(evaluatorFunctionOrOptions,evaluatorFunctionTarget,options){function computedObservable(){if(arguments.length>0){if(typeof writeFunction=="function")writeFunction.apply(state.evaluatorFunctionTarget,arguments);else throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}else return ko.dependencyDetection.registerDependency(computedObservable),(state.isStale||state.isSleeping&&computedObservable.haveDependenciesChanged())&&computedObservable.evaluateImmediate(),state.latestValue}if(typeof evaluatorFunctionOrOptions=="object"?options=evaluatorFunctionOrOptions:(options=options||{},evaluatorFunctionOrOptions&&(options.read=evaluatorFunctionOrOptions)),typeof options.read!="function")throw Error("Pass a function that returns the value of the ko.computed");var writeFunction=options.write,state={latestValue:undefined,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:options.read,evaluatorFunctionTarget:evaluatorFunctionTarget||options.owner,disposeWhenNodeIsRemoved:options.disposeWhenNodeIsRemoved||options.disposeWhenNodeIsRemoved||null,disposeWhen:options.disposeWhen||options.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return computedObservable[computedState]=state,computedObservable.hasWriteFunction=typeof writeFunction=="function",ko.utils.canSetPrototype||ko.utils.extend(computedObservable,ko.subscribable.fn),ko.subscribable.fn.init(computedObservable),ko.utils.setPrototypeOfOrExtend(computedObservable,computedFn),options.pure?(state.pure=!0,state.isSleeping=!0,ko.utils.extend(computedObservable,pureComputedOverrides)):options.deferEvaluation&&ko.utils.extend(computedObservable,deferEvaluationOverrides),ko.options.deferUpdates&&ko.extenders.deferred(computedObservable,!0),DEBUG&&(computedObservable._options=options),state.disposeWhenNodeIsRemoved&&(state.suppressDisposalUntilDisposeWhenReturnsFalse=!0,state.disposeWhenNodeIsRemoved.nodeType||(state.disposeWhenNodeIsRemoved=null)),state.isSleeping||options.deferEvaluation||computedObservable.evaluateImmediate(),state.disposeWhenNodeIsRemoved&&computedObservable.isActive()&&ko.utils.domNodeDisposal.addDisposeCallback(state.disposeWhenNodeIsRemoved,state.domNodeDisposalCallback=function(){computedObservable.dispose()}),computedObservable};var computedFn={equalityComparer:valuesArePrimitiveAndEqual,getDependenciesCount:function(){return this[computedState].dependenciesCount},addDependencyTracking:function(id,target,trackingObj){if(this[computedState].pure&&target===this)throw Error("A 'pure' computed must not be called recursively");this[computedState].dependencyTracking[id]=trackingObj;trackingObj._order=this[computedState].dependenciesCount++;trackingObj._version=target.getVersion()},haveDependenciesChanged:function(){var id,dependency,dependencyTracking=this[computedState].dependencyTracking;for(id in dependencyTracking)if(dependencyTracking.hasOwnProperty(id)&&(dependency=dependencyTracking[id],dependency._target.hasChanged(dependency._version)))return!0},markDirty:function(){this._evalDelayed&&!this[computedState].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[computedState].isStale||this[computedState].dependenciesCount>0},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(target){if(target._deferUpdates&&!this[computedState].disposeWhenNodeIsRemoved){var dirtySub=target.subscribe(this.markDirty,this,"dirty"),changeSub=target.subscribe(this.respondToChange,this);return{_target:target,dispose:function(){dirtySub.dispose();changeSub.dispose()}}}else return target.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var computedObservable=this,throttleEvaluationTimeout=computedObservable.throttleEvaluation;throttleEvaluationTimeout&&throttleEvaluationTimeout>=0?(clearTimeout(this[computedState].evaluationTimeoutInstance),this[computedState].evaluationTimeoutInstance=ko.utils.setTimeout(function(){computedObservable.evaluateImmediate(!0)},throttleEvaluationTimeout)):computedObservable._evalDelayed?computedObservable._evalDelayed():computedObservable.evaluateImmediate(!0)},evaluateImmediate:function(notifyChange){var computedObservable=this,state=computedObservable[computedState],disposeWhen=state.disposeWhen;if(!state.isBeingEvaluated&&!state.isDisposed){if(state.disposeWhenNodeIsRemoved&&!ko.utils.domNodeIsAttachedToDocument(state.disposeWhenNodeIsRemoved)||disposeWhen&&disposeWhen()){if(!state.suppressDisposalUntilDisposeWhenReturnsFalse){computedObservable.dispose();return}}else state.suppressDisposalUntilDisposeWhenReturnsFalse=!1;state.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(notifyChange)}finally{state.isBeingEvaluated=!1}state.dependenciesCount||computedObservable.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(notifyChange){var computedObservable=this,state=computedObservable[computedState],isInitial=state.pure?undefined:!state.dependenciesCount,dependencyDetectionContext={computedObservable:computedObservable,disposalCandidates:state.dependencyTracking,disposalCount:state.dependenciesCount},newValue;ko.dependencyDetection.begin({callbackTarget:dependencyDetectionContext,callback:computedBeginDependencyDetectionCallback,computed:computedObservable,isInitial:isInitial});state.dependencyTracking={};state.dependenciesCount=0;newValue=this.evaluateImmediate_CallReadThenEndDependencyDetection(state,dependencyDetectionContext);computedObservable.isDifferent(state.latestValue,newValue)&&(state.isSleeping||computedObservable.notifySubscribers(state.latestValue,"beforeChange"),state.latestValue=newValue,state.isSleeping?computedObservable.updateVersion():notifyChange&&computedObservable.notifySubscribers(state.latestValue));isInitial&&computedObservable.notifySubscribers(state.latestValue,"awake")},evaluateImmediate_CallReadThenEndDependencyDetection:function(state,dependencyDetectionContext){try{var readFunction=state.readFunction;return state.evaluatorFunctionTarget?readFunction.call(state.evaluatorFunctionTarget):readFunction()}finally{ko.dependencyDetection.end();dependencyDetectionContext.disposalCount&&!state.isSleeping&&ko.utils.objectForEach(dependencyDetectionContext.disposalCandidates,computedDisposeDependencyCallback);state.isStale=!1}},peek:function(){var state=this[computedState];return(state.isStale&&!state.dependenciesCount||state.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),state.latestValue},limit:function(limitFunction){ko.subscribable.fn.limit.call(this,limitFunction);this._evalDelayed=function(){this._limitBeforeChange(this[computedState].latestValue);this[computedState].isStale=!0;this._limitChange(this)}},dispose:function(){var state=this[computedState];!state.isSleeping&&state.dependencyTracking&&ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){dependency.dispose&&dependency.dispose()});state.disposeWhenNodeIsRemoved&&state.domNodeDisposalCallback&&ko.utils.domNodeDisposal.removeDisposeCallback(state.disposeWhenNodeIsRemoved,state.domNodeDisposalCallback);state.dependencyTracking=null;state.dependenciesCount=0;state.isDisposed=!0;state.isStale=!1;state.isSleeping=!1;state.disposeWhenNodeIsRemoved=null}},pureComputedOverrides={beforeSubscriptionAdd:function(event){var computedObservable=this,state=computedObservable[computedState],dependeciesOrder;!state.isDisposed&&state.isSleeping&&event=="change"&&(state.isSleeping=!1,state.isStale||computedObservable.haveDependenciesChanged()?(state.dependencyTracking=null,state.dependenciesCount=0,state.isStale=!0,computedObservable.evaluateImmediate()):(dependeciesOrder=[],ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){dependeciesOrder[dependency._order]=id}),ko.utils.arrayForEach(dependeciesOrder,function(id,order){var dependency=state.dependencyTracking[id],subscription=computedObservable.subscribeToDependency(dependency._target);subscription._order=order;subscription._version=dependency._version;state.dependencyTracking[id]=subscription})),state.isDisposed||computedObservable.notifySubscribers(state.latestValue,"awake"))},afterSubscriptionRemove:function(event){var state=this[computedState];state.isDisposed||event!="change"||this.hasSubscriptionsForEvent("change")||(ko.utils.objectForEach(state.dependencyTracking,function(id,dependency){dependency.dispose&&(state.dependencyTracking[id]={_target:dependency._target,_order:dependency._order,_version:dependency._version},dependency.dispose())}),state.isSleeping=!0,this.notifySubscribers(undefined,"asleep"))},getVersion:function(){var state=this[computedState];return state.isSleeping&&(state.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),ko.subscribable.fn.getVersion.call(this)}},deferEvaluationOverrides={beforeSubscriptionAdd:function(event){(event=="change"||event=="beforeChange")&&this.peek()}};ko.utils.canSetPrototype&&ko.utils.setPrototypeOf(computedFn,ko.subscribable.fn);protoProp=ko.observable.protoProperty;ko.computed[protoProp]=ko.observable;computedFn[protoProp]=ko.computed;ko.isComputed=function(instance){return ko.hasPrototype(instance,ko.computed)};ko.isPureComputed=function(instance){return ko.hasPrototype(instance,ko.computed)&&instance[computedState]&&instance[computedState].pure};ko.exportSymbol("computed",ko.computed);ko.exportSymbol("dependentObservable",ko.computed);ko.exportSymbol("isComputed",ko.isComputed);ko.exportSymbol("isPureComputed",ko.isPureComputed);ko.exportSymbol("computed.fn",computedFn);ko.exportProperty(computedFn,"peek",computedFn.peek);ko.exportProperty(computedFn,"dispose",computedFn.dispose);ko.exportProperty(computedFn,"isActive",computedFn.isActive);ko.exportProperty(computedFn,"getDependenciesCount",computedFn.getDependenciesCount);ko.pureComputed=function(evaluatorFunctionOrOptions,evaluatorFunctionTarget){return typeof evaluatorFunctionOrOptions=="function"?ko.computed(evaluatorFunctionOrOptions,evaluatorFunctionTarget,{pure:!0}):(evaluatorFunctionOrOptions=ko.utils.extend({},evaluatorFunctionOrOptions),evaluatorFunctionOrOptions.pure=!0,ko.computed(evaluatorFunctionOrOptions,evaluatorFunctionTarget))};ko.exportSymbol("pureComputed",ko.pureComputed),function(){function mapJsObjectGraph(rootObject,mapInputCallback,visitedObjects){var canHaveProperties,outputProperties;return(visitedObjects=visitedObjects||new objectLookup,rootObject=mapInputCallback(rootObject),canHaveProperties=typeof rootObject=="object"&&rootObject!==null&&rootObject!==undefined&&!(rootObject instanceof RegExp)&&!(rootObject instanceof Date)&&!(rootObject instanceof String)&&!(rootObject instanceof Number)&&!(rootObject instanceof Boolean),!canHaveProperties)?rootObject:(outputProperties=rootObject instanceof Array?[]:{},visitedObjects.save(rootObject,outputProperties),visitPropertiesOrArrayEntries(rootObject,function(indexer){var propertyValue=mapInputCallback(rootObject[indexer]),previouslyMappedValue;switch(typeof propertyValue){case"boolean":case"number":case"string":case"function":outputProperties[indexer]=propertyValue;break;case"object":case"undefined":previouslyMappedValue=visitedObjects.get(propertyValue);outputProperties[indexer]=previouslyMappedValue!==undefined?previouslyMappedValue:mapJsObjectGraph(propertyValue,mapInputCallback,visitedObjects);break}}),outputProperties)}function visitPropertiesOrArrayEntries(rootObject,visitorCallback){var i,propertyName;if(rootObject instanceof Array){for(i=0;i<rootObject.length;i++)visitorCallback(i);typeof rootObject.toJSON=="function"&&visitorCallback("toJSON")}else for(propertyName in rootObject)visitorCallback(propertyName)}function objectLookup(){this.keys=[];this.values=[]}var maxNestedObservableDepth=10;ko.toJS=function(rootObject){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return mapJsObjectGraph(rootObject,function(valueToMap){for(var i=0;ko.isObservable(valueToMap)&&i<maxNestedObservableDepth;i++)valueToMap=valueToMap();return valueToMap})};ko.toJSON=function(rootObject,replacer,space){var plainJavaScriptObject=ko.toJS(rootObject);return ko.utils.stringifyJson(plainJavaScriptObject,replacer,space)};objectLookup.prototype={constructor:objectLookup,save:function(key,value){var existingIndex=ko.utils.arrayIndexOf(this.keys,key);existingIndex>=0?this.values[existingIndex]=value:(this.keys.push(key),this.values.push(value))},get:function(key){var existingIndex=ko.utils.arrayIndexOf(this.keys,key);return existingIndex>=0?this.values[existingIndex]:undefined}}}();ko.exportSymbol("toJS",ko.toJS);ko.exportSymbol("toJSON",ko.toJSON),function(){var hasDomDataExpandoProperty="__ko__hasDomDataOptionValue__";ko.selectExtensions={readValue:function(element){switch(ko.utils.tagNameLower(element)){case"option":return element[hasDomDataExpandoProperty]===!0?ko.utils.domData.get(element,ko.bindingHandlers.options.optionValueDomDataKey):ko.utils.ieVersion<=7?element.getAttributeNode("value")&&element.getAttributeNode("value").specified?element.value:element.text:element.value;case"select":return element.selectedIndex>=0?ko.selectExtensions.readValue(element.options[element.selectedIndex]):undefined;default:return element.value}},writeValue:function(element,value,allowUnset){var selection,i,n,optionValue;switch(ko.utils.tagNameLower(element)){case"option":switch(typeof value){case"string":ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,undefined);hasDomDataExpandoProperty in element&&delete element[hasDomDataExpandoProperty];element.value=value;break;default:ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,value);element[hasDomDataExpandoProperty]=!0;element.value=typeof value=="number"?value:"";break}break;case"select":for((value===""||value===null)&&(value=undefined),selection=-1,i=0,n=element.options.length;i<n;++i)if(optionValue=ko.selectExtensions.readValue(element.options[i]),optionValue==value||optionValue==""&&value===undefined){selection=i;break}(allowUnset||selection>=0||value===undefined&&element.size>1)&&(element.selectedIndex=selection);break;default:(value===null||value===undefined)&&(value="");element.value=value;break}}}}();ko.exportSymbol("selectExtensions",ko.selectExtensions);ko.exportSymbol("selectExtensions.readValue",ko.selectExtensions.readValue);ko.exportSymbol("selectExtensions.writeValue",ko.selectExtensions.writeValue);ko.expressionRewriting=function(){function getWriteableValue(expression){if(ko.utils.arrayIndexOf(javaScriptReservedWords,expression)>=0)return!1;var match=expression.match(javaScriptAssignmentTarget);return match===null?!1:match[1]?"Object("+match[1]+")"+match[2]:expression}function parseObjectLiteral(objectLiteralString){var str=ko.utils.stringTrim(objectLiteralString),i,tok,c,match;str.charCodeAt(0)===123&&(str=str.slice(1,-1));var result=[],toks=str.match(bindingToken),key,values=[],depth=0;if(toks)for(toks.push(","),i=0;tok=toks[i];++i){if(c=tok.charCodeAt(0),c===44){if(depth<=0){result.push(key&&values.length?{key:key,value:values.join("")}:{unknown:key||values.join("")});key=depth=0;values=[];continue}}else if(c===58){if(!depth&&!key&&values.length===1){key=values.pop();continue}}else c===47&&i&&tok.length>1?(match=toks[i-1].match(divisionLookBehind),match&&!keywordRegexLookBehind[match[0]]&&(str=str.substr(str.indexOf(tok)+1),toks=str.match(bindingToken),toks.push(","),i=-1,tok="/")):c===40||c===123||c===91?++depth:c===41||c===125||c===93?--depth:key||values.length||c!==34&&c!==39||(tok=tok.slice(1,-1));values.push(tok)}return result}function preProcessBindings(bindingsStringOrKeyValueArray,bindingOptions){function processKeyValue(key,val){function callPreprocessHook(obj){return obj&&obj.preprocess?val=obj.preprocess(val,key,processKeyValue):!0}var writableVal;if(!bindingParams){if(!callPreprocessHook(ko.getBindingHandler(key)))return;twoWayBindings[key]&&(writableVal=getWriteableValue(val))&&propertyAccessorResultStrings.push("'"+key+"':function(_z){"+writableVal+"=_z}")}makeValueAccessors&&(val="function(){return "+val+" }");resultStrings.push("'"+key+"':"+val)}bindingOptions=bindingOptions||{};var resultStrings=[],propertyAccessorResultStrings=[],makeValueAccessors=bindingOptions.valueAccessors,bindingParams=bindingOptions.bindingParams,keyValueArray=typeof bindingsStringOrKeyValueArray=="string"?parseObjectLiteral(bindingsStringOrKeyValueArray):bindingsStringOrKeyValueArray;return ko.utils.arrayForEach(keyValueArray,function(keyValue){processKeyValue(keyValue.key||keyValue.unknown,keyValue.value)}),propertyAccessorResultStrings.length&&processKeyValue("_ko_property_writers","{"+propertyAccessorResultStrings.join(",")+" }"),resultStrings.join(",")}var javaScriptReservedWords=["true","false","null","undefined"],javaScriptAssignmentTarget=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,stringDouble='"(?:[^"\\\\]|\\\\.)*"',stringSingle="'(?:[^'\\\\]|\\\\.)*'",stringRegexp="/(?:[^/\\\\]|\\\\.)*/w*",specials=",\"'{}()/:[\\]",everyThingElse="[^\\s:,/][^"+specials+"]*[^\\s"+specials+"]",oneNotSpace="[^\\s]",bindingToken=RegExp(stringDouble+"|"+stringSingle+"|"+stringRegexp+"|"+everyThingElse+"|"+oneNotSpace,"g"),divisionLookBehind=/[\])"'A-Za-z0-9_$]+$/,keywordRegexLookBehind={"in":1,"return":1,"typeof":1},twoWayBindings={};return{bindingRewriteValidators:[],twoWayBindings:twoWayBindings,parseObjectLiteral:parseObjectLiteral,preProcessBindings:preProcessBindings,keyValueArrayContainsKey:function(keyValueArray,key){for(var i=0;i<keyValueArray.length;i++)if(keyValueArray[i].key==key)return!0;return!1},writeValueToProperty:function(property,allBindings,key,value,checkIfDifferent){if(property&&ko.isObservable(property))ko.isWriteableObservable(property)&&(!checkIfDifferent||property.peek()!==value)&&property(value);else{var propWriters=allBindings.get("_ko_property_writers");propWriters&&propWriters[key]&&propWriters[key](value)}}}}();ko.exportSymbol("expressionRewriting",ko.expressionRewriting);ko.exportSymbol("expressionRewriting.bindingRewriteValidators",ko.expressionRewriting.bindingRewriteValidators);ko.exportSymbol("expressionRewriting.parseObjectLiteral",ko.expressionRewriting.parseObjectLiteral);ko.exportSymbol("expressionRewriting.preProcessBindings",ko.expressionRewriting.preProcessBindings);ko.exportSymbol("expressionRewriting._twoWayBindings",ko.expressionRewriting.twoWayBindings);ko.exportSymbol("jsonExpressionRewriting",ko.expressionRewriting);ko.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",ko.expressionRewriting.preProcessBindings),function(){function isStartComment(node){return node.nodeType==8&&startCommentRegex.test(commentNodesHaveTextProperty?node.text:node.nodeValue)}function isEndComment(node){return node.nodeType==8&&endCommentRegex.test(commentNodesHaveTextProperty?node.text:node.nodeValue)}function getVirtualChildren(startComment,allowUnbalanced){for(var currentNode=startComment,depth=1,children=[];currentNode=currentNode.nextSibling;){if(isEndComment(currentNode)&&(depth--,depth===0))return children;children.push(currentNode);isStartComment(currentNode)&&depth++}if(!allowUnbalanced)throw new Error("Cannot find closing comment tag to match: "+startComment.nodeValue);return null}function getMatchingEndComment(startComment,allowUnbalanced){var allVirtualChildren=getVirtualChildren(startComment,allowUnbalanced);return allVirtualChildren?allVirtualChildren.length>0?allVirtualChildren[allVirtualChildren.length-1].nextSibling:startComment.nextSibling:null}function getUnbalancedChildTags(node){var childNode=node.firstChild,captureRemaining=null,matchingEndComment;if(childNode)do captureRemaining?captureRemaining.push(childNode):isStartComment(childNode)?(matchingEndComment=getMatchingEndComment(childNode,!0),matchingEndComment?childNode=matchingEndComment:captureRemaining=[childNode]):isEndComment(childNode)&&(captureRemaining=[childNode]);while(childNode=childNode.nextSibling);return captureRemaining}var commentNodesHaveTextProperty=document&&document.createComment("test").text==="<!--test-->",startCommentRegex=commentNodesHaveTextProperty?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,endCommentRegex=commentNodesHaveTextProperty?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,htmlTagsWithOptionallyClosingChildren={ul:!0,ol:!0};ko.virtualElements={allowedBindings:{},childNodes:function(node){return isStartComment(node)?getVirtualChildren(node):node.childNodes},emptyNode:function(node){var virtualChildren,i,j;if(isStartComment(node))for(virtualChildren=ko.virtualElements.childNodes(node),i=0,j=virtualChildren.length;i<j;i++)ko.removeNode(virtualChildren[i]);else ko.utils.emptyDomNode(node)},setDomNodeChildren:function(node,childNodes){var endCommentNode,i,j;if(isStartComment(node))for(ko.virtualElements.emptyNode(node),endCommentNode=node.nextSibling,i=0,j=childNodes.length;i<j;i++)endCommentNode.parentNode.insertBefore(childNodes[i],endCommentNode);else ko.utils.setDomNodeChildren(node,childNodes)},prepend:function(containerNode,nodeToPrepend){isStartComment(containerNode)?containerNode.parentNode.insertBefore(nodeToPrepend,containerNode.nextSibling):containerNode.firstChild?containerNode.insertBefore(nodeToPrepend,containerNode.firstChild):containerNode.appendChild(nodeToPrepend)},insertAfter:function(containerNode,nodeToInsert,insertAfterNode){insertAfterNode?isStartComment(containerNode)?containerNode.parentNode.insertBefore(nodeToInsert,insertAfterNode.nextSibling):insertAfterNode.nextSibling?containerNode.insertBefore(nodeToInsert,insertAfterNode.nextSibling):containerNode.appendChild(nodeToInsert):ko.virtualElements.prepend(containerNode,nodeToInsert)},firstChild:function(node){return isStartComment(node)?!node.nextSibling||isEndComment(node.nextSibling)?null:node.nextSibling:node.firstChild},nextSibling:function(node){return(isStartComment(node)&&(node=getMatchingEndComment(node)),node.nextSibling&&isEndComment(node.nextSibling))?null:node.nextSibling},hasBindingValue:isStartComment,virtualNodeBindingValue:function(node){var regexMatch=(commentNodesHaveTextProperty?node.text:node.nodeValue).match(startCommentRegex);return regexMatch?regexMatch[1]:null},normaliseVirtualElementDomStructure:function(elementVerified){var childNode,unbalancedTags,nodeToInsertBefore,i;if(htmlTagsWithOptionallyClosingChildren[ko.utils.tagNameLower(elementVerified)]&&(childNode=elementVerified.firstChild,childNode))do if(childNode.nodeType===1&&(unbalancedTags=getUnbalancedChildTags(childNode),unbalancedTags))for(nodeToInsertBefore=childNode.nextSibling,i=0;i<unbalancedTags.length;i++)nodeToInsertBefore?elementVerified.insertBefore(unbalancedTags[i],nodeToInsertBefore):elementVerified.appendChild(unbalancedTags[i]);while(childNode=childNode.nextSibling)}}}();ko.exportSymbol("virtualElements",ko.virtualElements);ko.exportSymbol("virtualElements.allowedBindings",ko.virtualElements.allowedBindings);ko.exportSymbol("virtualElements.emptyNode",ko.virtualElements.emptyNode);ko.exportSymbol("virtualElements.insertAfter",ko.virtualElements.insertAfter);ko.exportSymbol("virtualElements.prepend",ko.virtualElements.prepend);ko.exportSymbol("virtualElements.setDomNodeChildren",ko.virtualElements.setDomNodeChildren),function(){function createBindingsStringEvaluatorViaCache(bindingsString,cache,options){var cacheKey=bindingsString+(options&&options.valueAccessors||"");return cache[cacheKey]||(cache[cacheKey]=createBindingsStringEvaluator(bindingsString,options))}function createBindingsStringEvaluator(bindingsString,options){var rewrittenBindings=ko.expressionRewriting.preProcessBindings(bindingsString,options),functionBody="with($context){with($data||{}){return{"+rewrittenBindings+"}}}";return new Function("$context","$element",functionBody)}var defaultBindingAttributeName="data-bind";ko.bindingProvider=function(){this.bindingCache={}};ko.utils.extend(ko.bindingProvider.prototype,{nodeHasBindings:function(node){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName)!=null||ko.components.getComponentNameForNode(node);case 8:return ko.virtualElements.hasBindingValue(node);default:return!1}},getBindings:function(node,bindingContext){var bindingsString=this.getBindingsString(node,bindingContext),parsedBindings=bindingsString?this.parseBindingsString(bindingsString,bindingContext,node):null;return ko.components.addBindingsForCustomElement(parsedBindings,node,bindingContext,!1)},getBindingAccessors:function(node,bindingContext){var bindingsString=this.getBindingsString(node,bindingContext),parsedBindings=bindingsString?this.parseBindingsString(bindingsString,bindingContext,node,{valueAccessors:!0}):null;return ko.components.addBindingsForCustomElement(parsedBindings,node,bindingContext,!0)},getBindingsString:function(node,bindingContext){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName);case 8:return ko.virtualElements.virtualNodeBindingValue(node);default:return null}},parseBindingsString:function(bindingsString,bindingContext,node,options){try{var bindingFunction=createBindingsStringEvaluatorViaCache(bindingsString,this.bindingCache,options);return bindingFunction(bindingContext,node)}catch(ex){ex.message="Unable to parse bindings.\nBindings value: "+bindingsString+"\nMessage: "+ex.message;throw ex;}}});ko.bindingProvider.instance=new ko.bindingProvider}();ko.exportSymbol("bindingProvider",ko.bindingProvider),function(){function makeValueAccessor(value){return function(){return value}}function evaluateValueAccessor(valueAccessor){return valueAccessor()}function makeAccessorsFromFunction(callback){return ko.utils.objectMap(ko.dependencyDetection.ignore(callback),function(value,key){return function(){return callback()[key]}})}function makeBindingAccessors(bindings,context,node){return typeof bindings=="function"?makeAccessorsFromFunction(bindings.bind(null,context,node)):ko.utils.objectMap(bindings,makeValueAccessor)}function getBindingsAndMakeAccessors(node,context){return makeAccessorsFromFunction(this.getBindings.bind(this,node,context))}function validateThatBindingIsAllowedForVirtualElements(bindingName){var validator=ko.virtualElements.allowedBindings[bindingName];if(!validator)throw new Error("The binding '"+bindingName+"' cannot be used with virtual elements");}function applyBindingsToDescendantsInternal(bindingContext,elementOrVirtualElement,bindingContextsMayDifferFromDomParentElement){var currentChild,nextInQueue=ko.virtualElements.firstChild(elementOrVirtualElement),provider=ko.bindingProvider.instance,preprocessNode=provider.preprocessNode;if(preprocessNode){while(currentChild=nextInQueue)nextInQueue=ko.virtualElements.nextSibling(currentChild),preprocessNode.call(provider,currentChild);nextInQueue=ko.virtualElements.firstChild(elementOrVirtualElement)}while(currentChild=nextInQueue)nextInQueue=ko.virtualElements.nextSibling(currentChild),applyBindingsToNodeAndDescendantsInternal(bindingContext,currentChild,bindingContextsMayDifferFromDomParentElement)}function applyBindingsToNodeAndDescendantsInternal(bindingContext,nodeVerified,bindingContextMayDifferFromDomParentElement){var shouldBindDescendants=!0,isElement=nodeVerified.nodeType===1,shouldApplyBindings;isElement&&ko.virtualElements.normaliseVirtualElementDomStructure(nodeVerified);shouldApplyBindings=isElement&&bindingContextMayDifferFromDomParentElement||ko.bindingProvider.instance.nodeHasBindings(nodeVerified);shouldApplyBindings&&(shouldBindDescendants=applyBindingsToNodeInternal(nodeVerified,null,bindingContext,bindingContextMayDifferFromDomParentElement).shouldBindDescendants);shouldBindDescendants&&!bindingDoesNotRecurseIntoElementTypes[ko.utils.tagNameLower(nodeVerified)]&&applyBindingsToDescendantsInternal(bindingContext,nodeVerified,!isElement)}function topologicalSortBindings(bindings){var result=[],bindingsConsidered={},cyclicDependencyStack=[];return ko.utils.objectForEach(bindings,function pushBinding(bindingKey){if(!bindingsConsidered[bindingKey]){var binding=ko.getBindingHandler(bindingKey);binding&&(binding.after&&(cyclicDependencyStack.push(bindingKey),ko.utils.arrayForEach(binding.after,function(bindingDependencyKey){if(bindings[bindingDependencyKey])if(ko.utils.arrayIndexOf(cyclicDependencyStack,bindingDependencyKey)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+cyclicDependencyStack.join(", "));else pushBinding(bindingDependencyKey)}),cyclicDependencyStack.length--),result.push({key:bindingKey,handler:binding}));bindingsConsidered[bindingKey]=!0}}),result}function applyBindingsToNodeInternal(node,sourceBindings,bindingContext,bindingContextMayDifferFromDomParentElement){var alreadyBound=ko.utils.domData.get(node,boundElementDomDataKey),bindings,bindingHandlerThatControlsDescendantBindings,getValueAccessor,orderedBindings;if(!sourceBindings){if(alreadyBound)throw Error("You cannot apply bindings multiple times to the same element.");ko.utils.domData.set(node,boundElementDomDataKey,!0)}if(!alreadyBound&&bindingContextMayDifferFromDomParentElement&&ko.storedBindingContextForNode(node,bindingContext),sourceBindings&&typeof sourceBindings!="function")bindings=sourceBindings;else{var provider=ko.bindingProvider.instance,getBindings=provider.getBindingAccessors||getBindingsAndMakeAccessors,bindingsUpdater=ko.dependentObservable(function(){return bindings=sourceBindings?sourceBindings(bindingContext,node):getBindings.call(provider,node,bindingContext),bindings&&bindingContext._subscribable&&bindingContext._subscribable(),bindings},null,{disposeWhenNodeIsRemoved:node});bindings&&bindingsUpdater.isActive()||(bindingsUpdater=null)}if(bindings){getValueAccessor=bindingsUpdater?function(bindingKey){return function(){return evaluateValueAccessor(bindingsUpdater()[bindingKey])}}:function(bindingKey){return bindings[bindingKey]};function allBindings(){return ko.utils.objectMap(bindingsUpdater?bindingsUpdater():bindings,evaluateValueAccessor)}allBindings.get=function(key){return bindings[key]&&evaluateValueAccessor(getValueAccessor(key))};allBindings.has=function(key){return key in bindings};orderedBindings=topologicalSortBindings(bindings);ko.utils.arrayForEach(orderedBindings,function(bindingKeyAndHandler){var handlerInitFn=bindingKeyAndHandler.handler.init,handlerUpdateFn=bindingKeyAndHandler.handler.update,bindingKey=bindingKeyAndHandler.key;node.nodeType===8&&validateThatBindingIsAllowedForVirtualElements(bindingKey);try{typeof handlerInitFn=="function"&&ko.dependencyDetection.ignore(function(){var initResult=handlerInitFn(node,getValueAccessor(bindingKey),allBindings,bindingContext.$data,bindingContext);if(initResult&&initResult.controlsDescendantBindings){if(bindingHandlerThatControlsDescendantBindings!==undefined)throw new Error("Multiple bindings ("+bindingHandlerThatControlsDescendantBindings+" and "+bindingKey+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");bindingHandlerThatControlsDescendantBindings=bindingKey}});typeof handlerUpdateFn=="function"&&ko.dependentObservable(function(){handlerUpdateFn(node,getValueAccessor(bindingKey),allBindings,bindingContext.$data,bindingContext)},null,{disposeWhenNodeIsRemoved:node})}catch(ex){ex.message='Unable to process binding "'+bindingKey+": "+bindings[bindingKey]+'"\nMessage: '+ex.message;throw ex;}})}return{shouldBindDescendants:bindingHandlerThatControlsDescendantBindings===undefined}}function getBindingContext(viewModelOrBindingContext){return viewModelOrBindingContext&&viewModelOrBindingContext instanceof ko.bindingContext?viewModelOrBindingContext:new ko.bindingContext(viewModelOrBindingContext)}var bindingDoesNotRecurseIntoElementTypes,boundElementDomDataKey,storedBindingContextDomDataKey;ko.bindingHandlers={};bindingDoesNotRecurseIntoElementTypes={script:!0,textarea:!0,template:!0};ko.getBindingHandler=function(bindingKey){return ko.bindingHandlers[bindingKey]};ko.bindingContext=function(dataItemOrAccessor,parentContext,dataItemAlias,extendCallback){function updateContext(){var dataItemOrObservable=isFunc?dataItemOrAccessor():dataItemOrAccessor,dataItem=ko.utils.unwrapObservable(dataItemOrObservable);return parentContext?(parentContext._subscribable&&parentContext._subscribable(),ko.utils.extend(self,parentContext),subscribable&&(self._subscribable=subscribable)):(self.$parents=[],self.$root=dataItem,self.ko=ko),self.$rawData=dataItemOrObservable,self.$data=dataItem,dataItemAlias&&(self[dataItemAlias]=dataItem),extendCallback&&extendCallback(self,parentContext,dataItem),self.$data}function disposeWhen(){return nodes&&!ko.utils.anyDomNodeIsAttachedToDocument(nodes)}var self=this,isFunc=typeof dataItemOrAccessor=="function"&&!ko.isObservable(dataItemOrAccessor),nodes,subscribable=ko.dependentObservable(updateContext,null,{disposeWhen:disposeWhen,disposeWhenNodeIsRemoved:!0});subscribable.isActive()&&(self._subscribable=subscribable,subscribable.equalityComparer=null,nodes=[],subscribable._addNode=function(node){nodes.push(node);ko.utils.domNodeDisposal.addDisposeCallback(node,function(node){ko.utils.arrayRemoveItem(nodes,node);nodes.length||(subscribable.dispose(),self._subscribable=subscribable=undefined)})})};ko.bindingContext.prototype.createChildContext=function(dataItemOrAccessor,dataItemAlias,extendCallback){return new ko.bindingContext(dataItemOrAccessor,this,dataItemAlias,function(self,parentContext){self.$parentContext=parentContext;self.$parent=parentContext.$data;self.$parents=(parentContext.$parents||[]).slice(0);self.$parents.unshift(self.$parent);extendCallback&&extendCallback(self)})};ko.bindingContext.prototype.extend=function(properties){return new ko.bindingContext(this._subscribable||this.$data,this,null,function(self,parentContext){self.$rawData=parentContext.$rawData;ko.utils.extend(self,typeof properties=="function"?properties():properties)})};boundElementDomDataKey=ko.utils.domData.nextKey();storedBindingContextDomDataKey=ko.utils.domData.nextKey();ko.storedBindingContextForNode=function(node,bindingContext){if(arguments.length==2)ko.utils.domData.set(node,storedBindingContextDomDataKey,bindingContext),bindingContext._subscribable&&bindingContext._subscribable._addNode(node);else return ko.utils.domData.get(node,storedBindingContextDomDataKey)};ko.applyBindingAccessorsToNode=function(node,bindings,viewModelOrBindingContext){return node.nodeType===1&&ko.virtualElements.normaliseVirtualElementDomStructure(node),applyBindingsToNodeInternal(node,bindings,getBindingContext(viewModelOrBindingContext),!0)};ko.applyBindingsToNode=function(node,bindings,viewModelOrBindingContext){var context=getBindingContext(viewModelOrBindingContext);return ko.applyBindingAccessorsToNode(node,makeBindingAccessors(bindings,context,node),context)};ko.applyBindingsToDescendants=function(viewModelOrBindingContext,rootNode){(rootNode.nodeType===1||rootNode.nodeType===8)&&applyBindingsToDescendantsInternal(getBindingContext(viewModelOrBindingContext),rootNode,!0)};ko.applyBindings=function(viewModelOrBindingContext,rootNode){if(!jQueryInstance&&window.jQuery&&(jQueryInstance=window.jQuery),rootNode&&rootNode.nodeType!==1&&rootNode.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");rootNode=rootNode||window.document.body;applyBindingsToNodeAndDescendantsInternal(getBindingContext(viewModelOrBindingContext),rootNode,!0)};ko.contextFor=function(node){switch(node.nodeType){case 1:case 8:var context=ko.storedBindingContextForNode(node);if(context)return context;if(node.parentNode)return ko.contextFor(node.parentNode);break}return undefined};ko.dataFor=function(node){var context=ko.contextFor(node);return context?context.$data:undefined};ko.exportSymbol("bindingHandlers",ko.bindingHandlers);ko.exportSymbol("applyBindings",ko.applyBindings);ko.exportSymbol("applyBindingsToDescendants",ko.applyBindingsToDescendants);ko.exportSymbol("applyBindingAccessorsToNode",ko.applyBindingAccessorsToNode);ko.exportSymbol("applyBindingsToNode",ko.applyBindingsToNode);ko.exportSymbol("contextFor",ko.contextFor);ko.exportSymbol("dataFor",ko.dataFor)}(),function(undefined){function getObjectOwnProperty(obj,propName){return obj.hasOwnProperty(propName)?obj[propName]:undefined}function loadComponentAndNotify(componentName,callback){var subscribable=getObjectOwnProperty(loadingSubscribablesCache,componentName),completedAsync;subscribable?subscribable.subscribe(callback):(subscribable=loadingSubscribablesCache[componentName]=new ko.subscribable,subscribable.subscribe(callback),beginLoadingComponent(componentName,function(definition,config){var isSynchronousComponent=!!(config&&config.synchronous);loadedDefinitionsCache[componentName]={definition:definition,isSynchronousComponent:isSynchronousComponent};delete loadingSubscribablesCache[componentName];completedAsync||isSynchronousComponent?subscribable.notifySubscribers(definition):ko.tasks.schedule(function(){subscribable.notifySubscribers(definition)})}),completedAsync=!0)}function beginLoadingComponent(componentName,callback){getFirstResultFromLoaders("getConfig",[componentName],function(config){config?getFirstResultFromLoaders("loadComponent",[componentName,config],function(definition){callback(definition,config)}):callback(null,null)})}function getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders){var currentCandidateLoader,methodInstance,wasAborted,synchronousReturnValue;if(candidateLoaders||(candidateLoaders=ko.components.loaders.slice(0)),currentCandidateLoader=candidateLoaders.shift(),currentCandidateLoader)if(methodInstance=currentCandidateLoader[methodName],methodInstance){if(wasAborted=!1,synchronousReturnValue=methodInstance.apply(currentCandidateLoader,argsExceptCallback.concat(function(result){wasAborted?callback(null):result!==null?callback(result):getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders)})),synchronousReturnValue!==undefined&&(wasAborted=!0,!currentCandidateLoader.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else getFirstResultFromLoaders(methodName,argsExceptCallback,callback,candidateLoaders);else callback(null)}var loadingSubscribablesCache={},loadedDefinitionsCache={};ko.components={get:function(componentName,callback){var cachedDefinition=getObjectOwnProperty(loadedDefinitionsCache,componentName);cachedDefinition?cachedDefinition.isSynchronousComponent?ko.dependencyDetection.ignore(function(){callback(cachedDefinition.definition)}):ko.tasks.schedule(function(){callback(cachedDefinition.definition)}):loadComponentAndNotify(componentName,callback)},clearCachedDefinition:function(componentName){delete loadedDefinitionsCache[componentName]},_getFirstResultFromLoaders:getFirstResultFromLoaders};ko.components.loaders=[];ko.exportSymbol("components",ko.components);ko.exportSymbol("components.get",ko.components.get);ko.exportSymbol("components.clearCachedDefinition",ko.components.clearCachedDefinition)}(),function(undefined){function resolveConfig(componentName,errorCallback,config,callback){var result={},makeCallBackWhenZero=2,tryIssueCallback=function(){--makeCallBackWhenZero==0&&callback(result)},templateConfig=config.template,viewModelConfig=config.viewModel;templateConfig?possiblyGetConfigFromAmd(errorCallback,templateConfig,function(loadedConfig){ko.components._getFirstResultFromLoaders("loadTemplate",[componentName,loadedConfig],function(resolvedTemplate){result.template=resolvedTemplate;tryIssueCallback()})}):tryIssueCallback();viewModelConfig?possiblyGetConfigFromAmd(errorCallback,viewModelConfig,function(loadedConfig){ko.components._getFirstResultFromLoaders("loadViewModel",[componentName,loadedConfig],function(resolvedViewModel){result[createViewModelKey]=resolvedViewModel;tryIssueCallback()})}):tryIssueCallback()}function resolveTemplate(errorCallback,templateConfig,callback){var element,elemInstance;typeof templateConfig=="string"?callback(ko.utils.parseHtmlFragment(templateConfig)):templateConfig instanceof Array?callback(templateConfig):isDocumentFragment(templateConfig)?callback(ko.utils.makeArray(templateConfig.childNodes)):templateConfig.element?(element=templateConfig.element,isDomElement(element)?callback(cloneNodesFromTemplateSourceElement(element)):typeof element=="string"?(elemInstance=document.getElementById(element),elemInstance?callback(cloneNodesFromTemplateSourceElement(elemInstance)):errorCallback("Cannot find element with ID "+element)):errorCallback("Unknown element type: "+element)):errorCallback("Unknown template value: "+templateConfig)}function resolveViewModel(errorCallback,viewModelConfig,callback){if(typeof viewModelConfig=="function")callback(function(params){return new viewModelConfig(params)});else if(typeof viewModelConfig[createViewModelKey]=="function")callback(viewModelConfig[createViewModelKey]);else if("instance"in viewModelConfig){var fixedInstance=viewModelConfig.instance;callback(function(params,componentInfo){return fixedInstance})}else"viewModel"in viewModelConfig?resolveViewModel(errorCallback,viewModelConfig.viewModel,callback):errorCallback("Unknown viewModel value: "+viewModelConfig)}function cloneNodesFromTemplateSourceElement(elemInstance){switch(ko.utils.tagNameLower(elemInstance)){case"script":return ko.utils.parseHtmlFragment(elemInstance.text);case"textarea":return ko.utils.parseHtmlFragment(elemInstance.value);case"template":if(isDocumentFragment(elemInstance.content))return ko.utils.cloneNodes(elemInstance.content.childNodes)}return ko.utils.cloneNodes(elemInstance.childNodes)}function isDomElement(obj){return window.HTMLElement?obj instanceof HTMLElement:obj&&obj.tagName&&obj.nodeType===1}function isDocumentFragment(obj){return window.DocumentFragment?obj instanceof DocumentFragment:obj&&obj.nodeType===11}function possiblyGetConfigFromAmd(errorCallback,config,callback){typeof config.require=="string"?amdRequire||window.require?(amdRequire||window.require)([config.require],callback):errorCallback("Uses require, but no AMD loader is present"):callback(config)}function makeErrorCallback(componentName){return function(message){throw new Error("Component '"+componentName+"': "+message);}}var defaultConfigRegistry={},createViewModelKey;ko.components.register=function(componentName,config){if(!config)throw new Error("Invalid configuration for "+componentName);if(ko.components.isRegistered(componentName))throw new Error("Component "+componentName+" is already registered");defaultConfigRegistry[componentName]=config};ko.components.isRegistered=function(componentName){return defaultConfigRegistry.hasOwnProperty(componentName)};ko.components.unregister=function(componentName){delete defaultConfigRegistry[componentName];ko.components.clearCachedDefinition(componentName)};ko.components.defaultLoader={getConfig:function(componentName,callback){var result=defaultConfigRegistry.hasOwnProperty(componentName)?defaultConfigRegistry[componentName]:null;callback(result)},loadComponent:function(componentName,config,callback){var errorCallback=makeErrorCallback(componentName);possiblyGetConfigFromAmd(errorCallback,config,function(loadedConfig){resolveConfig(componentName,errorCallback,loadedConfig,callback)})},loadTemplate:function(componentName,templateConfig,callback){resolveTemplate(makeErrorCallback(componentName),templateConfig,callback)},loadViewModel:function(componentName,viewModelConfig,callback){resolveViewModel(makeErrorCallback(componentName),viewModelConfig,callback)}};createViewModelKey="createViewModel";ko.exportSymbol("components.register",ko.components.register);ko.exportSymbol("components.isRegistered",ko.components.isRegistered);ko.exportSymbol("components.unregister",ko.components.unregister);ko.exportSymbol("components.defaultLoader",ko.components.defaultLoader);ko.components.loaders.push(ko.components.defaultLoader);ko.components._allRegisteredComponents=defaultConfigRegistry}(),function(undefined){function getComponentParamsFromCustomElement(elem,bindingContext){var paramsAttribute=elem.getAttribute("params");if(paramsAttribute){var params=nativeBindingProviderInstance.parseBindingsString(paramsAttribute,bindingContext,elem,{valueAccessors:!0,bindingParams:!0}),rawParamComputedValues=ko.utils.objectMap(params,function(paramValue,paramName){return ko.computed(paramValue,null,{disposeWhenNodeIsRemoved:elem})}),result=ko.utils.objectMap(rawParamComputedValues,function(paramValueComputed,paramName){var paramValue=paramValueComputed.peek();return paramValueComputed.isActive()?ko.computed({read:function(){return ko.utils.unwrapObservable(paramValueComputed())},write:ko.isWriteableObservable(paramValue)&&function(value){paramValueComputed()(value)},disposeWhenNodeIsRemoved:elem}):paramValue});return result.hasOwnProperty("$raw")||(result.$raw=rawParamComputedValues),result}else return{$raw:{}}}ko.components.getComponentNameForNode=function(node){var tagNameLower=ko.utils.tagNameLower(node);if(ko.components.isRegistered(tagNameLower)&&(tagNameLower.indexOf("-")!=-1||""+node=="[object HTMLUnknownElement]"||ko.utils.ieVersion<=8&&node.tagName===tagNameLower))return tagNameLower};ko.components.addBindingsForCustomElement=function(allBindings,node,bindingContext,valueAccessors){var componentName,componentBindingValue;if(node.nodeType===1&&(componentName=ko.components.getComponentNameForNode(node),componentName)){if(allBindings=allBindings||{},allBindings.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');componentBindingValue={name:componentName,params:getComponentParamsFromCustomElement(node,bindingContext)};allBindings.component=valueAccessors?function(){return componentBindingValue}:componentBindingValue}return allBindings};var nativeBindingProviderInstance=new ko.bindingProvider;ko.utils.ieVersion<9&&(ko.components.register=function(originalFunction){return function(componentName){return document.createElement(componentName),originalFunction.apply(this,arguments)}}(ko.components.register),document.createDocumentFragment=function(originalFunction){return function(){var newDocFrag=originalFunction(),allComponents=ko.components._allRegisteredComponents;for(var componentName in allComponents)allComponents.hasOwnProperty(componentName)&&newDocFrag.createElement(componentName);return newDocFrag}}(document.createDocumentFragment))}(),function(undefined){function cloneTemplateIntoElement(componentName,componentDefinition,element){var template=componentDefinition.template,clonedNodesArray;if(!template)throw new Error("Component '"+componentName+"' has no template");clonedNodesArray=ko.utils.cloneNodes(template);ko.virtualElements.setDomNodeChildren(element,clonedNodesArray)}function createViewModel(componentDefinition,element,originalChildNodes,componentParams){var componentViewModelFactory=componentDefinition.createViewModel;return componentViewModelFactory?componentViewModelFactory.call(componentDefinition,componentParams,{element:element,templateNodes:originalChildNodes}):componentParams}var componentLoadingOperationUniqueId=0;ko.bindingHandlers.component={init:function(element,valueAccessor,ignored1,ignored2,bindingContext){var currentViewModel,currentLoadingOperationId,disposeAssociatedComponentViewModel=function(){var currentViewModelDispose=currentViewModel&&currentViewModel.dispose;typeof currentViewModelDispose=="function"&&currentViewModelDispose.call(currentViewModel);currentViewModel=null;currentLoadingOperationId=null},originalChildNodes=ko.utils.makeArray(ko.virtualElements.childNodes(element));return ko.utils.domNodeDisposal.addDisposeCallback(element,disposeAssociatedComponentViewModel),ko.computed(function(){var value=ko.utils.unwrapObservable(valueAccessor()),componentName,componentParams,loadingOperationId;if(typeof value=="string"?componentName=value:(componentName=ko.utils.unwrapObservable(value.name),componentParams=ko.utils.unwrapObservable(value.params)),!componentName)throw new Error("No component name specified");loadingOperationId=currentLoadingOperationId=++componentLoadingOperationUniqueId;ko.components.get(componentName,function(componentDefinition){if(currentLoadingOperationId===loadingOperationId){if(disposeAssociatedComponentViewModel(),!componentDefinition)throw new Error("Unknown component '"+componentName+"'");cloneTemplateIntoElement(componentName,componentDefinition,element);var componentViewModel=createViewModel(componentDefinition,element,originalChildNodes,componentParams),childBindingContext=bindingContext.createChildContext(componentViewModel,undefined,function(ctx){ctx.$component=componentViewModel;ctx.$componentTemplateNodes=originalChildNodes});currentViewModel=componentViewModel;ko.applyBindingsToDescendants(childBindingContext,element)}})},null,{disposeWhenNodeIsRemoved:element}),{controlsDescendantBindings:!0}}};ko.virtualElements.allowedBindings.component=!0}();attrHtmlToJavascriptMap={"class":"className","for":"htmlFor"};ko.bindingHandlers.attr={update:function(element,valueAccessor,allBindings){var value=ko.utils.unwrapObservable(valueAccessor())||{};ko.utils.objectForEach(value,function(attrName,attrValue){attrValue=ko.utils.unwrapObservable(attrValue);var toRemove=attrValue===!1||attrValue===null||attrValue===undefined;toRemove&&element.removeAttribute(attrName);ko.utils.ieVersion<=8&&attrName in attrHtmlToJavascriptMap?(attrName=attrHtmlToJavascriptMap[attrName],toRemove?element.removeAttribute(attrName):element[attrName]=attrValue):toRemove||element.setAttribute(attrName,attrValue.toString());attrName==="name"&&ko.utils.setElementName(element,toRemove?"":attrValue.toString())})}},function(){ko.bindingHandlers.checked={after:["value","attr"],init:function(element,valueAccessor,allBindings){function updateModel(){var isChecked=element.checked,elemValue=useCheckedValue?checkedValue():isChecked,modelValue,writableValue;ko.computedContext.isInitial()||(!isRadio||isChecked)&&(modelValue=ko.dependencyDetection.ignore(valueAccessor),valueIsArray?(writableValue=rawValueIsNonArrayObservable?modelValue.peek():modelValue,oldElemValue!==elemValue?(isChecked&&(ko.utils.addOrRemoveItem(writableValue,elemValue,!0),ko.utils.addOrRemoveItem(writableValue,oldElemValue,!1)),oldElemValue=elemValue):ko.utils.addOrRemoveItem(writableValue,elemValue,isChecked),rawValueIsNonArrayObservable&&ko.isWriteableObservable(modelValue)&&modelValue(writableValue)):ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,"checked",elemValue,!0))}function updateView(){var modelValue=ko.utils.unwrapObservable(valueAccessor());element.checked=valueIsArray?ko.utils.arrayIndexOf(modelValue,checkedValue())>=0:isCheckbox?modelValue:checkedValue()===modelValue}var checkedValue=ko.pureComputed(function(){if(allBindings.has("checkedValue"))return ko.utils.unwrapObservable(allBindings.get("checkedValue"));else if(allBindings.has("value"))return ko.utils.unwrapObservable(allBindings.get("value"));return element.value}),isCheckbox=element.type=="checkbox",isRadio=element.type=="radio";if(isCheckbox||isRadio){var rawValue=valueAccessor(),valueIsArray=isCheckbox&&ko.utils.unwrapObservable(rawValue)instanceof Array,rawValueIsNonArrayObservable=!(valueIsArray&&rawValue.push&&rawValue.splice),oldElemValue=valueIsArray?checkedValue():undefined,useCheckedValue=isRadio||valueIsArray;isRadio&&!element.name&&ko.bindingHandlers.uniqueName.init(element,function(){return!0});ko.computed(updateModel,null,{disposeWhenNodeIsRemoved:element});ko.utils.registerEventHandler(element,"click",updateModel);ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element});rawValue=undefined}}};ko.expressionRewriting.twoWayBindings.checked=!0;ko.bindingHandlers.checkedValue={update:function(element,valueAccessor){element.value=ko.utils.unwrapObservable(valueAccessor())}}}();classesWrittenByBindingKey="__ko__cssValue";ko.bindingHandlers.css={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());value!==null&&typeof value=="object"?ko.utils.objectForEach(value,function(className,shouldHaveClass){shouldHaveClass=ko.utils.unwrapObservable(shouldHaveClass);ko.utils.toggleDomNodeCssClass(element,className,shouldHaveClass)}):(value=ko.utils.stringTrim(String(value||"")),ko.utils.toggleDomNodeCssClass(element,element[classesWrittenByBindingKey],!1),element[classesWrittenByBindingKey]=value,ko.utils.toggleDomNodeCssClass(element,value,!0))}};ko.bindingHandlers.enable={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());value&&element.disabled?element.removeAttribute("disabled"):value||element.disabled||(element.disabled=!0)}};ko.bindingHandlers.disable={update:function(element,valueAccessor){ko.bindingHandlers.enable.update(element,function(){return!ko.utils.unwrapObservable(valueAccessor())})}};ko.bindingHandlers.event={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var eventsToHandle=valueAccessor()||{};ko.utils.objectForEach(eventsToHandle,function(eventName){typeof eventName=="string"&&ko.utils.registerEventHandler(element,eventName,function(event){var handlerReturnValue,handlerFunction=valueAccessor()[eventName],argsForHandler,bubble;if(handlerFunction){try{argsForHandler=ko.utils.makeArray(arguments);viewModel=bindingContext.$data;argsForHandler.unshift(viewModel);handlerReturnValue=handlerFunction.apply(viewModel,argsForHandler)}finally{handlerReturnValue!==!0&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}bubble=allBindings.get(eventName+"Bubble")!==!1;bubble||(event.cancelBubble=!0,event.stopPropagation&&event.stopPropagation())}})})}};ko.bindingHandlers.foreach={makeTemplateValueAccessor:function(valueAccessor){return function(){var modelValue=valueAccessor(),unwrappedValue=ko.utils.peekObservable(modelValue);return!unwrappedValue||typeof unwrappedValue.length=="number"?{foreach:modelValue,templateEngine:ko.nativeTemplateEngine.instance}:(ko.utils.unwrapObservable(modelValue),{foreach:unwrappedValue.data,as:unwrappedValue.as,includeDestroyed:unwrappedValue.includeDestroyed,afterAdd:unwrappedValue.afterAdd,beforeRemove:unwrappedValue.beforeRemove,afterRender:unwrappedValue.afterRender,beforeMove:unwrappedValue.beforeMove,afterMove:unwrappedValue.afterMove,templateEngine:ko.nativeTemplateEngine.instance})}},init:function(element,valueAccessor,allBindings,viewModel,bindingContext){return ko.bindingHandlers.template.init(element,ko.bindingHandlers.foreach.makeTemplateValueAccessor(valueAccessor))},update:function(element,valueAccessor,allBindings,viewModel,bindingContext){return ko.bindingHandlers.template.update(element,ko.bindingHandlers.foreach.makeTemplateValueAccessor(valueAccessor),allBindings,viewModel,bindingContext)}};ko.expressionRewriting.bindingRewriteValidators.foreach=!1;ko.virtualElements.allowedBindings.foreach=!0;hasfocusUpdatingProperty="__ko_hasfocusUpdating";hasfocusLastValue="__ko_hasfocusLastValue";ko.bindingHandlers.hasfocus={init:function(element,valueAccessor,allBindings){var handleElementFocusChange=function(isFocused){var ownerDoc,active,modelValue;if(element[hasfocusUpdatingProperty]=!0,ownerDoc=element.ownerDocument,"activeElement"in ownerDoc){try{active=ownerDoc.activeElement}catch(e){active=ownerDoc.body}isFocused=active===element}modelValue=valueAccessor();ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,"hasfocus",isFocused,!0);element[hasfocusLastValue]=isFocused;element[hasfocusUpdatingProperty]=!1},handleElementFocusIn=handleElementFocusChange.bind(null,!0),handleElementFocusOut=handleElementFocusChange.bind(null,!1);ko.utils.registerEventHandler(element,"focus",handleElementFocusIn);ko.utils.registerEventHandler(element,"focusin",handleElementFocusIn);ko.utils.registerEventHandler(element,"blur",handleElementFocusOut);ko.utils.registerEventHandler(element,"focusout",handleElementFocusOut)},update:function(element,valueAccessor){var value=!!ko.utils.unwrapObservable(valueAccessor());element[hasfocusUpdatingProperty]||element[hasfocusLastValue]===value||(value?element.focus():element.blur(),!value&&element[hasfocusLastValue]&&element.ownerDocument.body.focus(),ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,value?"focusin":"focusout"]))}};ko.expressionRewriting.twoWayBindings.hasfocus=!0;ko.bindingHandlers.hasFocus=ko.bindingHandlers.hasfocus;ko.expressionRewriting.twoWayBindings.hasFocus=!0;ko.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor){ko.utils.setHtml(element,valueAccessor())}};makeWithIfBinding("if");makeWithIfBinding("ifnot",!1,!0);makeWithIfBinding("with",!0,!1,function(bindingContext,dataValue){return bindingContext.createChildContext(dataValue)});captionPlaceholder={};ko.bindingHandlers.options={init:function(element){if(ko.utils.tagNameLower(element)!=="select")throw new Error("options binding applies only to SELECT elements");while(element.length>0)element.remove(0);return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindings){function selectedOptions(){return ko.utils.arrayFilter(element.options,function(node){return node.selected})}function applyToObject(object,predicate,defaultValue){var predicateType=typeof predicate;return predicateType=="function"?predicate(object):predicateType=="string"?object[predicate]:defaultValue}function optionForArrayItem(arrayEntry,index,oldOptions){var option,optionValue,optionText;return oldOptions.length&&(previousSelectedValues=!valueAllowUnset&&oldOptions[0].selected?[ko.selectExtensions.readValue(oldOptions[0])]:[],itemUpdate=!0),option=element.ownerDocument.createElement("option"),arrayEntry===captionPlaceholder?(ko.utils.setTextContent(option,allBindings.get("optionsCaption")),ko.selectExtensions.writeValue(option,undefined)):(optionValue=applyToObject(arrayEntry,allBindings.get("optionsValue"),arrayEntry),ko.selectExtensions.writeValue(option,ko.utils.unwrapObservable(optionValue)),optionText=applyToObject(arrayEntry,allBindings.get("optionsText"),optionValue),ko.utils.setTextContent(option,optionText)),[option]}function setSelectionCallback(arrayEntry,newOptions){if(itemUpdate&&valueAllowUnset)ko.selectExtensions.writeValue(element,ko.utils.unwrapObservable(allBindings.get("value")),!0);else if(previousSelectedValues.length){var isSelected=ko.utils.arrayIndexOf(previousSelectedValues,ko.selectExtensions.readValue(newOptions[0]))>=0;ko.utils.setOptionNodeSelectionState(newOptions[0],isSelected);itemUpdate&&!isSelected&&ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,"change"])}}var selectWasPreviouslyEmpty=element.length==0,multiple=element.multiple,previousScrollTop=!selectWasPreviouslyEmpty&&multiple?element.scrollTop:null,unwrappedArray=ko.utils.unwrapObservable(valueAccessor()),valueAllowUnset=allBindings.get("valueAllowUnset")&&allBindings.has("value"),includeDestroyed=allBindings.get("optionsIncludeDestroyed"),arrayToDomNodeChildrenOptions={},captionValue,filteredArray,previousSelectedValues=[],itemUpdate,callback;valueAllowUnset||(multiple?previousSelectedValues=ko.utils.arrayMap(selectedOptions(),ko.selectExtensions.readValue):element.selectedIndex>=0&&previousSelectedValues.push(ko.selectExtensions.readValue(element.options[element.selectedIndex])));unwrappedArray&&(typeof unwrappedArray.length=="undefined"&&(unwrappedArray=[unwrappedArray]),filteredArray=ko.utils.arrayFilter(unwrappedArray,function(item){return includeDestroyed||item===undefined||item===null||!ko.utils.unwrapObservable(item._destroy)}),allBindings.has("optionsCaption")&&(captionValue=ko.utils.unwrapObservable(allBindings.get("optionsCaption")),captionValue!==null&&captionValue!==undefined&&filteredArray.unshift(captionPlaceholder)));itemUpdate=!1;arrayToDomNodeChildrenOptions.beforeRemove=function(option){element.removeChild(option)};callback=setSelectionCallback;allBindings.has("optionsAfterRender")&&typeof allBindings.get("optionsAfterRender")=="function"&&(callback=function(arrayEntry,newOptions){setSelectionCallback(arrayEntry,newOptions);ko.dependencyDetection.ignore(allBindings.get("optionsAfterRender"),null,[newOptions[0],arrayEntry!==captionPlaceholder?arrayEntry:undefined])});ko.utils.setDomNodeChildrenFromArrayMapping(element,filteredArray,optionForArrayItem,arrayToDomNodeChildrenOptions,callback);ko.dependencyDetection.ignore(function(){if(valueAllowUnset)ko.selectExtensions.writeValue(element,ko.utils.unwrapObservable(allBindings.get("value")),!0);else{var selectionChanged;selectionChanged=multiple?previousSelectedValues.length&&selectedOptions().length<previousSelectedValues.length:previousSelectedValues.length&&element.selectedIndex>=0?ko.selectExtensions.readValue(element.options[element.selectedIndex])!==previousSelectedValues[0]:previousSelectedValues.length||element.selectedIndex>=0;selectionChanged&&ko.utils.triggerEvent(element,"change")}});ko.utils.ensureSelectElementIsRenderedCorrectly(element);previousScrollTop&&Math.abs(previousScrollTop-element.scrollTop)>20&&(element.scrollTop=previousScrollTop)}};ko.bindingHandlers.options.optionValueDomDataKey=ko.utils.domData.nextKey();ko.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(element,valueAccessor,allBindings){ko.utils.registerEventHandler(element,"change",function(){var value=valueAccessor(),valueToWrite=[];ko.utils.arrayForEach(element.getElementsByTagName("option"),function(node){node.selected&&valueToWrite.push(ko.selectExtensions.readValue(node))});ko.expressionRewriting.writeValueToProperty(value,allBindings,"selectedOptions",valueToWrite)})},update:function(element,valueAccessor){if(ko.utils.tagNameLower(element)!="select")throw new Error("values binding applies only to SELECT elements");var newValue=ko.utils.unwrapObservable(valueAccessor()),previousScrollTop=element.scrollTop;newValue&&typeof newValue.length=="number"&&ko.utils.arrayForEach(element.getElementsByTagName("option"),function(node){var isSelected=ko.utils.arrayIndexOf(newValue,ko.selectExtensions.readValue(node))>=0;node.selected!=isSelected&&ko.utils.setOptionNodeSelectionState(node,isSelected)});element.scrollTop=previousScrollTop}};ko.expressionRewriting.twoWayBindings.selectedOptions=!0;ko.bindingHandlers.style={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()||{});ko.utils.objectForEach(value,function(styleName,styleValue){styleValue=ko.utils.unwrapObservable(styleValue);(styleValue===null||styleValue===undefined||styleValue===!1)&&(styleValue="");element.style[styleName]=styleValue})}};ko.bindingHandlers.submit={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){if(typeof valueAccessor()!="function")throw new Error("The value for a submit binding must be a function");ko.utils.registerEventHandler(element,"submit",function(event){var handlerReturnValue,value=valueAccessor();try{handlerReturnValue=value.call(bindingContext.$data,element)}finally{handlerReturnValue!==!0&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}})}};ko.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor){ko.utils.setTextContent(element,valueAccessor())}};ko.virtualElements.allowedBindings.text=!0,function(){if(window&&window.navigator)var parseVersion=function(matches){if(matches)return parseFloat(matches[1])},operaVersion=window.opera&&window.opera.version&&parseInt(window.opera.version()),userAgent=window.navigator.userAgent,safariVersion=parseVersion(userAgent.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),firefoxVersion=parseVersion(userAgent.match(/Firefox\/([^ ]*)/));if(ko.utils.ieVersion<10)var selectionChangeRegisteredName=ko.utils.domData.nextKey(),selectionChangeHandlerName=ko.utils.domData.nextKey(),selectionChangeHandler=function(event){var target=this.activeElement,handler=target&&ko.utils.domData.get(target,selectionChangeHandlerName);handler&&handler(event)},registerForSelectionChangeEvent=function(element,handler){var ownerDoc=element.ownerDocument;ko.utils.domData.get(ownerDoc,selectionChangeRegisteredName)||(ko.utils.domData.set(ownerDoc,selectionChangeRegisteredName,!0),ko.utils.registerEventHandler(ownerDoc,"selectionchange",selectionChangeHandler));ko.utils.domData.set(element,selectionChangeHandlerName,handler)};ko.bindingHandlers.textInput={init:function(element,valueAccessor,allBindings){var previousElementValue=element.value,timeoutHandle,elementValueBeforeEvent,updateModel=function(event){clearTimeout(timeoutHandle);elementValueBeforeEvent=timeoutHandle=undefined;var elementValue=element.value;previousElementValue!==elementValue&&(DEBUG&&event&&(element._ko_textInputProcessedEvent=event.type),previousElementValue=elementValue,ko.expressionRewriting.writeValueToProperty(valueAccessor(),allBindings,"textInput",elementValue))},deferUpdateModel=function(event){if(!timeoutHandle){elementValueBeforeEvent=element.value;var handler=DEBUG?updateModel.bind(element,{type:event.type}):updateModel;timeoutHandle=ko.utils.setTimeout(handler,4)}},ieUpdateModel=ko.utils.ieVersion==9?deferUpdateModel:updateModel,updateView=function(){var modelValue=ko.utils.unwrapObservable(valueAccessor());if((modelValue===null||modelValue===undefined)&&(modelValue=""),elementValueBeforeEvent!==undefined&&modelValue===elementValueBeforeEvent){ko.utils.setTimeout(updateView,4);return}element.value!==modelValue&&(previousElementValue=modelValue,element.value=modelValue)},onEvent=function(event,handler){ko.utils.registerEventHandler(element,event,handler)};DEBUG&&ko.bindingHandlers.textInput._forceUpdateOn?ko.utils.arrayForEach(ko.bindingHandlers.textInput._forceUpdateOn,function(eventName){eventName.slice(0,5)=="after"?onEvent(eventName.slice(5),deferUpdateModel):onEvent(eventName,updateModel)}):ko.utils.ieVersion<10?(onEvent("propertychange",function(event){event.propertyName==="value"&&ieUpdateModel(event)}),ko.utils.ieVersion==8&&(onEvent("keyup",updateModel),onEvent("keydown",updateModel)),ko.utils.ieVersion>=8&&(registerForSelectionChangeEvent(element,ieUpdateModel),onEvent("dragend",deferUpdateModel))):(onEvent("input",updateModel),safariVersion<5&&ko.utils.tagNameLower(element)==="textarea"?(onEvent("keydown",deferUpdateModel),onEvent("paste",deferUpdateModel),onEvent("cut",deferUpdateModel)):operaVersion<11?onEvent("keydown",deferUpdateModel):firefoxVersion<4&&(onEvent("DOMAutoComplete",updateModel),onEvent("dragdrop",updateModel),onEvent("drop",updateModel)));onEvent("change",updateModel);ko.computed(updateView,null,{disposeWhenNodeIsRemoved:element})}};ko.expressionRewriting.twoWayBindings.textInput=!0;ko.bindingHandlers.textinput={preprocess:function(value,name,addBinding){addBinding("textInput",value)}}}();ko.bindingHandlers.uniqueName={init:function(element,valueAccessor){if(valueAccessor()){var name="ko_unique_"+ ++ko.bindingHandlers.uniqueName.currentIndex;ko.utils.setElementName(element,name)}}};ko.bindingHandlers.uniqueName.currentIndex=0;ko.bindingHandlers.value={after:["options","foreach"],init:function(element,valueAccessor,allBindings){var valueUpdateHandler,ieAutoCompleteHackNeeded,updateFromModel;if(element.tagName.toLowerCase()=="input"&&(element.type=="checkbox"||element.type=="radio")){ko.applyBindingAccessorsToNode(element,{checkedValue:valueAccessor});return}var eventsToCatch=["change"],requestedEventsToCatch=allBindings.get("valueUpdate"),propertyChangedFired=!1,elementValueBeforeEvent=null;requestedEventsToCatch&&(typeof requestedEventsToCatch=="string"&&(requestedEventsToCatch=[requestedEventsToCatch]),ko.utils.arrayPushAll(eventsToCatch,requestedEventsToCatch),eventsToCatch=ko.utils.arrayGetDistinctValues(eventsToCatch));valueUpdateHandler=function(){elementValueBeforeEvent=null;propertyChangedFired=!1;var modelValue=valueAccessor(),elementValue=ko.selectExtensions.readValue(element);ko.expressionRewriting.writeValueToProperty(modelValue,allBindings,"value",elementValue)};ieAutoCompleteHackNeeded=ko.utils.ieVersion&&element.tagName.toLowerCase()=="input"&&element.type=="text"&&element.autocomplete!="off"&&(!element.form||element.form.autocomplete!="off");ieAutoCompleteHackNeeded&&ko.utils.arrayIndexOf(eventsToCatch,"propertychange")==-1&&(ko.utils.registerEventHandler(element,"propertychange",function(){propertyChangedFired=!0}),ko.utils.registerEventHandler(element,"focus",function(){propertyChangedFired=!1}),ko.utils.registerEventHandler(element,"blur",function(){propertyChangedFired&&valueUpdateHandler()}));ko.utils.arrayForEach(eventsToCatch,function(eventName){var handler=valueUpdateHandler;ko.utils.stringStartsWith(eventName,"after")&&(handler=function(){elementValueBeforeEvent=ko.selectExtensions.readValue(element);ko.utils.setTimeout(valueUpdateHandler,0)},eventName=eventName.substring(5));ko.utils.registerEventHandler(element,eventName,handler)});updateFromModel=function(){var newValue=ko.utils.unwrapObservable(valueAccessor()),elementValue=ko.selectExtensions.readValue(element),valueHasChanged,allowUnset,applyValueAction;if(elementValueBeforeEvent!==null&&newValue===elementValueBeforeEvent){ko.utils.setTimeout(updateFromModel,0);return}valueHasChanged=newValue!==elementValue;valueHasChanged&&(ko.utils.tagNameLower(element)==="select"?(allowUnset=allBindings.get("valueAllowUnset"),applyValueAction=function(){ko.selectExtensions.writeValue(element,newValue,allowUnset)},applyValueAction(),allowUnset||newValue===ko.selectExtensions.readValue(element)?ko.utils.setTimeout(applyValueAction,0):ko.dependencyDetection.ignore(ko.utils.triggerEvent,null,[element,"change"])):ko.selectExtensions.writeValue(element,newValue))};ko.computed(updateFromModel,null,{disposeWhenNodeIsRemoved:element})},update:function(){}};ko.expressionRewriting.twoWayBindings.value=!0;ko.bindingHandlers.visible={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()),isCurrentlyVisible=!(element.style.display=="none");value&&!isCurrentlyVisible?element.style.display="":!value&&isCurrentlyVisible&&(element.style.display="none")}};makeEventHandlerShortcut("click");ko.templateEngine=function(){};ko.templateEngine.prototype.renderTemplateSource=function(templateSource,bindingContext,options,templateDocument){throw new Error("Override renderTemplateSource");};ko.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(script){throw new Error("Override createJavaScriptEvaluatorBlock");};ko.templateEngine.prototype.makeTemplateSource=function(template,templateDocument){if(typeof template=="string"){templateDocument=templateDocument||document;var elem=templateDocument.getElementById(template);if(!elem)throw new Error("Cannot find template with ID "+template);return new ko.templateSources.domElement(elem)}else if(template.nodeType==1||template.nodeType==8)return new ko.templateSources.anonymousTemplate(template);else throw new Error("Unknown template type: "+template);};ko.templateEngine.prototype.renderTemplate=function(template,bindingContext,options,templateDocument){var templateSource=this.makeTemplateSource(template,templateDocument);return this.renderTemplateSource(templateSource,bindingContext,options,templateDocument)};ko.templateEngine.prototype.isTemplateRewritten=function(template,templateDocument){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(template,templateDocument).data("isRewritten")};ko.templateEngine.prototype.rewriteTemplate=function(template,rewriterCallback,templateDocument){var templateSource=this.makeTemplateSource(template,templateDocument),rewritten=rewriterCallback(templateSource.text());templateSource.text(rewritten);templateSource.data("isRewritten",!0)};ko.exportSymbol("templateEngine",ko.templateEngine);ko.templateRewriting=function(){function validateDataBindValuesForRewriting(keyValueArray){for(var key,validator,possibleErrorMessage,allValidators=ko.expressionRewriting.bindingRewriteValidators,i=0;i<keyValueArray.length;i++)if(key=keyValueArray[i].key,allValidators.hasOwnProperty(key))if(validator=allValidators[key],typeof validator=="function"){if(possibleErrorMessage=validator(keyValueArray[i].value),possibleErrorMessage)throw new Error(possibleErrorMessage);}else if(!validator)throw new Error("This template engine does not support the '"+key+"' binding within its templates");}function constructMemoizedTagReplacement(dataBindAttributeValue,tagToRetain,nodeName,templateEngine){var dataBindKeyValueArray=ko.expressionRewriting.parseObjectLiteral(dataBindAttributeValue),rewrittenDataBindAttributeValue,applyBindingsToNextSiblingScript;return validateDataBindValuesForRewriting(dataBindKeyValueArray),rewrittenDataBindAttributeValue=ko.expressionRewriting.preProcessBindings(dataBindKeyValueArray,{valueAccessors:!0}),applyBindingsToNextSiblingScript="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+rewrittenDataBindAttributeValue+" } })()},'"+nodeName.toLowerCase()+"')",templateEngine.createJavaScriptEvaluatorBlock(applyBindingsToNextSiblingScript)+tagToRetain}var memoizeDataBindingAttributeSyntaxRegex=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,memoizeVirtualContainerBindingSyntaxRegex=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(template,templateEngine,templateDocument){templateEngine.isTemplateRewritten(template,templateDocument)||templateEngine.rewriteTemplate(template,function(htmlString){return ko.templateRewriting.memoizeBindingAttributeSyntax(htmlString,templateEngine)},templateDocument)},memoizeBindingAttributeSyntax:function(htmlString,templateEngine){return htmlString.replace(memoizeDataBindingAttributeSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[4],arguments[1],arguments[2],templateEngine)}).replace(memoizeVirtualContainerBindingSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[1],"<!-- ko -->","#comment",templateEngine)})},applyMemoizedBindingsToNextSibling:function(bindings,nodeName){return ko.memoization.memoize(function(domNode,bindingContext){var nodeToBind=domNode.nextSibling;nodeToBind&&nodeToBind.nodeName.toLowerCase()===nodeName&&ko.applyBindingAccessorsToNode(nodeToBind,bindings,bindingContext)})}}}();ko.exportSymbol("__tr_ambtns",ko.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function getTemplateDomData(element){return ko.utils.domData.get(element,templatesDomDataKey)||{}}function setTemplateDomData(element,data){ko.utils.domData.set(element,templatesDomDataKey,data)}var dataDomDataPrefix,templatesDomDataKey;ko.templateSources={};var templateScript=1,templateTextArea=2,templateTemplate=3,templateElement=4;ko.templateSources.domElement=function(element){if(this.domElement=element,element){var tagNameLower=ko.utils.tagNameLower(element);this.templateType=tagNameLower==="script"?templateScript:tagNameLower==="textarea"?templateTextArea:tagNameLower=="template"&&element.content&&element.content.nodeType===11?templateTemplate:templateElement}};ko.templateSources.domElement.prototype.text=function(){var elemContentsProperty=this.templateType===templateScript?"text":this.templateType===templateTextArea?"value":"innerHTML",valueToWrite;if(arguments.length==0)return this.domElement[elemContentsProperty];else valueToWrite=arguments[0],elemContentsProperty==="innerHTML"?ko.utils.setHtml(this.domElement,valueToWrite):this.domElement[elemContentsProperty]=valueToWrite};dataDomDataPrefix=ko.utils.domData.nextKey()+"_";ko.templateSources.domElement.prototype.data=function(key){if(arguments.length===1)return ko.utils.domData.get(this.domElement,dataDomDataPrefix+key);else ko.utils.domData.set(this.domElement,dataDomDataPrefix+key,arguments[1])};templatesDomDataKey=ko.utils.domData.nextKey();ko.templateSources.domElement.prototype.nodes=function(){var element=this.domElement,templateData,containerData,valueToWrite;if(arguments.length==0)return templateData=getTemplateDomData(element),containerData=templateData.containerData,containerData||(this.templateType===templateTemplate?element.content:this.templateType===templateElement?element:undefined);else valueToWrite=arguments[0],setTemplateDomData(element,{containerData:valueToWrite})};ko.templateSources.anonymousTemplate=function(element){this.domElement=element};ko.templateSources.anonymousTemplate.prototype=new ko.templateSources.domElement;ko.templateSources.anonymousTemplate.prototype.constructor=ko.templateSources.anonymousTemplate;ko.templateSources.anonymousTemplate.prototype.text=function(){var templateData,valueToWrite;if(arguments.length==0)return templateData=getTemplateDomData(this.domElement),templateData.textData===undefined&&templateData.containerData&&(templateData.textData=templateData.containerData.innerHTML),templateData.textData;else valueToWrite=arguments[0],setTemplateDomData(this.domElement,{textData:valueToWrite})};ko.exportSymbol("templateSources",ko.templateSources);ko.exportSymbol("templateSources.domElement",ko.templateSources.domElement);ko.exportSymbol("templateSources.anonymousTemplate",ko.templateSources.anonymousTemplate)}(),function(){function invokeForEachNodeInContinuousRange(firstNode,lastNode,action){for(var node,nextInQueue=firstNode,firstOutOfRangeNode=ko.virtualElements.nextSibling(lastNode);nextInQueue&&(node=nextInQueue)!==firstOutOfRangeNode;)nextInQueue=ko.virtualElements.nextSibling(node),action(node,nextInQueue)}function activateBindingsOnContinuousNodeArray(continuousNodeArray,bindingContext){if(continuousNodeArray.length){var firstNode=continuousNodeArray[0],lastNode=continuousNodeArray[continuousNodeArray.length-1],parentNode=firstNode.parentNode,provider=ko.bindingProvider.instance,preprocessNode=provider.preprocessNode;if(preprocessNode){if(invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node,nextNodeInRange){var nodePreviousSibling=node.previousSibling,newNodes=preprocessNode.call(provider,node);newNodes&&(node===firstNode&&(firstNode=newNodes[0]||nextNodeInRange),node===lastNode&&(lastNode=newNodes[newNodes.length-1]||nodePreviousSibling))}),continuousNodeArray.length=0,!firstNode)return;firstNode===lastNode?continuousNodeArray.push(firstNode):(continuousNodeArray.push(firstNode,lastNode),ko.utils.fixUpContinuousNodeArray(continuousNodeArray,parentNode))}invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node){(node.nodeType===1||node.nodeType===8)&&ko.applyBindings(bindingContext,node)});invokeForEachNodeInContinuousRange(firstNode,lastNode,function(node){(node.nodeType===1||node.nodeType===8)&&ko.memoization.unmemoizeDomNodeAndDescendants(node,[bindingContext])});ko.utils.fixUpContinuousNodeArray(continuousNodeArray,parentNode)}}function getFirstNodeFromPossibleArray(nodeOrNodeArray){return nodeOrNodeArray.nodeType?nodeOrNodeArray:nodeOrNodeArray.length>0?nodeOrNodeArray[0]:null}function executeTemplate(targetNodeOrNodeArray,renderMode,template,bindingContext,options){var renderedNodesArray,haveAddedNodesToParent;options=options||{};var firstTargetNode=targetNodeOrNodeArray&&getFirstNodeFromPossibleArray(targetNodeOrNodeArray),templateDocument=(firstTargetNode||template||{}).ownerDocument,templateEngineToUse=options.templateEngine||_templateEngine;if(ko.templateRewriting.ensureTemplateIsRewritten(template,templateEngineToUse,templateDocument),renderedNodesArray=templateEngineToUse.renderTemplate(template,bindingContext,options,templateDocument),typeof renderedNodesArray.length!="number"||renderedNodesArray.length>0&&typeof renderedNodesArray[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");haveAddedNodesToParent=!1;switch(renderMode){case"replaceChildren":ko.virtualElements.setDomNodeChildren(targetNodeOrNodeArray,renderedNodesArray);haveAddedNodesToParent=!0;break;case"replaceNode":ko.utils.replaceDomNodes(targetNodeOrNodeArray,renderedNodesArray);haveAddedNodesToParent=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+renderMode);}return haveAddedNodesToParent&&(activateBindingsOnContinuousNodeArray(renderedNodesArray,bindingContext),options.afterRender&&ko.dependencyDetection.ignore(options.afterRender,null,[renderedNodesArray,bindingContext.$data])),renderedNodesArray}function resolveTemplateName(template,data,context){return ko.isObservable(template)?template():typeof template=="function"?template(data,context):template}function disposeOldComputedAndStoreNewOne(element,newComputed){var oldComputed=ko.utils.domData.get(element,templateComputedDomDataKey);oldComputed&&typeof oldComputed.dispose=="function"&&oldComputed.dispose();ko.utils.domData.set(element,templateComputedDomDataKey,newComputed&&newComputed.isActive()?newComputed:undefined)}var _templateEngine,templateComputedDomDataKey;ko.setTemplateEngine=function(templateEngine){if(templateEngine!=undefined&&!(templateEngine instanceof ko.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");_templateEngine=templateEngine};ko.renderTemplate=function(template,dataOrBindingContext,options,targetNodeOrNodeArray,renderMode){if(options=options||{},(options.templateEngine||_templateEngine)==undefined)throw new Error("Set a template engine before calling renderTemplate");if(renderMode=renderMode||"replaceChildren",targetNodeOrNodeArray){var firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray),whenToDispose=function(){return!firstTargetNode||!ko.utils.domNodeIsAttachedToDocument(firstTargetNode)},activelyDisposeWhenNodeIsRemoved=firstTargetNode&&renderMode=="replaceNode"?firstTargetNode.parentNode:firstTargetNode;return ko.dependentObservable(function(){var bindingContext=dataOrBindingContext&&dataOrBindingContext instanceof ko.bindingContext?dataOrBindingContext:new ko.bindingContext(ko.utils.unwrapObservable(dataOrBindingContext)),templateName=resolveTemplateName(template,bindingContext.$data,bindingContext),renderedNodesArray=executeTemplate(targetNodeOrNodeArray,renderMode,templateName,bindingContext,options);renderMode=="replaceNode"&&(targetNodeOrNodeArray=renderedNodesArray,firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray))},null,{disposeWhen:whenToDispose,disposeWhenNodeIsRemoved:activelyDisposeWhenNodeIsRemoved})}else return ko.memoization.memoize(function(domNode){ko.renderTemplate(template,dataOrBindingContext,options,domNode,"replaceNode")})};ko.renderTemplateForEach=function(template,arrayOrObservableArray,options,targetNode,parentBindingContext){var arrayItemContext,executeTemplateForArrayItem=function(arrayValue,index){arrayItemContext=parentBindingContext.createChildContext(arrayValue,options.as,function(context){context.$index=index});var templateName=resolveTemplateName(template,arrayValue,arrayItemContext);return executeTemplate(null,"ignoreTargetNode",templateName,arrayItemContext,options)},activateBindingsCallback=function(arrayValue,addedNodesArray,index){activateBindingsOnContinuousNodeArray(addedNodesArray,arrayItemContext);options.afterRender&&options.afterRender(addedNodesArray,arrayValue);arrayItemContext=null};return ko.dependentObservable(function(){var unwrappedArray=ko.utils.unwrapObservable(arrayOrObservableArray)||[],filteredArray;typeof unwrappedArray.length=="undefined"&&(unwrappedArray=[unwrappedArray]);filteredArray=ko.utils.arrayFilter(unwrappedArray,function(item){return options.includeDestroyed||item===undefined||item===null||!ko.utils.unwrapObservable(item._destroy)});ko.dependencyDetection.ignore(ko.utils.setDomNodeChildrenFromArrayMapping,null,[targetNode,filteredArray,executeTemplateForArrayItem,options,activateBindingsCallback])},null,{disposeWhenNodeIsRemoved:targetNode})};templateComputedDomDataKey=ko.utils.domData.nextKey();ko.bindingHandlers.template={init:function(element,valueAccessor){var bindingValue=ko.utils.unwrapObservable(valueAccessor()),nodes,templateNodes,container;if(typeof bindingValue=="string"||bindingValue.name)ko.virtualElements.emptyNode(element);else if("nodes"in bindingValue){if(nodes=bindingValue.nodes||[],ko.isObservable(nodes))throw new Error('The "nodes" option must be a plain, non-observable array.');container=ko.utils.moveCleanedNodesToContainerElement(nodes);new ko.templateSources.anonymousTemplate(element).nodes(container)}else templateNodes=ko.virtualElements.childNodes(element),container=ko.utils.moveCleanedNodesToContainerElement(templateNodes),new ko.templateSources.anonymousTemplate(element).nodes(container);return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=valueAccessor(),dataValue,options=ko.utils.unwrapObservable(value),shouldDisplay=!0,templateComputed=null,templateName,dataArray,innerBindingContext;typeof options=="string"?(templateName=value,options={}):(templateName=options.name,"if"in options&&(shouldDisplay=ko.utils.unwrapObservable(options["if"])),shouldDisplay&&"ifnot"in options&&(shouldDisplay=!ko.utils.unwrapObservable(options.ifnot)),dataValue=ko.utils.unwrapObservable(options.data));"foreach"in options?(dataArray=shouldDisplay&&options.foreach||[],templateComputed=ko.renderTemplateForEach(templateName||element,dataArray,options,element,bindingContext)):shouldDisplay?(innerBindingContext="data"in options?bindingContext.createChildContext(dataValue,options.as):bindingContext,templateComputed=ko.renderTemplate(templateName||element,innerBindingContext,options,element)):ko.virtualElements.emptyNode(element);disposeOldComputedAndStoreNewOne(element,templateComputed)}};ko.expressionRewriting.bindingRewriteValidators.template=function(bindingValue){var parsedBindingValue=ko.expressionRewriting.parseObjectLiteral(bindingValue);return parsedBindingValue.length==1&&parsedBindingValue[0].unknown?null:ko.expressionRewriting.keyValueArrayContainsKey(parsedBindingValue,"name")?null:"This template engine does not support anonymous templates nested within its templates"};ko.virtualElements.allowedBindings.template=!0}();ko.exportSymbol("setTemplateEngine",ko.setTemplateEngine);ko.exportSymbol("renderTemplate",ko.renderTemplate);ko.utils.findMovesInArrayComparison=function(left,right,limitFailedCompares){if(left.length&&right.length)for(var l,r,leftItem,rightItem,failedCompares=l=0;(!limitFailedCompares||failedCompares<limitFailedCompares)&&(leftItem=left[l]);++l){for(r=0;rightItem=right[r];++r)if(leftItem.value===rightItem.value){leftItem.moved=rightItem.index;rightItem.moved=leftItem.index;right.splice(r,1);failedCompares=r=0;break}failedCompares+=r}};ko.utils.compareArrays=function(){function compareArrays(oldArray,newArray,options){return options=typeof options=="boolean"?{dontLimitMoves:options}:options||{},oldArray=oldArray||[],newArray=newArray||[],oldArray.length<newArray.length?compareSmallArrayToBigArray(oldArray,newArray,statusNotInOld,statusNotInNew,options):compareSmallArrayToBigArray(newArray,oldArray,statusNotInNew,statusNotInOld,options)}function compareSmallArrayToBigArray(smlArray,bigArray,statusNotInSml,statusNotInBig,options){for(var myMin=Math.min,myMax=Math.max,editDistanceMatrix=[],smlIndexMax=smlArray.length,bigIndex,bigIndexMax=bigArray.length,compareRange=bigIndexMax-smlIndexMax||1,maxDistance=smlIndexMax+bigIndexMax+1,thisRow,lastRow,bigIndexMaxForRow,bigIndexMinForRow,northDistance,westDistance,smlIndex=0;smlIndex<=smlIndexMax;smlIndex++)for(lastRow=thisRow,editDistanceMatrix.push(thisRow=[]),bigIndexMaxForRow=myMin(bigIndexMax,smlIndex+compareRange),bigIndexMinForRow=myMax(0,smlIndex-1),bigIndex=bigIndexMinForRow;bigIndex<=bigIndexMaxForRow;bigIndex++)bigIndex?smlIndex?smlArray[smlIndex-1]===bigArray[bigIndex-1]?thisRow[bigIndex]=lastRow[bigIndex-1]:(northDistance=lastRow[bigIndex]||maxDistance,westDistance=thisRow[bigIndex-1]||maxDistance,thisRow[bigIndex]=myMin(northDistance,westDistance)+1):thisRow[bigIndex]=bigIndex+1:thisRow[bigIndex]=smlIndex+1;var editScript=[],meMinusOne,notInSml=[],notInBig=[];for(smlIndex=smlIndexMax,bigIndex=bigIndexMax;smlIndex||bigIndex;)meMinusOne=editDistanceMatrix[smlIndex][bigIndex]-1,bigIndex&&meMinusOne===editDistanceMatrix[smlIndex][bigIndex-1]?notInSml.push(editScript[editScript.length]={status:statusNotInSml,value:bigArray[--bigIndex],index:bigIndex}):smlIndex&&meMinusOne===editDistanceMatrix[smlIndex-1][bigIndex]?notInBig.push(editScript[editScript.length]={status:statusNotInBig,value:smlArray[--smlIndex],index:smlIndex}):(--bigIndex,--smlIndex,options.sparse||editScript.push({status:"retained",value:bigArray[bigIndex]}));return ko.utils.findMovesInArrayComparison(notInBig,notInSml,!options.dontLimitMoves&&smlIndexMax*10),editScript.reverse()}var statusNotInOld="added",statusNotInNew="deleted";return compareArrays}();ko.exportSymbol("utils.compareArrays",ko.utils.compareArrays),function(){function mapNodeAndRefreshWhenChanged(containerNode,mapping,valueToMap,callbackAfterAddingNodes,index){var mappedNodes=[],dependentObservable=ko.dependentObservable(function(){var newMappedNodes=mapping(valueToMap,index,ko.utils.fixUpContinuousNodeArray(mappedNodes,containerNode))||[];mappedNodes.length>0&&(ko.utils.replaceDomNodes(mappedNodes,newMappedNodes),callbackAfterAddingNodes&&ko.dependencyDetection.ignore(callbackAfterAddingNodes,null,[valueToMap,newMappedNodes,index]));mappedNodes.length=0;ko.utils.arrayPushAll(mappedNodes,newMappedNodes)},null,{disposeWhenNodeIsRemoved:containerNode,disposeWhen:function(){return!ko.utils.anyDomNodeIsAttachedToDocument(mappedNodes)}});return{mappedNodes:mappedNodes,dependentObservable:dependentObservable.isActive()?dependentObservable:undefined}}var lastMappingResultDomDataKey=ko.utils.domData.nextKey(),deletedItemDummyValue=ko.utils.domData.nextKey();ko.utils.setDomNodeChildrenFromArrayMapping=function(domNode,array,mapping,options,callbackAfterAddingNodes){function itemMovedOrRetained(editScriptIndex,oldPosition){mapData=lastMappingResult[oldPosition];newMappingResultIndex!==oldPosition&&(itemsForMoveCallbacks[editScriptIndex]=mapData);mapData.indexObservable(newMappingResultIndex++);ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes,domNode);newMappingResult.push(mapData);itemsToProcess.push(mapData)}function callCallback(callback,items){if(callback)for(var i=0,n=items.length;i<n;i++)items[i]&&ko.utils.arrayForEach(items[i].mappedNodes,function(node){callback(node,i,items[i].arrayEntry)})}var editScriptItem,movedIndex,i,nextNode,lastNode,node,j;array=array||[];options=options||{};var isFirstExecution=ko.utils.domData.get(domNode,lastMappingResultDomDataKey)===undefined,lastMappingResult=ko.utils.domData.get(domNode,lastMappingResultDomDataKey)||[],lastArray=ko.utils.arrayMap(lastMappingResult,function(x){return x.arrayEntry}),editScript=ko.utils.compareArrays(lastArray,array,options.dontLimitMoves),newMappingResult=[],lastMappingResultIndex=0,newMappingResultIndex=0,nodesToDelete=[],itemsToProcess=[],itemsForBeforeRemoveCallbacks=[],itemsForMoveCallbacks=[],itemsForAfterAddCallbacks=[],mapData;for(i=0;editScriptItem=editScript[i];i++){movedIndex=editScriptItem.moved;switch(editScriptItem.status){case"deleted":movedIndex===undefined&&(mapData=lastMappingResult[lastMappingResultIndex],mapData.dependentObservable&&(mapData.dependentObservable.dispose(),mapData.dependentObservable=undefined),ko.utils.fixUpContinuousNodeArray(mapData.mappedNodes,domNode).length&&(options.beforeRemove&&(newMappingResult.push(mapData),itemsToProcess.push(mapData),mapData.arrayEntry===deletedItemDummyValue?mapData=null:itemsForBeforeRemoveCallbacks[i]=mapData),mapData&&nodesToDelete.push.apply(nodesToDelete,mapData.mappedNodes)));lastMappingResultIndex++;break;case"retained":itemMovedOrRetained(i,lastMappingResultIndex++);break;case"added":movedIndex!==undefined?itemMovedOrRetained(i,movedIndex):(mapData={arrayEntry:editScriptItem.value,indexObservable:ko.observable(newMappingResultIndex++)},newMappingResult.push(mapData),itemsToProcess.push(mapData),isFirstExecution||(itemsForAfterAddCallbacks[i]=mapData));break}}for(ko.utils.domData.set(domNode,lastMappingResultDomDataKey,newMappingResult),callCallback(options.beforeMove,itemsForMoveCallbacks),ko.utils.arrayForEach(nodesToDelete,options.beforeRemove?ko.cleanNode:ko.removeNode),i=0,nextNode=ko.virtualElements.firstChild(domNode);mapData=itemsToProcess[i];i++){for(mapData.mappedNodes||ko.utils.extend(mapData,mapNodeAndRefreshWhenChanged(domNode,mapping,mapData.arrayEntry,callbackAfterAddingNodes,mapData.indexObservable)),j=0;node=mapData.mappedNodes[j];nextNode=node.nextSibling,lastNode=node,j++)node!==nextNode&&ko.virtualElements.insertAfter(domNode,node,lastNode);!mapData.initialized&&callbackAfterAddingNodes&&(callbackAfterAddingNodes(mapData.arrayEntry,mapData.mappedNodes,mapData.indexObservable),mapData.initialized=!0)}for(callCallback(options.beforeRemove,itemsForBeforeRemoveCallbacks),i=0;i<itemsForBeforeRemoveCallbacks.length;++i)itemsForBeforeRemoveCallbacks[i]&&(itemsForBeforeRemoveCallbacks[i].arrayEntry=deletedItemDummyValue);callCallback(options.afterMove,itemsForMoveCallbacks);callCallback(options.afterAdd,itemsForAfterAddCallbacks)}}();ko.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",ko.utils.setDomNodeChildrenFromArrayMapping);ko.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1};ko.nativeTemplateEngine.prototype=new ko.templateEngine;ko.nativeTemplateEngine.prototype.constructor=ko.nativeTemplateEngine;ko.nativeTemplateEngine.prototype.renderTemplateSource=function(templateSource,bindingContext,options,templateDocument){var useNodesIfAvailable=!(ko.utils.ieVersion<9),templateNodesFunc=useNodesIfAvailable?templateSource.nodes:null,templateNodes=templateNodesFunc?templateSource.nodes():null,templateText;return templateNodes?ko.utils.makeArray(templateNodes.cloneNode(!0).childNodes):(templateText=templateSource.text(),ko.utils.parseHtmlFragment(templateText,templateDocument))};ko.nativeTemplateEngine.instance=new ko.nativeTemplateEngine;ko.setTemplateEngine(ko.nativeTemplateEngine.instance);ko.exportSymbol("nativeTemplateEngine",ko.nativeTemplateEngine),function(){ko.jqueryTmplTemplateEngine=function(){function ensureHasReferencedJQueryTemplates(){if(jQueryTmplVersion<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");}function executeTemplate(compiledTemplate,data,jQueryTemplateOptions){return jQueryInstance.tmpl(compiledTemplate,data,jQueryTemplateOptions)}var jQueryTmplVersion=this.jQueryTmplVersion=function(){if(!jQueryInstance||!jQueryInstance.tmpl)return 0;try{if(jQueryInstance.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(ex){}return 1}();this.renderTemplateSource=function(templateSource,bindingContext,options,templateDocument){var precompiled,templateText;templateDocument=templateDocument||document;options=options||{};ensureHasReferencedJQueryTemplates();precompiled=templateSource.data("precompiled");precompiled||(templateText=templateSource.text()||"",templateText="{{ko_with $item.koBindingContext}}"+templateText+"{{/ko_with}}",precompiled=jQueryInstance.template(null,templateText),templateSource.data("precompiled",precompiled));var data=[bindingContext.$data],jQueryTemplateOptions=jQueryInstance.extend({koBindingContext:bindingContext},options.templateOptions),resultNodes=executeTemplate(precompiled,data,jQueryTemplateOptions);return resultNodes.appendTo(templateDocument.createElement("div")),jQueryInstance.fragments={},resultNodes};this.createJavaScriptEvaluatorBlock=function(script){return"{{ko_code ((function() { return "+script+" })()) }}"};this.addTemplate=function(templateName,templateMarkup){document.write("<script type='text/html' id='"+templateName+"'>"+templateMarkup+"<\/script>")};jQueryTmplVersion>0&&(jQueryInstance.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQueryInstance.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};ko.jqueryTmplTemplateEngine.prototype=new ko.templateEngine;ko.jqueryTmplTemplateEngine.prototype.constructor=ko.jqueryTmplTemplateEngine;var jqueryTmplTemplateEngineInstance=new ko.jqueryTmplTemplateEngine;jqueryTmplTemplateEngineInstance.jQueryTmplVersion>0&&ko.setTemplateEngine(jqueryTmplTemplateEngineInstance);ko.exportSymbol("jqueryTmplTemplateEngine",ko.jqueryTmplTemplateEngine)}()})})()})(),function(factory){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?factory(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],factory):factory(ko,ko.mapping={})}(function(ko,exports){function unionArrays(x,y){for(var res,k,obj={},i=x.length-1;i>=0;--i)obj[x[i]]=x[i];for(i=y.length-1;i>=0;--i)obj[y[i]]=y[i];res=[];for(k in obj)res.push(obj[k]);return res}function extendObject(destination,source){var destType,key,bothArrays;for(key in source)source.hasOwnProperty(key)&&source[key]&&(destType=exports.getType(destination[key]),key&&destination[key]&&destType!=="array"&&destType!=="string"?extendObject(destination[key],source[key]):(bothArrays=exports.getType(destination[key])==="array"&&exports.getType(source[key])==="array",destination[key]=bothArrays?unionArrays(destination[key],source[key]):source[key]))}function merge(obj1,obj2){var merged={};return extendObject(merged,obj1),extendObject(merged,obj2),merged}function fillOptions(rawOptions,otherOptions){for(var property,options=merge({},rawOptions),i=recognizedRootProperties.length-1;i>=0;i--)(property=recognizedRootProperties[i],options[property])&&(options[""]instanceof Object||(options[""]={}),options[""][property]=options[property],delete options[property]);return otherOptions&&(options.ignore=mergeArrays(otherOptions.ignore,options.ignore),options.include=mergeArrays(otherOptions.include,options.include),options.copy=mergeArrays(otherOptions.copy,options.copy),options.observe=mergeArrays(otherOptions.observe,options.observe)),options.ignore=mergeArrays(options.ignore,defaultOptions.ignore),options.include=mergeArrays(options.include,defaultOptions.include),options.copy=mergeArrays(options.copy,defaultOptions.copy),options.observe=mergeArrays(options.observe,defaultOptions.observe),options.mappedProperties=options.mappedProperties||{},options.copiedProperties=options.copiedProperties||{},options}function mergeArrays(a,b){return exports.getType(a)!=="array"&&(a=exports.getType(a)==="undefined"?[]:[a]),exports.getType(b)!=="array"&&(b=exports.getType(b)==="undefined"?[]:[b]),ko.utils.arrayGetDistinctValues(a.concat(b))}function withProxyDependentObservable(dependentObservables,callback){var localDO=ko.dependentObservable,result;return ko.dependentObservable=function(read,owner,options){var realDependentObservable;options=options||{};read&&typeof read=="object"&&(options=read);var realDeferEvaluation=options.deferEvaluation,isRemoved=!1,wrap=function(DO){var tmp=ko.dependentObservable,isWriteable,wrapped;return ko.dependentObservable=realKoDependentObservable,isWriteable=ko.isWriteableObservable(DO),ko.dependentObservable=tmp,wrapped=realKoDependentObservable({read:function(){return isRemoved||(ko.utils.arrayRemoveItem(dependentObservables,DO),isRemoved=!0),DO.apply(DO,arguments)},write:isWriteable&&function(val){return DO(val)},deferEvaluation:!0}),DEBUG&&(wrapped._wrapper=!0),wrapped.__DO=DO,wrapped};return options.deferEvaluation=!0,realDependentObservable=new realKoDependentObservable(read,owner,options),realDeferEvaluation||(realDependentObservable=wrap(realDependentObservable),dependentObservables.push(realDependentObservable)),realDependentObservable},ko.dependentObservable.fn=realKoDependentObservable.fn,ko.computed=ko.dependentObservable,result=callback(),ko.dependentObservable=localDO,ko.computed=ko.dependentObservable,result}function updateViewModel(mappedRootObject,rootObject,options,parentName,parent,parentPropertyName,mappedParent){var isArray=exports.getType(ko.utils.unwrapObservable(rootObject))==="array",previousMapping,valueToWrite,hasCreateOrUpdateCallback,result,currentArrayKeys,newArrayKeys,newContents,passedOver,key,mappedItem,fullPropertyName,item,index;parentPropertyName=parentPropertyName||"";exports.isMapped(mappedRootObject)&&(previousMapping=ko.utils.unwrapObservable(mappedRootObject)[mappingProperty],options=merge(previousMapping,options));var callbackParams={data:rootObject,parent:mappedParent||parent},hasCreateCallback=function(){return options[parentName]&&options[parentName].create instanceof Function},createCallback=function(data){return withProxyDependentObservable(dependentObservables,function(){return ko.utils.unwrapObservable(parent)instanceof Array?options[parentName].create({data:data||callbackParams.data,parent:callbackParams.parent,skip:emptyReturn}):options[parentName].create({data:data||callbackParams.data,parent:callbackParams.parent})})},hasUpdateCallback=function(){return options[parentName]&&options[parentName].update instanceof Function},updateCallback=function(obj,data){var params={data:data||callbackParams.data,parent:callbackParams.parent,target:ko.utils.unwrapObservable(obj)};return ko.isWriteableObservable(obj)&&(params.observable=obj),options[parentName].update(params)},alreadyMapped=visitedObjects.get(rootObject);if(alreadyMapped)return alreadyMapped;if(parentName=parentName||"",isArray){var changes=[],hasKeyCallback=!1,keyCallback=function(x){return x};options[parentName]&&options[parentName].key&&(keyCallback=options[parentName].key,hasKeyCallback=!0);ko.isObservable(mappedRootObject)||(mappedRootObject=ko.observableArray([]),mappedRootObject.mappedRemove=function(valueOrPredicate){var predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===keyCallback(valueOrPredicate)};return mappedRootObject.remove(function(item){return predicate(keyCallback(item))})},mappedRootObject.mappedRemoveAll=function(arrayOfValues){var arrayOfKeys=filterArrayByKey(arrayOfValues,keyCallback);return mappedRootObject.remove(function(item){return ko.utils.arrayIndexOf(arrayOfKeys,keyCallback(item))!=-1})},mappedRootObject.mappedDestroy=function(valueOrPredicate){var predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===keyCallback(valueOrPredicate)};return mappedRootObject.destroy(function(item){return predicate(keyCallback(item))})},mappedRootObject.mappedDestroyAll=function(arrayOfValues){var arrayOfKeys=filterArrayByKey(arrayOfValues,keyCallback);return mappedRootObject.destroy(function(item){return ko.utils.arrayIndexOf(arrayOfKeys,keyCallback(item))!=-1})},mappedRootObject.mappedIndexOf=function(item){var keys=filterArrayByKey(mappedRootObject(),keyCallback),key=keyCallback(item);return ko.utils.arrayIndexOf(keys,key)},mappedRootObject.mappedGet=function(item){return mappedRootObject()[mappedRootObject.mappedIndexOf(item)]},mappedRootObject.mappedCreate=function(value){var item,newValue;if(mappedRootObject.mappedIndexOf(value)!==-1)throw new Error("There already is an object with the key that you specified.");return item=hasCreateCallback()?createCallback(value):value,hasUpdateCallback()&&(newValue=updateCallback(item,value),ko.isWriteableObservable(item)?item(newValue):item=newValue),mappedRootObject.push(item),item});currentArrayKeys=filterArrayByKey(ko.utils.unwrapObservable(mappedRootObject),keyCallback).sort();newArrayKeys=filterArrayByKey(rootObject,keyCallback);hasKeyCallback&&newArrayKeys.sort();for(var editScript=ko.utils.compareArrays(currentArrayKeys,newArrayKeys),ignoreIndexOf={},unwrappedRootObject=ko.utils.unwrapObservable(rootObject),itemsByKey={},optimizedKeys=!0,i=0,j=unwrappedRootObject.length;i<j;i++){if(key=keyCallback(unwrappedRootObject[i]),key===undefined||key instanceof Object){optimizedKeys=!1;break}itemsByKey[key]=unwrappedRootObject[i]}for(newContents=[],passedOver=0,i=0,j=editScript.length;i<j;i++){key=editScript[i];fullPropertyName=parentPropertyName+"["+i+"]";switch(key.status){case"added":item=optimizedKeys?itemsByKey[key.value]:getItemByKey(ko.utils.unwrapObservable(rootObject),key.value,keyCallback);mappedItem=updateViewModel(undefined,item,options,parentName,mappedRootObject,fullPropertyName,parent);hasCreateCallback()||(mappedItem=ko.utils.unwrapObservable(mappedItem));index=ignorableIndexOf(ko.utils.unwrapObservable(rootObject),item,ignoreIndexOf);mappedItem===emptyReturn?passedOver++:newContents[index-passedOver]=mappedItem;ignoreIndexOf[index]=!0;break;case"retained":item=optimizedKeys?itemsByKey[key.value]:getItemByKey(ko.utils.unwrapObservable(rootObject),key.value,keyCallback);mappedItem=getItemByKey(mappedRootObject,key.value,keyCallback);updateViewModel(mappedItem,item,options,parentName,mappedRootObject,fullPropertyName,parent);index=ignorableIndexOf(ko.utils.unwrapObservable(rootObject),item,ignoreIndexOf);newContents[index]=mappedItem;ignoreIndexOf[index]=!0;break;case"deleted":mappedItem=getItemByKey(mappedRootObject,key.value,keyCallback);break}changes.push({event:key.status,item:mappedItem})}mappedRootObject(newContents);options[parentName]&&options[parentName].arrayChanged&&ko.utils.arrayForEach(changes,function(change){options[parentName].arrayChanged(change.event,change.item)})}else if(canHaveProperties(rootObject)){if(mappedRootObject=ko.utils.unwrapObservable(mappedRootObject),!mappedRootObject)if(hasCreateCallback())return result=createCallback(),hasUpdateCallback()&&(result=updateCallback(result)),result;else{if(hasUpdateCallback())return updateCallback(result);mappedRootObject={}}if(hasUpdateCallback()&&(mappedRootObject=updateCallback(mappedRootObject)),visitedObjects.save(rootObject,mappedRootObject),hasUpdateCallback())return mappedRootObject;visitPropertiesOrArrayEntries(rootObject,function(indexer){var fullPropertyName=parentPropertyName.length?parentPropertyName+"."+indexer:indexer;if(ko.utils.arrayIndexOf(options.ignore,fullPropertyName)==-1){if(ko.utils.arrayIndexOf(options.copy,fullPropertyName)!=-1){mappedRootObject[indexer]=rootObject[indexer];return}if(typeof rootObject[indexer]!="object"&&typeof rootObject[indexer]!="array"&&options.observe.length>0&&ko.utils.arrayIndexOf(options.observe,fullPropertyName)==-1){mappedRootObject[indexer]=rootObject[indexer];options.copiedProperties[fullPropertyName]=!0;return}var prevMappedProperty=visitedObjects.get(rootObject[indexer]),retval=updateViewModel(mappedRootObject[indexer],rootObject[indexer],options,indexer,mappedRootObject,fullPropertyName,mappedRootObject),value=prevMappedProperty||retval;if(options.observe.length>0&&ko.utils.arrayIndexOf(options.observe,fullPropertyName)==-1){mappedRootObject[indexer]=value();options.copiedProperties[fullPropertyName]=!0;return}ko.isWriteableObservable(mappedRootObject[indexer])?(value=ko.utils.unwrapObservable(value),mappedRootObject[indexer]()!==value&&mappedRootObject[indexer](value)):(value=mappedRootObject[indexer]===undefined?value:ko.utils.unwrapObservable(value),mappedRootObject[indexer]=value);options.mappedProperties[fullPropertyName]=!0}})}else switch(exports.getType(rootObject)){case"function":hasUpdateCallback()?ko.isWriteableObservable(rootObject)?(rootObject(updateCallback(rootObject)),mappedRootObject=rootObject):mappedRootObject=updateCallback(rootObject):mappedRootObject=rootObject;break;default:if(ko.isWriteableObservable(mappedRootObject))return hasUpdateCallback()?(valueToWrite=updateCallback(mappedRootObject),mappedRootObject(valueToWrite),valueToWrite):(valueToWrite=ko.utils.unwrapObservable(rootObject),mappedRootObject(valueToWrite),valueToWrite);else if(hasCreateOrUpdateCallback=hasCreateCallback()||hasUpdateCallback(),mappedRootObject=hasCreateCallback()?createCallback():ko.observable(ko.utils.unwrapObservable(rootObject)),hasUpdateCallback()&&mappedRootObject(updateCallback(mappedRootObject)),hasCreateOrUpdateCallback)return mappedRootObject}return mappedRootObject}function ignorableIndexOf(array,item,ignoreIndices){for(var i=0,j=array.length;i<j;i++)if(ignoreIndices[i]!==!0&&array[i]===item)return i;return null}function mapKey(item,callback){var mappedItem;return callback&&(mappedItem=callback(item)),exports.getType(mappedItem)==="undefined"&&(mappedItem=item),ko.utils.unwrapObservable(mappedItem)}function getItemByKey(array,key,callback){var i,j,item;for(array=ko.utils.unwrapObservable(array),i=0,j=array.length;i<j;i++)if(item=array[i],mapKey(item,callback)===key)return item;throw new Error("When calling ko.update*, the key '"+key+"' was not found!");}function filterArrayByKey(array,callback){return ko.utils.arrayMap(ko.utils.unwrapObservable(array),function(item){return callback?mapKey(item,callback):item})}function visitPropertiesOrArrayEntries(rootObject,visitorCallback){var i,propertyName;if(exports.getType(rootObject)==="array")for(i=0;i<rootObject.length;i++)visitorCallback(i);else for(propertyName in rootObject)visitorCallback(propertyName)}function canHaveProperties(object){var type=exports.getType(object);return(type==="object"||type==="array")&&object!==null}function getPropertyName(parentName,parent,indexer){var propertyName=parentName||"";return exports.getType(parent)==="array"?parentName&&(propertyName+="["+indexer+"]"):(parentName&&(propertyName+="."),propertyName+=indexer),propertyName}function simpleObjectLookup(){var keys=[],values=[];this.save=function(key,value){var existingIndex=ko.utils.arrayIndexOf(keys,key);existingIndex>=0?values[existingIndex]=value:(keys.push(key),values.push(value))};this.get=function(key){var existingIndex=ko.utils.arrayIndexOf(keys,key);return existingIndex>=0?values[existingIndex]:undefined}}function objectLookup(){var buckets={},findBucket=function(key){var bucketKey,bucket;try{bucketKey=key}catch(e){bucketKey="$$$"}return bucket=buckets[bucketKey],bucket===undefined&&(bucket=new simpleObjectLookup,buckets[bucketKey]=bucket),bucket};this.save=function(key,value){findBucket(key).save(key,value)};this.get=function(key){return findBucket(key).get(key)}}var DEBUG=!0,mappingProperty="__ko_mapping__",realKoDependentObservable=ko.dependentObservable,mappingNesting=0,dependentObservables,visitedObjects,recognizedRootProperties=["create","update","key","arrayChanged"],emptyReturn={},_defaultOptions={include:["_destroy"],ignore:[],copy:[],observe:[]},defaultOptions=_defaultOptions;exports.isMapped=function(viewModel){var unwrapped=ko.utils.unwrapObservable(viewModel);return unwrapped&&unwrapped[mappingProperty]};exports.fromJS=function(jsObject){var options,target,result,DO;if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{if(mappingNesting++||(dependentObservables=[],visitedObjects=new objectLookup),arguments.length==2&&(arguments[1][mappingProperty]?target=arguments[1]:options=arguments[1]),arguments.length==3&&(options=arguments[1],target=arguments[2]),target&&(options=merge(options,target[mappingProperty])),options=fillOptions(options),result=updateViewModel(target,jsObject,options),target&&(result=target),!--mappingNesting)while(dependentObservables.length)DO=dependentObservables.pop(),DO&&(DO(),DO.__DO.throttleEvaluation=DO.throttleEvaluation);return result[mappingProperty]=merge(result[mappingProperty],options),result}catch(e){mappingNesting=0;throw e;}};exports.fromJSON=function(jsonString){var parsed=ko.utils.parseJson(jsonString);return arguments[0]=parsed,exports.fromJS.apply(this,arguments)};exports.updateFromJS=function(viewModel){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!");};exports.updateFromJSON=function(viewModel){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!");};exports.toJS=function(rootObject,options){if(defaultOptions||exports.resetDefaultOptions(),arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(exports.getType(defaultOptions.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(exports.getType(defaultOptions.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(exports.getType(defaultOptions.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return options=fillOptions(options,rootObject[mappingProperty]),exports.visitModel(rootObject,function(x){return ko.utils.unwrapObservable(x)},options)};exports.toJSON=function(rootObject,options){var plainJavaScriptObject=exports.toJS(rootObject,options);return ko.utils.stringifyJson(plainJavaScriptObject)};exports.defaultOptions=function(){if(arguments.length>0)defaultOptions=arguments[0];else return defaultOptions};exports.resetDefaultOptions=function(){defaultOptions={include:_defaultOptions.include.slice(0),ignore:_defaultOptions.ignore.slice(0),copy:_defaultOptions.copy.slice(0)}};exports.getType=function(x){if(x&&typeof x=="object"){if(x.constructor===Date)return"date";if(x.constructor===Array)return"array"}return typeof x};exports.visitModel=function(rootObject,callback,options){var mappedRootObject,unwrappedRootObject,parentName;if(options=options||{},options.visitedObjects=options.visitedObjects||new objectLookup,unwrappedRootObject=ko.utils.unwrapObservable(rootObject),canHaveProperties(unwrappedRootObject))options=fillOptions(options,unwrappedRootObject[mappingProperty]),callback(rootObject,options.parentName),mappedRootObject=exports.getType(unwrappedRootObject)==="array"?[]:{};else return callback(rootObject,options.parentName);return options.visitedObjects.save(rootObject,mappedRootObject),parentName=options.parentName,visitPropertiesOrArrayEntries(unwrappedRootObject,function(indexer){var propertyValue,outputProperty,previouslyMappedValue;if((!options.ignore||ko.utils.arrayIndexOf(options.ignore,indexer)==-1)&&(propertyValue=unwrappedRootObject[indexer],options.parentName=getPropertyName(parentName,unwrappedRootObject,indexer),ko.utils.arrayIndexOf(options.copy,indexer)!==-1||ko.utils.arrayIndexOf(options.include,indexer)!==-1||!unwrappedRootObject[mappingProperty]||!unwrappedRootObject[mappingProperty].mappedProperties||unwrappedRootObject[mappingProperty].mappedProperties[indexer]||!unwrappedRootObject[mappingProperty].copiedProperties||unwrappedRootObject[mappingProperty].copiedProperties[indexer]||exports.getType(unwrappedRootObject)==="array"))switch(exports.getType(ko.utils.unwrapObservable(propertyValue))){case"object":case"array":case"undefined":previouslyMappedValue=options.visitedObjects.get(propertyValue);mappedRootObject[indexer]=exports.getType(previouslyMappedValue)!=="undefined"?previouslyMappedValue:exports.visitModel(propertyValue,callback,options);break;default:mappedRootObject[indexer]=callback(propertyValue,options.parentName)}}),mappedRootObject}});ko.renderTemplateInMemory=function(name,data){var temp=$("<div>"),html;return ko.applyBindingsToNode(temp[0],{template:{name:name,data:data}}),html=temp.html(),temp.remove(),html};ko.subscribable.fn.subscribeChanged=function(callback){var savedValue=this.peek();return this.subscribe(function(latestValue){var oldValue=savedValue;savedValue=latestValue;callback(latestValue,oldValue)})};ko.bindingHandlers.afterHtmlRender={update:function(element,valueAccessor,allBindings){if(allBindings().html){var callback=valueAccessor();callback(element)}}};ko.bindingHandlers.booleanValue={init:function(element,valueAccessor,allBindingsAccessor){var observable=valueAccessor(),interceptor=ko.computed({read:function(){return observable().toString()},write:function(newValue){observable(newValue==="true")}});ko.applyBindingsToNode(element,{value:interceptor})}};ko.bindingHandlers.calendarAgendaReservation={selectedId:"",updateSelected:function(elem,res){res.ReadId+res.OccurrenceDate==ko.bindingHandlers.calendarAgendaReservation.selectedId?elem.addClass("selected"):elem.removeClass("selected")},init:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element);ko.bindingHandlers.calendarAgendaReservation.updateSelected($elem,res);$elem.find("a").mousedown(function(ev){return bindingContext.$root.getReservationPopupDetails(res.Id,res,res.StartTime,ev),ev.stopPropagation(),$(".agenda-row").removeClass("selected"),$elem.addClass("selected"),ko.bindingHandlers.calendarAgendaReservation.selectedId=res.ReadId+res.OccurrenceDate,!1})},update:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element),agendaTimeHtml,pictureUrl,w;ko.bindingHandlers.calendarAgendaReservation.updateSelected($elem,res);res.delimiter==!0?($elem.html(res.StartTime.format("MMMM dd, yyyy")),$elem.addClass("separator")):(agendaTimeHtml=null,res.ReservationMethod!=2?agendaTimeHtml=ko.bindingHandlers.calendarDateFromat(res,bindingContext):(res.isMoveIn&&(agendaTimeHtml='<span class="move-in-label">MOVE IN (MONTHLY)<\/span><br />'+bindingContext.$root.getTimePartFromStr(res.StartTime),$elem.css("height","50px").css("line-height","25px")),res.isMoveOut&&(agendaTimeHtml='<span class="move-out-label">MOVE OUT (MONTHLY)<\/span>')),$elem.find(".agenda-time").html(agendaTimeHtml),$elem.find(".agenda-organizer").find("span").html(res.CreatorName+(res.GuestCount>0?" + "+res.GuestCount+(res.GuestCount>1?" guests":" guest"):"")),pictureUrl="/Picture/IndexByPictureType/"+res.MemberId+"?pictureType=Member&useFirstIfNotFound=false&defaultImageUrl=~/Content/Images/DefaultPhoto_150x150.png&etag=49pcstrm6SnKkXOd0q8E8w==&maxWidth=40&maxHeight=40&crop=true&tagNames=['UserPicture']",$elem.find(".agenda-organizer").find("img").attr("src",pictureUrl),w=bindingContext.$root.getWorkspaceById(res.WorkspaceId),$elem.find(".agenda-room").find("span").html(w.Name),$elem.find(".ls_calendar_event_title_icon").attr("class",bindingContext.$root.eventCssClass(res.Id).replace("ls_calendar_event","")+" "+res.Id+(res.IsCreditCardPayment&&bindingContext.$root.isSuperUser()?" credit-card":"")))}};ko.bindingHandlers.calendarDateFromat=function(res,bindingContext){var showDate=function(dt){return dt.format("MMM dd")};return res.ReservationMethod==2?showDate(res.StartTime)+" - "+(res.MTMEndDate!=null?showDate(res.EndTime):"Auto-Renew"):res.IsCreditCardPayment&&bindingContext.$root.isSuperUser()?bindingContext.$root.getTimePartFromStr(res.StartTime,!1,!0)+" - "+bindingContext.$root.getTimePartFromStr(res.EndTime,!0,!0):bindingContext.$root.getTimePartFromStr(res.StartTime)+" - "+bindingContext.$root.getTimePartFromStr(res.EndTime,!0)};ko.bindingHandlers.calendarReservation={init:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element);$elem.mousedown(function(ev){bindingContext.$root.getReservationPopupDetails(res.Id,res,res.StartTime,ev);ev.stopPropagation()})},update:function(element,valueAccessor,allBindings,res,bindingContext){var $elem=$(element),errMessage,text;$elem.css("top",res.coord.top);$elem.css("height",res.coord.height);$elem.width(bindingContext.$root.subBlockWidth(res.Workspace)*res.coord.width-3);$elem.css("left",bindingContext.$root.subBlockWidth(res.Workspace)*res.coord.left);$elem.attr("class",bindingContext.$root.eventCssClass(res.Id)+" "+res.Id+(res.IsCreditCardPayment&&bindingContext.$root.isSuperUser()?" credit-card":""));errMessage=$elem.find(".reservation-mode-incorrect-message");bindingContext.$root.isReservationMethodIncorrect(res.Id)?errMessage.show():errMessage.hide();text=ko.bindingHandlers.calendarDateFromat(res,bindingContext);$elem.find(".lsevent-title-text-wrapper").html(text);$elem.find(".ls_calendar_event_title").css("font-size",bindingContext.$root.templateToUse()=="calendar-week"?"10px":"11px")}};ko.bindingHandlers.datepicker={init:function(element,valueAccessor,allBindingsAccessor){var defaultoptions={option:$.datepicker.regional["en-US"],dayNamesMin:["S","M","T","W","T","F","S"],dateFormat:"mm/dd/yy",showOn:"focus",buttonImage:"/Content/images/calendar-icon.png",buttonImageOnly:!0,useDateObjectForObservable:!1,creationCallback:function(elem){},popupCssClass:"",beforeShow:function(el,inst){$(inst.dpDiv).addClass(inst.settings.popupCssClass)},onSelect:null},skipUpdate=!1,skipChange=!1,options=allBindingsAccessor().datepickerOptions||{},originalOnShow,observable;options=$.extend(defaultoptions,options);$.isFunction(options.onSelect)&&(originalOnShow=options.onSelect,options.onSelect=function(dateText,inst){originalOnShow.call(this,dateText,inst);$(this).trigger("change")});options.creationCallback($(element).datepicker(options));observable=valueAccessor();observable.subscribe(function(value){skipUpdate==!1&&(skipChange=!0,value!=null?typeof value=="string"?value.endsWith("Z")?$(element).datepicker("setDate",new Date(value)):$(element).datepicker("setDate",Date.fromISO(value)):$(element).datepicker("setDate",new Date(value)):$(element).datepicker("setDate",null),skipChange=!1)});ko.utils.registerEventHandler(element,"change",function(){if(skipChange==!1){var date=$(element).datepicker("getDate");skipUpdate=!0;date!=null?observable(options.useDateObjectForObservable?date:date.toISOString()):observable(null);skipUpdate=!1}});ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).datepicker("destroy")});observable.notifySubscribers(observable())}};ko.bindingHandlers.availabilityDatepicker={init:function(element,valueAccessor,allBindingsAccessor){var config=valueAccessor(),date=config.date,venueId=config.venueId,workspaceId=config.workspaceId,url="/Availability/OpenDays",onChangeMonthYearOriginal,creationCallbackOriginal;switch(config.mode){case"availabledays":url="/Availability/AvailableDays";break;case"opendays":default:url="/Availability/OpenDays";break}var options=allBindingsAccessor().datepickerOptions||{},disabled=!1,monthAvailability=[],processMonthAvailability=function(year,month,elem){disabled=!0;$.ajax({async:!0,data:{date:year+"-"+month+"-1",venueId:venueId,workspaceId:workspaceId},url:url,type:"POST",success:function(result){monthAvailability=[];$.each(result,function(i,val){val.Key=Date.fromISO(val.Key);val.Value.length==0&&(val.Value="Venue closed this day.");monthAvailability.push(val)});disabled=!1;$(elem).datepicker("refresh")},error:function(){}})},beforeShowDayOriginal=options.beforeShowDay||function(){};options.beforeShowDay=function(date){if(disabled==!0)return[!1,"","Loading"];var result=[!0];return $.each(monthAvailability,function(i,val){if(Date.isSameDay(val.Key,date))return result=[!1,"",val.Value],!1}),result};onChangeMonthYearOriginal=options.onChangeMonthYear||function(){};options.onChangeMonthYear=function(year,month,inst){processMonthAvailability(year,month,inst.input);onChangeMonthYearOriginal.apply(this,arguments)};creationCallbackOriginal=options.creationCallback||function(){};options.creationCallback=function(elem){processMonthAvailability(new Date(config.date()).getFullYear(),new Date(config.date()).getMonth()+1,elem);creationCallbackOriginal.apply(this,arguments)};ko.bindingHandlers.datepicker.init(element,function(){return date},allBindingsAccessor)}};ko.bindingHandlers.datetimepicker={init:function(element,valueAccessor,allBindingsAccessor){var defaultoptions={option:$.datepicker.regional["en-US"],dateFormat:"mm/dd/yy",showOn:"button",buttonImage:"/Content/images/calendar-icon.png",buttonImageOnly:!0,timeFormat:"hh:mm:ss TT",useDateObjectForObservable:!1},options=allBindingsAccessor().datepickerOptions||{};$(element).datetimepicker($.extend(defaultoptions,options));$(element).data("ko_datetimepicker_skip_update",!1);$(element).data("ko_datetimepicker_skip_change",!1);ko.utils.registerEventHandler(element,"change",function(){if($(element).data("ko_datetimepicker_skip_change")==!1){var observable=valueAccessor(),date=$(element).datepicker("getDate");$(element).data("ko_datetimepicker_skip_update",!0);date!=null?observable(options.useDateObjectForObservable?date:date.toISOString()):observable(null);$(element).data("ko_datetimepicker_skip_update",!1)}});ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).datetimepicker("destroy")})},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor());$(element).data("ko_datetimepicker_skip_update")==!1&&($(element).data("ko_datetimepicker_skip_change",!0),value!=null?$(element).datetimepicker("setDate",new Date(value)):$(element).datetimepicker("setDate",null),$(element).data("ko_datetimepicker_skip_change",!1))}};ko.bindingHandlers.foreachWithLionbar={init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){ko.bindingHandlers.foreach.init(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext)},update:function(element,valueAccessor,allBindings,viewModel,context){var newValue=ko.computed(function(){var value=ko.unwrap(valueAccessor());return value.afterAdd=function(child,index,model){index==value.data().length-1&&child.tagName!=undefined&&(viewModel.lionbarsApplied?viewModel.lionbarsApplied=!1:($(element).parent().lionbars(),viewModel.lionbarsApplied=!0))},value});ko.bindingHandlers.foreach.update(element,newValue,allBindings,viewModel,context)}};ko.bindingHandlers.grid={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){element.innerHTML="<canvas><\/canvas>"},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor()),$element=$(element),height=$element.height(),width=$element.width(),offsetX=value.offsetX()%value.step(),offsetY=value.offsetY()%value.step(),$canvas=$element.find("canvas"),canvas,ctx,x,y;if($canvas.attr({width:width,height:height}),value.show()){for(canvas=$canvas[0],ctx=canvas.getContext("2d"),ctx.lineWidth=1,ctx.strokeStyle="rgba(0, 0, 0, 0.5)",x=offsetX;x<width;x+=value.step())ctx.beginPath(),ctx.moveTo(x,0),ctx.lineTo(x,height),ctx.stroke();for(y=offsetY;y<height;y+=value.step())ctx.beginPath(),ctx.moveTo(0,y),ctx.lineTo(width,y),ctx.stroke()}}};ko.bindingHandlers.jqButton={init:function(element,valueAccessor){var options=valueAccessor()||{};$(element).button(options);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).button("destroy")})},update:function(element,valueAccessor){ko.utils.unwrapObservable(valueAccessor());var options=valueAccessor()||{};$(element).button(options)}};ko.bindingHandlers.multipleSelect={init:function(element,valueAccessor){var options=valueAccessor()||{};$(element).multipleSelect(options)},update:function(element,valueAccessor){ko.utils.unwrapObservable(valueAccessor());var options=valueAccessor()||{};$(element).multipleSelect(options)}};ko.bindingHandlers.tooltipster={init:function(element,valueAccessor,allBindingsAccessor){var defaultoptions={},options=$.extend(defaultoptions,allBindingsAccessor().tooltipsterOptions);options.content=ko.unwrap(valueAccessor());$(element).tooltipster(options);ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).tooltipster("destroy")})},update:function(element,valueAccessor){var value=ko.unwrap(valueAccessor());$(element).tooltipster("update",value)}};ko.bindingHandlers.marker={getMarkerPoistion:function($elem,ui){return{top:Math.round(ui.top+$elem.height()/2),left:Math.round(ui.left+$elem.width()/2)}},setMarkerPoistion:function($elem,ui){return{top:Math.round(ui.top-$elem.height()/2),left:Math.round(ui.left-$elem.width()/2)}},init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=ko.unwrap(valueAccessor()),$element=$(element),position=ko.bindingHandlers.marker.setMarkerPoistion($element,{top:value.top(),left:value.left()});$element.css(position);$element.draggable({stop:function(e,ui){var markerPosition=ko.bindingHandlers.marker.getMarkerPoistion($(e.target),{top:ui.position.top,left:ui.position.left});value.top(markerPosition.top);value.left(markerPosition.left)}})},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor()),$element=$(element),position=ko.bindingHandlers.marker.setMarkerPoistion($element,{top:value.top(),left:value.left()});$element.css(position)}};ko.bindingHandlers.slider={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var value=ko.unwrap(valueAccessor()),$element=$(element);$element.slider({range:value.range||"min",min:value.min||0,max:value.max||100,step:value.step||1,value:value.value(),slide:function(event,ui){value.value(ui.value)}})},update:function(element,valueAccessor,allBindings){var value=ko.unwrap(valueAccessor()),$element=$(element);$element.slider("value",value.value())}};ko.bindingHandlers.slideVisible={init:function(element,valueAccessor){var value=valueAccessor();$(element).slideToggle(ko.unwrap(value))},update:function(element,valueAccessor){var value=valueAccessor();ko.unwrap(value)?$(element).slideDown():$(element).slideUp()}};ko.bindingHandlers.SmoothTransition={init:function(element,valueAccessor){var value=valueAccessor();$(element).toggle(ko.unwrap(value))},update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());$(element).fadeOut(400,function(){$(element).html(value).fadeIn(600)})}},function(factory){if(typeof define=="function"&&define.amd)define(["knockout","jquery","jquery-ui/sortable","jquery-ui/draggable"],factory);else if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var ko=require("knockout"),jQuery=require("jquery");require("jquery-ui/sortable");require("jquery-ui/draggable");factory(ko,jQuery)}else factory(window.ko,window.jQuery)}(function(ko,$){var ITEMKEY="ko_sortItem",INDEXKEY="ko_sourceIndex",LISTKEY="ko_sortList",PARENTKEY="ko_parentList",DRAGKEY="ko_dragItem",unwrap=ko.utils.unwrapObservable,dataGet=ko.utils.domData.get,dataSet=ko.utils.domData.set,version=$.ui&&$.ui.version,hasNestedSortableFix=version&&version.indexOf("1.6.")&&version.indexOf("1.7.")&&(version.indexOf("1.8.")||version==="1.8.24"),addMetaDataAfterRender=function(elements,data){ko.utils.arrayForEach(elements,function(element){element.nodeType===1&&(dataSet(element,ITEMKEY,data),dataSet(element,PARENTKEY,dataGet(element.parentNode,LISTKEY)))})},prepareTemplateOptions=function(valueAccessor,dataName){var result={},options=unwrap(valueAccessor())||{},actualAfterRender;return options.data?(result[dataName]=options.data,result.name=options.template):result[dataName]=valueAccessor(),ko.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions","nodes"],function(option){options.hasOwnProperty(option)?result[option]=options[option]:ko.bindingHandlers.sortable.hasOwnProperty(option)&&(result[option]=ko.bindingHandlers.sortable[option])}),dataName==="foreach"&&(result.afterRender?(actualAfterRender=result.afterRender,result.afterRender=function(element,data){addMetaDataAfterRender.call(data,element,data);actualAfterRender.call(data,element,data)}):result.afterRender=addMetaDataAfterRender),result},updateIndexFromDestroyedItems=function(index,items){var unwrapped=unwrap(items),i;if(unwrapped)for(i=0;i<index;i++)unwrapped[i]&&unwrap(unwrapped[i]._destroy)&&index++;return index},stripTemplateWhitespace=function(element,name){var templateSource,templateElement;name?(templateElement=document.getElementById(name),templateElement&&(templateSource=new ko.templateSources.domElement(templateElement),templateSource.text($.trim(templateSource.text())))):$(element).contents().each(function(){this&&this.nodeType!==1&&element.removeChild(this)})};ko.bindingHandlers.sortable={init:function(element,valueAccessor,allBindingsAccessor,data,context){var $element=$(element),value=unwrap(valueAccessor())||{},templateOptions=prepareTemplateOptions(valueAccessor,"foreach"),sortable={},startActual,updateActual,createTimeout;return stripTemplateWhitespace(element,templateOptions.name),$.extend(!0,sortable,ko.bindingHandlers.sortable),value.options&&sortable.options&&(ko.utils.extend(sortable.options,value.options),delete value.options),ko.utils.extend(sortable,value),sortable.connectClass&&(ko.isObservable(sortable.allowDrop)||typeof sortable.allowDrop=="function")?ko.computed({read:function(){var value=unwrap(sortable.allowDrop),shouldAdd=typeof value=="function"?value.call(this,templateOptions.foreach):value;ko.utils.toggleDomNodeCssClass(element,sortable.connectClass,shouldAdd)},disposeWhenNodeIsRemoved:element},this):ko.utils.toggleDomNodeCssClass(element,sortable.connectClass,sortable.allowDrop),ko.bindingHandlers.template.init(element,function(){return templateOptions},allBindingsAccessor,data,context),startActual=sortable.options.start,updateActual=sortable.options.update,createTimeout=setTimeout(function(){var dragItem;$element.sortable(ko.utils.extend(sortable.options,{start:function(event,ui){var el=ui.item[0];dataSet(el,INDEXKEY,ko.utils.arrayIndexOf(ui.item.parent().children(),el));ui.item.find("input:focus").change();startActual&&startActual.apply(this,arguments)},receive:function(event,ui){dragItem=dataGet(ui.item[0],DRAGKEY);dragItem&&(dragItem.clone&&(dragItem=dragItem.clone()),sortable.dragged&&(dragItem=sortable.dragged.call(this,dragItem,event,ui)||dragItem))},update:function(event,ui){var sourceParent,targetParent,sourceIndex,targetIndex,arg,el=ui.item[0],parentEl=ui.item.parent()[0],item=dataGet(el,ITEMKEY)||dragItem;if(dragItem=null,item&&this===parentEl||!hasNestedSortableFix&&$.contains(this,parentEl)){if(sourceParent=dataGet(el,PARENTKEY),sourceIndex=dataGet(el,INDEXKEY),targetParent=dataGet(el.parentNode,LISTKEY),targetIndex=ko.utils.arrayIndexOf(ui.item.parent().children(),el),templateOptions.includeDestroyed||(sourceIndex=updateIndexFromDestroyedItems(sourceIndex,sourceParent),targetIndex=updateIndexFromDestroyedItems(targetIndex,targetParent)),(sortable.beforeMove||sortable.afterMove)&&(arg={item:item,sourceParent:sourceParent,sourceParentNode:sourceParent&&ui.sender||el.parentNode,sourceIndex:sourceIndex,targetParent:targetParent,targetIndex:targetIndex,cancelDrop:!1},sortable.beforeMove&&sortable.beforeMove.call(this,arg,event,ui)),sourceParent?$(sourceParent===targetParent?this:ui.sender||this).sortable("cancel"):$(el).remove(),arg&&arg.cancelDrop)return;targetIndex>=0&&(sourceParent&&(sourceParent.splice(sourceIndex,1),ko.processAllDeferredBindingUpdates&&ko.processAllDeferredBindingUpdates()),targetParent.splice(targetIndex,0,item));dataSet(el,ITEMKEY,null);ko.processAllDeferredBindingUpdates&&ko.processAllDeferredBindingUpdates();sortable.afterMove&&sortable.afterMove.call(this,arg,event,ui)}updateActual&&updateActual.apply(this,arguments)},connectWith:sortable.connectClass?"."+sortable.connectClass:!1}));sortable.isEnabled!==undefined&&ko.computed({read:function(){$element.sortable(unwrap(sortable.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:element})},0),ko.utils.domNodeDisposal.addDisposeCallback(element,function(){($element.data("ui-sortable")||$element.data("sortable"))&&$element.sortable("destroy");ko.utils.toggleDomNodeCssClass(element,sortable.connectClass,!1);clearTimeout(createTimeout)}),{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindingsAccessor,data,context){var templateOptions=prepareTemplateOptions(valueAccessor,"foreach");dataSet(element,LISTKEY,templateOptions.foreach);ko.bindingHandlers.template.update(element,function(){return templateOptions},allBindingsAccessor,data,context)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}};ko.bindingHandlers.draggable={init:function(element,valueAccessor,allBindingsAccessor,data,context){var value=unwrap(valueAccessor())||{},options=value.options||{},draggableOptions=ko.utils.extend({},ko.bindingHandlers.draggable.options),templateOptions=prepareTemplateOptions(valueAccessor,"data"),connectClass=value.connectClass||ko.bindingHandlers.draggable.connectClass,isEnabled=value.isEnabled!==undefined?value.isEnabled:ko.bindingHandlers.draggable.isEnabled;return value="data"in value?value.data:value,dataSet(element,DRAGKEY,value),ko.utils.extend(draggableOptions,options),draggableOptions.connectToSortable=connectClass?"."+connectClass:!1,$(element).draggable(draggableOptions),isEnabled!==undefined&&ko.computed({read:function(){$(element).draggable(unwrap(isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:element}),ko.utils.domNodeDisposal.addDisposeCallback(element,function(){$(element).draggable("destroy")}),ko.bindingHandlers.template.init(element,function(){return templateOptions},allBindingsAccessor,data,context)},update:function(element,valueAccessor,allBindingsAccessor,data,context){var templateOptions=prepareTemplateOptions(valueAccessor,"data");return ko.bindingHandlers.template.update(element,function(){return templateOptions},allBindingsAccessor,data,context)},connectClass:ko.bindingHandlers.sortable.connectClass,options:{helper:"clone"}}});ko.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}};ko.virtualElements.allowedBindings.stopBinding=!0;ko.bindingHandlers.googleMapsPlacesAutocomplete={init:function(element,valueAccessor,allBindingsAccessor){var callback=valueAccessor();LSHelper.google.init(function(){var autocomplete=new google.maps.places.Autocomplete(element,{types:["geocode"]});autocomplete.addListener("place_changed",function(){var place=autocomplete.getPlace();callback(place)})})}};ko.bindingHandlers.zclip={init:function(element,valueAccessor,allBindingsAccessor){var observable=valueAccessor(),options=allBindingsAccessor().zclipOptions||{};LSHelper.isFlashAvailable()&&$.isFunction($.fn.zclip)?$(element).zclip({path:"/Content/Scripts/ZeroClipboard.swf",copy:function(){return ko.unwrap(observable)},beforeCopy:function(){$.isFunction(options.beforeCopy)&&options.beforeCopy()},afterCopy:function(){$.isFunction(options.afterCopy)&&options.afterCopy()}}):$(element).click(function(){window.prompt("Copy to clipboard: Ctrl+C, Enter",ko.unwrap(observable))})}};ko.bindingHandlers.ckeditor={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){var ckEditorValue=valueAccessor(),id=$(element).attr("id"),ignoreChanges=!1,instance=null,options=$.extend({customConfig:"/Content/Scripts/ckeditor-4.5.7.full/config.minimal.js",on:{change:function(){ignoreChanges=!0;ckEditorValue(instance.getData());ignoreChanges=!1}}},allBindings().ckeditorOptions);instance=CKEDITOR.replace(id,options);ckEditorValue.subscribe(function(newValue){ignoreChanges||instance.setData(newValue)})}};ko.extenders.isNotNullOrEmpty=function(target,isNotNullOrEmpty){return isNotNullOrEmpty&&(target.isNotNullOrEmpty=ko.computed(function(){var val=target();return val!=null&&val!=""&&val!="00000000-0000-0000-0000-000000000000"})),target};ko.extenders.serverSideTax=function(target,params){params=$.extend({venueId:null},params);var _timeout=null,_xhr=null,_valueToSend=null,updateTax=function(newValue){var sum=parseFloat(newValue);isNaN(sum)?target.showTax(!1):(_valueToSend=sum,clearTimeout(_timeout),sum<1e20?_timeout=setTimeout(function(){_xhr&&xhr.abort();_xhr=$.ajax({type:"POST",url:GetUrl("CalculateTax","Workspace"),contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({venueId:params.venueId,sum:sum}),success:function(data){target.tax(data.text);target.showTax(data.value!=sum)},complete:function(){_xhr=null}})},1e3):target.showTax(!1))};return params.venueId&&(target.tax=ko.observable(""),target.showTax=ko.observable(!1),target.subscribe(updateTax),updateTax(target())),target};ko.extenders.trackChange=function(target,track){return track&&(target.isDirty=ko.observable(!1),target.originalValue=target(),target.reset=function(){target(target.originalValue)},target.subscribe(function(newValue){target.originalValue==null?target.isDirty(newValue==null||newValue==""?!1:!0):isNaN(Number(newValue))||isNaN(Number(target.originalValue))?target.isDirty(newValue!=target.originalValue):target.isDirty(Number(newValue).toPrecision(6)!=Number(target.originalValue).toPrecision(6))}),target.autosavedValue=ko.observable(target()),target.isAutosaved=ko.computed(function(){var autosavedValue=target.autosavedValue(),newValue=target();return autosavedValue==null?newValue==null||newValue=="":isNaN(Number(newValue))||isNaN(Number(autosavedValue))?newValue==autosavedValue:Number(newValue).toPrecision(6)==Number(autosavedValue).toPrecision(6)})),target};!function(t,e){var i,s;if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{i=e();for(s in i)("object"==typeof exports?exports:t)[s]=i[s]}}(this,function(){return function(t){function e(i){if(s[i])return s[i].exports;var n=s[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i=window.webpackJsonp,s,n;return window.webpackJsonp=function(s,r){for(var a,l,o=0,h=[];o<s.length;o++)l=s[o],n[l]&&h.push.apply(h,n[l]),n[l]=0;for(a in r)t[a]=r[a];for(i&&i(s,r);h.length;)h.shift().call(null,e)},s={},n={0:0},e.e=function(t,i){if(0===n[t])return i.call(null,e);if(void 0!==n[t])n[t].push(i);else{n[t]=[i];var s=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript";r.charset="utf-8";r.async=!0;r.src=e.p+"tf-"+({}[t]||t)+".js";s.appendChild(r)}},e.m=t,e.c=s,e.p="",e(0)}([function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.TableFilter=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(1),l=s(a),o=i(2),h=s(o),f=i(3),u=s(f),d=i(4),p=s(d),c=i(5),g=s(c),b=i(6),v=s(b),m=i(7),y=i(8),_=i(10),C=i(12),w=i(13),x=i(14),T=i(15),P=i(18),F=i(19),R=i(20),S=i(21),I=i(22),E=i(23),O=i(24),k=i(25),L=i(26),N=window,B=N.document;e.TableFilter=function(){function t(){var e=this,o;n(this,t);for(var i=arguments.length,s=Array(i),a=0;i>a;a++)s[a]=arguments[a];if(0!==s.length){if(this.id=null,this.version="0.2.4",this.year=(new Date).getFullYear(),this.tbl=null,this.startRow=null,this.refRow=null,this.headersRow=null,this.cfg={},this.nbFilterableRows=null,this.nbRows=null,this.nbCells=null,this._hasGrid=!1,s.forEach(function(t){var i="undefined"==typeof t?"undefined":r(t);"object"===i&&t&&"TABLE"===t.nodeName?(e.tbl=t,e.id=t.id||"tf_"+(new Date).getTime()+"_"):"string"===i?(e.id=t,e.tbl=h["default"].id(t)):"number"===i?e.startRow=t:"object"===i&&(e.cfg=t)}),!this.tbl||"TABLE"!=this.tbl.nodeName||0===this.getRowsNb())throw new Error("Could not instantiate TableFilter: HTML table not found.");o=this.cfg;this.emitter=new m.Emitter;this.refRow=null===this.startRow?2:this.startRow+1;try{this.nbCells=this.getCellsNb(this.refRow)}catch(f){this.nbCells=this.getCellsNb(0)}this.basePath=o.base_path||"tablefilter/";this.fltTypeInp="input";this.fltTypeSlc="select";this.fltTypeMulti="multiple";this.fltTypeCheckList="checklist";this.fltTypeNone="none";this.fltGrid=o.grid!==!1;this.gridLayout=Boolean(o.grid_layout);this.filtersRowIndex=isNaN(o.filters_row_index)?0:o.filters_row_index;this.headersRow=isNaN(o.headers_row_index)?0===this.filtersRowIndex?1:0:o.headers_row_index;this.fltCellTag="th"!==o.filters_cell_tag||"td"!==o.filters_cell_tag?"td":o.filters_cell_tag;this.fltIds=[];this.fltElms=[];this.validRowsIndex=[];this.fltGridEl=null;this.infDiv=null;this.lDiv=null;this.rDiv=null;this.mDiv=null;this.infDivCssClass=o.inf_div_css_class||"inf";this.lDivCssClass=o.left_div_css_class||"ldiv";this.rDivCssClass=o.right_div_css_class||"rdiv";this.mDivCssClass=o.middle_div_css_class||"mdiv";this.contDivCssClass=o.content_div_css_class||"cont";this.stylePath=o.style_path||this.basePath+"style/";this.stylesheet=o.stylesheet||this.stylePath+"tablefilter.css";this.stylesheetId=this.id+"_style";this.fltsRowCssClass=o.flts_row_css_class||"fltrow";this.enableIcons=o.enable_icons!==!1;this.alternateRows=Boolean(o.alternate_rows);this.hasColWidths=p["default"].isArray(o.col_widths);this.colWidths=this.hasColWidths?o.col_widths:null;this.fltCssClass=o.flt_css_class||"flt";this.fltMultiCssClass=o.flt_multi_css_class||"flt_multi";this.fltSmallCssClass=o.flt_small_css_class||"flt_s";this.singleFltCssClass=o.single_flt_css_class||"single_flt";this.enterKey=o.enter_key!==!1;this.onBeforeFilter=p["default"].isFn(o.on_before_filter)?o.on_before_filter:null;this.onAfterFilter=p["default"].isFn(o.on_after_filter)?o.on_after_filter:null;this.caseSensitive=Boolean(o.case_sensitive);this.hasExactMatchByCol=p["default"].isArray(o.columns_exact_match);this.exactMatchByCol=this.hasExactMatchByCol?o.columns_exact_match:[];this.exactMatch=Boolean(o.exact_match);this.linkedFilters=Boolean(o.linked_filters);this.disableExcludedOptions=Boolean(o.disable_excluded_options);this.activeFlt=null;this.activeFilterId=null;this.hasVisibleRows=Boolean(o.rows_always_visible);this.visibleRows=this.hasVisibleRows?o.rows_always_visible:[];this.isExternalFlt=Boolean(o.external_flt_grid);this.externalFltTgtIds=o.external_flt_grid_ids||[];this.externalFltEls=[];this.execDelay=isNaN(o.exec_delay)?100:parseInt(o.exec_delay,10);this.onFiltersLoaded=p["default"].isFn(o.on_filters_loaded)?o.on_filters_loaded:null;this.singleSearchFlt=Boolean(o.single_filter);this.onRowValidated=p["default"].isFn(o.on_row_validated)?o.on_row_validated:null;this.customCellDataCols=o.custom_cell_data_cols?o.custom_cell_data_cols:[];this.customCellData=p["default"].isFn(o.custom_cell_data)?o.custom_cell_data:null;this.watermark=o.watermark||"";this.isWatermarkArray=p["default"].isArray(this.watermark);this.toolBarTgtId=o.toolbar_target_id||null;this.help=p["default"].isUndef(o.help_instructions)?void 0:Boolean(o.help_instructions);this.popupFilters=Boolean(o.popup_filters);this.markActiveColumns=Boolean(o.mark_active_columns);this.activeColumnsCssClass=o.active_columns_css_class||"activeHeader";this.onBeforeActiveColumn=p["default"].isFn(o.on_before_active_column)?o.on_before_active_column:null;this.onAfterActiveColumn=p["default"].isFn(o.on_after_active_column)?o.on_after_active_column:null;this.displayAllText=o.display_all_text||"Clear";this.enableEmptyOption=Boolean(o.enable_empty_option);this.emptyText=o.empty_text||"(Empty)";this.enableNonEmptyOption=Boolean(o.enable_non_empty_option);this.nonEmptyText=o.non_empty_text||"(Non empty)";this.onSlcChange=o.on_change!==!1;this.sortSlc=o.sort_select!==!1;this.isSortNumAsc=Boolean(o.sort_num_asc);this.sortNumAsc=this.isSortNumAsc?o.sort_num_asc:[];this.isSortNumDesc=Boolean(o.sort_num_desc);this.sortNumDesc=this.isSortNumDesc?o.sort_num_desc:[];this.loadFltOnDemand=Boolean(o.load_filters_on_demand);this.hasCustomOptions=p["default"].isObj(o.custom_options);this.customOptions=o.custom_options;this.rgxOperator=o.regexp_operator||"rgx:";this.emOperator=o.empty_operator||"[empty]";this.nmOperator=o.nonempty_operator||"[nonempty]";this.orOperator=o.or_operator||"||";this.anOperator=o.and_operator||"&&";this.grOperator=o.greater_operator||">";this.lwOperator=o.lower_operator||"<";this.leOperator=o.lower_equal_operator||"<=";this.geOperator=o.greater_equal_operator||">=";this.dfOperator=o.different_operator||"!";this.lkOperator=o.like_operator||"*";this.eqOperator=o.equal_operator||"=";this.stOperator=o.start_with_operator||"{";this.enOperator=o.end_with_operator||"}";this.curExp=o.cur_exp||"^[¥£€$]";this.separator=o.separator||",";this.rowsCounter=Boolean(o.rows_counter);this.statusBar=Boolean(o.status_bar);this.loader=Boolean(o.loader);this.displayBtn=Boolean(o.btn);this.btnText=o.btn_text||(this.enableIcons?"":"Go");this.btnCssClass=o.btn_css_class||(this.enableIcons?"btnflt_icon":"btnflt");this.btnReset=Boolean(o.btn_reset);this.btnResetCssClass=o.btn_reset_css_class||"reset";this.onBeforeReset=p["default"].isFn(o.on_before_reset)?o.on_before_reset:null;this.onAfterReset=p["default"].isFn(o.on_after_reset)?o.on_after_reset:null;this.paging=Boolean(o.paging);this.nbVisibleRows=0;this.nbHiddenRows=0;this.autoFilter=Boolean(o.auto_filter);this.autoFilterDelay=isNaN(o.auto_filter_delay)?900:o.auto_filter_delay;this.isUserTyping=null;this.autoFilterTimer=null;this.highlightKeywords=Boolean(o.highlight_keywords);this.noResults=p["default"].isObj(o.no_results_message)||Boolean(o.no_results_message);this.state=p["default"].isObj(o.state)||Boolean(o.state);this.defaultDateType=o.default_date_type||"DMY";this.thousandsSeparator=o.thousands_separator||",";this.decimalSeparator=o.decimal_separator||".";this.hasColNbFormat=p["default"].isArray(o.col_number_format);this.colNbFormat=this.hasColNbFormat?o.col_number_format:null;this.hasColDateType=p["default"].isArray(o.col_date_type);this.colDateType=this.hasColDateType?o.col_date_type:null;this.prfxTf="TF";this.prfxFlt="flt";this.prfxValButton="btn";this.prfxInfDiv="inf_";this.prfxLDiv="ldiv_";this.prfxRDiv="rdiv_";this.prfxMDiv="mdiv_";this.prfxCookieFltsValues="tf_flts_";this.prfxCookiePageNb="tf_pgnb_";this.prfxCookiePageLen="tf_pglen_";this.rememberGridValues=Boolean(o.remember_grid_values);this.rememberPageNb=this.paging&&o.remember_page_number;this.rememberPageLen=this.paging&&o.remember_page_length;this.hasPersistence=this.rememberGridValues||this.rememberPageNb||this.rememberPageLen;this.extensions=o.extensions;this.hasExtensions=p["default"].isArray(this.extensions);this.enableDefaultTheme=Boolean(o.enable_default_theme);this.hasThemes=this.enableDefaultTheme||p["default"].isArray(o.themes);this.themes=o.themes||[];this.themesPath=o.themes_path||this.stylePath+"themes/";this.Mod={};this.ExtRegistry={};this.Evt={detectKey:function(t){if(this.enterKey&&t){var e=l["default"].keyCode(t);13===e?(this.filter(),l["default"].cancel(t),l["default"].stop(t)):(this.isUserTyping=!0,N.clearInterval(this.autoFilterTimer),this.autoFilterTimer=null)}},onKeyUp:function(t){function e(){N.clearInterval(this.autoFilterTimer);this.autoFilterTimer=null;this.isUserTyping||(this.filter(),this.isUserTyping=null)}if(this.autoFilter){var i=l["default"].keyCode(t);this.isUserTyping=!1;13!==i&&9!==i&&27!==i&&38!==i&&40!==i?null===this.autoFilterTimer&&(this.autoFilterTimer=N.setInterval(e.bind(this),this.autoFilterDelay)):(N.clearInterval(this.autoFilterTimer),this.autoFilterTimer=null)}},onKeyDown:function(){this.autoFilter&&(this.isUserTyping=!0)},onInpBlur:function(){this.autoFilter&&(this.isUserTyping=!1,N.clearInterval(this.autoFilterTimer));this.emitter.emit("filter-blur",this)},onInpFocus:function(t){var e=l["default"].target(t);this.activeFilterId=e.getAttribute("id");this.activeFlt=h["default"].id(this.activeFilterId);this.emitter.emit("filter-focus",this)}}}}return t.prototype.init=function(){var t=this,n,r,a,l;if(!this._hasGrid){var e=this.Mod,i=this.singleSearchFlt?1:this.nbCells,s=void 0;if(this["import"](this.stylesheetId,this.stylesheet,null,"link"),this.hasThemes&&this.loadThemes(),e.help||(e.help=new E.Help(this)),this.help&&e.help.init(),this.state&&(e.state||(e.state=new L.State(this)),e.state.init()),this.hasPersistence&&(e.store||(e.store=new y.Store(this)),e.store.init()),this.gridLayout&&(e.gridLayout||(e.gridLayout=new _.GridLayout(this)),e.gridLayout.init()),this.loader&&(e.loader||(e.loader=new C.Loader(this)),e.loader.init()),this.highlightKeywords&&(e.highlightKeyword=new w.HighlightKeyword(this),e.highlightKeyword.init()),this.popupFilters&&(e.popupFilter||(e.popupFilter=new x.PopupFilter(this)),e.popupFilter.init()),this.fltGrid)for(n=this._insertFiltersRow(),this.nbFilterableRows=this.getRowsNb(),this.nbVisibleRows=this.nbFilterableRows,this.nbRows=this.tbl.rows.length,r=0;i>r;r++)this.emitter.emit("before-filter-init",this,r),a=h["default"].create(this.fltCellTag),l=this.getFilterType(r),this.singleSearchFlt&&(a.colSpan=this.nbCells),this.gridLayout||n.appendChild(a),s=r==i-1&&this.displayBtn?this.fltSmallCssClass:this.fltCssClass,this.singleSearchFlt&&(l=this.fltTypeInp,s=this.singleFltCssClass),l===this.fltTypeSlc||l===this.fltTypeMulti?(e.dropdown||(e.dropdown=new T.Dropdown(this)),e.dropdown.init(r,this.isExternalFlt,a)):l===this.fltTypeCheckList?(e.checkList||(e.checkList=new P.CheckList(this)),e.checkList.init(r,this.isExternalFlt,a)):this._buildInputFilter(r,s,a),r==i-1&&this.displayBtn&&this._buildSubmitButton(r,a),this.emitter.emit("after-filter-init",this,r);else this._initNoFilters();this.hasVisibleRows&&(this.emitter.on(["after-filtering"],function(){return t.enforceVisibility()}),this.enforceVisibility());this.rowsCounter&&(e.rowsCounter=new F.RowsCounter(this),e.rowsCounter.init());this.statusBar&&(e.statusBar=new R.StatusBar(this),e.statusBar.init());this.paging&&(e.paging?e.paging.reset():(e.paging=new S.Paging(this),e.paging.init()));this.btnReset&&(e.clearButton=new I.ClearButton(this),e.clearButton.init());this.hasColWidths&&!this.gridLayout&&this.setColWidths();this.alternateRows&&(e.alternateRows=new O.AlternateRows(this),e.alternateRows.init());this.noResults&&(e.noResults||(e.noResults=new k.NoResults(this)),e.noResults.init());this._hasGrid=!0;this.hasPersistence&&this.resetFilterValues();this.gridLayout||h["default"].addClass(this.tbl,this.prfxTf);this.hasExtensions&&this.initExtensions();this.markActiveColumns&&(this.emitter.on(["before-filtering"],function(){return t.clearActiveColumns()}),this.emitter.on(["cell-processed"],function(e,i){return t.markActiveColumn(i)}));this.linkedFilters&&this.emitter.on(["after-filtering"],function(){return t.linkFilters()});this.onFiltersLoaded&&this.onFiltersLoaded.call(null,this);this.initialized=!0;this.emitter.emit("initialized",this)}},t.prototype._insertFiltersRow=function(){if(!this.gridLayout){var t=void 0,e=h["default"].tag(this.tbl,"thead");return t=e.length>0?e[0].insertRow(this.filtersRowIndex):this.tbl.insertRow(this.filtersRowIndex),t.className=this.fltsRowCssClass,this.isExternalFlt&&(t.style.display="none"),this.emitter.emit("filters-row-inserted",this,t),t}},t.prototype._initNoFilters=function(){this.fltGrid||(this.refRow=this.refRow>0?this.refRow-1:0,this.nbFilterableRows=this.getRowsNb(),this.nbVisibleRows=this.nbFilterableRows,this.nbRows=this.nbFilterableRows+this.refRow)},t.prototype._buildInputFilter=function(t,e,i){var s=this.getFilterType(t),n=this.isExternalFlt?this.externalFltTgtIds[t]:null,r=s===this.fltTypeInp?"text":"hidden",a=h["default"].create(this.fltTypeInp,["id",this.prfxFlt+t+"_"+this.id],["type",r],["ct",t]);"hidden"!==r&&this.watermark&&a.setAttribute("placeholder",this.isWatermarkArray?this.watermark[t]||"":this.watermark);a.className=e||this.fltCssClass;l["default"].add(a,"focus",this.Evt.onInpFocus.bind(this));n?(h["default"].id(n).appendChild(a),this.externalFltEls.push(a)):i.appendChild(a);this.fltIds.push(a.id);l["default"].add(a,"keypress",this.Evt.detectKey.bind(this));l["default"].add(a,"keydown",this.Evt.onKeyDown.bind(this));l["default"].add(a,"keyup",this.Evt.onKeyUp.bind(this));l["default"].add(a,"blur",this.Evt.onInpBlur.bind(this))},t.prototype._buildSubmitButton=function(t,e){var i=this,s=this.isExternalFlt?this.externalFltTgtIds[t]:null,n=h["default"].create(this.fltTypeInp,["id",this.prfxValButton+t+"_"+this.id],["type","button"],["value",this.btnText]);n.className=this.btnCssClass;s?h["default"].id(s).appendChild(n):e.appendChild(n);l["default"].add(n,"click",function(){return i.filter()})},t.prototype.feature=function(t){return this.Mod[t]},t.prototype.initExtensions=function(){var t=this.extensions,e,s,n;for(i.p=this.basePath,this.emitter.emit("before-loading-extensions",this),e=0,s=t.length;s>e;e++)n=t[e],this.ExtRegistry[n.name]||this.loadExtension(n);this.emitter.emit("after-loading-extensions",this)},t.prototype.loadExtension=function(t){var e=this;if(t&&t.name){var s=t.name,n=t.path,r=void 0;s&&n?r=t.path+s:(s=s.replace(".js",""),r="extensions/{}/{}".replace(/{}/g,s));i.e(1,function(i){var n=[i(28)("./"+r)];(function(i){var n=new i["default"](e,t);n.init();e.ExtRegistry[s]=n}).apply(null,n)})}},t.prototype.extension=function(t){return this.ExtRegistry[t]},t.prototype.hasExtension=function(t){return!p["default"].isEmpty(this.ExtRegistry[t])},t.prototype.destroyExtensions=function(){for(var s,n,t=this.extensions,e=0,i=t.length;i>e;e++)s=t[e],n=this.ExtRegistry[s.name],n&&(n.destroy(),this.ExtRegistry[s.name]=null)},t.prototype.loadThemes=function(){var t=this.themes,e,i,s;if((this.emitter.emit("before-loading-themes",this),this.enableDefaultTheme)&&(e={name:"default"},this.themes.push(e)),p["default"].isArray(t))for(i=0,s=t.length;s>i;i++){var n=t[i],r=n.name,a=n.path,l=this.prfxTf+r;r&&!a?a=this.themesPath+r+"/"+r+".css":!r&&n.path&&(r="theme{0}".replace("{0}",i));this.isImported(a,"link")||this["import"](l,a,null,"link")}this.btnResetText=null;this.btnResetHtml='<input type="button" value="" class="'+this.btnResetCssClass+'" title="Clear filters" />';this.btnPrevPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' previousPage" title="Previous page" />';this.btnNextPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' nextPage" title="Next page" />';this.btnFirstPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' firstPage" title="First page" />';this.btnLastPageHtml='<input type="button" value="" class="'+this.btnPageCssClass+' lastPage" title="Last page" />';this.loader=!0;this.loaderHtml='<div class="defaultLoader"><\/div>';this.loaderText=null;this.emitter.emit("after-loading-themes",this)},t.prototype.getStylesheet=function(){var t=arguments.length<=0||void 0===arguments[0]?"default":arguments[0];return h["default"].id(this.prfxTf+t)},t.prototype.destroy=function(){var t=this;if(this._hasGrid){var e=this.tbl.rows,i=this.Mod,s=this.emitter;this.isExternalFlt&&!this.popupFilters&&this.removeExternalFlts();this.infDiv&&this.removeToolbar();this.markActiveColumns&&(this.clearActiveColumns(),s.off(["before-filtering"],function(){return t.clearActiveColumns()}),s.off(["cell-processed"],function(e,i){return t.markActiveColumn(i)}));this.hasExtensions&&this.destroyExtensions();this.validateAllRows();this.fltGrid&&!this.gridLayout&&(this.fltGridEl=e[this.filtersRowIndex],this.tbl.deleteRow(this.filtersRowIndex));s.emit("destroy",this);Object.keys(i).forEach(function(t){var e=i[t];e&&p["default"].isFn(e.destroy)&&e.destroy()});this.hasVisibleRows&&s.off(["after-filtering"],function(){return t.enforceVisibility()});this.linkedFilters&&s.off(["after-filtering"],function(){return t.linkFilters()});h["default"].removeClass(this.tbl,this.prfxTf);this.nbHiddenRows=0;this.validRowsIndex=[];this.fltIds=[];this.activeFlt=null;this._hasGrid=!1;this.initialized=!1}},t.prototype.setToolbar=function(){var t,e,i,s,n,r;this.infDiv||(t=h["default"].create("div",["id",this.prfxInfDiv+this.id]),(t.className=this.infDivCssClass,this.toolBarTgtId)?h["default"].id(this.toolBarTgtId).appendChild(t):this.gridLayout?(e=this.Mod.gridLayout,e.tblMainCont.appendChild(t),t.className=e.gridInfDivCssClass):(i=h["default"].create("caption"),i.appendChild(t),this.tbl.insertBefore(i,this.tbl.firstChild)),this.infDiv=h["default"].id(this.prfxInfDiv+this.id),s=h["default"].create("div",["id",this.prfxLDiv+this.id]),s.className=this.lDivCssClass,t.appendChild(s),this.lDiv=h["default"].id(this.prfxLDiv+this.id),n=h["default"].create("div",["id",this.prfxRDiv+this.id]),n.className=this.rDivCssClass,t.appendChild(n),this.rDiv=h["default"].id(this.prfxRDiv+this.id),r=h["default"].create("div",["id",this.prfxMDiv+this.id]),r.className=this.mDivCssClass,t.appendChild(r),this.mDiv=h["default"].id(this.prfxMDiv+this.id),p["default"].isUndef(this.help)&&(this.Mod.help.enabled=!0,this.emitter.emit("init-help",this)))},t.prototype.removeToolbar=function(){if(this.infDiv){h["default"].remove(this.infDiv);this.infDiv=null;var t=this.tbl,e=h["default"].tag(t,"caption");e.length>0&&[].forEach.call(e,function(e){return t.removeChild(e)})}},t.prototype.removeExternalFlts=function(){var s,n;if(this.isExternalFlt)for(var t=this.externalFltTgtIds,e=t.length,i=0;e>i;i++)s=t[i],n=h["default"].id(s),n&&(n.innerHTML="")},t.prototype.isCustomOptions=function(t){return this.hasCustomOptions&&-1!=this.customOptions.cols.indexOf(t)},t.prototype.getCustomOptions=function(t){if(!p["default"].isEmpty(t)&&this.isCustomOptions(t)){for(var e=this.customOptions,i=e.cols,s=[],n=[],r=i.indexOf(t),a=e.values[r],l=e.texts[r],o=e.sorts[r],h=0,f=a.length;f>h;h++)n.push(a[h]),l[h]?s.push(l[h]):s.push(a[h]);return o&&(n.sort(),s.sort()),[n,s]}},t.prototype.resetFilterValues=function(){var t=this,e;this.rememberGridValues&&(e=this.Mod.store.getFilterValues(),e.forEach(function(e,i){" "!==e&&t.setFilterValue(i,e)}),this.filter())},t.prototype.filter=function(){function t(t,e,i){if(this.highlightKeywords&&e){t=t.replace(b,"");t=t.replace(m,"");t=t.replace(y,"");t=t.replace(_,"");var s=t;(l.test(t)||o.test(t)||f.test(t)||d.test(t)||c.test(t))&&(s=h["default"].getText(i));""!==s&&this.emitter.emit("highlight-keyword",this,i,s)}}function e(t,e,i){var z,W,G;t=u["default"].matchCase(t,this.caseSensitive);var s=void 0,a=v["default"].removeNbFormat,h=f.test(t),p=l.test(t),T=d.test(t),P=o.test(t),F=c.test(t),R=m.test(t),S=b.test(t),I=y.test(t),E=_.test(t),O=C===t,L=w===t,N=x.test(t),B=h&&g["default"].isValid(t.replace(f,""),k),D=p&&g["default"].isValid(t.replace(l,""),k),M=T&&g["default"].isValid(t.replace(d,""),k),A=P&&g["default"].isValid(t.replace(o,""),k),H=F&&g["default"].isValid(t.replace(c,""),k),j=R&&g["default"].isValid(t.replace(m,""),k),V=void 0,U=void 0;if(g["default"].isValid(e,k))V=g["default"].format(e,k),B?(U=g["default"].format(t.replace(f,""),k),s=U>V):D?(U=g["default"].format(t.replace(l,""),k),s=U>=V):A?(U=g["default"].format(t.replace(o,""),k),s=V>=U):M?(U=g["default"].format(t.replace(d,""),k),s=V>U):H?(U=g["default"].format(t.replace(c,""),k),s=V.toString()!=U.toString()):j?(U=g["default"].format(t.replace(m,""),k),s=V.toString()==U.toString()):b.test(t)?s=u["default"].contains(t.replace(b,""),e,!1,this.caseSensitive):g["default"].isValid(t,k)?(U=g["default"].format(t,k),s=V.toString()===U.toString()):s=O?u["default"].isEmpty(e):L?!u["default"].isEmpty(e):u["default"].contains(t,e,this.isExactMatch(i),this.caseSensitive);else if(this.hasColNbFormat&&this.colNbFormat[i]?(n=a(e,this.colNbFormat[i]),r=this.colNbFormat[i]):","===this.thousandsSeparator&&"."===this.decimalSeparator?(n=a(e,"us"),r="us"):(n=a(e,"eu"),r="eu"),p)s=n<=a(t.replace(l,""),r);else if(P)s=n>=a(t.replace(o,""),r);else if(h)s=n<a(t.replace(f,""),r);else if(T)s=n>a(t.replace(d,""),r);else if(F)s=!u["default"].contains(t.replace(c,""),e,!1,this.caseSensitive);else if(S)s=u["default"].contains(t.replace(b,""),e,!1,this.caseSensitive);else if(R)s=u["default"].contains(t.replace(m,""),e,!0,this.caseSensitive);else if(I)s=0===e.indexOf(t.replace(y,""));else if(E)z=t.replace(_,""),s=e.lastIndexOf(z,e.length-1)===e.length-1-(z.length-1)&&e.lastIndexOf(z,e.length-1)>-1;else if(O)s=u["default"].isEmpty(e);else if(L)s=!u["default"].isEmpty(e);else if(N)try{W=t.replace(x,"");G=new RegExp(W);s=G.test(e)}catch($){s=!1}else s=u["default"].contains(t,e,this.isExactMatch(i),this.caseSensitive);return s}var i,s,P,F,O,k,V,U;if(this.fltGrid&&this._hasGrid){this.onBeforeFilter&&this.onBeforeFilter.call(null,this);this.emitter.emit("before-filtering",this);i=this.tbl.rows;s=0;this.validRowsIndex=[];for(var n,r,a=this.getFiltersValue(),l=new RegExp(this.leOperator),o=new RegExp(this.geOperator),f=new RegExp(this.lwOperator),d=new RegExp(this.grOperator),c=new RegExp(this.dfOperator),b=new RegExp(u["default"].rgxEsc(this.lkOperator)),m=new RegExp(this.eqOperator),y=new RegExp(this.stOperator),_=new RegExp(this.enOperator),C=this.emOperator,w=this.nmOperator,x=new RegExp(u["default"].rgxEsc(this.rgxOperator)),T=this.refRow;T<this.nbRows;T++)if(i[T].style.display="",P=i[T].cells,F=P.length,F===this.nbCells){for(var R=[],S=!0,I=!1,E=0;F>E;E++)if(O=a[this.singleSearchFlt?0:E],k=this.hasColDateType?this.colDateType[E]:this.defaultDateType,""!==O){var L=u["default"].matchCase(this.getCellData(P[E]),this.caseSensitive),N=O.toString().split(this.orOperator),B=N.length>1,D=O.toString().split(this.anOperator),M=D.length>1;if(p["default"].isArray(O)||B||M){var A=void 0,H=void 0,j=!1;for(H=p["default"].isArray(O)?O:B?N:D,V=0,U=H.length;U>V&&(A=u["default"].trim(H[V]),j=e.call(this,A,L,E),t.call(this,A,j,P[E]),!(B&&j||M&&!j))&&(!p["default"].isArray(O)||!j);V++);R[E]=j}else R[E]=e.call(this,u["default"].trim(O),L,E),t.call(this,O,R[E],P[E]);R[E]||(S=!1);this.singleSearchFlt&&R[E]&&(I=!0);this.emitter.emit("cell-processed",this,E,P[E])}this.singleSearchFlt&&I&&(S=!0);S?this.validateRow(T,!0):(this.validateRow(T,!1),s++);this.emitter.emit("row-processed",this,T,this.validRowsIndex.length,S)}this.nbVisibleRows=this.validRowsIndex.length;this.nbHiddenRows=s;this.onAfterFilter&&this.onAfterFilter.call(null,this);this.emitter.emit("after-filtering",this,a)}},t.prototype.getColValues=function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],s=arguments.length<=3||void 0===arguments[3]?[]:arguments[3],n,r,a,l,o,h,f;if(this.fltGrid){for(n=this.tbl.rows,r=[],e&&r.push(this.getHeadersText()[t]),a=this.refRow;a<this.nbRows;a++)if(l=!1,s.length>0&&(l=-1!=s.indexOf(a)),o=n[a].cells,h=o.length,h===this.nbCells&&!l)for(f=0;h>f;f++)if(f==t&&""===n[a].style.display){var u=this.getCellData(o[f]),d=this.colNbFormat?this.colNbFormat[t]:null,p=i?v["default"].removeNbFormat(u,d):u;r.push(p)}return r}},t.prototype.getFilterValue=function(t){var n,r,a;if(this.fltGrid){var e="",i=[],s=this.getFilterElement(t);if(!s)return"";if(n=this.getFilterType(t),n!==this.fltTypeMulti&&n!==this.fltTypeCheckList)e=s.value;else if(n===this.fltTypeMulti){for(r=0,a=s.options.length;a>r;r++)s.options[r].selected&&i.push(s.options[r].value);e=i.length>0?i:""}else n===this.fltTypeCheckList&&(null!==s.getAttribute("value")&&(i=s.getAttribute("value"),i=i.substr(0,i.length-3),i=i.split(" "+this.orOperator+" ")),e=i.length>0?i:"");return p["default"].isArray(e)&&1===e.length&&""===e[0]&&(e=""),e}},t.prototype.getFiltersValue=function(){var s;if(this.fltGrid){for(var t=[],e=0,i=this.fltIds.length;i>e;e++)s=this.getFilterValue(e),p["default"].isArray(s)?t.push(s):t.push(u["default"].trim(s));return t}},t.prototype.getFilterId=function(t){if(this.fltGrid)return this.fltIds[t]},t.prototype.getFiltersByType=function(t,e){var r,a;if(this.fltGrid){for(var i=[],s=0,n=this.fltIds.length;n>s;s++)r=this.getFilterType(s),r===u["default"].lower(t)&&(a=e?s:this.fltIds[s],i.push(a));return i}},t.prototype.getFilterElement=function(t){var e=this.fltIds[t];return h["default"].id(e)},t.prototype.getCellsNb=function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=this.tbl.rows[t];return e.cells.length},t.prototype.getRowsNb=function(t){var e=p["default"].isUndef(this.refRow)?0:this.refRow,i=this.tbl.rows.length;return t&&(e=0),parseInt(i-e,10)},t.prototype.getCellData=function(t){var e=t.cellIndex;return this.customCellData&&-1!=this.customCellDataCols.indexOf(e)?this.customCellData.call(null,this,t,e):h["default"].getText(t)},t.prototype.getTableData=function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.tbl.rows,s=[],n,r,f;for(t&&(n=this.getHeadersText(e),s.push([this.getHeadersRowIndex(),n])),r=this.refRow;r<this.nbRows;r++){for(var a=[r,[]],l=i[r].cells,o=0,h=l.length;h>o;o++)e&&this.hasExtension("colsVisibility")&&this.extension("colsVisibility").isColHidden(o)||(f=this.getCellData(l[o]),a[1].push(f));s.push(a)}return s},t.prototype.getFilteredData=function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i,s,n,r,a,f;if(!this.validRowsIndex)return[];for(i=this.tbl.rows,s=[],t&&(n=this.getHeadersText(e),s.push([this.getHeadersRowIndex(),n])),r=this.getValidRows(!0),a=0;a<r.length;a++){for(var l=[this.validRowsIndex[a],[]],o=i[this.validRowsIndex[a]].cells,h=0;h<o.length;h++)e&&this.hasExtension("colsVisibility")&&this.extension("colsVisibility").isColHidden(h)||(f=this.getCellData(o[h]),l[1].push(f));s.push(l)}return s},t.prototype.getFilteredDataCol=function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i,s,n,r;if(p["default"].isUndef(t))return[];for(i=this.getFilteredData(),s=[],e&&s.push(this.getHeadersText()[t]),n=0,r=i.length;r>n;n++){var a=i[n],l=a[1],o=l[t];s.push(o)}return s},t.prototype.getRowDisplay=function(t){return p["default"].isObj(t)?t.style.display:null},t.prototype.validateRow=function(t,e){var i=this.tbl.rows[t],s,n;i&&"boolean"==typeof e&&(this.hasVisibleRows&&-1!==this.visibleRows.indexOf(t)&&(e=!0),s=e?"":"none",n=e?"true":"false",i.style.display=s,this.paging&&i.setAttribute("validRow",n),e&&(-1===this.validRowsIndex.indexOf(t)&&this.validRowsIndex.push(t),this.onRowValidated&&this.onRowValidated.call(null,this,t),this.emitter.emit("row-validated",this,t)))},t.prototype.validateAllRows=function(){if(this._hasGrid){this.validRowsIndex=[];for(var t=this.refRow;t<this.nbFilterableRows;t++)this.validateRow(t,!0)}},t.prototype.setFilterValue=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i,s,n,r;this.fltGrid&&(i=this.getFilterElement(t),s=this.getFilterType(t),s!==this.fltTypeMulti&&s!=this.fltTypeCheckList?(this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-select-filter",this,t,this.linkedFilters,this.isExternalFlt),i.value=e):s===this.fltTypeMulti?(n=p["default"].isArray(e)?e:e.split(" "+this.orOperator+" "),this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-select-filter",this,t,this.linkedFilters,this.isExternalFlt),this.emitter.emit("select-options",this,t,n)):s===this.fltTypeCheckList&&(r=[],this.loadFltOnDemand&&!this.initialized&&this.emitter.emit("build-checklist-filter",this,t,this.isExternalFlt),p["default"].isArray(e)?r=e:(e=u["default"].matchCase(e,this.caseSensitive),r=e.split(" "+this.orOperator+" ")),this.emitter.emit("select-checklist-options",this,t,r)))},t.prototype.setColWidths=function(t){function e(){for(var l,e=this.nbCells,i=this.colWidths,s=h["default"].tag(t,"col"),n=s.length>0,r=n?null:B.createDocumentFragment(),a=0;e>a;a++)l=void 0,n?l=s[a]:(l=h["default"].create("col",["id",this.id+"_col_"+a]),r.appendChild(l)),l.style.width=i[a];n||t.insertBefore(r,t.firstChild)}this.hasColWidths&&(t=t||this.tbl,e.call(this))},t.prototype.enforceVisibility=function(){var t,e,i;if(this.hasVisibleRows)for(t=0,e=this.visibleRows.length;e>t;t++)i=this.visibleRows[t],i<=this.nbRows&&this.validateRow(i,!0)},t.prototype.clearFilters=function(){if(this.fltGrid){this.emitter.emit("before-clearing-filters",this);this.onBeforeReset&&this.onBeforeReset.call(null,this,this.getFiltersValue());for(var t=0,e=this.fltIds.length;e>t;t++)this.setFilterValue(t,"");this.filter();this.onAfterReset&&this.onAfterReset.call(null,this);this.emitter.emit("after-clearing-filters",this)}},t.prototype.clearActiveColumns=function(){for(var t=0,e=this.getCellsNb(this.headersRow);e>t;t++)h["default"].removeClass(this.getHeaderElement(t),this.activeColumnsCssClass)},t.prototype.markActiveColumn=function(t){var e=this.getHeaderElement(t);h["default"].hasClass(e,this.activeColumnsCssClass)||(this.onBeforeActiveColumn&&this.onBeforeActiveColumn.call(null,this,t),h["default"].addClass(e,this.activeColumnsCssClass),this.onAfterActiveColumn&&this.onAfterActiveColumn.call(null,this,t))},t.prototype.linkFilters=function(){var n,o,f;if(this.linkedFilters&&this.activeFilterId){var t=this.getFiltersByType(this.fltTypeSlc,!0),e=this.getFiltersByType(this.fltTypeMulti,!0),i=this.getFiltersByType(this.fltTypeCheckList,!0),s=t.concat(e);s=s.concat(i);n=this.activeFilterId.split("_")[0];n=n.split(this.prfxFlt)[1];for(var r=void 0,a=0,l=s.length;l>a;a++)o=h["default"].id(this.fltIds[s[a]]),(r=this.getFilterValue(s[a]),n!==s[a]||this.paging&&-1!=t.indexOf(s[a])&&n===s[a]||!this.paging&&(-1!=i.indexOf(s[a])||-1!=e.indexOf(s[a]))||r===this.displayAllText)&&(this.loadFltOnDemand&&(f=h["default"].createOpt(this.displayAllText,""),o.innerHTML="",o.appendChild(f)),-1!=i.indexOf(s[a])?this.emitter.emit("build-checklist-filter",this,s[a]):this.emitter.emit("build-select-filter",this,s[a],!0),this.setFilterValue(s[a],r))}},t.prototype.isExactMatch=function(t){var e=this.getFilterType(t);return this.exactMatchByCol[t]||this.exactMatch||e!==this.fltTypeInp},t.prototype.isImported=function(t,e){for(var i=!1,s=e?e:"script",n="script"==s?"src":"href",r=h["default"].tag(B,s),a=0,l=r.length;l>a;a++)if(void 0!==r[a][n]&&r[a][n].match(t)){i=!0;break}return i},t.prototype["import"]=function(t,e,i,s){var n=s?s:"script",r=this.isImported(e,n);if(!r){var a=this,l=!1,o=void 0,f=h["default"].tag(B,"head")[0];o="link"===u["default"].lower(n)?h["default"].create("link",["id",t],["type","text/css"],["rel","stylesheet"],["href",e]):h["default"].create("script",["id",t],["type","text/javascript"],["src",e]);o.onload=o.onreadystatechange=function(){l||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(l=!0,"function"==typeof i&&i.call(null,a))};o.onerror=function(){throw new Error("TF script could not load: "+e);};f.appendChild(o)}},t.prototype.hasGrid=function(){return this._hasGrid},t.prototype.getFiltersId=function(){return this.fltIds||[]},t.prototype.getValidRows=function(t){var e,i;if(!t)return this.validRowsIndex;for(this.validRowsIndex=[],e=this.refRow;e<this.getRowsNb(!0);e++)i=this.tbl.rows[e],this.paging?"true"!==i.getAttribute("validRow")&&null!==i.getAttribute("validRow")||this.validRowsIndex.push(i.rowIndex):"none"!==this.getRowDisplay(i)&&this.validRowsIndex.push(i.rowIndex);return this.validRowsIndex},t.prototype.getFiltersRowIndex=function(){return this.filtersRowIndex},t.prototype.getHeadersRowIndex=function(){return this.headersRow},t.prototype.getStartRowIndex=function(){return this.refRow},t.prototype.getLastRowIndex=function(){return this.nbRows-1},t.prototype.getHeaderElement=function(t){for(var e=this.gridLayout?this.Mod.gridLayout.headTbl:this.tbl,i=h["default"].tag(e,"thead"),s=this.headersRow,n=void 0,r=0;r<this.nbCells;r++)if(r===t){0===i.length&&(n=e.rows[s].cells[r]);1===i.length&&(n=i[0].rows[s].cells[r]);break}return n},t.prototype.getHeadersText=function(){for(var s,n,t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=[],i=0;i<this.nbCells;i++)t&&this.hasExtension("colsVisibility")&&this.extension("colsVisibility").isColHidden(i)||(s=this.getHeaderElement(i),n=h["default"].getFirstTextNode(s),e.push(n));return e},t.prototype.getFilterType=function(t){var e=this.cfg["col_"+t];return e?u["default"].lower(e):this.fltTypeInp},t.prototype.getFilterableRowsNb=function(){return this.getRowsNb(!1)},t.prototype.config=function(){return this.cfg},t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e["default"]={add:function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},remove:function(t,e,i,s){t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,s):t["on"+e]=null},stop:function(t){t||(t=window.event);t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},cancel:function(t){t||(t=window.event);t.preventDefault?t.preventDefault():t.returnValue=!1},target:function(t){return t&&t.target||window.event&&window.event.srcElement},keyCode:function(t){return t.charCode?t.charCode:t.keyCode?t.keyCode:t.which?t.which:0}}},function(t,e){"use strict";function i(){return document.documentElement.classList}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e["default"]={getText:function(t){var e=t.textContent||t.innerText||t.innerHTML.replace(/<[^<>]+>/g,"");return e.replace(/^\s+/,"").replace(/\s+$/,"")},getFirstTextNode:function(t){for(var i,e=0;e<t.childNodes.length;e++)if(i=t.childNodes[e],3===i.nodeType)return i.data},create:function(t){var e,i,n,r;if(t&&""!==t){if(e=document.createElement(t),i=arguments,i.length>1)for(n=0;n<i.length;n++)r=s(i[n]),"object"===r.toLowerCase()&&2===i[n].length&&e.setAttribute(i[n][0],i[n][1]);return e}},remove:function(t){return t.parentNode.removeChild(t)},text:function(t){return document.createTextNode(t)},hasClass:function(t,e){return t?i()?t.classList.contains(e):t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")):!1},addClass:function(t,e){if(t)return i()?void t.classList.add(e):void(""===t.className?t.className=e:this.hasClass(t,e)||(t.className+=" "+e))},removeClass:function(t,e){if(t){if(i())return void t.classList.remove(e);var s=new RegExp("(\\s|^)"+e+"(\\s|$)","g");t.className=t.className.replace(s,"")}},createOpt:function(t,e,i){var s=!!i,n=s?this.create("option",["value",e],["selected","true"]):this.create("option",["value",e]);return n.appendChild(this.text(t)),n},createCheckItem:function(t,e,i){var s=this.create("li"),n=this.create("label",["for",t]),r=this.create("input",["id",t],["name",t],["type","checkbox"],["value",e]);return n.appendChild(r),n.appendChild(this.text(i)),s.appendChild(n),s.label=n,s.check=r,s},id:function(t){return document.getElementById(t)},tag:function(t,e){return t.getElementsByTagName(e)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e["default"]={lower:function(t){return t.toLowerCase()},upper:function(t){return t.toUpperCase()},trim:function(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")},isEmpty:function(t){return""===this.trim(t)},rgxEsc:function(t){var e=/[-\/\\^$*+?.()|[\]{}]/g,i="\\$&";return String(t).replace(e,i)},matchCase:function(t,e){return e?t:this.lower(t)},contains:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],s=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],n=void 0,r=s?"g":"gi";return n=i?new RegExp("(^\\s*)"+this.rgxEsc(t)+"(\\s*$)",r):new RegExp(this.rgxEsc(t),r),n.test(e)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=void 0;e["default"]={isObj:function(t){var e=!1;return"string"==typeof t?window[t]&&"object"===i(window[t])&&(e=!0):t&&"object"===("undefined"==typeof t?"undefined":i(t))&&(e=!0),e},isFn:function(t){return t&&t.constructor==Function},isArray:function(t){return t&&t.constructor==Array},isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},isUndef:function(t){return t===s},isNull:function(t){return null===t},isEmpty:function(t){return this.isUndef(t)||this.isNull(t)||0===t.length}}},function(t,e){"use strict";function i(t){if(void 0===t)return 0;if(t.length>2)return t;var e=void 0;return 99>=t&&t>50&&(e="19"+t),(50>t||"00"===t)&&(e="20"+t),e}function s(t){var n;if(void 0===t)return 0;for(var e=void 0,i=["january","february","march","april","may","june","july","august","september","october","november","december","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],s=0;s<i.length;s++)if(n=i[s],t.toLowerCase()===n){e=s+1;break}return(e>11||23>e)&&(e-=12),1>e||e>12?0:e}Object.defineProperty(e,"__esModule",{value:!0});e["default"]={isValid:function(t,e){var i,s,n,h;if((e||(e="DMY"),e=e.toUpperCase(),3!=e.length&&"DDMMMYYYY"===e)&&(i=this.format(t,e),t=i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),e="DMY"),-1!==e.indexOf("M")&&-1!==e.indexOf("D")&&-1!==e.indexOf("Y")||(e="DMY"),s=void 0,n=void 0,"Y"===e.substring(0,1)?(s=/^\d{2}(\-|\/|\.)\d{1,2}\1\d{1,2}$/,n=/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/):"Y"===e.substring(1,2)?(s=/^\d{1,2}(\-|\/|\.)\d{2}\1\d{1,2}$/,n=/^\d{1,2}(\-|\/|\.)\d{4}\1\d{1,2}$/):(s=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{2}$/,n=/^\d{1,2}(\-|\/|\.)\d{1,2}\1\d{4}$/),s.test(t)===!1&&n.test(t)===!1)return!1;var r=t.split(RegExp.$1),a=void 0,l=void 0,o=void 0;return a="M"===e.substring(0,1)?r[0]:"M"===e.substring(1,2)?r[1]:r[2],l="D"===e.substring(0,1)?r[0]:"D"===e.substring(1,2)?r[1]:r[2],o="Y"===e.substring(0,1)?r[0]:"Y"===e.substring(1,2)?r[1]:r[2],parseInt(o,10)<=50&&(o=(parseInt(o,10)+2e3).toString()),parseInt(o,10)<=99&&(o=(parseInt(o,10)+1900).toString()),h=new Date(parseInt(o,10),parseInt(a,10)-1,parseInt(l,10),0,0,0,0),parseInt(l,10)!=h.getDate()?!1:parseInt(a,10)-1==h.getMonth()},format:function(t,e){if(e||(e="DMY"),!t||""===t)return new Date(1001,0,1);var n=void 0,r=void 0;switch(e.toUpperCase()){case"DDMMMYYYY":r=t.replace(/[- \/.]/g," ").split(" ");n=new Date(i(r[2]),s(r[1])-1,r[0]);break;case"DMY":r=t.replace(/^(0?[1-9]|[12][0-9]|3[01])([- \/.])(0?[1-9]|1[012])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" ");n=new Date(i(r[2]),r[1]-1,r[0]);break;case"MDY":r=t.replace(/^(0?[1-9]|1[012])([- \/.])(0?[1-9]|[12][0-9]|3[01])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" ");n=new Date(i(r[2]),r[0]-1,r[1]);break;case"YMD":r=t.replace(/^((\d\d)?\d\d)([- \/.])(0?[1-9]|1[012])([- \/.])(0?[1-9]|[12][0-9]|3[01])$/,"$1 $4 $6").split(" ");n=new Date(i(r[0]),r[1]-1,r[2]);break;default:r=t.replace(/^(0?[1-9]|[12][0-9]|3[01])([- \/.])(0?[1-9]|1[012])([- \/.])((\d\d)?\d\d)$/,"$1 $3 $5").split(" ");n=new Date(i(r[2]),r[1]-1,r[0])}return n}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=s(n);e["default"]={removeNbFormat:function(t,e){if(t){e||(e="us");var i=t;return"us"===r["default"].lower(e)?+i.replace(/[^\d\.-]/g,""):+i.replace(/[^\d\,-]/g,"").replace(",",".")}}}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.Emitter=function(){function t(){i(this,t);this.events={}}return t.prototype.on=function(t,e){var i=this;t.forEach(function(t){i.events[t]=i.events[t]||[];i.events[t].push(e)})},t.prototype.off=function(t,e){var i=this;t.forEach(function(t){t in i.events&&i.events[t].splice(i.events[t].indexOf(e),1)})},t.prototype.emit=function(t){if(t in this.events)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,[].slice.call(arguments,1))},t}()},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.Store=void 0;var r=i(9),a=s(r),l=i(4),o=s(l);e.Store=function(){function t(e){n(this,t);var i=e.config();this.fltsValuesCookie=e.prfxCookieFltsValues+e.id;this.pgNbCookie=e.prfxCookiePageNb+e.id;this.pgLenCookie=e.prfxCookiePageLen+e.id;this.duration=isNaN(i.set_cookie_duration)?1e5:parseInt(i.set_cookie_duration,10);this.tf=e;this.emitter=e.emitter}return t.prototype.init=function(){var t=this;this.emitter.on(["after-filtering"],function(){return t.saveFilterValues()});this.emitter.on(["after-clearing-filters"],function(){return t.clearCookies()});this.emitter.on(["after-page-change"],function(e,i){return t.savePageNb(i)});this.emitter.on(["after-page-length-change"],function(e,i){return t.savePageLength(i)})},t.prototype.saveFilterValues=function(){var t=this.tf,e=[],i,s,n;if(t.rememberGridValues){for(i=0;i<t.fltIds.length;i++)s=t.getFilterValue(i),o["default"].isArray(s)&&(n=new RegExp(t.separator,"g"),s=s.toString().replace(n," "+t.orOperator+" ")),""===s&&(s=" "),e.push(s);a["default"].write(this.fltsValuesCookie,e.join(t.separator),this.duration)}},t.prototype.getFilterValues=function(){var t=a["default"].read(this.fltsValuesCookie),e=new RegExp(this.tf.separator,"g");return t.split(e)},t.prototype.savePageNb=function(t){this.tf.rememberPageNb&&a["default"].write(this.pgNbCookie,t,this.duration)},t.prototype.getPageNb=function(){return a["default"].read(this.pgNbCookie)},t.prototype.savePageLength=function(t){this.tf.rememberPageLen&&a["default"].write(this.pgLenCookie,t,this.duration)},t.prototype.getPageLength=function(){return a["default"].read(this.pgLenCookie)},t.prototype.clearCookies=function(){a["default"].remove(this.fltsValuesCookie);a["default"].remove(this.pgLenCookie);a["default"].remove(this.pgNbCookie)},t.prototype.destroy=function(){var t=this;this.emitter.off(["after-filtering"],function(){return t.saveFilterValues()});this.emitter.off(["after-clearing-filters"],function(){return t.clearCookies()});this.emitter.off(["after-page-change"],function(e,i){return t.savePageNb(i)});this.emitter.off(["after-page-length-change"],function(e,i){return t.savePageLength(i)})},t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e["default"]={write:function(t,e,i){var s="";i&&(s=new Date((new Date).getTime()+36e5*i),s="; expires="+s.toGMTString());document.cookie=t+"="+escape(e)+s},read:function(t){var e="",i=t+"=",s,n,r;return document.cookie.length>0&&(s=document.cookie,n=s.indexOf(i),-1!==n&&(n+=i.length,r=s.indexOf(";",n),-1===r&&(r=s.length),e=unescape(s.substring(n,r)))),e},remove:function(t){this.write(t,"",-1)},valueToArray:function(t,e){e||(e=",");var i=this.read(t);return i.split(e)},getValueByIndex:function(t,e,i){i||(i=",");var s=this.valueToArray(t,i);return s[e]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.GridLayout=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f),d=i(1),p=s(d),c=i(3),g=s(c);e.GridLayout=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"gridLayout")),a=s.config;return s.gridWidth=a.grid_width||null,s.gridHeight=a.grid_height||null,s.gridMainContCssClass=a.grid_cont_css_class||"grd_Cont",s.gridContCssClass=a.grid_tbl_cont_css_class||"grd_tblCont",s.gridHeadContCssClass=a.grid_tblHead_cont_css_class||"grd_headTblCont",s.gridInfDivCssClass=a.grid_inf_grid_css_class||"grd_inf",s.gridHeadRowIndex=a.grid_headers_row_index||0,s.gridHeadRows=a.grid_headers_rows||[0],s.gridEnableFilters=void 0!==a.grid_enable_default_filters?a.grid_enable_default_filters:!0,s.noHeaders=Boolean(a.grid_no_headers),s.gridDefaultColWidth=a.grid_default_col_width||"100px",s.gridColElms=[],s.prfxMainTblCont="gridCont_",s.prfxTblCont="tblCont_",s.prfxHeadTblCont="tblHeadCont_",s.prfxHeadTbl="tblHead_",s.prfxGridFltTd="_td_",s.prfxGridTh="tblHeadTh_",s.sourceTblHtml=i.tbl.outerHTML,i.fltGrid=s.gridEnableFilters,s}return a(e,t),e.prototype.init=function(){var t=this,e=this.tf,i=this.config,s=e.tbl,n,r,a,l,o,f,m,y,_,C,w,x,T,P,F,R,S,I,E,O;if(!this.initialized){if(e.refRow=u["default"].isNull(e.startRow)?0:e.startRow,e.headersRow=0,e.filtersRowIndex=1,e.isExternalFlt=!0,!e.hasColWidths){for(e.colWidths=[],n=0;n<e.nbCells;n++)r=void 0,a=s.rows[this.gridHeadRowIndex].cells[n],r=""!==a.width?a.width:""!==a.style.width?parseInt(a.style.width,10):this.gridDefaultColWidth,e.colWidths[n]=r;e.hasColWidths=!0}e.setColWidths();l=void 0;l=""!==s.width?s.width:""!==s.style.width?parseInt(s.style.width,10):s.clientWidth;this.tblMainCont=h["default"].create("div",["id",this.prfxMainTblCont+e.id]);this.tblMainCont.className=this.gridMainContCssClass;this.gridWidth&&(this.tblMainCont.style.width=this.gridWidth);s.parentNode.insertBefore(this.tblMainCont,s);this.tblCont=h["default"].create("div",["id",this.prfxTblCont+e.id]);this.tblCont.className=this.gridContCssClass;this.gridWidth&&(this.tblCont.style.width=-1!=this.gridWidth.indexOf("%")?"100%":this.gridWidth);this.gridHeight&&(this.tblCont.style.height=this.gridHeight);s.parentNode.insertBefore(this.tblCont,s);o=h["default"].remove(s);this.tblCont.appendChild(o);""===s.style.width&&(s.style.width=(g["default"].contains("%",l)?s.clientWidth:l)+"px");f=h["default"].remove(this.tblCont);this.tblMainCont.appendChild(f);this.headTblCont=h["default"].create("div",["id",this.prfxHeadTblCont+e.id]);this.headTblCont.className=this.gridHeadContCssClass;this.gridWidth&&(this.headTblCont.style.width=-1!=this.gridWidth.indexOf("%")?"100%":this.gridWidth);this.headTbl=h["default"].create("table",["id",this.prfxHeadTbl+e.id]);for(var d=h["default"].create("tHead"),c=s.rows[this.gridHeadRowIndex],b=[],v=0;v<e.nbCells;v++)m=c.cells[v],y=m.getAttribute("id"),y&&""!==y||(y=this.prfxGridTh+v+"_"+e.id,m.setAttribute("id",y)),b.push(y);if(_=h["default"].create("tr"),this.gridEnableFilters&&e.fltGrid)for(e.externalFltTgtIds=[],C=0;C<e.nbCells;C++)w=e.prfxFlt+C+this.prfxGridFltTd+e.id,x=h["default"].create(e.fltCellTag,["id",w]),_.appendChild(x),e.externalFltTgtIds[C]=w;if(this.noHeaders)d.appendChild(h["default"].create("tr"));else for(T=0;T<this.gridHeadRows.length;T++)P=s.rows[this.gridHeadRows[0]],d.appendChild(P);if(this.headTbl.appendChild(d),0===e.filtersRowIndex?d.insertBefore(_,c):d.appendChild(_),this.headTblCont.appendChild(this.headTbl),this.tblCont.parentNode.insertBefore(this.headTblCont,this.tblCont),F=h["default"].tag(s,"thead"),F.length>0&&s.removeChild(F[0]),this.headTbl.style.tableLayout="fixed",s.style.tableLayout="fixed",this.headTbl.cellPadding=s.cellPadding,this.headTbl.cellSpacing=s.cellSpacing,e.setColWidths(this.headTbl),s.style.width="",this.headTbl.style.width=s.clientWidth+"px",p["default"].add(this.tblCont,"scroll",function(e){var i=p["default"].target(e),s=i.scrollLeft;t.headTblCont.scrollLeft=s}),R=(i.extensions||[]).filter(function(t){return"sort"===t.name}),1===R.length&&(R[0].async_sort=!0,R[0].trigger_ids=b),this.tblHasColTag=h["default"].tag(s,"col").length>0,S=function(){for(var i,t=e.nbCells-1;t>=0;t--)i=h["default"].create("col",["id",e.id+"_col_"+t]),s.insertBefore(i,s.firstChild),i.style.width=e.colWidths[t],this.gridColElms[t]=i;this.tblHasColTag=!0},this.tblHasColTag)for(I=h["default"].tag(s,"col"),E=0;E<e.nbCells;E++)I[E].setAttribute("id",e.id+"_col_"+E),I[E].style.width=e.colWidths[E],this.gridColElms.push(I[E]);else S.call(this);O=u["default"].isFn(i.on_after_col_resized)?i.on_after_col_resized:null;i.on_after_col_resized=function(t,e){var i,n,r,a;e&&(i=t.crWColsRow.cells[e].style.width,n=t.gridColElms[e],n.style.width=i,r=t.crWColsRow.cells[e].clientWidth,a=t.crWRowDataTbl.cells[e].clientWidth,r!=a&&(t.headTbl.style.width=s.clientWidth+"px"),O&&O.call(null,t,e))};e.popupFilters&&(_.style.display="none");s.clientWidth!==this.headTbl.clientWidth&&(s.style.width=this.headTbl.clientWidth+"px");this.initialized=!0}},e.prototype.destroy=function(){var t=this.tf,e=t.tbl,i;this.initialized&&(i=h["default"].remove(e),this.tblMainCont.parentNode.insertBefore(i,this.tblMainCont),h["default"].remove(this.tblMainCont),this.tblMainCont=null,this.headTblCont=null,this.headTbl=null,this.tblCont=null,e.outerHTML=this.sourceTblHtml,this.tf.tbl=h["default"].id(t.id),this.initialized=!1)},e}(l.Feature)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});var s="Not implemented.";e.Feature=function(){function t(e,s){i(this,t);this.tf=e;this.feature=s;this.enabled=e[s];this.config=e.config();this.emitter=e.emitter;this.initialized=!1}return t.prototype.init=function(){throw new Error(s);},t.prototype.reset=function(){this.enable();this.init()},t.prototype.destroy=function(){throw new Error(s);},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.isEnabled=function(){return this.enabled},t}()},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Loader=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f),d=window;e.Loader=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"loader")),a=s.config;return s.loaderTgtId=a.loader_target_id||null,s.loaderDiv=null,s.loaderText=a.loader_text||"Loading...",s.loaderHtml=a.loader_html||null,s.loaderCssClass=a.loader_css_class||"loader",s.loaderCloseDelay=250,s.onShowLoader=u["default"].isFn(a.on_show_loader)?a.on_show_loader:null,s.onHideLoader=u["default"].isFn(a.on_hide_loader)?a.on_hide_loader:null,s.prfxLoader="load_",s}return a(e,t),e.prototype.init=function(){var t=this,n;if(!this.initialized){var e=this.tf,i=this.emitter,s=h["default"].create("div",["id",this.prfxLoader+e.id]);s.className=this.loaderCssClass;n=this.loaderTgtId?h["default"].id(this.loaderTgtId):e.tbl.parentNode;this.loaderTgtId?n.appendChild(s):n.insertBefore(s,e.tbl);this.loaderDiv=s;this.loaderHtml?this.loaderDiv.innerHTML=this.loaderHtml:this.loaderDiv.appendChild(h["default"].text(this.loaderText));this.show("none");i.on(["before-filtering","before-populating-filter","before-page-change","before-clearing-filters","before-page-length-change","before-reset-page","before-reset-page-length","before-loading-extensions","before-loading-themes"],function(){return t.show("")});i.on(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.show("none")});this.initialized=!0}},e.prototype.show=function(t){var e=this,i,s;this.isEnabled()&&(i=function(){e.loaderDiv&&(e.onShowLoader&&"none"!==t&&e.onShowLoader.call(null,e),e.loaderDiv.style.display=t,e.onHideLoader&&"none"===t&&e.onHideLoader.call(null,e))},s="none"===t?this.loaderCloseDelay:1,d.setTimeout(i,s))},e.prototype.destroy=function(){var t=this,e;this.initialized&&(e=this.emitter,h["default"].remove(this.loaderDiv),this.loaderDiv=null,e.off(["before-filtering","before-populating-filter","before-page-change","before-clearing-filters","before-page-length-change","before-reset-page","before-reset-page-length","before-loading-extensions","before-loading-themes"],function(){return t.show("")}),e.off(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.show("none")}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.HighlightKeyword=void 0;var r=i(2),a=s(r),l=i(3),o=s(l),h=i(4),f=s(h);e.HighlightKeyword=function(){function t(e){n(this,t);var i=e.config();this.highlightCssClass=i.highlight_css_class||"keyword";this.tf=e;this.emitter=e.emitter}return t.prototype.init=function(){var t=this;this.emitter.on(["before-filtering","destroy"],function(){return t.unhighlightAll()});this.emitter.on(["highlight-keyword"],function(e,i,s){return t.highlight(i,s,t.highlightCssClass)})},t.prototype.highlight=function(t,e,i){var s,n,r,l,h;if(t.hasChildNodes)for(s=t.childNodes,n=0;n<s.length;n++)this.highlight(s[n],e,i);if(3===t.nodeType&&(r=o["default"].lower(t.nodeValue),l=o["default"].lower(e),-1!==r.indexOf(l)&&(h=t.parentNode,h&&h.className!==i))){var f=t.nodeValue,u=r.indexOf(l),d=a["default"].text(f.substr(0,u)),p=f.substr(u,e.length),c=a["default"].text(f.substr(u+e.length)),g=a["default"].text(p),b=a["default"].create("span");b.className=i;b.appendChild(g);h.insertBefore(d,t);h.insertBefore(b,t);h.insertBefore(c,t);h.removeChild(t)}},t.prototype.unhighlight=function(t,e){for(var i=this.tf.tbl.querySelectorAll("."+e),s=0;s<i.length;s++){var n=i[s],r=a["default"].getText(n),l=o["default"].lower(r),h=o["default"].lower(t);-1!==l.indexOf(h)&&n.parentNode.replaceChild(a["default"].text(r),n)}},t.prototype.unhighlightAll=function(){var t=this;this.tf.highlightKeywords&&this.tf.getFiltersValue().forEach(function(e){f["default"].isArray(e)?e.forEach(function(e){return t.unhighlight(e,t.highlightCssClass)}):t.unhighlight(e,t.highlightCssClass)})},t.prototype.destroy=function(){var t=this;this.emitter.off(["before-filtering","destroy"],function(){return t.unhighlightAll()});this.emitter.off(["highlight-keyword"],function(e,i,s){return t.highlight(i,s,t.highlightCssClass)})},t}()},function(t,e,i){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.PopupFilter=void 0;var l=i(11),o=i(4),h=s(o),f=i(2),u=s(f),d=i(1),p=s(d);e.PopupFilter=function(e){function i(t){n(this,i);var s=r(this,e.call(this,t,"popupFilters")),a=s.config;return t.isExternalFlt=!0,t.externalFltTgtIds=[],s.popUpImgFlt=a.popup_filters_image||t.themesPath+"icn_filter.gif",s.popUpImgFltActive=a.popup_filters_image_active||t.themesPath+"icn_filterActive.gif",s.popUpImgFltHtml=a.popup_filters_image_html||'<img src="'+s.popUpImgFlt+'" alt="Column filter" />',s.popUpDivCssClass=a.popup_div_css_class||"popUpFilter",s.onBeforePopUpOpen=h["default"].isFn(a.on_before_popup_filter_open)?a.on_before_popup_filter_open:null,s.onAfterPopUpOpen=h["default"].isFn(a.on_after_popup_filter_open)?a.on_after_popup_filter_open:null,s.onBeforePopUpClose=h["default"].isFn(a.on_before_popup_filter_close)?a.on_before_popup_filter_close:null,s.onAfterPopUpClose=h["default"].isFn(a.on_after_popup_filter_close)?a.on_after_popup_filter_close:null,s.popUpFltSpans=[],s.popUpFltImgs=[],s.popUpFltElms=s.popUpFltElmCache||[],s.popUpFltAdjustToContainer=!0,s.prfxPopUpSpan="popUpSpan_",s.prfxPopUpDiv="popUpDiv_",s}return a(i,e),i.prototype.onClick=function(e){var i=e||t.event,s=i.target.parentNode,n=parseInt(s.getAttribute("ci"),10);if(this.closeAll(n),this.toggle(n),this.popUpFltAdjustToContainer){var r=this.popUpFltElms[n],a=this.tf.getHeaderElement(n),l=.95*a.clientWidth;r.style.width=parseInt(l,10)+"px"}p["default"].cancel(i);p["default"].stop(i)},i.prototype.init=function(){var t=this,e,i,s,n;if(!this.initialized){for(e=this.tf,e.headersRow<=1&&(e.headersRow=0),i=0;i<e.nbCells;i++)e.getFilterType(i)!==e.fltTypeNone&&(s=u["default"].create("span",["id",this.prfxPopUpSpan+e.id+"_"+i],["ci",i]),s.innerHTML=this.popUpImgFltHtml,n=e.getHeaderElement(i),n.appendChild(s),p["default"].add(s,"click",function(e){t.onClick(e)}),this.popUpFltSpans[i]=s,this.popUpFltImgs[i]=s.firstChild);this.emitter.on(["before-filtering"],function(){return t.buildIcons()});this.emitter.on(["after-filtering"],function(){return t.closeAll()});this.emitter.on(["cell-processed"],function(e,i){return t.buildIcon(i,!0)});this.emitter.on(["filters-row-inserted"],function(){return t.tf.headersRow++});this.emitter.on(["before-filter-init"],function(e,i){return t.build(i)});this.initialized=!0}},i.prototype.reset=function(){this.enable();this.init();this.buildAll()},i.prototype.buildAll=function(){for(var t=0;t<this.popUpFltElmCache.length;t++)this.build(t,this.popUpFltElmCache[t])},i.prototype.build=function(t,e){var i=this.tf,s=e?e:u["default"].create("div",["id",this.prfxPopUpDiv+i.id+"_"+t]),n;s.className=this.popUpDivCssClass;i.externalFltTgtIds.push(s.id);n=i.getHeaderElement(t);n.insertBefore(s,n.firstChild);p["default"].add(s,"click",function(t){return p["default"].stop(t)});this.popUpFltElms[t]=s},i.prototype.toggle=function(t){var e=this.tf,i=this.popUpFltElms[t],s;"none"===i.style.display||""===i.style.display?((this.onBeforePopUpOpen&&this.onBeforePopUpOpen.call(null,this,this.popUpFltElms[t],t),i.style.display="block",e.getFilterType(t)===e.fltTypeInp)&&(s=e.getFilterElement(t),s&&s.focus()),this.onAfterPopUpOpen&&this.onAfterPopUpOpen.call(null,this,this.popUpFltElms[t],t)):(this.onBeforePopUpClose&&this.onBeforePopUpClose.call(null,this,this.popUpFltElms[t],t),i.style.display="none",this.onAfterPopUpClose&&this.onAfterPopUpClose.call(null,this,this.popUpFltElms[t],t))},i.prototype.closeAll=function(t){for(var i,e=0;e<this.popUpFltElms.length;e++)e!==t&&(i=this.popUpFltElms[e],i&&(i.style.display="none"))},i.prototype.buildIcons=function(){for(var t=0;t<this.popUpFltImgs.length;t++)this.buildIcon(t,!1)},i.prototype.buildIcon=function(t,e){this.popUpFltImgs[t]&&(this.popUpFltImgs[t].src=e?this.popUpImgFltActive:this.popUpImgFlt)},i.prototype.destroy=function(){var t=this,e;if(this.initialized){for(this.popUpFltElmCache=[],e=0;e<this.popUpFltElms.length;e++){var i=this.popUpFltElms[e],s=this.popUpFltSpans[e],n=this.popUpFltImgs[e];i&&(u["default"].remove(i),this.popUpFltElmCache[e]=i);i=null;s&&u["default"].remove(s);s=null;n&&u["default"].remove(n);n=null}this.popUpFltElms=[];this.popUpFltSpans=[];this.popUpFltImgs=[];this.emitter.off(["before-filtering"],function(){return t.buildIcons()});this.emitter.off(["after-filtering"],function(){return t.closeAll()});this.emitter.off(["cell-processed"],function(e,i){return t.buildIcon(i,!0)});this.emitter.off(["filters-row-inserted"],function(){return t.tf.headersRow++});this.emitter.off(["before-filter-init"],function(e,i){return t.build(i)});this.initialized=!1}},i}(l.Feature)}).call(e,function(){return this}())},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Dropdown=void 0;var l=i(11),o=i(2),h=s(o),f=i(16),u=s(f),d=i(3),p=s(d),c=i(17),g=s(c),b=i(1),v=s(b),m="Filter options for column {0} cannot be sorted in {1} manner.";e.Dropdown=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"dropdown")),a=i.config();return s.enableSlcResetFilter=a.enable_slc_reset_filter!==!1,s.nonEmptyText=a.non_empty_text||"(Non empty)",s.activateSlcTooltip=a.activate_slc_tooltip||"Click to activate",s.multipleSlcTooltip=a.multiple_slc_tooltip||"Use Ctrl key for multiple selections",s.isCustom=null,s.opts=null,s.optsTxt=null,s.slcInnerHtml=null,s}return a(e,t),e.prototype.onSlcFocus=function(t){var e=v["default"].target(t),i=this.tf,s;(i.activeFilterId=e.getAttribute("id"),i.activeFlt=h["default"].id(i.activeFilterId),i.loadFltOnDemand&&"0"===e.getAttribute("filled"))&&(s=e.getAttribute("ct"),this.build(s));this.emitter.emit("filter-focus",i,this)},e.prototype.onSlcChange=function(){this.tf.onSlcChange&&this.tf.filter()},e.prototype.init=function(t,e,i){var s=this,n=this.tf,r=n.getFilterType(t),a=e?n.externalFltTgtIds[t]:null,l=h["default"].create(n.fltTypeSlc,["id",n.prfxFlt+t+"_"+n.id],["ct",t],["filled","0"]),o;(r===n.fltTypeMulti&&(l.multiple=n.fltTypeMulti,l.title=this.multipleSlcTooltip),l.className=p["default"].lower(r)===n.fltTypeSlc?n.fltCssClass:n.fltMultiCssClass,a?(h["default"].id(a).appendChild(l),n.externalFltEls.push(l)):i.appendChild(l),n.fltIds.push(l.id),n.loadFltOnDemand)?(o=h["default"].createOpt(n.displayAllText,""),l.appendChild(o)):this.build(t);v["default"].add(l,"change",function(){return s.onSlcChange()});v["default"].add(l,"focus",function(t){return s.onSlcFocus(t)});this.emitter.on(["build-select-filter"],function(t,e,i,n){return s.build(e,i,n)});this.emitter.on(["select-options"],function(t,e,i){return s.selectOptions(e,i)});this.initialized=!0},e.prototype.build=function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.tf,l,o,f,d,c,b,v,y,_,C,w;t=parseInt(t,10);this.emitter.emit("before-populating-filter",i,t);this.opts=[];this.optsTxt=[];this.slcInnerHtml="";var s=i.fltIds[t],n=h["default"].id(s),r=i.tbl.rows,a=i.matchCase;for(this.isCustom=i.isCustomOptions(t),l=void 0,e&&i.activeFilterId&&(l=i.activeFilterId.split("_")[0],l=l.split(i.prfxFlt)[1]),o=null,f=null,e&&i.disableExcludedOptions&&(o=[],f=[]),d=i.refRow;d<i.nbRows;d++)if((!i.hasVisibleRows||-1===i.visibleRows.indexOf(d))&&(c=r[d].cells,b=c.length,b===i.nbCells&&!this.isCustom))for(v=0;b>v;v++)(t===v&&(!e||e&&i.disableExcludedOptions)||t===v&&e&&(""===r[d].style.display&&!i.paging||i.paging&&(!i.validRowsIndex||i.validRowsIndex&&-1!=i.validRowsIndex.indexOf(d))&&(void 0===l||l===t||l!=t&&-1!=i.validRowsIndex.indexOf(d))))&&(y=i.getCellData(c[v]),_=p["default"].matchCase(y,a),(u["default"].has(this.opts,_,a)||this.opts.push(y),e&&i.disableExcludedOptions)&&(C=f[v],C||(C=i.getFilteredDataCol(v)),u["default"].has(C,_,a)||u["default"].has(o,_,a)||o.push(y)));if(this.isCustom&&(w=i.getCustomOptions(t),this.opts=w[0],this.optsTxt=w[1]),i.sortSlc&&!this.isCustom&&(a?(this.opts.sort(),o&&o.sort()):(this.opts.sort(g["default"].ignoreCase),o&&o.sort(g["default"].ignoreCase))),-1!=i.sortNumAsc.indexOf(t))try{this.opts.sort(g["default"].numSortAsc);o&&o.sort(g["default"].numSortAsc);this.isCustom&&this.optsTxt.sort(g["default"].numSortAsc)}catch(x){throw new Error(m.replace("{0}",t).replace("{1}","ascending"));}if(-1!=i.sortNumDesc.indexOf(t))try{this.opts.sort(g["default"].numSortDesc);o&&o.sort(g["default"].numSortDesc);this.isCustom&&this.optsTxt.sort(g["default"].numSortDesc)}catch(x){throw new Error(m.replace("{0}",t).replace("{1}","ascending"));}this.addOptions(t,n,e,o);this.emitter.emit("after-populating-filter",i,t,n)},e.prototype.addOptions=function(t,e,i,s){var n=this.tf,r=e.value,a,d;for(e.innerHTML="",e=this.addFirstOption(e),a=0;a<this.opts.length;a++)if(""!==this.opts[a]){var l=this.opts[a],o=this.isCustom?this.optsTxt[a]:l,f=!1;i&&n.disableExcludedOptions&&u["default"].has(s,p["default"].matchCase(l,n.matchCase),n.matchCase)&&(f=!0);d=void 0;d=n.loadFltOnDemand&&r===this.opts[a]&&n.getFilterType(t)===n.fltTypeSlc?h["default"].createOpt(o,l,!0):h["default"].createOpt(o,l,!1);f&&(d.disabled=!0);e.appendChild(d)}e.setAttribute("filled","1")},e.prototype.addFirstOption=function(t){var e=this.tf,i=h["default"].createOpt(this.enableSlcResetFilter?e.displayAllText:"",""),s,n;return(this.enableSlcResetFilter||(i.style.display="none"),t.appendChild(i),e.enableEmptyOption)&&(s=h["default"].createOpt(e.emptyText,e.emOperator),t.appendChild(s)),e.enableNonEmptyOption&&(n=h["default"].createOpt(e.nonEmptyText,e.nmOperator),t.appendChild(n)),t},e.prototype.selectOptions=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=this.tf,s;i.getFilterType(t)===i.fltTypeMulti&&0!==e.length&&(s=i.getFilterElement(t),[].forEach.call(s.options,function(t){""!==e[0]&&""!==t.value||(t.selected=!1);""!==t.value&&u["default"].has(e,t.value,!0)&&(t.selected=!0)}))},e.prototype.destroy=function(){var t=this;this.emitter.off(["build-select-filter"],function(e,i,s){return t.build(e,i,s)});this.emitter.off(["select-options"],function(e,i,s){return t.selectOptions(i,s)})},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=s(n);e["default"]={has:function(t,e,i){for(var s=void 0===i?!1:i,n=0;n<t.length;n++)if(r["default"].matchCase(t[n].toString(),s)==e)return!0;return!1}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=s(n);e["default"]={ignoreCase:function(t,e){var i=r["default"].lower(t),s=r["default"].lower(e);return s>i?-1:i>s?1:0},numSortAsc:function(t,e){return t-e},numSortDesc:function(t,e){return e-t}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.CheckList=void 0;var l=i(11),o=i(2),h=s(o),f=i(16),u=s(f),d=i(3),p=s(d),c=i(17),g=s(c),b=i(1),v=s(b),m="Filter options for column {0} cannot be sorted in {1} manner.";e.CheckList=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"checkList")),a=i.config();return s.checkListDiv=[],s.checkListDivCssClass=a.div_checklist_css_class||"div_checklist",s.checkListCssClass=a.checklist_css_class||"flt_checklist",s.checkListItemCssClass=a.checklist_item_css_class||"flt_checklist_item",s.checkListSlcItemCssClass=a.checklist_selected_item_css_class||"flt_checklist_slc_item",s.activateCheckListTxt=a.activate_checklist_text||"Click to load filter data",s.checkListItemDisabledCssClass=a.checklist_item_disabled_css_class||"flt_checklist_item_disabled",s.enableCheckListResetFilter=a.enable_checklist_reset_filter!==!1,s.prfxCheckListDiv="chkdiv_",s.isCustom=null,s.opts=null,s.optsTxt=null,s.excludedOpts=null,s}return a(e,t),e.prototype.onChange=function(t){var e=t.target,i=this.tf;i.activeFilterId=e.getAttribute("id");i.activeFlt=h["default"].id(i.activeFilterId);i.filter()},e.prototype.optionClick=function(t){this.setCheckListValues(t.target);this.onChange(t)},e.prototype.onCheckListClick=function(t){var e=this,i=v["default"].target(t),s,n;this.tf.loadFltOnDemand&&"0"===i.getAttribute("filled")&&(s=i.getAttribute("ct"),n=this.checkListDiv[s],this.build(s),v["default"].remove(n,"click",function(t){return e.onCheckListClick(t)}))},e.prototype.init=function(t,e,i){var s=this,n=this.tf,r=e?n.externalFltTgtIds[t]:null,a=h["default"].create("div",["id",this.prfxCheckListDiv+t+"_"+n.id],["ct",t],["filled","0"]);a.className=this.checkListDivCssClass;r?(h["default"].id(r).appendChild(a),n.externalFltEls.push(a)):i.appendChild(a);this.checkListDiv[t]=a;n.fltIds.push(n.prfxFlt+t+"_"+n.id);n.loadFltOnDemand?(v["default"].add(a,"click",function(t){return s.onCheckListClick(t)}),a.appendChild(h["default"].text(this.activateCheckListTxt))):this.build(t);this.emitter.on(["build-checklist-filter"],function(t,e,i){return s.build(e,i)});this.emitter.on(["select-checklist-options"],function(t,e,i){return s.selectOptions(e,i)});this.initialized=!0},e.prototype.build=function(t){var e=this,i=this.tf,s,n,r,a,l,o,f,d,c,b,y,_,C;for(t=parseInt(t,10),this.emitter.emit("before-populating-filter",i,t),this.opts=[],this.optsTxt=[],s=this.checkListDiv[t],n=h["default"].create("ul",["id",i.fltIds[t]],["colIndex",t]),n.className=this.checkListCssClass,v["default"].add(n,"change",function(t){return e.onChange(t)}),r=i.tbl.rows,this.isCustom=i.isCustomOptions(t),a=void 0,i.linkedFilters&&i.activeFilterId&&(a=i.activeFilterId.split("_")[0],a=a.split(i.prfxFlt)[1]),l=[],i.linkedFilters&&i.disableExcludedOptions&&(this.excludedOpts=[]),s.innerHTML="",o=i.refRow;o<i.nbRows;o++)if((!i.hasVisibleRows||-1===i.visibleRows.indexOf(o))&&(f=r[o].cells,d=f.length,d===i.nbCells&&!this.isCustom))for(c=0;d>c;c++)(t===c&&(!i.linkedFilters||i.linkedFilters&&i.disableExcludedOptions)||t===c&&i.linkedFilters&&(""===r[o].style.display&&!i.paging||i.paging&&(!a||a===t||a!=t&&-1!=i.validRowsIndex.indexOf(o))))&&(b=i.getCellData(f[c]),y=p["default"].matchCase(b,i.matchCase),u["default"].has(this.opts,y,i.matchCase)||this.opts.push(b),_=l[c],i.linkedFilters&&i.disableExcludedOptions&&(_||(_=i.getFilteredDataCol(c)),u["default"].has(_,y,i.matchCase)||u["default"].has(this.excludedOpts,y,i.matchCase)||this.excludedOpts.push(b)));if(this.isCustom&&(C=i.getCustomOptions(t),this.opts=C[0],this.optsTxt=C[1]),i.sortSlc&&!this.isCustom&&(i.matchCase?(this.opts.sort(),this.excludedOpts&&this.excludedOpts.sort()):(this.opts.sort(g["default"].ignoreCase),this.excludedOpts&&this.excludedOpts.sort(g["default"].ignoreCase))),-1!=i.sortNumAsc.indexOf(t))try{this.opts.sort(g["default"].numSortAsc);this.excludedOpts&&this.excludedOpts.sort(g["default"].numSortAsc);this.isCustom&&this.optsTxt.sort(g["default"].numSortAsc)}catch(w){throw new Error(m.replace("{0}",t).replace("{1}","ascending"));}if(-1!=i.sortNumDesc.indexOf(t))try{this.opts.sort(g["default"].numSortDesc);this.excludedOpts&&this.excludedOpts.sort(g["default"].numSortDesc);this.isCustom&&this.optsTxt.sort(g["default"].numSortDesc)}catch(w){throw new Error(m.replace("{0}",t).replace("{1}","descending"));}this.addChecks(t,n);i.loadFltOnDemand&&(s.innerHTML="");s.appendChild(n);s.setAttribute("filled","1");this.emitter.emit("after-populating-filter",i,t,s)},e.prototype.addChecks=function(t,e){for(var i=this,s=this.tf,n=this.addTChecks(t,e),r=0;r<this.opts.length;r++){var a=this.opts[r],l=this.isCustom?this.optsTxt[r]:a,o=h["default"].createCheckItem(s.fltIds[t]+"_"+(r+n),a,l);o.className=this.checkListItemCssClass;s.linkedFilters&&s.disableExcludedOptions&&u["default"].has(this.excludedOpts,p["default"].matchCase(a,s.matchCase),s.matchCase)?(h["default"].addClass(o,this.checkListItemDisabledCssClass),o.check.disabled=!0,o.disabled=!0):v["default"].add(o.check,"click",function(t){return i.optionClick(t)});e.appendChild(o);""===a&&(o.style.display="none")}},e.prototype.addTChecks=function(t,e){var i=this,s=this.tf,n=1,r=h["default"].createCheckItem(s.fltIds[t]+"_0","",s.displayAllText),a,l;return(r.className=this.checkListItemCssClass,e.appendChild(r),v["default"].add(r.check,"click",function(t){return i.optionClick(t)}),this.enableCheckListResetFilter||(r.style.display="none"),s.enableEmptyOption)&&(a=h["default"].createCheckItem(s.fltIds[t]+"_1",s.emOperator,s.emptyText),a.className=this.checkListItemCssClass,e.appendChild(a),v["default"].add(a.check,"click",function(t){return i.optionClick(t)}),n++),s.enableNonEmptyOption&&(l=h["default"].createCheckItem(s.fltIds[t]+"_2",s.nmOperator,s.nonEmptyText),l.className=this.checkListItemCssClass,e.appendChild(l),v["default"].add(l.check,"click",function(t){return i.optionClick(t)}),n++),n},e.prototype.setCheckListValues=function(t){var d,c,g,b,v;if(t){var e=this.tf,i=t.value,s=parseInt(t.id.split("_")[2],10),n=t.id.split("_")[0].replace(e.prfxFlt,""),r="LI",a=e.getFilterElement(parseInt(n,10)),l=a.childNodes[s],o=a.getAttribute("colIndex"),f=a.getAttribute("value"),u=a.getAttribute("indexes");if(t.checked){if(""===i){if(u&&""!==u)for(d=u.split(e.separator),c=0;c<d.length;c++)g=h["default"].id(e.fltIds[o]+"_"+d[c]),g&&(g.checked=!1,h["default"].removeClass(a.childNodes[d[c]],this.checkListSlcItemCssClass));a.setAttribute("value","");a.setAttribute("indexes","")}else f=f?f:"",i=p["default"].trim(f+" "+i+" "+e.orOperator),s=u+s+e.separator,a.setAttribute("value",i),a.setAttribute("indexes",s),h["default"].id(e.fltIds[o]+"_0")&&(h["default"].id(e.fltIds[o]+"_0").checked=!1);l.nodeName===r&&(h["default"].removeClass(a.childNodes[0],this.checkListSlcItemCssClass),h["default"].addClass(l,this.checkListSlcItemCssClass))}else""!==i&&(b=new RegExp(p["default"].rgxEsc(i+" "+e.orOperator)),f=f.replace(b,""),a.setAttribute("value",p["default"].trim(f)),v=new RegExp(p["default"].rgxEsc(s+e.separator)),u=u.replace(v,""),a.setAttribute("indexes",u)),l.nodeName===r&&h["default"].removeClass(l,this.checkListSlcItemCssClass)}},e.prototype.selectOptions=function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=this.tf,s,n,r;if(i.getFilterType(t)===i.fltTypeCheckList&&0!==e.length)for(s=i.getFilterElement(t),n=h["default"].tag(s,"li").length,s.setAttribute("value",""),s.setAttribute("indexes",""),r=0;n>r;r++){var a=h["default"].tag(s,"li")[r],l=h["default"].tag(a,"label")[0],o=h["default"].tag(a,"input")[0],f=p["default"].matchCase(h["default"].getText(l),i.caseSensitive);""!==f&&u["default"].has(e,f,i.caseSensitive)?(o.checked=!0,this.setCheckListValues(o)):(o.checked=!1,this.setCheckListValues(o))}},e.prototype.destroy=function(){var t=this;this.emitter.off(["build-checklist-filter"],function(e,i,s){return t.build(i,s)});this.emitter.off(["select-checklist-options"],function(e,i,s){return t.selectOptions(i,s)})},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.RowsCounter=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f);e.RowsCounter=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"rowsCounter")),a=s.config;return s.rowsCounterTgtId=a.rows_counter_target_id||null,s.rowsCounterDiv=null,s.rowsCounterSpan=null,s.rowsCounterText=a.rows_counter_text||"Rows: ",s.fromToTextSeparator=a.from_to_text_separator||"-",s.overText=a.over_text||" / ",s.totRowsCssClass=a.tot_rows_css_class||"tot",s.prfxCounter="counter_",s.prfxTotRows="totrows_span_",s.prfxTotRowsTxt="totRowsTextSpan_",s.onBeforeRefreshCounter=u["default"].isFn(a.on_before_refresh_counter)?a.on_before_refresh_counter:null,s.onAfterRefreshCounter=u["default"].isFn(a.on_after_refresh_counter)?a.on_after_refresh_counter:null,s}return a(e,t),e.prototype.init=function(){var t=this,e,i,s,n,r;this.initialized||(e=this.tf,i=h["default"].create("div",["id",this.prfxCounter+e.id]),i.className=this.totRowsCssClass,s=h["default"].create("span",["id",this.prfxTotRows+e.id]),n=h["default"].create("span",["id",this.prfxTotRowsTxt+e.id]),n.appendChild(h["default"].text(this.rowsCounterText)),this.rowsCounterTgtId||e.setToolbar(),r=this.rowsCounterTgtId?h["default"].id(this.rowsCounterTgtId):e.lDiv,this.rowsCounterTgtId?(r.appendChild(n),r.appendChild(s)):(i.appendChild(n),i.appendChild(s),r.appendChild(i)),this.rowsCounterDiv=i,this.rowsCounterSpan=s,this.emitter.on(["after-filtering","grouped-by-page"],function(){return t.refresh(e.nbVisibleRows)}),this.emitter.on(["rows-changed"],function(){return t.refresh()}),this.initialized=!0,this.refresh())},e.prototype.refresh=function(t){var e,i,s,n,r;this.initialized&&this.isEnabled()&&(e=this.tf,this.onBeforeRefreshCounter&&this.onBeforeRefreshCounter.call(null,e,this.rowsCounterSpan),e.paging?(s=e.feature("paging"),s&&(n=parseInt(s.startPagingRow,10)+(e.nbVisibleRows>0?1:0),r=n+s.pagingLength-1<=e.nbVisibleRows?n+s.pagingLength-1:e.nbVisibleRows,i=n+this.fromToTextSeparator+r+this.overText+e.nbVisibleRows)):i=t&&""!==t?t:e.nbFilterableRows-e.nbHiddenRows,this.rowsCounterSpan.innerHTML=i,this.onAfterRefreshCounter&&this.onAfterRefreshCounter.call(null,e,this.rowsCounterSpan,i))},e.prototype.destroy=function(){var t=this;this.initialized&&(!this.rowsCounterTgtId&&this.rowsCounterDiv?h["default"].remove(this.rowsCounterDiv):h["default"].id(this.rowsCounterTgtId).innerHTML="",this.rowsCounterSpan=null,this.rowsCounterDiv=null,this.emitter.off(["after-filtering","grouped-by-page"],function(){return t.refresh(tf.nbVisibleRows)}),this.emitter.off(["rows-changed"],function(){return t.refresh()}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.StatusBar=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f),d=window;e.StatusBar=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"statusBar")),a=s.config;return s.statusBarTgtId=a.status_bar_target_id||null,s.statusBarDiv=null,s.statusBarSpan=null,s.statusBarSpanText=null,s.statusBarText=a.status_bar_text||"",s.statusBarCssClass=a.status_bar_css_class||"status",s.statusBarCloseDelay=250,s.onBeforeShowMsg=u["default"].isFn(a.on_before_show_msg)?a.on_before_show_msg:null,s.onAfterShowMsg=u["default"].isFn(a.on_after_show_msg)?a.on_after_show_msg:null,s.msgFilter=a.msg_filter||"Filtering data...",s.msgPopulate=a.msg_populate||"Populating filter...",s.msgPopulateCheckList=a.msg_populate_checklist||"Populating list...",s.msgChangePage=a.msg_change_page||"Collecting paging data...",s.msgClear=a.msg_clear||"Clearing filters...",s.msgChangeResults=a.msg_change_results||"Changing results per page...",s.msgResetPage=a.msg_reset_page||"Re-setting page...",s.msgResetPageLength=a.msg_reset_page_length||"Re-setting page length...",s.msgSort=a.msg_sort||"Sorting data...",s.msgLoadExtensions=a.msg_load_extensions||"Loading extensions...",s.msgLoadThemes=a.msg_load_themes||"Loading theme(s)...",s.prfxStatus="status_",s.prfxStatusSpan="statusSpan_",s.prfxStatusTxt="statusText_",s}return a(e,t),e.prototype.init=function(){var t=this,n,r,a;if(!this.initialized){var e=this.tf,i=this.emitter,s=h["default"].create("div",["id",this.prfxStatus+e.id]);s.className=this.statusBarCssClass;n=h["default"].create("span",["id",this.prfxStatusSpan+e.id]);r=h["default"].create("span",["id",this.prfxStatusTxt+e.id]);r.appendChild(h["default"].text(this.statusBarText));this.statusBarTgtId||e.setToolbar();a=this.statusBarTgtId?h["default"].id(this.statusBarTgtId):e.lDiv;this.statusBarTgtId?(a.appendChild(r),a.appendChild(n)):(s.appendChild(r),s.appendChild(n),a.appendChild(s));this.statusBarDiv=s;this.statusBarSpan=n;this.statusBarSpanText=r;i.on(["before-filtering"],function(){return t.message(t.msgFilter)});i.on(["before-populating-filter"],function(){return t.message(t.msgPopulate)});i.on(["before-page-change"],function(){return t.message(t.msgChangePage)});i.on(["before-clearing-filters"],function(){return t.message(t.msgClear)});i.on(["before-page-length-change"],function(){return t.message(t.msgChangeResults)});i.on(["before-reset-page"],function(){return t.message(t.msgResetPage)});i.on(["before-reset-page-length"],function(){return t.message(t.msgResetPageLength)});i.on(["before-loading-extensions"],function(){return t.message(t.msgLoadExtensions)});i.on(["before-loading-themes"],function(){return t.message(t.msgLoadThemes)});i.on(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.message("")});this.initialized=!0}},e.prototype.message=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i;this.isEnabled()&&(this.onBeforeShowMsg&&this.onBeforeShowMsg.call(null,this.tf,e),i=""===e?this.statusBarCloseDelay:1,d.setTimeout(function(){t.initialized&&(t.statusBarSpan.innerHTML=e,t.onAfterShowMsg&&t.onAfterShowMsg.call(null,t.tf,e))},i))},e.prototype.destroy=function(){var t=this,e;this.initialized&&(e=this.emitter,this.statusBarDiv.innerHTML="",this.statusBarTgtId||h["default"].remove(this.statusBarDiv),this.statusBarSpan=null,this.statusBarSpanText=null,this.statusBarDiv=null,e.off(["before-filtering"],function(){return t.message(t.msgFilter)}),e.off(["before-populating-filter"],function(){return t.message(t.msgPopulate)}),e.off(["before-page-change"],function(){return t.message(t.msgChangePage)}),e.off(["before-clearing-filters"],function(){return t.message(t.msgClear)}),e.off(["before-page-length-change"],function(){return t.message(t.msgChangeResults)}),e.off(["before-reset-page"],function(){return t.message(t.msgResetPage)}),e.off(["before-reset-page-length"],function(){return t.message(t.msgResetPageLength)}),e.off(["before-loading-extensions"],function(){return t.message(t.msgLoadExtensions)}),e.off(["before-loading-themes"],function(){return t.message(t.msgLoadThemes)}),e.off(["after-filtering","after-populating-filter","after-page-change","after-clearing-filters","after-page-length-change","after-reset-page","after-reset-page-length","after-loading-extensions","after-loading-themes"],function(){return t.message("")}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Paging=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=i(11),h=i(2),f=s(h),u=i(4),d=s(u),p=i(3),c=s(p),g=i(1),b=s(g);e.Paging=function(t){function e(i){var s,a,l,o,h;return n(this,e),s=r(this,t.call(this,i,"paging")),a=s.config,s.btnPageCssClass=a.paging_btn_css_class||"pgInp",s.pagingSlc=null,s.resultsPerPageSlc=null,s.pagingTgtId=a.paging_target_id||null,s.pagingLength=isNaN(a.paging_length)?10:a.paging_length,s.resultsPerPageTgtId=a.results_per_page_target_id||null,s.pgSlcCssClass=a.paging_slc_css_class||"pgSlc",s.pgInpCssClass=a.paging_inp_css_class||"pgNbInp",s.resultsPerPage=a.results_per_page||null,s.hasResultsPerPage=d["default"].isArray(s.resultsPerPage),s.resultsSlcCssClass=a.results_slc_css_class||"rspg",s.resultsSpanCssClass=a.results_span_css_class||"rspgSpan",s.startPagingRow=0,s.nbPages=0,s.currentPageNb=1,s.btnNextPageText=a.btn_next_page_text||">",s.btnPrevPageText=a.btn_prev_page_text||"<",s.btnLastPageText=a.btn_last_page_text||">|",s.btnFirstPageText=a.btn_first_page_text||"|<",s.btnNextPageHtml=a.btn_next_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' nextPage" title="Next page" />':null),s.btnPrevPageHtml=a.btn_prev_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' previousPage" title="Previous page" />':null),s.btnFirstPageHtml=a.btn_first_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' firstPage" title="First page" />':null),s.btnLastPageHtml=a.btn_last_page_html||(i.enableIcons?'<input type="button" value="" class="'+s.btnPageCssClass+' lastPage" title="Last page" />':null),s.pageText=a.page_text||" Page ",s.ofText=a.of_text||" of ",s.nbPgSpanCssClass=a.nb_pages_css_class||"nbpg",s.hasPagingBtns=a.paging_btns!==!1,s.pageSelectorType=a.page_selector_type||i.fltTypeSlc,s.onBeforeChangePage=d["default"].isFn(a.on_before_change_page)?a.on_before_change_page:null,s.onAfterChangePage=d["default"].isFn(a.on_after_change_page)?a.on_after_change_page:null,s.prfxSlcPages="slcPages_",s.prfxSlcResults="slcResults_",s.prfxSlcResultsTxt="slcResultsTxt_",s.prfxBtnNextSpan="btnNextSpan_",s.prfxBtnPrevSpan="btnPrevSpan_",s.prfxBtnLastSpan="btnLastSpan_",s.prfxBtnFirstSpan="btnFirstSpan_",s.prfxBtnNext="btnNext_",s.prfxBtnPrev="btnPrev_",s.prfxBtnLast="btnLast_",s.prfxBtnFirst="btnFirst_",s.prfxPgSpan="pgspan_",s.prfxPgBeforeSpan="pgbeforespan_",s.prfxPgAfterSpan="pgafterspan_",l=i.refRow,o=i.nbRows,s.nbPages=Math.ceil((o-l)/s.pagingLength),h=s,s.evt={slcIndex:function(){return h.pageSelectorType===i.fltTypeSlc?h.pagingSlc.options.selectedIndex:parseInt(h.pagingSlc.value,10)-1},nbOpts:function(){return h.pageSelectorType===i.fltTypeSlc?parseInt(h.pagingSlc.options.length,10)-1:h.nbPages-1},next:function(){var t=h.evt.slcIndex()<h.evt.nbOpts()?h.evt.slcIndex()+1:0;h.changePage(t)},prev:function(){var t=h.evt.slcIndex()>0?h.evt.slcIndex()-1:h.evt.nbOpts();h.changePage(t)},last:function(){h.changePage(h.evt.nbOpts())},first:function(){h.changePage(0)},_detectKey:function(t){var e=b["default"].keyCode(t);13===e&&(i.sorted?(i.filter(),h.changePage(h.evt.slcIndex())):h.changePage(),this.blur())},slcPagesChange:null,nextEvt:null,prevEvt:null,lastEvt:null,firstEvt:null},s}return a(e,t),e.prototype.init=function(){var t,e=this,i=this.tf,s=this.evt,o,h,u,d,p,c,g,v;if(!this.initialized){this.hasResultsPerPage&&(this.resultsPerPage.length<2?this.hasResultsPerPage=!1:(this.pagingLength=this.resultsPerPage[1][0],this.setResultsPerPage()));s.slcPagesChange=function(t){var i=t.target;e.changePage(i.selectedIndex)};this.pageSelectorType===i.fltTypeSlc&&(t=f["default"].create(i.fltTypeSlc,["id",this.prfxSlcPages+i.id]),t.className=this.pgSlcCssClass,b["default"].add(t,"change",s.slcPagesChange));this.pageSelectorType===i.fltTypeInp&&(t=f["default"].create(i.fltTypeInp,["id",this.prfxSlcPages+i.id],["value",this.currentPageNb]),t.className=this.pgInpCssClass,b["default"].add(t,"keypress",s._detectKey));var n=f["default"].create("span",["id",this.prfxBtnNextSpan+i.id]),r=f["default"].create("span",["id",this.prfxBtnPrevSpan+i.id]),a=f["default"].create("span",["id",this.prfxBtnLastSpan+i.id]),l=f["default"].create("span",["id",this.prfxBtnFirstSpan+i.id]);this.hasPagingBtns&&(this.btnNextPageHtml?(n.innerHTML=this.btnNextPageHtml,b["default"].add(n,"click",s.next)):(o=f["default"].create(i.fltTypeInp,["id",this.prfxBtnNext+i.id],["type","button"],["value",this.btnNextPageText],["title","Next"]),o.className=this.btnPageCssClass,b["default"].add(o,"click",s.next),n.appendChild(o)),this.btnPrevPageHtml?(r.innerHTML=this.btnPrevPageHtml,b["default"].add(r,"click",s.prev)):(h=f["default"].create(i.fltTypeInp,["id",this.prfxBtnPrev+i.id],["type","button"],["value",this.btnPrevPageText],["title","Previous"]),h.className=this.btnPageCssClass,b["default"].add(h,"click",s.prev),r.appendChild(h)),this.btnLastPageHtml?(a.innerHTML=this.btnLastPageHtml,b["default"].add(a,"click",s.last)):(u=f["default"].create(i.fltTypeInp,["id",this.prfxBtnLast+i.id],["type","button"],["value",this.btnLastPageText],["title","Last"]),u.className=this.btnPageCssClass,b["default"].add(u,"click",s.last),a.appendChild(u)),this.btnFirstPageHtml?(l.innerHTML=this.btnFirstPageHtml,b["default"].add(l,"click",s.first)):(d=f["default"].create(i.fltTypeInp,["id",this.prfxBtnFirst+i.id],["type","button"],["value",this.btnFirstPageText],["title","First"]),d.className=this.btnPageCssClass,b["default"].add(d,"click",s.first),l.appendChild(d)));this.pagingTgtId||i.setToolbar();p=this.pagingTgtId?f["default"].id(this.pagingTgtId):i.mDiv;p.appendChild(l);p.appendChild(r);c=f["default"].create("span",["id",this.prfxPgBeforeSpan+i.id]);c.appendChild(f["default"].text(this.pageText));c.className=this.nbPgSpanCssClass;p.appendChild(c);p.appendChild(t);g=f["default"].create("span",["id",this.prfxPgAfterSpan+i.id]);g.appendChild(f["default"].text(this.ofText));g.className=this.nbPgSpanCssClass;p.appendChild(g);v=f["default"].create("span",["id",this.prfxPgSpan+i.id]);v.className=this.nbPgSpanCssClass;v.appendChild(f["default"].text(" "+this.nbPages+" "));p.appendChild(v);p.appendChild(n);p.appendChild(a);this.pagingSlc=f["default"].id(this.prfxSlcPages+i.id);i.rememberGridValues||this.setPagingInfo();i.fltGrid||(i.validateAllRows(),this.setPagingInfo(i.validRowsIndex));this.emitter.on(["after-filtering"],function(){return e.resetPagingInfo()});this.emitter.on(["initialized"],function(){return e.resetValues()});this.emitter.on(["change-page"],function(t,i){return e.setPage(i)});this.emitter.on(["change-page-results"],function(t,i){return e.changeResultsPerPage(i)});this.initialized=!0}},e.prototype.reset=function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=this.tf;this.isEnabled()||(this.enable(),this.init(),t&&e.filter())},e.prototype.resetPagingInfo=function(){this.startPagingRow=0;this.currentPageNb=1;this.setPagingInfo(this.tf.validRowsIndex)},e.prototype.setPagingInfo=function(t){var e=this.tf,i=this.pagingTgtId?f["default"].id(this.pagingTgtId):e.mDiv,s=f["default"].id(this.prfxPgSpan+e.id),n,r;if(e.validRowsIndex=t||e.getValidRows(!0),this.nbPages=Math.ceil(e.validRowsIndex.length/this.pagingLength),s.innerHTML=this.nbPages,this.pageSelectorType===e.fltTypeSlc&&(this.pagingSlc.innerHTML=""),this.nbPages>0)if(i.style.visibility="visible",this.pageSelectorType===e.fltTypeSlc)for(n=0;n<this.nbPages;n++)r=f["default"].createOpt(n+1,n*this.pagingLength,!1),this.pagingSlc.options[n]=r;else this.pagingSlc.value=this.currentPageNb;else i.style.visibility="hidden";this.groupByPage(e.validRowsIndex)},e.prototype.groupByPage=function(t){var e=this.tf,i=e.tbl.rows,s=parseInt(this.startPagingRow,10),n=s+parseInt(this.pagingLength,10),r,a;for(t&&(e.validRowsIndex=t),r=0,a=e.validRowsIndex.length;a>r;r++){var l=e.validRowsIndex[r],o=i[l],h=o.getAttribute("validRow"),f=!1;r>=s&&n>r?(d["default"].isNull(h)||Boolean("true"===h))&&(o.style.display="",f=!0):o.style.display="none";this.emitter.emit("row-paged",e,l,r,f)}e.nbVisibleRows=e.validRowsIndex.length;this.emitter.emit("grouped-by-page",e,this)},e.prototype.getPage=function(){return this.currentPageNb},e.prototype.setPage=function(t){var e=this.tf,i,s;if(e.hasGrid()&&this.isEnabled())if(i=this.evt,s="undefined"==typeof t?"undefined":l(t),"string"===s)switch(c["default"].lower(t)){case"next":i.next();break;case"previous":i.prev();break;case"last":i.last();break;case"first":i.first();break;default:i.next()}else"number"===s&&this.changePage(t-1)},e.prototype.setResultsPerPage=function(){var t=this,e=this.tf,i=this.evt,s,l,o,h,u;if(!this.resultsPerPageSlc&&this.resultsPerPage){i.slcResultsChange=function(e){t.onChangeResultsPerPage();e.target.blur()};s=f["default"].create(e.fltTypeSlc,["id",this.prfxSlcResults+e.id]);s.className=this.resultsSlcCssClass;var n=this.resultsPerPage[0],r=this.resultsPerPage[1],a=f["default"].create("span",["id",this.prfxSlcResultsTxt+e.id]);for(a.className=this.resultsSpanCssClass,this.resultsPerPageTgtId||e.setToolbar(),l=this.resultsPerPageTgtId?f["default"].id(this.resultsPerPageTgtId):e.rDiv,a.appendChild(f["default"].text(n)),o=e.feature("help"),o&&o.btn?(o.btn.parentNode.insertBefore(a,o.btn),o.btn.parentNode.insertBefore(s,o.btn)):(l.appendChild(a),l.appendChild(s)),h=0;h<r.length;h++)u=new Option(r[h],r[h],!1,!1),s.options[h]=u;b["default"].add(s,"change",i.slcResultsChange);this.resultsPerPageSlc=s}},e.prototype.removeResultsPerPage=function(){var t=this.tf,e,i;t.hasGrid()&&this.resultsPerPageSlc&&this.resultsPerPage&&(e=this.resultsPerPageSlc,i=f["default"].id(this.prfxSlcResultsTxt+t.id),e&&f["default"].remove(e),i&&f["default"].remove(i),this.resultsPerPageSlc=null)},e.prototype.changePage=function(t){var e=this.tf;this.isEnabled()&&(this.emitter.emit("before-page-change",e,t+1),null===t&&(t=this.pageSelectorType===e.fltTypeSlc?this.pagingSlc.options.selectedIndex:this.pagingSlc.value-1),t>=0&&t<=this.nbPages-1&&(this.onBeforeChangePage&&this.onBeforeChangePage.call(null,this,t+1),this.currentPageNb=parseInt(t,10)+1,this.pageSelectorType===e.fltTypeSlc?this.pagingSlc.options[t].selected=!0:this.pagingSlc.value=this.currentPageNb,this.startPagingRow=this.pageSelectorType===e.fltTypeSlc?this.pagingSlc.value:t*this.pagingLength,this.groupByPage(),this.onAfterChangePage&&this.onAfterChangePage.call(null,this,t+1)),this.emitter.emit("after-page-change",e,t+1))},e.prototype.changeResultsPerPage=function(t){this.isEnabled()&&!isNaN(t)&&(this.resultsPerPageSlc.value=t,this.onChangeResultsPerPage())},e.prototype.onChangeResultsPerPage=function(){var t=this.tf,n;if(this.isEnabled()){this.emitter.emit("before-page-length-change",t);var e=this.resultsPerPageSlc,i=e.selectedIndex,s=this.pageSelectorType===t.fltTypeSlc?this.pagingSlc.selectedIndex:parseInt(this.pagingSlc.value-1,10);(this.pagingLength=parseInt(e.options[i].value,10),this.startPagingRow=this.pagingLength*s,isNaN(this.pagingLength)||(this.startPagingRow>=t.nbFilterableRows&&(this.startPagingRow=t.nbFilterableRows-this.pagingLength),this.setPagingInfo(),this.pageSelectorType!==t.fltTypeSlc))||(n=this.pagingSlc.options.length-1<=s?this.pagingSlc.options.length-1:s,this.pagingSlc.options[n].selected=!0);this.emitter.emit("after-page-length-change",t,this.pagingLength)}},e.prototype.resetValues=function(){var t=this.tf;t.rememberPageLen&&this.resetPageLength();t.rememberPageNb&&this.resetPage()},e.prototype.resetPage=function(){var t=this.tf,e;this.isEnabled()&&(this.emitter.emit("before-reset-page",t),e=t.feature("store").getPageNb(),""!==e&&this.changePage(e-1),this.emitter.emit("after-reset-page",t,e))},e.prototype.resetPageLength=function(){var t=this.tf,e;this.isEnabled()&&(this.emitter.emit("before-reset-page-length",t),e=t.feature("store").getPageLength(),""!==e&&(this.resultsPerPageSlc.options[e].selected=!0,this.changeResultsPerPage()),this.emitter.emit("after-reset-page-length",t,e))},e.prototype.destroy=function(){var t=this,e=this.tf;if(this.initialized){var i=f["default"].id(this.prfxBtnNextSpan+e.id),s=f["default"].id(this.prfxBtnPrevSpan+e.id),n=f["default"].id(this.prfxBtnLastSpan+e.id),r=f["default"].id(this.prfxBtnFirstSpan+e.id),a=f["default"].id(this.prfxPgBeforeSpan+e.id),l=f["default"].id(this.prfxPgAfterSpan+e.id),o=f["default"].id(this.prfxPgSpan+e.id),h=this.evt;this.pagingSlc&&(this.pageSelectorType===e.fltTypeSlc?b["default"].remove(this.pagingSlc,"change",h.slcPagesChange):this.pageSelectorType===e.fltTypeInp&&b["default"].remove(this.pagingSlc,"keypress",h._detectKey),f["default"].remove(this.pagingSlc));i&&(b["default"].remove(i,"click",h.next),f["default"].remove(i));s&&(b["default"].remove(s,"click",h.prev),f["default"].remove(s));n&&(b["default"].remove(n,"click",h.last),f["default"].remove(n));r&&(b["default"].remove(r,"click",h.first),f["default"].remove(r));a&&f["default"].remove(a);l&&f["default"].remove(l);o&&f["default"].remove(o);this.hasResultsPerPage&&this.removeResultsPerPage();this.emitter.off(["after-filtering"],function(){return t.resetPagingInfo()});this.emitter.off(["initialized"],function(){return t.resetValues()});this.emitter.off(["change-page"],function(e,i){return t.setPage(i)});this.emitter.off(["change-page-results"],function(e,i){return t.changeResultsPerPage(i)});this.pagingSlc=null;this.nbPages=0;this.disable();this.initialized=!1}},e}(o.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.ClearButton=void 0;var l=i(11),o=i(2),h=s(o),f=i(1),u=s(f);e.ClearButton=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"btnReset")),a=s.config;return s.btnResetTgtId=a.btn_reset_target_id||null,s.btnResetEl=null,s.btnResetText=a.btn_reset_text||"Reset",s.btnResetTooltip=a.btn_reset_tooltip||"Clear filters",s.btnResetHtml=a.btn_reset_html||(i.enableIcons?'<input type="button" value="" class="'+i.btnResetCssClass+'" title="'+s.btnResetTooltip+'" />':null),s.prfxResetSpan="resetspan_",s}return a(e,t),e.prototype.onClick=function(){this.isEnabled()&&this.tf.clearFilters()},e.prototype.init=function(){var t=this,e=this.tf,i,s,n,r;this.initialized||(i=h["default"].create("span",["id",this.prfxResetSpan+e.id]),this.btnResetTgtId||e.setToolbar(),s=this.btnResetTgtId?h["default"].id(this.btnResetTgtId):e.rDiv,(s.appendChild(i),this.btnResetHtml)?(i.innerHTML=this.btnResetHtml,n=i.firstChild,u["default"].add(n,"click",function(){t.onClick()})):(r=h["default"].create("a",["href","javascript:void(0);"]),r.className=e.btnResetCssClass,r.appendChild(h["default"].text(this.btnResetText)),i.appendChild(r),u["default"].add(r,"click",function(){t.onClick()})),this.btnResetEl=i.firstChild,this.initialized=!0)},e.prototype.destroy=function(){var t=this.tf,e;this.initialized&&(e=h["default"].id(this.prfxResetSpan+t.id),e&&h["default"].remove(e),this.btnResetEl=null,this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.Help=void 0;var l=i(11),o=i(2),h=s(o),f=i(1),u=s(f),d="https://github.com/koalyptus/TableFilter/wiki/4.-Filter-operators",p="http://koalyptus.github.io/TableFilter/";e.Help=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"help")),a=s.config;return s.tgtId=a.help_instructions_target_id||null,s.contTgtId=a.help_instructions_container_target_id||null,s.instrText=a.help_instructions_text?a.help_instructions_text:'Use the filters above each column to filter and limit table data. Advanced searches can be performed by using the following operators: <br /><b>&lt;<\/b>, <b>&lt;=<\/b>, <b>&gt;<\/b>, <b>&gt;=<\/b>, <b>=<\/b>, <b>*<\/b>, <b>!<\/b>, <b>{<\/b>, <b>}<\/b>, <b>||<\/b>,<b>&amp;&amp;<\/b>, <b>[empty]<\/b>, <b>[nonempty]<\/b>, <b>rgx:<\/b><br/><a href="'+d+'" target="_blank">Learn more<\/a><hr/>',s.instrHtml=a.help_instructions_html||null,s.btnText=a.help_instructions_btn_text||"?",s.btnHtml=a.help_instructions_btn_html||null,s.btnCssClass=a.help_instructions_btn_css_class||"helpBtn",s.contCssClass=a.help_instructions_container_css_class||"helpCont",s.btn=null,s.cont=null,s.defaultHtml='<div class="helpFooter"><h4>TableFilter v'+i.version+'<\/h4><a href="'+p+'" target="_blank">'+p+"<\/a><br/><span>&copy;2015-"+i.year+' Max Guglielmi<\/span><div align="center" style="margin-top:8px;"><a href="javascript:void(0);" class="close">Close<\/a><\/div><\/div>',s.prfxHelpSpan="helpSpan_",s.prfxHelpDiv="helpDiv_",s.emitter.on(["init-help"],function(){return s.init()}),s}return a(e,t),e.prototype.init=function(){var t=this,n,r,a,l;if(!this.initialized){var e=this.tf,i=h["default"].create("span",["id",this.prfxHelpSpan+e.id]),s=h["default"].create("div",["id",this.prfxHelpDiv+e.id]);this.tgtId||e.setToolbar();n=this.tgtId?h["default"].id(this.tgtId):e.rDiv;n.appendChild(i);r=this.contTgtId?h["default"].id(this.contTgtId):i;this.btnHtml?(i.innerHTML=this.btnHtml,a=i.firstChild,u["default"].add(a,"click",function(){t.toggle()}),r.appendChild(s)):(r.appendChild(s),l=h["default"].create("a",["href","javascript:void(0);"]),l.className=this.btnCssClass,l.appendChild(h["default"].text(this.btnText)),i.appendChild(l),u["default"].add(l,"click",function(){t.toggle()}));this.instrHtml?(this.contTgtId&&r.appendChild(s),s.innerHTML=this.instrHtml,this.contTgtId||(s.className=this.contCssClass,u["default"].add(s,"dblclick",function(){t.toggle()}))):(s.innerHTML=this.instrText,s.className=this.contCssClass,u["default"].add(s,"dblclick",function(){t.toggle()}));s.innerHTML+=this.defaultHtml;u["default"].add(s,"click",function(){t.toggle()});this.cont=s;this.btn=i;this.initialized=!0}},e.prototype.toggle=function(){if(this.enabled!==!1){var t=this.cont.style.display;this.cont.style.display=""===t||"none"===t?"inline":"none"}},e.prototype.destroy=function(){this.initialized&&(h["default"].remove(this.btn),this.btn=null,this.cont&&(h["default"].remove(this.cont),this.cont=null,this.initialized=!1))},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.AlternateRows=void 0;var l=i(11),o=i(2),h=s(o);e.AlternateRows=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"alternateRows")),a=s.config;return s.evenCss=a.even_row_css_class||"even",s.oddCss=a.odd_row_css_class||"odd",s}return a(e,t),e.prototype.init=function(){var t=this;this.initialized||(this.processAll(),this.emitter.on(["row-processed","row-paged"],function(e,i,s,n){return t.processRow(i,s,n)}),this.emitter.on(["column-sorted"],function(){return t.processAll()}),this.initialized=!0)},e.prototype.processAll=function(){var l;if(this.isEnabled())for(var t=this.tf,e=t.getValidRows(!0),i=0===e.length,s=i?t.refRow:0,n=i?t.nbFilterableRows+s:e.length,r=0,a=s;n>a;a++)l=i?a:e[a],this.setRowBg(l,r),r++},e.prototype.processRow=function(t,e,i){i?this.setRowBg(t,e):this.removeRowBg(t)},e.prototype.setRowBg=function(t,e){if(this.isEnabled()&&!isNaN(t)){var i=this.tf.tbl.rows,s=isNaN(e)?t:e;this.removeRowBg(t);h["default"].addClass(i[t],s%2?this.evenCss:this.oddCss)}},e.prototype.removeRowBg=function(t){if(!isNaN(t)){var e=this.tf.tbl.rows;h["default"].removeClass(e[t],this.oddCss);h["default"].removeClass(e[t],this.evenCss)}},e.prototype.destroy=function(){var t=this,e;if(this.initialized){for(e=0;e<this.tf.nbRows;e++)this.removeRowBg(e);this.emitter.off(["row-processed","row-paged"],function(e,i,s,n){return t.processRow(i,s,n)});this.emitter.off(["column-sorted"],function(){return t.processAll()});this.initialized=!1}},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.NoResults=void 0;var l=i(11),o=i(2),h=s(o),f=i(4),u=s(f);e.NoResults=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"noResults")),a=s.config.no_results_message;return s.content=a.content||"No results",s.customContainer=a.custom_container||null,s.customContainerId=a.custom_container_id||null,s.isExternal=!u["default"].isEmpty(s.customContainer)||!u["default"].isEmpty(s.customContainerId),s.cssClass=a.css_class||"no-results",s.cont=null,s.onBeforeShowMsg=u["default"].isFn(a.on_before_show_msg)?a.on_before_show_msg:null,s.onAfterShowMsg=u["default"].isFn(a.on_after_show_msg)?a.on_after_show_msg:null,s.onBeforeHideMsg=u["default"].isFn(a.on_before_hide_msg)?a.on_before_hide_msg:null,s.onAfterHideMsg=u["default"].isFn(a.on_after_hide_msg)?a.on_after_hide_msg:null,s.prfxNoResults="nores_",s}return a(e,t),e.prototype.init=function(){var t=this;if(!this.initialized){var e=this.tf,i=this.customContainer||h["default"].id(this.customContainerId)||e.tbl,s=h["default"].create("div",["id",this.prfxNoResults+e.id]);s.className=this.cssClass;s.innerHTML=this.content;this.isExternal?i.appendChild(s):i.parentNode.insertBefore(s,i.nextSibling);this.cont=s;this.emitter.on(["after-filtering"],function(){return t.toggle()});this.initialized=!0;this.hide()}},e.prototype.toggle=function(){this.tf.nbVisibleRows>0?this.hide():this.show()},e.prototype.show=function(){this.initialized&&this.isEnabled()&&(this.onBeforeShowMsg&&this.onBeforeShowMsg.call(null,this.tf,this),this.setWidth(),this.cont.style.display="block",this.onAfterShowMsg&&this.onAfterShowMsg.call(null,this.tf,this))},e.prototype.hide=function(){this.initialized&&this.isEnabled()&&(this.onBeforeHideMsg&&this.onBeforeHideMsg.call(null,this.tf,this),this.cont.style.display="none",this.onBeforeHideMsg&&this.onBeforeHideMsg.call(null,this.tf,this))},e.prototype.setWidth=function(){if(this.initialized&&!this.isExternal&&this.isEnabled())if(this.tf.gridLayout){var t=this.tf.feature("gridLayout");this.cont.style.width=t.tblCont.clientWidth+"px"}else this.cont.style.width=this.tf.tbl.clientWidth+"px"},e.prototype.destroy=function(){var t=this;this.initialized&&(h["default"].remove(this.cont),this.cont=null,this.emitter.off(["after-filtering"],function(){return t.toggle()}),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});e.State=void 0;var l=i(11),o=i(27),h=i(3),f=s(h),u=i(4),d=s(u);e.State=function(t){function e(i){n(this,e);var s=r(this,t.call(this,i,"state")),a=s.config.state;return s.enableHash=a.types&&-1!==a.types.indexOf("hash")||i.state===!0,s.persistFilters=a.filters!==!1,s.persistPageNumber=Boolean(a.page_number),s.persistPageLength=Boolean(a.page_length),s.hash=null,s.pageNb=null,s.pageLength=null,s.state={},s.prfxCol="col_",s.pageNbKey="page",s.pageLengthKey="page_length",s}return a(e,t),e.prototype.init=function(){var t=this;this.initialized||(this.emitter.on(["after-filtering"],function(){return t.update()}),this.emitter.on(["after-page-change"],function(e,i){return t.updatePage(i)}),this.emitter.on(["after-page-length-change"],function(e,i){return t.updatePageLength(i)}),this.enableHash&&(this.hash=new o.Hash(this),this.hash.init()),this.initialized=!0)},e.prototype.update=function(){var t=this,e,i;this.isEnabled()&&(e=this.tf,this.persistFilters&&(i=e.getFiltersValue(),i.forEach(function(e,i){var s=""+t.prfxCol+i;d["default"].isString(e)&&f["default"].isEmpty(e)?t.state.hasOwnProperty(s)&&(t.state[s]=void 0):(t.state[s]=t.state[s]||{},t.state[s].flt=e)})),this.persistPageNumber&&(this.state[this.pageNbKey]=d["default"].isNull(this.pageNb)?void 0:this.pageNb),this.persistPageLength&&(this.state[this.pageLengthKey]=d["default"].isNull(this.pageLength)?void 0:this.pageLength),this.emitter.emit("state-changed",e,this.state))},e.prototype.updatePage=function(t){this.pageNb=t;this.update()},e.prototype.updatePageLength=function(t){this.pageLength=t;this.update()},e.prototype.override=function(t){this.state=t},e.prototype.sync=function(){var t=this,e=this.state,i=this.tf,s,n;(this.persistFilters&&(Object.keys(e).forEach(function(s){if(-1!==s.indexOf(t.prfxCol)){var n=parseInt(s.replace(t.prfxCol,""),10),r=e[s].flt;i.setFilterValue(n,r)}}),i.filter()),this.persistPageNumber)&&(s=e[this.pageNbKey],this.emitter.emit("change-page",this.tf,s));this.persistPageLength&&(n=e[this.pageLengthKey],this.emitter.emit("change-page-results",this.tf,n))},e.prototype.destroy=function(){var t=this;this.initialized&&(this.state={},this.emitter.off(["after-filtering"],function(){return t.update()}),this.emitter.off(["after-page-change"],function(e,i){return t.updatePage(i)}),this.emitter.off(["after-page-length-change"],function(e,i){return t.updatePageLength(i)}),this.enableHash&&(this.hash.destroy(),this.hash=null),this.initialized=!1)},e}(l.Feature)},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(e,"__esModule",{value:!0});e.Hash=e.hasHashChange=void 0;var r=i(1),a=s(r),l=window,o=l.JSON,h=l.location,f=l.decodeURIComponent,u=e.hasHashChange=function(){var t=l.documentMode;return"onhashchange"in l&&(void 0===t||t>7)};e.Hash=function(){function t(e){n(this,t);this.state=e;this.lastHash=null;this.emitter=e.emitter}return t.prototype.init=function(){var t=this;u()&&(this.lastHash=h.hash,this.emitter.on(["state-changed"],function(e,i){return t.update(i)}),this.emitter.on(["initialized"],function(){return t.sync()}),a["default"].add(l,"hashchange",function(){return t.sync()}))},t.prototype.update=function(t){var e="#"+o.stringify(t);this.lastHash!==e&&(h.hash=e,this.lastHash=e)},t.prototype.parse=function(t){return-1===t.indexOf("#")?null:(t=t.substr(1),o.parse(f(t)))},t.prototype.sync=function(){var t=this.parse(h.hash);t&&(this.state.disable(),this.state.override(t),this.state.sync(),this.state.enable())},t.prototype.destroy=function(){var t=this;this.emitter.off(["state-changed"],function(e,i){return t.update(i)});this.emitter.off(["initialized"],function(){return t.sync()});a["default"].remove(l,"hashchange",function(){return t.sync()});this.state=null;this.lastHash=null;this.emitter=null},t}()}])});ShareLinksViewModel=function(params){var _self=this;params=$.extend({ShareViewModel:null,disabled:!1,shareDialogOnClose:null},params);this.disabled=params.disabled;$.extend(this,params.ShareViewModel);this.shareViaEmail=function(){LSHelper.Favorites.share({url:ko.unwrap(_self.ShareDialogUrl),title:ko.unwrap(_self.ShareDialogTitle),onClose:params.shareDialogOnClose})};this.shareViaFacebook=function(){LSHelper.HelperLib.openSharePopup(ko.unwrap(_self.FacebookShareUrl),"LiquidSpace - Share short list")};this.shareViaTwitter=function(){LSHelper.HelperLib.openSharePopup(ko.unwrap(_self.TwitterShareUrl),"LiquidSpace - Share short list")};this.shareViaLinkedIn=function(){LSHelper.HelperLib.openSharePopup(ko.unwrap(_self.LinkedInShareUrl),"LiquidSpace - Share short list")}};ko.components.register("share-links",{viewModel:ShareLinksViewModel,template:{element:"share-links-template"}}),function(factory){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?factory(require("knockout"),exports):typeof define=="function"&&define.amd?define(["knockout","exports"],factory):factory(ko,ko.validation={})}(function(ko,exports){function minMaxValidatorFactory(validatorName){var isMaxValidation=validatorName==="max";return function(val,options){var comparisonValue,type,regex,valMatches,comparisonValueMatches;if(kv.utils.isEmptyVal(val))return!0;options.typeAttr===undefined?(type="text",comparisonValue=options):(type=options.typeAttr,comparisonValue=options.value);isNaN(comparisonValue)||comparisonValue instanceof Date||(type="number");switch(type.toLowerCase()){case"week":if(regex=/^(\d{4})-W(\d{2})$/,valMatches=val.match(regex),valMatches===null)throw new Error("Invalid value for "+validatorName+" attribute for week input.  Should look like '2000-W33' http://www.w3.org/TR/html-markup/input.week.html#input.week.attrs.min");if(comparisonValueMatches=comparisonValue.match(regex),!comparisonValueMatches)return!1;return isMaxValidation?valMatches[1]<comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]<=comparisonValueMatches[2]:valMatches[1]>comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]>=comparisonValueMatches[2];break;case"month":if(regex=/^(\d{4})-(\d{2})$/,valMatches=val.match(regex),valMatches===null)throw new Error("Invalid value for "+validatorName+" attribute for month input.  Should look like '2000-03' http://www.w3.org/TR/html-markup/input.month.html#input.month.attrs.min");if(comparisonValueMatches=comparisonValue.match(regex),!comparisonValueMatches)return!1;return isMaxValidation?valMatches[1]<comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]<=comparisonValueMatches[2]:valMatches[1]>comparisonValueMatches[1]||valMatches[1]===comparisonValueMatches[1]&&valMatches[2]>=comparisonValueMatches[2];break;case"number":case"range":return isMaxValidation?!isNaN(val)&&parseFloat(val)<=parseFloat(comparisonValue):!isNaN(val)&&parseFloat(val)>=parseFloat(comparisonValue);break;default:return isMaxValidation?val<=comparisonValue:val>=comparisonValue}}}function validateSync(observable,rule,ctx){return rule.validator(observable(),ctx.params===undefined?!0:unwrap(ctx.params))?!0:(observable.setError(kv.formatMessage(ctx.message||rule.message,unwrap(ctx.params),observable)),!1)}function validateAsync(observable,rule,ctx){observable.isValidating(!0);var callBack=function(valObj){var isValid=!1,msg="";if(!observable.__valid__()){observable.isValidating(!1);return}valObj.message?(isValid=valObj.isValid,msg=valObj.message):isValid=valObj;isValid||(observable.error(kv.formatMessage(msg||ctx.message||rule.message,unwrap(ctx.params),observable)),observable.__valid__(isValid));observable.isValidating(!1)};kv.utils.async(function(){rule.validator(observable(),ctx.params===undefined?!0:unwrap(ctx.params),callBack)})}var api,_locales,_currentLocale,origApplyBindings;if(typeof ko=="undefined")throw new Error("Knockout is required, please ensure it is loaded before loading this validation plug-in");ko.validation=exports;var kv=ko.validation,koUtils=ko.utils,unwrap=koUtils.unwrapObservable,forEach=koUtils.arrayForEach,extend=koUtils.extend,defaults={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateInputElement:!1,decorateElementOnModified:!0,errorClass:null,errorElementClass:"validationElement",errorMessageClass:"validationMessage",allowHtmlMessages:!1,grouping:{deep:!1,observable:!0,live:!1},validate:{}},configuration=extend({},defaults);configuration.html5Attributes=["required","pattern","min","max","step"];configuration.html5InputTypes=["email","number","date"];configuration.reset=function(){extend(configuration,defaults)};kv.configuration=configuration;kv.utils=function(){var seedId=(new Date).getTime(),domData={},domDataKey="__ko_validation__";return{isArray:function(o){return o.isArray||Object.prototype.toString.call(o)==="[object Array]"},isObject:function(o){return o!==null&&typeof o=="object"},isNumber:function(o){return!isNaN(o)},isObservableArray:function(instance){return!!instance&&typeof instance.remove=="function"&&typeof instance.removeAll=="function"&&typeof instance.destroy=="function"&&typeof instance.destroyAll=="function"&&typeof instance.indexOf=="function"&&typeof instance.replace=="function"},values:function(o){var r=[];for(var i in o)o.hasOwnProperty(i)&&r.push(o[i]);return r},getValue:function(o){return typeof o=="function"?o():o},hasAttribute:function(node,attr){return node.getAttribute(attr)!==null},getAttribute:function(element,attr){return element.getAttribute(attr)},setAttribute:function(element,attr,value){return element.setAttribute(attr,value)},isValidatable:function(o){return!!(o&&o.rules&&o.isValid&&o.isModified)},insertAfter:function(node,newNode){node.parentNode.insertBefore(newNode,node.nextSibling)},newId:function(){return seedId+=1},getConfigOptions:function(element){var options=kv.utils.contextFor(element);return options||kv.configuration},setDomData:function(node,data){var key=node[domDataKey];key||(node[domDataKey]=key=kv.utils.newId());domData[key]=data},getDomData:function(node){var key=node[domDataKey];return key?domData[key]:undefined},contextFor:function(node){switch(node.nodeType){case 1:case 8:var context=kv.utils.getDomData(node);if(context)return context;if(node.parentNode)return kv.utils.contextFor(node.parentNode);break}return undefined},isEmptyVal:function(val){return val===undefined?!0:val===null?!0:val===""?!0:void 0},getOriginalElementTitle:function(element){var savedOriginalTitle=kv.utils.getAttribute(element,"data-orig-title"),currentTitle=element.title,hasSavedOriginalTitle=kv.utils.hasAttribute(element,"data-orig-title");return hasSavedOriginalTitle?savedOriginalTitle:currentTitle},async:function(expr){window.setImmediate?window.setImmediate(expr):window.setTimeout(expr,0)},forEach:function(object,callback){if(kv.utils.isArray(object))return forEach(object,callback);for(var prop in object)object.hasOwnProperty(prop)&&callback(object[prop],prop)}}}();api=function(){function cleanUpSubscriptions(context){forEach(context.subscriptions,function(subscription){subscription.dispose()});context.subscriptions=[]}function dispose(context){context.options.deep&&(forEach(context.flagged,function(obj){delete obj.__kv_traversed}),context.flagged.length=0);context.options.live||cleanUpSubscriptions(context)}function runTraversal(obj,context){context.validatables=[];cleanUpSubscriptions(context);traverseGraph(obj,context);dispose(context)}function traverseGraph(obj,context,level){var objValues=[],val=obj.peek?obj.peek():obj;obj.__kv_traversed!==!0&&(context.options.deep&&(obj.__kv_traversed=!0,context.flagged.push(obj)),level=level!==undefined?level:context.options.deep?1:-1,ko.isObservable(obj)&&(obj.errors||utils.isValidatable(obj)||obj.extend({validatable:!0}),context.validatables.push(obj),context.options.live&&utils.isObservableArray(obj)&&context.subscriptions.push(obj.subscribe(function(){context.graphMonitor.valueHasMutated()}))),val&&!val._destroy&&(utils.isArray(val)?objValues=val:utils.isObject(val)&&(objValues=utils.values(val))),level!==0&&utils.forEach(objValues,function(observable){observable&&!observable.nodeType&&(!ko.isComputed(observable)||observable.rules)&&traverseGraph(observable,context,level+1)}))}function collectErrors(array){var errors=[];return forEach(array,function(observable){utils.isValidatable(observable)&&!observable.isValid()&&errors.push(observable.error.peek())}),errors}var isInitialized=0,configuration=kv.configuration,utils=kv.utils;return{init:function(options,force){isInitialized>0&&!force||(options=options||{},options.errorElementClass=options.errorElementClass||options.errorClass||configuration.errorElementClass,options.errorMessageClass=options.errorMessageClass||options.errorClass||configuration.errorMessageClass,extend(configuration,options),configuration.registerExtenders&&kv.registerExtenders(),isInitialized=1)},reset:kv.configuration.reset,group:function(obj,options){options=extend(extend({},configuration.grouping),options);var context={options:options,graphMonitor:ko.observable(),flagged:[],subscriptions:[],validatables:[]},result=null;return result=options.observable?ko.computed(function(){return context.graphMonitor(),runTraversal(obj,context),collectErrors(context.validatables)}):function(){return runTraversal(obj,context),collectErrors(context.validatables)},result.showAllMessages=function(show){show===undefined&&(show=!0);result.forEach(function(observable){utils.isValidatable(observable)&&observable.isModified(show)})},result.isAnyMessageShown=function(){return!!result.find(function(observable){return utils.isValidatable(observable)&&!observable.isValid()&&observable.isModified()})},result.filter=function(predicate){return predicate=predicate||function(){return!0},result(),koUtils.arrayFilter(context.validatables,predicate)},result.find=function(predicate){return predicate=predicate||function(){return!0},result(),koUtils.arrayFirst(context.validatables,predicate)},result.forEach=function(callback){callback=callback||function(){};result();forEach(context.validatables,callback)},result.map=function(mapping){return mapping=mapping||function(item){return item},result(),koUtils.arrayMap(context.validatables,mapping)},result._updateState=function(newValue){if(!utils.isObject(newValue))throw new Error("An object is required.");if(obj=newValue,options.observable)context.graphMonitor.valueHasMutated();else return runTraversal(newValue,context),collectErrors(context.validatables)},result},formatMessage:function(message,params,observable){if(utils.isObject(params)&&params.typeAttr&&(params=params.value),typeof message=="function")return message(params,observable);var replacements=unwrap(params);return replacements==null&&(replacements=[]),utils.isArray(replacements)||(replacements=[replacements]),message.replace(/{(\d+)}/gi,function(match,index){return typeof replacements[index]!="undefined"?replacements[index]:match})},addRule:function(observable,rule){observable.extend({validatable:!0});var hasRule=!!koUtils.arrayFirst(observable.rules(),function(item){return item.rule&&item.rule===rule.rule});return hasRule||observable.rules.push(rule),observable},addAnonymousRule:function(observable,ruleObj){ruleObj.message===undefined&&(ruleObj.message="Error");ruleObj.onlyIf&&(ruleObj.condition=ruleObj.onlyIf);kv.addRule(observable,ruleObj)},addExtender:function(ruleName){ko.extenders[ruleName]=function(observable,params){return params&&(params.message||params.onlyIf)?kv.addRule(observable,{rule:ruleName,message:params.message,params:utils.isEmptyVal(params.params)?!0:params.params,condition:params.onlyIf}):kv.addRule(observable,{rule:ruleName,params:params})}},registerExtenders:function(){if(configuration.registerExtenders)for(var ruleName in kv.rules)kv.rules.hasOwnProperty(ruleName)&&(ko.extenders[ruleName]||kv.addExtender(ruleName))},insertValidationMessage:function(element){var span=document.createElement("SPAN");return span.className=utils.getConfigOptions(element).errorMessageClass,utils.insertAfter(element,span),span},parseInputValidationAttributes:function(element,valueAccessor){forEach(kv.configuration.html5Attributes,function(attr){var params,typeAttr;utils.hasAttribute(element,attr)&&(params=element.getAttribute(attr)||!0,(attr==="min"||attr==="max")&&(typeAttr=element.getAttribute("type"),typeof typeAttr!="undefined"&&typeAttr||(typeAttr="text"),params={typeAttr:typeAttr,value:params}),kv.addRule(valueAccessor(),{rule:attr,params:params}))});var currentType=element.getAttribute("type");forEach(kv.configuration.html5InputTypes,function(type){type===currentType&&kv.addRule(valueAccessor(),{rule:type==="date"?"dateISO":type,params:!0})})},writeInputValidationAttributes:function(element,valueAccessor){var observable=valueAccessor(),contexts;observable&&observable.rules&&(contexts=observable.rules(),forEach(kv.configuration.html5Attributes,function(attr){var ctx=koUtils.arrayFirst(contexts,function(ctx){return ctx.rule&&ctx.rule.toLowerCase()===attr.toLowerCase()});ctx&&ko.computed({read:function(){var params=ko.unwrap(ctx.params);ctx.rule==="pattern"&&params instanceof RegExp&&(params=params.source);element.setAttribute(attr,params)},disposeWhenNodeIsRemoved:element})}),contexts=null)},makeBindingHandlerValidatable:function(handlerName){var init=ko.bindingHandlers[handlerName].init;ko.bindingHandlers[handlerName].init=function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return init(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext),ko.bindingHandlers.validationCore.init(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext)}},setRules:function(target,definition){var setRules=function(target,definition){var prop,ruleDefinitions,rule,i;if(target&&definition)for(prop in definition)if(definition.hasOwnProperty(prop)&&(ruleDefinitions=definition[prop],target[prop])){var targetValue=target[prop],unwrappedTargetValue=unwrap(targetValue),rules={},nonRules={};for(rule in ruleDefinitions)ruleDefinitions.hasOwnProperty(rule)&&(kv.rules[rule]?rules[rule]=ruleDefinitions[rule]:nonRules[rule]=ruleDefinitions[rule]);if(ko.isObservable(targetValue)&&targetValue.extend(rules),unwrappedTargetValue&&utils.isArray(unwrappedTargetValue))for(i=0;i<unwrappedTargetValue.length;i++)setRules(unwrappedTargetValue[i],nonRules);else setRules(unwrappedTargetValue,nonRules)}};setRules(target,definition)}}}();extend(ko.validation,api);kv.rules={};kv.rules.required={validator:function(val,required){var testVal;return val===undefined||val===null?!required:(testVal=val,typeof val=="string"&&(testVal=String.prototype.trim?val.trim():val.replace(/^\s+|\s+$/g,"")),!required)?!0:(testVal+"").length>0},message:"This field is required."};kv.rules.min={validator:minMaxValidatorFactory("min"),message:"Please enter a value greater than or equal to {0}."};kv.rules.max={validator:minMaxValidatorFactory("max"),message:"Please enter a value less than or equal to {0}."};kv.rules.minLength={validator:function(val,minLength){if(kv.utils.isEmptyVal(val))return!0;var normalizedVal=kv.utils.isNumber(val)?""+val:val;return normalizedVal.length>=minLength},message:"Please enter at least {0} characters."};kv.rules.maxLength={validator:function(val,maxLength){if(kv.utils.isEmptyVal(val))return!0;var normalizedVal=kv.utils.isNumber(val)?""+val:val;return normalizedVal.length<=maxLength},message:"Please enter no more than {0} characters."};kv.rules.pattern={validator:function(val,regex){return kv.utils.isEmptyVal(val)||val.toString().match(regex)!==null},message:"Please check this value."};kv.rules.step={validator:function(val,step){if(kv.utils.isEmptyVal(val)||step==="any")return!0;var dif=val*100%(step*100);return Math.abs(dif)<1e-5||Math.abs(1-dif)<1e-5},message:"The value must increment by {0}."};kv.rules.email={validator:function(val,validate){return validate?kv.utils.isEmptyVal(val)||validate&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(val):!0},message:"Please enter a proper email address."};kv.rules.date={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&!/Invalid|NaN/.test(new Date(value)):!0},message:"Please enter a proper date."};kv.rules.dateISO={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&/^\d{4}[-/](?:0?[1-9]|1[012])[-/](?:0?[1-9]|[12][0-9]|3[01])$/.test(value):!0},message:"Please enter a proper date."};kv.rules.number={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value):!0},message:"Please enter a number."};kv.rules.digit={validator:function(value,validate){return validate?kv.utils.isEmptyVal(value)||validate&&/^\d+$/.test(value):!0},message:"Please enter a digit."};kv.rules.phoneUS={validator:function(phoneNumber,validate){return validate?kv.utils.isEmptyVal(phoneNumber)?!0:typeof phoneNumber!="string"?!1:(phoneNumber=phoneNumber.replace(/\s+/g,""),validate&&phoneNumber.length>9&&phoneNumber.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)):!0},message:"Please specify a valid phone number."};kv.rules.equal={validator:function(val,params){var otherValue=params;return val===kv.utils.getValue(otherValue)},message:"Values must equal."};kv.rules.notEqual={validator:function(val,params){var otherValue=params;return val!==kv.utils.getValue(otherValue)},message:"Please choose another value."};kv.rules.unique={validator:function(val,options){var c=kv.utils.getValue(options.collection),external=kv.utils.getValue(options.externalValue),counter=0;return!val||!c?!0:(koUtils.arrayFilter(c,function(item){val===(options.valueAccessor?options.valueAccessor(item):item)&&counter++}),counter<(!external?2:1))},message:"Please make sure the value is unique."},function(){kv.registerExtenders()}();ko.bindingHandlers.validationCore=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var config=kv.utils.getConfigOptions(element),observable=valueAccessor(),validationMessageElement;config.parseInputAttributes&&kv.utils.async(function(){kv.parseInputValidationAttributes(element,valueAccessor)});config.insertMessages&&kv.utils.isValidatable(observable)&&(validationMessageElement=kv.insertValidationMessage(element),config.messageTemplate?ko.renderTemplate(config.messageTemplate,{field:observable},null,validationMessageElement,"replaceNode"):ko.applyBindingsToNode(validationMessageElement,{validationMessage:observable}));config.writeInputAttributes&&kv.utils.isValidatable(observable)&&kv.writeInputValidationAttributes(element,valueAccessor);config.decorateInputElement&&kv.utils.isValidatable(observable)&&ko.applyBindingsToNode(element,{validationElement:observable})}}}();kv.makeBindingHandlerValidatable("value");kv.makeBindingHandlerValidatable("checked");ko.bindingHandlers.textInput&&kv.makeBindingHandlerValidatable("textInput");kv.makeBindingHandlerValidatable("selectedOptions");ko.bindingHandlers.validationMessage={update:function(element,valueAccessor){var obsv=valueAccessor(),config=kv.utils.getConfigOptions(element),val=unwrap(obsv),msg=null,isModified=!1,isValid=!1,error,isVisible,isCurrentlyVisible;if(obsv===null||typeof obsv=="undefined")throw new Error("Cannot bind validationMessage to undefined value. data-bind expression: "+element.getAttribute("data-bind"));isModified=obsv.isModified&&obsv.isModified();isValid=obsv.isValid&&obsv.isValid();error=null;(!config.messagesOnModified||isModified)&&(error=isValid?null:obsv.error);isVisible=!config.messagesOnModified||isModified?!isValid:!1;isCurrentlyVisible=element.style.display!=="none";config.allowHtmlMessages?koUtils.setHtml(element,error):ko.bindingHandlers.text.update(element,function(){return error});isCurrentlyVisible&&!isVisible?element.style.display="none":!isCurrentlyVisible&&isVisible&&(element.style.display="")}};ko.bindingHandlers.validationElement={update:function(element,valueAccessor,allBindingsAccessor){var obsv=valueAccessor(),config=kv.utils.getConfigOptions(element),val=unwrap(obsv),msg=null,isModified=!1,isValid=!1,cssSettingsAccessor;if(obsv===null||typeof obsv=="undefined")throw new Error("Cannot bind validationElement to undefined value. data-bind expression: "+element.getAttribute("data-bind"));(isModified=obsv.isModified&&obsv.isModified(),isValid=obsv.isValid&&obsv.isValid(),cssSettingsAccessor=function(){var css={},shouldShow=!config.decorateElementOnModified||isModified?!isValid:!1;return css[config.errorElementClass]=shouldShow,css},ko.bindingHandlers.css.update(element,cssSettingsAccessor,allBindingsAccessor),config.errorsAsTitle)&&ko.bindingHandlers.attr.update(element,function(){var hasModification=!config.errorsAsTitleOnModified||isModified,title=kv.utils.getOriginalElementTitle(element);if(hasModification&&!isValid)return{title:obsv.error,"data-orig-title":title};else if(!hasModification||isValid)return{title:title,"data-orig-title":null}})}};ko.bindingHandlers.validationOptions=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var options=unwrap(valueAccessor()),newConfig;options&&(newConfig=extend({},kv.configuration),extend(newConfig,options),kv.utils.setDomData(element,newConfig))}}}();ko.extenders.validation=function(observable,rules){return forEach(kv.utils.isArray(rules)?rules:[rules],function(rule){kv.addAnonymousRule(observable,rule)}),observable};ko.extenders.validatable=function(observable,options){var config,validationOptions,h_change,h_obsValidationTrigger;return kv.utils.isObject(options)||(options={enable:options}),"enable"in options||(options.enable=!0),options.enable&&!kv.utils.isValidatable(observable)?(config=kv.configuration.validate||{},validationOptions={throttleEvaluation:options.throttle||config.throttle},observable.error=ko.observable(null),observable.rules=ko.observableArray(),observable.isValidating=ko.observable(!1),observable.__valid__=ko.observable(!0),observable.isModified=ko.observable(!1),observable.isValid=ko.computed(observable.__valid__),observable.setError=function(error){var previousError=observable.error.peek(),previousIsValid=observable.__valid__.peek();observable.error(error);observable.__valid__(!1);previousError===error||previousIsValid||observable.isValid.notifySubscribers()},observable.clearError=function(){return observable.error(null),observable.__valid__(!0),observable},h_change=observable.subscribe(function(){observable.isModified(!0)}),h_obsValidationTrigger=ko.computed(extend({read:function(){var obs=observable(),ruleContexts=observable.rules();return kv.validateObservable(observable),!0}},validationOptions)),extend(h_obsValidationTrigger,validationOptions),observable._disposeValidation=function(){observable.isValid.dispose();observable.rules.removeAll();h_change.dispose();h_obsValidationTrigger.dispose();delete observable.rules;delete observable.error;delete observable.isValid;delete observable.isValidating;delete observable.__valid__;delete observable.isModified;delete observable.setError;delete observable.clearError;delete observable._disposeValidation}):options.enable===!1&&observable._disposeValidation&&observable._disposeValidation(),observable};kv.validateObservable=function(observable){for(var i=0,rule,ctx,ruleContexts=observable.rules(),len=ruleContexts.length;i<len;i++)if(ctx=ruleContexts[i],!ctx.condition||ctx.condition())if(rule=ctx.rule?kv.rules[ctx.rule]:ctx,rule.async||ctx.async)validateAsync(observable,rule,ctx);else if(!validateSync(observable,rule,ctx))return!1;return observable.clearError(),!0};_locales={};kv.defineLocale=function(name,values){return name&&values?(_locales[name.toLowerCase()]=values,values):null};kv.locale=function(name){if(name)if(name=name.toLowerCase(),_locales.hasOwnProperty(name))kv.localize(_locales[name]),_currentLocale=name;else throw new Error("Localization "+name+" has not been loaded.");return _currentLocale};kv.localize=function(msgTranslations){var rules=kv.rules;for(var ruleName in msgTranslations)rules.hasOwnProperty(ruleName)&&(rules[ruleName].message=msgTranslations[ruleName])},function(){var localeData={},rules=kv.rules;for(var ruleName in rules)rules.hasOwnProperty(ruleName)&&(localeData[ruleName]=rules[ruleName].message);kv.defineLocale("en-us",localeData)}();_currentLocale="en-us";ko.applyBindingsWithValidation=function(viewModel,rootNode,options){var node=document.body,config;rootNode&&rootNode.nodeType?(node=rootNode,config=options):config=rootNode;kv.init();config&&(config=extend(extend({},kv.configuration),config),kv.utils.setDomData(node,config));ko.applyBindings(viewModel,node)};origApplyBindings=ko.applyBindings;ko.applyBindings=function(viewModel,rootNode){kv.init();origApplyBindings(viewModel,rootNode)};ko.validatedObservable=function(initialValue,options){if(!options&&!kv.utils.isObject(initialValue))return ko.observable(initialValue).extend({validatable:!0});var obsv=ko.observable(initialValue);return obsv.errors=kv.group(kv.utils.isObject(initialValue)?initialValue:{},options),obsv.isValid=ko.observable(obsv.errors().length===0),ko.isObservable(obsv.errors)?obsv.errors.subscribe(function(errors){obsv.isValid(errors.length===0)}):ko.computed(obsv.errors).subscribe(function(errors){obsv.isValid(errors.length===0)}),obsv.subscribe(function(newValue){kv.utils.isObject(newValue)||(newValue={});obsv.errors._updateState(newValue);obsv.isValid(obsv.errors().length===0)}),obsv}});ko.subscribable.fn.trimmed=function(){return ko.computed({read:function(){return this()},write:function(value){this(value!=null?value.trim():value);this.valueHasMutated()},owner:this})};ko.validation.rules.phonenumber={validator:function(val,params){var res,country,phoneUtil,number,regionCode,phoneStr;if(this.message="Phone number is invalid",res=val&&val.length>2,country="",params.phoneNumberFormat||(params.phoneNumberFormat=i18n.phonenumbers.PhoneNumberFormat.NATIONAL),$.isFunction(params.country)&&(country=params.country()),res){phoneUtil=i18n.phonenumbers.PhoneNumberUtil.getInstance();try{number=phoneUtil.parse(val,country);res=phoneUtil.isValidNumber(number);res&&(regionCode=phoneUtil.getRegionCodeForNumber(number),regionCode==country||regionCode=="BY"?(phoneStr=regionCode=="BY"?phoneUtil.format(number,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):phoneUtil.format(number,params.phoneNumberFormat),$.isFunction(params.callback)&&params.callback(res,phoneStr)):(res=!1,this.message="Region code is incorrect."))}catch(e){res=!1;this.message=e.message?e.message:e}}return res},message:"Phone number is invalid"};ko.validation.rules.nullableInt={validator:function(val,validate){return val===null||val===""||validate&&/^-?\d*$/.test(val.toString())},message:"Must be empty or an integer value"};ko.validation.rules.nullableDecimal={validator:function(val,validate){return val===null||val===""||validate&&/^-?\d*(?:\.\d*)?$/.test(val.toString())},message:"Must be empty or a decimal value"};ko.validation.rules.email={validator:function(val){return/^(([^<>()[\]\\.,;:\s@\""]+(\.[^<>()[\]\\.,;:\s@\""]+)*)|(\"".+\""))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(val||"")},message:"Email is invalid"};ko.validation.rules.fullAddress={async:!0,validator:function(val,params,callback){params.placesService!=null?params.placesService.textSearch({query:val},function(res,stat){stat==google.maps.places.PlacesServiceStatus.OK&&res.length>0?params.placesService.getDetails({placeId:res[0].place_id},function(result,status){if(status==google.maps.places.PlacesServiceStatus.OK){var isFullAddress=result.address_components.some(function(addressComponent){return addressComponent.types.some(function(addressComponentType){return addressComponentType=="street_number"})})||result.types.some(function(addressComponentType){return addressComponentType=="establishment"});callback(isFullAddress)}}):callback(!1)}):callback(!1)},message:"{0} is not valid full address"};ko.validation.registerExtenders();typeof Knockout=="undefined"&&(Knockout={});ko.pauseableComputed=function(readFunction,evaluatorFunctionTarget,_isPaused){var _cachedValue="",_readFunction=readFunction,result=ko.computed({read:function(){return _isPaused()||_readFunction!=null&&(_cachedValue=_readFunction.call(evaluatorFunctionTarget)),_readFunction!=null?_cachedValue:void 0},write:function(value){_readFunction=value},owner:this},evaluatorFunctionTarget);return result.pause=function(){_cachedValue=this();_isPaused(!0)}.bind(result),result.resume=function(){_cachedValue="";_isPaused(!1)},result};koExtend=function(){function clearCacheFunction(){_cachedValue={}}function cacheFunction(key,f){return _cachedValue[key]||(_cachedValue[key]=f()),_cachedValue[key]}return _cachedValue={},{cacheFunction:cacheFunction,clearCacheFunction:clearCacheFunction}}();Knockout.assignPager=function(thisObj,pagerName,pageSizeFunc,dataFunc,postProcessFunc,maxResults,selectPageFunction,onlineMode,goToTop,disableHash){thisObj[pagerName]={};onlineMode==undefined&&(onlineMode=!1);thisObj[pagerName].onlineMode=onlineMode;thisObj[pagerName].dataFunc=ko.observable(dataFunc);thisObj[pagerName].dataCount=ko.observable(0);thisObj[pagerName].pageSize=pageSizeFunc;thisObj[pagerName]._pageCount=ko.observable(0);thisObj[pagerName].postProcessFunc=postProcessFunc;thisObj[pagerName].selectPageFunction=selectPageFunction!=null?selectPageFunction:function(){};thisObj[pagerName].goToTop=goToTop?!0:!1;thisObj[pagerName].disableHash=disableHash?!0:!1;thisObj[pagerName].maxResults=maxResults!=undefined&&maxResults!=null?maxResults:1e6;thisObj[pagerName].setPageCount=function(dataLen){thisObj[pagerName].dataCount(dataLen);var res=dataLen/thisObj[pagerName].pageSize();res>Math.round(res)&&(res=Math.round(res),res++);thisObj[pagerName]._pageCount(Math.round(res));thisObj[pagerName].currentPage()>Math.round(res)-1&&thisObj[pagerName].setCurrentPage(0,"first")};thisObj[pagerName].currentPage=ko.observable(0);thisObj[pagerName].setCurrentPage=function(page,type,callCallback){callCallback==undefined&&(callCallback=!1);switch(type){case"first":page=0;thisObj[pagerName].currentPage(page);break;case"previous":page=thisObj[pagerName].currentPage()-1>=0?thisObj[pagerName].currentPage()-1:0;thisObj[pagerName].currentPage(page);break;case"normal":thisObj[pagerName].currentPage(page);break;case"next":page=thisObj[pagerName].currentPage()+1<=thisObj[pagerName]._pageCount()-1?thisObj[pagerName].currentPage()+1:thisObj[pagerName]._pageCount()-1;thisObj[pagerName].currentPage(page);break;case"last":page=thisObj[pagerName]._pageCount()-1;thisObj[pagerName].currentPage(page);break}thisObj[pagerName].disableHash||LSHelper.HelperLib.addTrackToUrl("p",page);thisObj[pagerName].goToTop&&$("html, body, .scroll-container").scrollTop(0);callCallback==!0&&thisObj[pagerName].selectPageFunction(thisObj[pagerName].currentPage())};thisObj[pagerName].pageCount=ko.dependentObservable(function(){return thisObj[pagerName]._pageCount()},thisObj);thisObj[pagerName].pageCountArray=ko.dependentObservable(function(){var res=[],pageCount=thisObj[pagerName]._pageCount(),currentPage=thisObj[pagerName].currentPage(),cycleEnd,j,cycleBegin,i;if(pageCount>1){var maxPages=14,pages=maxPages/2,currentPageOffset=currentPage+1;if(pageCount>maxPages){if(i=currentPageOffset,i<=pageCount/2)for(cycleBegin=i-3>0?i-3:1,cycleBegin==1&&(cycleBegin=0),cycleEnd=pages,cycleEnd=cycleBegin+pages-1<=pageCount-pages?cycleBegin+pages-1:pageCount-pages,j=pageCount-pages+1;j<pageCount;j++)res[j]={text:j+1,page:j,type:"normal"};else{for(j=0;j<=pages-1;j++)res[j]={text:j+1,page:j,type:"normal"};cycleBegin=i-3>pageCount/2?i-3:~~(pageCount/2);cycleBegin==1&&(cycleBegin=0);cycleEnd=cycleBegin+pages-1<=pageCount?cycleBegin+pages-1:pageCount}for(i=cycleBegin;i<cycleEnd;i++)res[i]={text:i+1,page:i,type:"normal"}}else for(i=0;i<pageCount;i++)res[i]={text:i+1,page:i,type:"normal"}}return res},thisObj);thisObj[pagerName].pagedData=ko.dependentObservable(function(){var returnResult=[],result=thisObj[pagerName].dataFunc()(),i;if(thisObj[pagerName].onlineMode==!1||result.length>thisObj[pagerName].pageSize())for(i=thisObj[pagerName].currentPage()*thisObj[pagerName].pageSize();i<result.length&&(maxResults==undefined||i<thisObj[pagerName].maxResults)&&i<(thisObj[pagerName].currentPage()+1)*thisObj[pagerName].pageSize();i++)returnResult.push(result[i]);else returnResult=result;return typeof thisObj[pagerName].postProcessFunc!=undefined&&$.isFunction(thisObj[pagerName].postProcessFunc)&&thisObj[pagerName].postProcessFunc(returnResult),returnResult},thisObj).extend({throttle:1});thisObj[pagerName].setPageCount(thisObj[pagerName].dataFunc()().length)};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.VenueData=function(){var _self=this;return _self.alreadyInitialized=!1,_self.memberId="",_self.venues=[],_self.cities=[],_self.venueGroups=[],_self.sessionExpiredShown=!1,_self.init=function(memberId){if(_self.memberId==memberId&&_self.alreadyInitialized)return _self;var allVenuesDataKey="search-allvenues"+_self.memberId,allVenuesData=LSHelper.localStorage.get(allVenuesDataKey,!0);return allVenuesData!=null?(_self.venues=allVenuesData.venues,_self.venueGroups=allVenuesData.venueGroups,_self.cities=allVenuesData.cities):$.ajax({type:"GET",data:{loggedInUserId:_self.memberId},url:GetUrl("GetAllVenues","Search"),async:!0,cache:!0,success:function(result){_self.venues=result.venues;_self.venueGroups=result.venueGroups;_self.cities=result.cities;result.sessionExpired&&!_self.sessionExpiredShown?(_self.sessionExpiredShown=!0,LSHelper.UI.showError({title:"Your administrator session has expired",content:"Search results is for anonymous user, please refresh page or relogin."})):LSHelper.localStorage.set(allVenuesDataKey,result,new Date((new Date).getTime()+12e5))},error:function(xhr,ajaxOptions,thrownError){}}),_self},_self.findVenues=function(search,strictSearchPreSubmit){var copy=function(obj,isVenueGroup){var copiedObject={};return $.extend(copiedObject,obj),copiedObject.extended=!0,isVenueGroup=isVenueGroup==null?!1:isVenueGroup,isVenueGroup==!0?(copiedObject.VenueGroupId=obj.Id,copiedObject.VenueId=null):(copiedObject.VenueId=obj.Id,copiedObject.VenueGroupId=null),copiedObject},result=[],venueGroup,i,nameIndex;if(search=$.trim(search),result.push({extended_line:!0}),venueGroup=null,_self.venueGroups!=null&&$.each(_self.venueGroups,function(i,v){if(strictSearchPreSubmit){if(v.Name.toLowerCase()==search.toLowerCase())return venueGroup=copy(v,!0),!1}else{var nameIndex=v.Name!=null?v.Name.toLowerCase().indexOf(search.toLowerCase()):-1;if(nameIndex!=-1)return venueGroup=copy(v,!0),venueGroup.value=venueGroup.Name,venueGroup.label=venueGroup.Name,!1}}),venueGroup!=null&&(result.push(venueGroup),$.each(venueGroup.Visas,function(i,val){var venues,venue;return val.VenueId!="00000000-0000-0000-0000-000000000000"&&(venues=_self.venues.filter(function(v){return v.Id==val.VenueId}),venues!=null&&venues.length>0&&result.filter(function(v){return v.Id==venues[0].Id}).length==0)?(venue=copy(venues[0]),venue.label=venue.FullName,venue.value=venue.FullName,result.push(venue),!1):!0})),result.length<5)if(strictSearchPreSubmit){for(i=0;i<_self.venues.length;i++)if(_self.venues[i].FullName!=null&&_self.venues[i].FullName.toLowerCase()==search.toLowerCase()&&result.filter(function(v){return v.Id==_self.venues[i].Id}).length==0){result.push(copy(_self.venues[i]));result[result.length-1].value=result[result.length-1].FullName;result[result.length-1].label=result[result.length-1].FullName;break}}else for(i=0;i<_self.venues.length;i++)if(nameIndex=_self.venues[i].FullName!=null?_self.venues[i].FullName.toLowerCase().indexOf(search.toLowerCase()):-1,nameIndex!=-1&&result.filter(function(v){return v.Id==_self.venues[i].Id}).length==0&&(result.push(copy(_self.venues[i])),result[result.length-1].value=result[result.length-1].FullName,result[result.length-1].label=result[result.length-1].FullName,venueGroup==null&&result.length>=4||venueGroup!=null&&result.length>=5))break;return result.length==1&&(result=[]),result.push({final_row:!0}),result},_self.findCities=function(search){var result=[],i,nameIndex,copiedObject;for(search=$.trim(search),i=0;i<_self.cities.length;i++)if(nameIndex=_self.cities[i]!=null?_self.cities[i].toLowerCase().indexOf(search.toLowerCase()):-1,nameIndex!=-1&&(copiedObject={},copiedObject.label=_self.cities[i],copiedObject.value=_self.cities[i],copiedObject.extended_city=!0,result.push(copiedObject),result.length>=4))break;return result},_self.getAllData=function(search){var venues=_self.findVenues(search),cities=_self.findCities(search);return{venues:venues,cities:cities}},_self}();$.fn.searchAutocomplete=function(params){this.each(function(i,elem){LSHelper.google.init(function(){LiquidSpace.Search.Autocomplete($.extend(params,{element:$(elem)}))})})};LiquidSpace.Search.Autocomplete=function(params){var _self=this,_defaults={element:null,button:null,onSelect:function(item,isEnterEvent){},onSubmit:function(request){LSHelper.HelperLib.submitObjectAsForm(request,{action:"/Search/Index"})},appendElement:"body",allowedCountries:["AU","US","CA"],memberId:null,submitOnBlur:!1,submitOnSelect:!0},_lastSelectedItem=null,_currentLocationText="Current location",_preventEnterBindProcessing=!1,options=$.extend({},_defaults,params),isCountryAllowed=function(c){return c==null?!1:options.allowedCountries.indexOf(c.toUpperCase())!=-1},renderItem=function(item){function strF(instr){return instr.replace(/</gi,"&lt").replace(/>/gi,"&gt")}function formatResult(str,textToSearch){var index,result,flag,textToSearchTags;return textToSearch=$.trim(textToSearch),index=str!=null?str.toLowerCase().indexOf(textToSearch.toLowerCase()):-1,result="",index!=-1?result=strF(str.substring(0,index))+'<span class="under-line">'+strF(str.substring(index,index+textToSearch.length))+"<\/span>"+strF(str.substring(index+textToSearch.length,str.length)):(flag=!1,textToSearchTags=[],$.each(textToSearch.split(" "),function(i,val){textToSearchTags.indexOf(val)==-1&&textToSearchTags.push(val)}),str&&$.each(str.split(" "),function(i,strVal){var wasModified=!1;$.each(textToSearchTags,function(i1,strSearchVal){strVal.toLowerCase().indexOf(strSearchVal.toLowerCase())==0&&(result=result+(result.length>0?" ":"")+'<span class="under-line">'+strF(strVal.substring(0,strSearchVal.length))+"<\/span>"+strF(strVal.substring(strSearchVal.length,strVal.length)),wasModified=!0)});wasModified==!1&&(result=result+(result.length>0?" ":"")+strVal)})),result}var textToSearch=options.element.val();return!item.final_row&&!item.extended_line&&!item.extended&&!item.extended_city&&!isCountryAllowed(item.country)&&item.smart_search!=!0&&!item.currentLocation?"":item.extended_line?$("<div style='clear: both;'><div class='empty-row extended-line'>"):item.final_row?$("<div style='clear: left;'><div class='empty-row'>"):(item.extended_city||item.smart_search==!0||!item.label||(item.label=item.label.replace(/, USA/gi,"")),item.extended?$("<a class='autocomplete-option extended'><div class='autocomplete-option-name'>"+formatResult(item.label,textToSearch)+"<\/div><div class='autocomplete-option-address'>"+(item.Address||"")+"<\/div><\/a>"):$("<a "+(item.smart_search==!0?"style='font-weight:bold;'":"")+">"+formatResult(item.label,textToSearch)+"<\/a>"))},submitSearch;if(options.element&&options.element.length){LiquidSpace.Search.VenueData.init(options.memberId);options.element.unbind("keyup").unbind("paste cut");options.element.bind("keyup",function(event){if(event.isDefaultPrevented()!=!0&&!_preventEnterBindProcessing){var keycode=event.keyCode?event.keyCode:event.which?event.which:event.charCode;return keycode==13?(submitSearch(),!1):!0}}).bind("paste cut",function(){return!0});options.button&&options.button.length&&options.button.click(function(){submitSearch()});options.submitOnBlur==!0&&options.element.bind("blur",function(){options.submitIfNotEmpty&&(options.submitIfNotEmpty!=!0||options.element.val()=="")||submitSearch()});try{options.element.autocomplete({appendTo:$(options.appendElement),create:function(){var $autocomplete=$(options.element.autocomplete("widget"));$autocomplete.addClass("search-autocomplete").attr("target-id",options.element.attr("id"))},renderItem:renderItem,focus:function(){return!1},open:function(event,ui){options.element.autocomplete("widget").bind("clickoutside",function(event){options.element.autocomplete("close")})},close:function(event,ui){options.element.autocomplete("widget").unbind("clickoutside")},source:function(request,response){var callback=function(result){var newResult=[],additionalSource;newResult.push({label:_currentLocationText,currentLocation:!0});newResult.push({extended_line:!0});newResult.push({label:request.term+" - Search",value:request.term,smart_search:!0});newResult.push({extended_line:!0});newResult=newResult.concat(result);additionalSource=LiquidSpace.Search.VenueData.getAllData(request.term);additionalSource&&(additionalSource.cities&&additionalSource.cities.length>0&&(newResult=newResult.concat(additionalSource.cities),newResult=LSHelper.google.eliminateDuplicates(newResult)),additionalSource.venues&&additionalSource.venues.length>0&&(newResult=newResult.concat(additionalSource.venues)));response(newResult)};LSHelper.google.geocode(request.term,callback)},select:function(event,ui){for(var isEnterEvent=!1,tempEvent=event,geocoder;tempEvent.type!="keydown"&&tempEvent.originalEvent!=null;)tempEvent=tempEvent.originalEvent;if(tempEvent.type=="keydown"&&(isEnterEvent=!0,tempEvent.preventDefault(),_preventEnterBindProcessing=!0),_lastSelectedItem=ui.item,options.element.val(ui.item.value),ui.item.extended_city){geocoder=new google.maps.Geocoder;geocoder.geocode({address:ui.item.value},function(results,status){results!=null&&results.length>0&&($.extend(ui.item,{latitude:results[0].geometry.location.lat()}),$.extend(ui.item,{longitude:results[0].geometry.location.lng()}));options.onSelect(ui.item,isEnterEvent);(options.submitOnSelect||isEnterEvent)&&submitSearch(ui.item)});return}options.onSelect(ui.item,isEnterEvent);(options.submitOnSelect||isEnterEvent)&&submitSearch(ui.item)}})}catch(e){console.log("IE7 emulator bug?");alert("IE7 emulator bug?")}}return submitSearch=function(item){var searchString,request;if(_preventEnterBindProcessing=!1,searchString=options.element.val(),request={Address:searchString,Latitude:null,Longitude:null,IsFullTextSearch:!1,IsCurrentLocationSearch:!1,VenueId:null,VenueGroupId:null,ExclusiveHotelsVenueGroupId:LSHelper.sessionStorage.get("ExclusiveHotelsVenueGroupId")},item||(_lastSelectedItem&&searchString==_lastSelectedItem.value?item=_lastSelectedItem:searchString&&searchString.toUpperCase()!==_currentLocationText.toUpperCase()?request.IsFullTextSearch=!request.IsCurrentLocationSearch:(request.IsCurrentLocationSearch=!0,request.Address=_currentLocationText,options.element.val(_currentLocationText))),item&&(request.Latitude=item.latitude,request.Longitude=item.longitude,request.IsFullTextSearch=item.smart_search||!1,request.IsCurrentLocationSearch=item.currentLocation||!1,request.VenueId=item.VenueId||null,request.VenueGroupId=item.VenueGroupId||null),request.IsCurrentLocationSearch&&typeof Modernizr!="undefined"&&Modernizr.geolocation){LSHelper.HelperLib.blockUI(options.element);var geolocationDone=!1,onGeolocationSuccess=function(l){if(!geolocationDone){geolocationDone=!0;LSHelper.HelperLib.unblockUI(options.element);request.Latitude=l.coords.latitude;request.Longitude=l.coords.longitude;options.onSubmit(request)}},onGeolocationError=function(){if(!geolocationDone){geolocationDone=!0;LSHelper.HelperLib.unblockUI(options.element);options.onSubmit(request)}};navigator.geolocation.getCurrentPosition(onGeolocationSuccess,onGeolocationError,{timeout:1e4});setTimeout(function(){onGeolocationError()},10500);return}options.onSubmit(request)},_self};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.SRPHelper={showPreviousWorkspace:function(elem){var $elem=$(elem),$workspace=$elem.parent().parent(),$prev=$workspace.prev(),$wrapper;$prev.length?$prev.show():($wrapper=$workspace.parent(),$wrapper.children().last().show());$workspace.hide()},showNextWorkspace:function(elem){var $elem=$(elem),$workspace=$elem.parent().parent(),$next=$workspace.next(),$wrapper;$next.length?$next.show():($wrapper=$workspace.parent(),$wrapper.children().first().show());$workspace.hide()},isRangeSelected:function(params){return $.extend({min:0,max:Infinity,currentMin:0,currentMax:Infinity},params),isNaN(params.currentMin)&&(params.currentMin=0),isNaN(params.currentMax)&&(params.currentMax=Infinity),params.currentMin==0&&params.currentMax==Infinity?!1:params.currentMin<=params.min&&params.currentMax>=params.max},toggleRange:function(params){$.extend({min:0,max:Infinity,currentMin:0,currentMax:Infinity,setMin:function(value){},setMax:function(value){}},params);isNaN(params.currentMin)&&(params.currentMin=0);isNaN(params.currentMax)&&(params.currentMax=Infinity);params.max==null&&(params.max=Infinity);(params.currentMin!=0||params.currentMax!=Infinity)&&params.currentMin<=params.min&&params.max<=params.currentMax?params.min-params.currentMin>=params.currentMax-params.max||params.max==Infinity?params.min-params.currentMin>0?(params.setMin(params.currentMin),params.setMax(params.min)):(params.setMin(0),params.setMax(null)):(params.setMin(params.max),params.setMax(params.currentMax)):params.currentMin==0&&params.currentMax==Infinity?(params.setMin(params.min),params.setMax(params.max)):(params.setMin(Math.min(params.currentMin,params.min)),params.setMax(Math.max(params.currentMax,params.max)))},getFilterFromHash:function(){var result=LSHelper.HelperLib.getBookmarkUrlParams();return result!=null&&(result.IsFullTextSearch=(result.IsFullTextSearch+"").toLowerCase()==="true",result.IsCurrentLocationSearch=(result.IsCurrentLocationSearch+"").toLowerCase()==="true",result.ReservationMethod=parseInt(result.ReservationMethod),result.Amenities=result.Amenities?result.Amenities.split(",").map(function(id){return id.trim()}):[],result.Neighborhoods=result.Neighborhoods?result.Neighborhoods.split(",").map(function(id){return id.trim()}):[]),result},isCoordinatesSame:function(val1,val2){return Math.round(val1!=undefined?val1*1e5:0)/1e5==(val2!=undefined?Math.round(val2*1e5)/1e5:0)},isFiltersSame:function(filter1,filter2){return LiquidSpace.Search.SRPHelper.isCoordinatesSame(filter1.Longitude,filter2.Longitude)&&LiquidSpace.Search.SRPHelper.isCoordinatesSame(filter1.Latitude,filter2.Latitude)&&filter1.VenueId==filter2.VenueId&&filter1.ReservationMethod==filter2.ReservationMethod&&filter1.ReservationStart==filter2.ReservationStart&&(filter1.WorkspaceCapacity||1)==(filter2.WorkspaceCapacity||1)&&filter1.SpaceTypes==filter2.SpaceTypes&&filter1.IsFullTextSearch==filter2.IsFullTextSearch&&filter1.IsCurrentLocationSearch==filter2.IsCurrentLocationSearch&&Date.parse(filter1.StartTime)==Date.parse(filter2.StartTime)&&filter1.ReservationLengthMinutes==filter2.ReservationLengthMinutes},isValidDate:function(date){return Object.prototype.toString.call(date)==="[object Date]"?isNaN(date.getTime())?!1:!0:!1}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.TimeSpan=function(timeSpanOrMinutes){var _self=this;$.isNumeric(timeSpanOrMinutes)&&(timeSpanOrMinutes=new Date(0,0,0).addMinutes(timeSpanOrMinutes).toString("HH:mm:ss"));this.timeSpan=ko.observable(timeSpanOrMinutes);this.minutes=ko.computed(function(){var timeSpanDate=Date.parse(_self.timeSpan());return timeSpanDate==null||isNaN(timeSpanDate)?(_self.timeSpan(""),null):timeSpanDate.getHours()*60+timeSpanDate.getMinutes()});this.dayTimeText=ko.computed(function(){var timeSpanDate=Date.parse(_self.timeSpan());return timeSpanDate==null||isNaN(timeSpanDate)?(_self.timeSpan(""),"anytime"):timeSpanDate.toString("h:mm tt")})};LiquidSpace.Search.Duration=function(minutes){var _self=this;$.isNumeric(minutes)||(minutes=60);this.minutes=ko.observable(minutes);this.text=ko.computed(function(){return LiquidSpace.Search.Duration.getDurationHint(new Date(0,0,0).addMinutes(_self.minutes()))})};LiquidSpace.Search.Duration.getDurationHint=function(durationTime){var hours=durationTime.getDate()==31?durationTime.getHours():24,minutes=durationTime.getMinutes(),result="[invalid duration string]",value;return hours<1?result=minutes+" min":(value=(hours*60+minutes)/60,result=value+(value==1?" hour":" hours")),result};LiquidSpace.Search.StartDate=function(){var _self=this;this.date=ko.observable();this.isValidDate=ko.computed(function(){var d=_self.date();return LiquidSpace.Search.SRPHelper.isValidDate(d)});this.textValue=ko.computed(function(){var date=_self.date();return _self.isValidDate()?date.toString("yyyy-MM-dd"):null});this.isCurrentDate=ko.computed(function(){return _self.isValidDate()&&_self.date().isSameDay(new Date)})};LiquidSpace.Search.SearchTimeFilters=function(params){var _self=this,_method;params=$.extend({},params);this.startDate=new LiquidSpace.Search.StartDate;this.startTime=new LiquidSpace.Search.TimeSpan;this.duration=new LiquidSpace.Search.Duration;this.startDateVisible=ko.observable(!1);_method=ko.observable(null);this.method=ko.computed({read:function(){return _method()},write:function(val){_method(parseInt(val));_method()==-1&&_method(NaN);val==Enum.WorkspaceReservationMethod.Period&&+_self.duration.minutes()<+Enum.WorkspacePriceDuration.Month&&_self.duration.minutes(+Enum.WorkspacePriceDuration.Month);val!=Enum.WorkspaceReservationMethod.Period&&+_self.duration.minutes()>+Enum.WorkspacePriceDuration.Day&&_self.duration.minutes(+Enum.WorkspacePriceDuration.Hour)}});this.method.isHourly=ko.computed(function(){return _method()!=-1&&_method()!=Enum.WorkspaceReservationMethod.Period});this.method.isMonthly=ko.computed(function(){return _self.startDateVisible(!0),_method()==Enum.WorkspaceReservationMethod.Period});this.defaultStartTime=ko.computed(function(){var currentDate,minutes;return _self.startTime.timeSpan()?_self.startTime:(currentDate=new Date,_self.startDate.isValidDate()&&_self.startDate.date().isSameDay(currentDate)?(minutes=currentDate.getHours()*60+currentDate.getMinutes()-currentDate.getMinutes()%15+15,new LiquidSpace.Search.TimeSpan(minutes)):new LiquidSpace.Search.TimeSpan("7:00:00"))});this.reservationEndTimes=ko.computed(function(){for(var startTimeMinutes=_self.defaultStartTime().minutes(),result=[],minutes=startTimeMinutes+30;minutes<=1440;minutes+=30){var durationTimeOfDay=new Date(0,0,0).addMinutes(minutes),durationHintTime=new Date(durationTimeOfDay).addMinutes(-startTimeMinutes),hint=LiquidSpace.Search.Duration.getDurationHint(durationHintTime);result.push({minutes:minutes-startTimeMinutes,text:durationTimeOfDay.toString("h:mm tt")+" ("+hint+")",hint:hint})}return result});this.displayText=ko.computed(function(){var result="[invalid time filter display text]",startDateValue=_self.startDate.date(),isStartDateInvalid=!_self.startDate.isValidDate(),startDateText=isStartDateInvalid?"This week":new Date(startDateValue).toString("MMM d");if(_self.method.isHourly()){var length=_self.duration.minutes(),lengthText=_self.duration.text(),startTime=_self.startTime.minutes();if($.isNumeric(startTime)){var startTimeDate=new Date(0,0,0).addMinutes(startTime),endTimeDate=new Date(startTimeDate).addMinutes(length),writeMinutes=startTimeDate.getMinutes()||endTimeDate.getMinutes(),writeAMPM=startTimeDate.toString("tt")!=endTimeDate.toString("tt");result=writeMinutes?startDateText+", "+startTimeDate.toString("h:mm tt")+" - "+endTimeDate.toString("h:mm tt"):writeAMPM?startDateText+", "+startTimeDate.toString("h tt")+" - "+endTimeDate.toString("h tt"):startDateText+", "+startTimeDate.toString("h")+" - "+endTimeDate.toString("h tt")}else result=startDateText+", for "+lengthText}else result=isStartDateInvalid?"Starts: Anytime":"Starts: "+startDateText;return result});this.durationText=ko.computed(function(){var result="[invalid length text]",startDateValue=_self.startDate.date(),isStartDateInvalid=!_self.startDate.isValidDate(),startDateText=isStartDateInvalid?"This week":new Date(startDateValue).toString("MMM d"),length=_self.duration.minutes(),lengthText=_self.duration.text(),startTime,startTimeDate,endTimeDate;return _self.method.isHourly()&&(startTime=_self.startTime.minutes(),$.isNumeric(startTime)?(startTimeDate=new Date(0,0,0).addMinutes(startTime),endTimeDate=new Date(startTimeDate).addMinutes(length),result="Ends at "+endTimeDate.toString("h:mm tt")+" ("+length/60+(length>60?" hrs)":" hr)")):result="Duration: "+lengthText),result});this.startTimeText=ko.computed(function(){return"Starts at "+_self.startTime.dayTimeText()});this.startDateText=ko.computed(function(){return _self.startDate.isValidDate()?_self.startDate.date().toString("ddd, MMM d, yyyy"):_self.method.isHourly()?"This week":"Starts: Anytime"});this.isSameMethod=function(reservationMethod){var intMethod=parseInt(reservationMethod),currentMethod=_self.method();return intMethod==currentMethod||isNaN(intMethod)&&isNaN(currentMethod)};this.methodExpanded=ko.observable(!1);this.methodToggleExpanded=function(){_self.methodExpanded(!_self.methodExpanded())};this.timeBlockPopupVisible=ko.observable(!1);this.timeBlockPopupVisibilityDelayed=ko.observable(!1);this.timeBlockPopupVisibleComputed=ko.computed(function(){return _self.timeBlockPopupVisible()||_self.timeBlockPopupVisibilityDelayed()});this.delaytimeBlockPopupVisibility=function(){_self.timeBlockPopupVisibilityDelayed(!0);setTimeout(function(){_self.timeBlockPopupVisibilityDelayed(!1)},1e3)};this.timeBlockPopupToggleVisibility=function(){_self.timeBlockPopupVisible(!_self.timeBlockPopupVisible());_self.timeBlockPopupVisible()||(_self.hideFilterExtensions(),_self.timeBlockPopupVisibilityDelayed(!1))};this.startDateToggleVisibility=function(){_self.delaytimeBlockPopupVisibility();_self.startDateVisible(!_self.startDateVisible());_self.startTimeVisible(!1);_self.durationVisible(!1)};this.startTimeVisible=ko.observable(!1);this.startTimeToggleVisibility=function(){_self.delaytimeBlockPopupVisibility();_self.startTimeVisible(!_self.startTimeVisible());_self.startDateVisible(!1);_self.durationVisible(!1)};this.durationVisible=ko.observable(!1);this.durationToggleVisibility=function(){_self.delaytimeBlockPopupVisibility();_self.durationVisible(!_self.durationVisible());_self.startDateVisible(!1);_self.startTimeVisible(!1)};this.hideFilterExtensions=function(){_self.startDateVisible(!1);_self.startTimeVisible(!1);_self.durationVisible(!1)};this.isDefaultStartTime=function(timeSpan){var currentDate,currentTimeSpan;return _self.startDate.isCurrentDate()?(currentDate=new Date,currentDate.setMinutes(currentDate.getMinutes()-currentDate.getMinutes()%15+15),currentDate.setSeconds(0),currentTimeSpan=currentDate.toString("HH:mm:ss"),timeSpan==currentTimeSpan):timeSpan=="07:00:00"}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.FeedbackViewModel=function(viewModel){var _self=this;this.display=ko.computed(function(){var isLastPage=viewModel&&viewModel.searchPager&&viewModel.searchPager.currentPage()==viewModel.searchPager.pageCount()-1;return viewModel.displayMTMNullState()||viewModel.displayNullState()||isLastPage},this);this.isMTM=ko.computed(function(){return viewModel.displayMTMNullState()},this);this.email=ko.observable().extend({required:{message:"Please fill in your Email"},email:!0});this.emailVisible=function(){return!(viewModel.memberId()&&viewModel.memberId().length>0)};this.submitDisabled=function(){return _self.email.isValid()?!_self.email.isValid():_self.emailVisible()};this.feedbackSubmitted=ko.observable(!1);this.submitFeedback=function(){!_self.emailVisible()||_self.email.isValid()?(LSHelper.HelperLib.blockUI(),viewModel.saveSearch(_self.email(),"ThroughEmptySearchResults",function(memberId,memberName){viewModel.memberId(memberId);_self.feedbackSubmitted(!0);_self.submitFeedbackEmail(memberId,memberName)})):_self.emailVisible()&&ko.validation.group(_self).showAllMessages()};this.submitFeedbackEmail=function(memberId,memberName){var filters=[{Name:"Reservation Method",DisplayValue:viewModel.timeFilters.method.isMonthly()?"Monthly":"Hourly"},{Name:"Search Address",DisplayValue:viewModel.searchbarAddress()}],appliedFilters,data;viewModel.searchRequest.Latitude()&&filters.push({Name:"Latitude",DisplayValue:viewModel.searchRequest.Latitude()});viewModel.searchRequest.Longitude()&&filters.push({Name:"Longitude",DisplayValue:viewModel.searchRequest.Longitude()});appliedFilters=$.map(viewModel.appliedFilters(),function(element,index){return{Name:element.name,DisplayValue:element.displayValue}});Array.prototype.push.apply(filters,appliedFilters);data={IsMonthToMonth:_self.isMTM(),FeedbackEmail:_self.email(),FeedbackName:memberName,SearchQuery:window.location.href,Filters:filters};$.ajax({url:"/Search/SubmitNullStateFeedback",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(data),success:function(data){viewModel.noVenuesFeedbackSubmitted(data)},complete:function(){LSHelper.HelperLib.unblockUI()}})}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Search=="undefined"&&(LiquidSpace.Search={});LiquidSpace.Search.SearchRequest=function(params){var _self=this,isRangeSelected,toggleRange;params=$.extend({searchRequest:null},params);this.timeFilters=new LiquidSpace.Search.SearchTimeFilters;ko.mapping.fromJS(params.searchRequest,{ignore:["Id","CreatedDate","ModifiedDate","FromOnboarding"],ReservationMethod:{create:function(options){return _self.timeFilters.method(options.data),ko.computed({read:function(){return _self.timeFilters.method()},write:function(val){_self.timeFilters.method(val)}})}},StartTime:{create:function(options){return _self.timeFilters.startDate.date(Date.parse(options.data)),ko.computed({read:function(){return _self.timeFilters.startDate.date()},write:function(val){_self.timeFilters.startDate.date(val)}})}},ReservationStart:{create:function(options){return _self.timeFilters.startTime.timeSpan(options.data),ko.computed({read:function(){return _self.timeFilters.startTime.timeSpan()},write:function(val){_self.timeFilters.startTime.timeSpan(val)}})}},ReservationLengthMinutes:{create:function(options){return _self.timeFilters.duration.minutes(options.data),ko.computed({read:function(){return _self.timeFilters.duration.minutes()},write:function(val){_self.timeFilters.duration.minutes(val)}})}}},this);this.toJS=function(){var result=ko.mapping.toJS(_self);return result.StartTime=_self.timeFilters.startDate.textValue(),result};isRangeSelected=LiquidSpace.Search.SRPHelper.isRangeSelected;toggleRange=LiquidSpace.Search.SRPHelper.toggleRange;this.ignoreMapBoundsAdjust=ko.observable(!1);this.toggleSizeRange=function(min,max){_self.ignoreMapBoundsAdjust(!0);toggleRange({min:min,max:max,currentMin:parseFloat(_self.MinSize()),currentMax:parseFloat(_self.MaxSize()),setMin:function(value){_self.MinSize(value)},setMax:function(value){_self.MaxSize(value)}})};this.isSizeRangeSelected=function(min,max){return isRangeSelected({min:min,max:max,currentMin:parseFloat(_self.MinSize()),currentMax:parseFloat(_self.MaxSize())})};this.toggleCapacityRange=function(min,max){_self.ignoreMapBoundsAdjust(!0);toggleRange({min:min,max:max,currentMin:parseFloat(_self.WorkspaceCapacity()),currentMax:parseFloat(_self.WorkspaceMaxCapacity()),setMin:function(value){value==max?_self.WorkspaceCapacity(value+1):_self.WorkspaceCapacity(value)},setMax:function(value){value==min?_self.WorkspaceMaxCapacity(value-1):_self.WorkspaceMaxCapacity(value)}})};this.toggleCapacityRange1=function(){_self.ignoreMapBoundsAdjust(!0);_self.toggleCapacityRange(0,1);_self.WorkspaceCapacity()==0&&_self.WorkspaceCapacity(null)};this.isCapacityRangeSelected=function(min,max){return isRangeSelected({min:min,max:max,currentMin:parseInt(_self.WorkspaceCapacity()),currentMax:parseInt(_self.WorkspaceMaxCapacity())})};this.togglePriceRange=function(min,max){toggleRange({min:min,max:max,currentMin:parseFloat(_self.MinPrice()),currentMax:parseFloat(_self.MaxPrice()),setMin:function(value){_self.MinPrice(value)},setMax:function(value){_self.MaxPrice(value)}})};this.toggleFreePriceRange=function(){_self.ignoreMapBoundsAdjust(!0);var currentMax=parseFloat(_self.MaxPrice());isNaN(currentMax)&&(currentMax=Infinity);_self.isFreePriceRangeSelected()&&currentMax<=.001?_self.MaxPrice(null):_self.togglePriceRange(0,.001)};this.isPriceRangeSelected=function(min,max){return isRangeSelected({min:min,max:max,currentMin:parseFloat(_self.MinPrice()),currentMax:parseFloat(_self.MaxPrice())})};this.isFreePriceRangeSelected=function(){var currentMin=parseFloat(_self.MinPrice()),currentMax=parseFloat(_self.MaxPrice());return isNaN(currentMin)&&(currentMin=0),isNaN(currentMax)&&(currentMax=Infinity),currentMin==0&&currentMax==Infinity?!1:currentMin<.001||currentMax<=.001};this.isSpaceTypeSelected=function(spaceType){return _self.SpaceTypes()&spaceType};this.toggleSpaceType=function(spaceType){_self.ignoreMapBoundsAdjust(!0);_self.SpaceTypes(_self.SpaceTypes()^spaceType)};this.toggleNeighborhood=function(neighborhoodId){_self.ignoreMapBoundsAdjust(!0);_self.isNeighborhoodSelected(neighborhoodId)?_self.NeighborhoodIds.remove(neighborhoodId):_self.NeighborhoodIds.push(neighborhoodId)};this.isNeighborhoodSelected=function(neighborhoodId){return _self.NeighborhoodIds.indexOf(neighborhoodId)!=-1};this.toggleAmenity=function(amenityId){_self.ignoreMapBoundsAdjust(!0);_self.isAmenitySelected(amenityId)?_self.AmenityIds.remove(amenityId):_self.AmenityIds.push(amenityId)};this.isAmenitySelected=function(amenityId){return _self.AmenityIds.indexOf(amenityId)!=-1};this.isStartTimeSelected=function(timeSpan){return _self.timeFilters.startTime.timeSpan()==timeSpan};this.priceFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinPrice=parseFloat(_self.MinPrice()),filterMaxPrice=parseFloat(_self.MaxPrice()),getMinLabel,getMaxLabel;return isNaN(filterMinPrice)&&(filterMinPrice=0),isNaN(filterMaxPrice)&&(filterMaxPrice=Infinity),(filterMinPrice!=0||filterMaxPrice!=Infinity)&&(displayValue="Price filter",filterMaxPrice<=1?displayValue="Free":(getMinLabel=function(){var result="";return result=filterMinPrice<.001?"Free":filterMinPrice<=1?"$1":filterMinPrice==Infinity?"":"$"+filterMinPrice,filterMaxPrice==Infinity&&(result+="+"),result},getMaxLabel=function(){return filterMaxPrice==Infinity?"":"-$"+(filterMaxPrice-1)},displayValue=getMinLabel()+getMaxLabel())),displayValue});this.sizeFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinSize=parseFloat(_self.MinSize()),filterMaxSize=parseFloat(_self.MaxSize());return isNaN(filterMinSize)&&(filterMinSize=0),isNaN(filterMaxSize)&&(filterMaxSize=Infinity),(filterMinSize!=0||filterMaxSize!=Infinity)&&(displayValue=filterMaxSize==Infinity?"over "+(filterMinSize-1)+" sq ft":filterMinSize==0?"up to "+(filterMaxSize-1)+" sq ft":filterMinSize-1+"-"+(filterMaxSize-1)+" sq ft"),displayValue});this.capacityFilterDisplayValue=ko.computed(function(){var displayValue=null,filterMinCapacity=parseInt(_self.WorkspaceCapacity()),filterMaxCapacity=parseInt(_self.WorkspaceMaxCapacity());return isNaN(filterMinCapacity)&&(filterMinCapacity=0),isNaN(filterMaxCapacity)&&(filterMaxCapacity=Infinity),(filterMinCapacity>1||filterMaxCapacity!=Infinity)&&(displayValue=filterMaxCapacity==Infinity?"over "+filterMinCapacity:filterMinCapacity<=1?"up to "+filterMaxCapacity:filterMinCapacity+"-"+filterMaxCapacity),displayValue})};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.Search=function(params){var options={locationTempateName:null,maxResults:null,elementToBindSelector:".page-wrapper",showMemberGroupPreferred:!1,userIsSuperUser:!1,searchAvailable:!1,modelMemberId:null,maxVenueWorkspacesPerPage:0,pageSize:50,searchRequest:null,memberId:"",memberName:"",hideFilterInitially:!1},searchValue,calculateNeighborhoodDistancesFromCenter,reorderWorkspacesByMaxCount,boundsToFitForCitySearch,pageNumberFromUrlHash;$.extend(options,params);var _self=this,mapTrackText="Location based on map",optionalText=$("#searchbar_address").attr("placeholder"),newSearch=function(){};this.joinParams=function(nameValueDictionary){for(var params=[],i=0;i<nameValueDictionary.length;i++)nameValueDictionary[i].value!=null&&nameValueDictionary[i].value.length>0&&params.push("@"+nameValueDictionary[i].name+"="+nameValueDictionary[i].value);return params.length>0?params.join("$")+"$":""};this.setBookmarkUrl=function(){var data=$("#searchWorkspacesForm").formToArray(!0).filter(function(item){return item.name.lastIndexOf("AmenityIds[")==-1&&item.name.lastIndexOf("NeighborhoodIds[")==-1}),map,filterAmenities,neighborhoodsSelectedIds,str;_self.map!=null&&_self.map.map!=null&&_self.map.map.getCenter()!=null&&(map=_self.map.map,data.push({name:"mapLng",value:map.getCenter().lng().toString()}),data.push({name:"mapLat",value:map.getCenter().lat().toString()}),data.push({name:"mapZoom",value:map.getZoom().toString()}),data.push({name:"trackMapCenter",value:_self.viewModel.trackMapCenter().toString()}));filterAmenities=_self.viewModel.searchRequest.AmenityIds();filterAmenities.length>0&&data.push({name:"Amenities",value:filterAmenities.join(",")});neighborhoodsSelectedIds=_self.viewModel.searchRequest.NeighborhoodIds();neighborhoodsSelectedIds.length>0&&data.push({name:"Neighborhoods",value:neighborhoodsSelectedIds.join(",")});str=_self.joinParams(data);LSHelper.HelperLib.addTrackToUrl("q",str,!1);$.cookie("search-request",JSON.stringify({ReservationMethod:_self.viewModel.searchRequest.ReservationMethod()}),{path:"/"})};this.startMapSearch=function(lat,lng,bounds,event_source){var center,sdata;_self.viewModel.trackMapCenter()==!0&&(_self.viewModel.mapMoveSearch(!0),lat==undefined&&lng==undefined&&(center=_self.map.map.getCenter(),lat=center.lat(),lng=center.lng()),_self.viewModel.searchRequest.IsFullTextSearch(!1),_self.viewModel.searchRequest.IsCurrentLocationSearch(!1),$("#searchbar_address").val(""),_self.viewModel.searchRequest.Latitude(lat),_self.viewModel.searchRequest.Longitude(lng),sdata=$("#searchWorkspacesForm").formToArray(!0),sdata.push({name:"Distance",value:_self.map.getDisplayRadius()}),_self.viewModel.searchCompleted()==!0||_self.needToRestoreMapCenter?_self.getWorkspaces(undefined,sdata,function(data){_self.populateBinding({workspaces:data.workspaces,amenitiesInResult:data.amenitiesInResult,neighborhoodsInResult:data.neighborhoodsInResult,memberFavoriteWorkspaceIds:data.memberFavoriteWorkspaceIds,featuredWorkspaces:data.featuredWorkspaces,searchPerformance:data.searchPerformance,totalWorkspacesUntrimmed:data.totalWorkspacesUntrimmed,geoLocation:data.geoLocation});newSearch()}):newSearch=function(){newSearch=function(){};_self.getWorkspaces(undefined,sdata,function(data){_self.populateBinding({workspaces:data.workspaces,amenitiesInResult:data.amenitiesInResult,neighborhoodsInResult:data.neighborhoodsInResult,memberFavoriteWorkspaceIds:data.memberFavoriteWorkspaceIds,featuredWorkspaces:data.featuredWorkspaces,searchPerformance:data.searchPerformance,totalWorkspacesUntrimmed:data.totalWorkspacesUntrimmed,geoLocation:data.geoLocation});newSearch()})});_self.setBookmarkUrl()};this.startSearch=function(request){if(_self.viewModel.searchIsProcessing()!=!0){try{$("#StartTime").rules("remove")}catch(e){}request&&(_self.viewModel.searchRequest.IsFullTextSearch(request.IsFullTextSearch),_self.viewModel.searchRequest.Latitude(request.Latitude),_self.viewModel.searchRequest.Longitude(request.Longitude),_self.viewModel.setVenueAndVenueGroupIds(request.VenueId||"",request.VenueGroupId||"",_self.viewModel.searchRequest.SearchByANDCondition()),_self.viewModel.searchRequest.IsCurrentLocationSearch(request.IsCurrentLocationSearch),_self.viewModel.mapMoveSearch(!1));_self.viewModel.searchIsProcessing(!0);$(document).scrollTop(0);_self.viewModel.searchRequest.ExclusiveHotelsVenueGroupId(LSHelper.sessionStorage.get("ExclusiveHotelsVenueGroupId"));$(".search-featured-description, .promotion-header-wrapper").remove();_self.viewModel.mapMoveSearch()&&$("#searchbar_address").attr("placeholder")==mapTrackText&&!$("#searchbar_address").val()?_self.startMapSearch():($("#searchbar_address").blur(),_self.setBookmarkUrl(),_self.viewModel.searchPager.setCurrentPage(0,"normal"),_self.viewModel.mapMoveSearch(!1),_self.searchWorkspaces(undefined,function(){_self.viewModel.searchIsProcessing(!1)}))}};this.map={clearMarkers:function(){},addMarker:function(){},fitBounds:function(){},resizeMap:function(){},lastSelectedItem:null};this.init_map=function(mapSource,supportedCountries){_self.map=new googleMaps({mapId:"searchbar_map_canvas",_centerChanged:function(lat,lng,bounds,event_source){_self.startMapSearch(lat,lng,bounds,event_source)},_onDragStart:function(){_self.viewModel.showMapDragHint()||_self.viewModel.trackMapCenter()||(_self.viewModel.showMapDragHint(!0),setTimeout(function(){_self.viewModel.showMapDragHint(!1)},7e3));_self.map.closeInfoWindows()},markerDraggable:!1,addCenterMarker:!1,scrollwheel:null,mapSource:mapSource,mapCenterChanged:function(center){calculateNeighborhoodDistancesFromCenter(center)}});_self.map.setAllowedCountries(supportedCountries)};$("#searchbar_address").searchAutocomplete({memberId:options.memberId,onSubmit:_self.startSearch,onSelect:function(item){var location,geocoder;_self.viewModel.searchRequest.ignoreMapBoundsAdjust(!1);item.extended||item.extended_city?item.extended_city&&(geocoder=new google.maps.Geocoder,geocoder.geocode({address:item.value},function(results,status){results!=null&&results.length>0&&(_self.map.addLocationMarker(results[0].geometry.location,!1),_self.map.setLocationValues(results[0].geometry.location))})):(location=new google.maps.LatLng(item.latitude,item.longitude),_self.map.addLocationMarker(location,!1),_self.map.setLocationValues(location))}});_self.memberFavoriteWorkspaceIds=[];this.workspaceId="";this.dateStr="";this.sessionExpiredShown=!1;this.getData=function(venueId,data,url,onSuccess,onError,skipShowLoading){skipShowLoading||_self.viewModel.searchCompleted(!1);$.each(data,function(i,val){val.name=="VenueId"&&(val.name="Empty")});data.push({name:"VenueId",value:venueId});data.push({name:"loggedInUserId",value:options.modelMemberId});var onSuccessInternal=function(data){data!=null&&data.sessionExpired&&!_self.sessionExpiredShown&&(_self.sessionExpiredShown=!0,LSHelper.UI.showError({title:"Your administrator session has expired",content:"Search results is for anonymous user, please refresh page or relogin."}));onSuccess(data)};$.ajax({type:"POST",url:url,data:data,async:!0,success:onSuccessInternal,error:function(xhr,ajaxOptions,thrownError){$.isFunction(onError)&&onError(xhr,ajaxOptions,thrownError)},complete:function(){_self.viewModel.searchCompleted(!0);_self.viewModel.noVenuesFeedbackSubmitted(!1)}})};this.getWorkspaces=function(venueId,data,onSuccess,onError){_self.viewModel.savedSearchDirty(!0);$("#searchbar_address").val()&&_self.viewModel.searchbarAddress($("#searchbar_address").val());_self.getData(venueId,data,GetUrl("GetWorkspaces","Search"),onSuccess,onError)};this.setMapCenter=function(lat,lng){lat!=undefined&&lat!=_self.viewModel.searchRequest.Latitude()&&_self.viewModel.searchRequest.Latitude(lat);lng!=undefined&&lng!=_self.viewModel.searchRequest.Longitude()&&_self.viewModel.searchRequest.Longitude(lng);_self.viewModel.mapMoveSearch()||(_self.viewModel.searchRequest.ignoreMapBoundsAdjust()||(_self.map.showMapCenter(!0,_self.viewModel.searchRequest.Latitude(),_self.viewModel.searchRequest.Longitude()),_self.viewModel.filteredWorkspacesUnpaged().length>0&&_self.map.fitBounds(_self.viewModel.searchRequest.Latitude(),_self.viewModel.searchRequest.Longitude())),_self.setBookmarkUrl())};this.searchWorkspaces=function(venueId,successFunc,removeFilters){$("#searchbar_address").removeClass("input-validation-error");var data=$("#searchWorkspacesForm").formToArray(!0);LSHelper.HelperLib.blockUI("#searchWorkspacesForm");_self.getWorkspaces(_self.viewModel.searchRequest.VenueId(),data,function(result){if(typeof ga=="function"){var searchTerm="unknown";result.address&&(searchTerm=result.address);ga("send","pageview",{page:"/vpv/search?search-term="+searchTerm})}_self.viewModel.timeFilters.isSameMethod(result.reservationMethod)||_self.viewModel.timeFilters.method(result.reservationMethod);result.searchAvailable!=undefined&&_self.viewModel.searchAvailable(result.searchAvailable);_self.populateBinding({workspaces:result.workspaces,amenitiesInResult:result.amenitiesInResult,neighborhoodsInResult:result.neighborhoodsInResult,memberFavoriteWorkspaceIds:result.memberFavoriteWorkspaceIds,featuredWorkspaces:result.featuredWorkspaces,searchPerformance:result.searchPerformance,totalWorkspacesUntrimmed:result.totalWorkspacesUntrimmed,geoLocation:result.geoLocation});$(".scroll-container").scrollTop(0);LSHelper.HelperLib.unblockUI("#searchWorkspacesForm");typeof successFunc!="undefined"&&$.isFunction(successFunc)&&successFunc()},function(){LSHelper.HelperLib.unblockUI("#searchWorkspacesForm")})};this.setAmenities=function(amenitiesInResult){_self.viewModel.amenitiesInResult(amenitiesInResult.filter(function(a){return a.Name!="WiFi"}).map(function(a){var normalizedName=_self.amenitiesNormalizedNames[a.Id];return $.extend({normalizedName:normalizedName,trackingEventName:"event-click-search-filter-amenity-"+normalizedName,iconClass:"amenity-icon-"+normalizedName,checked:ko.computed(function(){return _self.viewModel.searchRequest.isAmenitySelected(a.Id)})},a)}).sort(function(a,b){return a.Name>b.Name}));_self.viewModel.searchRequest.AmenityIds(_self.viewModel.amenitiesInResult().filter(function(a){return a.checked()==!0}).map(function(a){return a.Id}))};this.viewModel={mouseOver:function(workspace){var marker=_self.markersData[workspace.VenueId].marker;marker&&marker.icon&&(marker.initialMarker||(marker.initialMarker=marker.icon),marker.icon.overIcon&&marker.setIcon(marker.icon.overIcon),marker.initialZIndex||(marker.initialZIndex=marker.zIndex),marker.setZIndex(9999))},mouseOut:function(workspace){var marker=_self.markersData[workspace.VenueId].marker;marker&&marker.icon&&(marker.setIcon(marker.initialMarker?marker.initialMarker:marker.icon),marker.setZIndex(marker.initialZIndex?marker.initialZIndex:marker.zIndex))},searchbarAddress:ko.observable(""),searchType:function(){return _self.viewModel.searchRequest.VenueId()?"venue":_self.viewModel.searchRequest.VenueGroupId()?"venuegroup":"city"},showMapDragHint:ko.observable(!1),searchCompleted:ko.observable(!1),trackMapCenter:ko.observable(!1),mapMoveSearch:ko.observable(!1),setPageCount:function(){},pageSize:function(){return _self.viewModel.searchType()=="venuegroup"?100:options.pageSize},searchIsProcessing:ko.observable(!1),searchIsProcessingInitial:ko.observable(!0),searchAvailable:ko.observable(options.searchAvailable),setVenueAndVenueGroupIds:function(venueId,venueGroupId,searchByANDCondition){searchByANDCondition||(_self.viewModel.searchRestrictionName(""),_self.viewModel.searchRequest.SearchByANDCondition(!1),_self.viewModel.searchRequest.VenueId(venueId),_self.viewModel.searchRequest.VenueGroupId(venueGroupId))},memberId:ko.observable(options.memberId),searchRestrictionName:ko.observable(""),workspaces:ko.observableArray(),totalWorkspacesUntrimmed:ko.observable(0),featuredWorkspaces:ko.observableArray(),featuredWorkspacesTemp:ko.observableArray(),filters:ko.observableArray(),filterMemberGroups:ko.observableArray([]),filterMemberGroupsImmutable:ko.observableArray([]),searchRequest:new LiquidSpace.Search.SearchRequest({searchRequest:options.searchRequest}),searchPerformance:ko.observableArray(),noVenuesAvailableVisibility:function(){return!this.searchIsProcessingInitial()&&!this.searchIsProcessing()&&this.workspaceCount()==0&&this.searchAvailable()&&!this.appliedFilters().length&&this.searchCompleted()},noVenuesFeedbackSubmitted:ko.observable(!1),template:function(){return"ListTemplate"},templateFeatured:function(){return"FeaturedListTemplate"}.bind(_self.viewModel),filtersShown:ko.observable(!1),sizeFilterVisible:ko.observable(!1),neighborhoods:ko.observableArray([]),amenities:ko.observableArray(),amenitiesInResult:ko.observableArray([]),savedSearchDirty:ko.observable(!0),previousNotLoggedInCallback:null,memberName:ko.observable(options.memberName),saveSearch:function(email,memberConnectionType,callback){var userId,userName,data;_self.viewModel.savedSearchDirty()&&(userId=_self.viewModel.memberId(),userName=_self.viewModel.memberName(),_self.viewModel.previousNotLoggedInCallback=document.notLoggedInCallBack,document.notLoggedInCallBack=function(){LSHelper.Account.popUpSignIn({redirectUrl:"",onLogInSuccessCallback:function(userId,memberName){_self.viewModel.memberId(userId);_self.viewModel.memberName(memberName);_self.viewModel.saveSearch(email,memberConnectionType,callback)},onCloseCallback:function(){document.notLoggedInCallBack=_self.viewModel.previousNotLoggedInCallback},onlyHeaderReload:!0,signInMessage:"Login to save your preferences",joinMessage:"Join us to save your preferences.",popupParams:{email:email,mode:"join",memberConnectionType:memberConnectionType?memberConnectionType:"SaveSearchPreferences"}})},data=$("#searchWorkspacesForm").formToArray(!0),_self.getData(_self.viewModel.searchRequest.VenueId(),data,GetUrl("SaveMemberSearch","Search"),function(er){document.notLoggedInCallBack=_self.viewModel.previousNotLoggedInCallback;_self.viewModel.savedSearchDirty(!1);_self.viewModel.closeSavePopup();callback!=null&&callback(userId,userName)},function(er,status,desc){},!0))},closeSavePopup:function(){var $elemAnimateTo,offset,$popup;$.cookie("savePopupCancelled",!0);$elemAnimateTo=$(".save-all-filters");$elemAnimateTo.length>0&&(offset=$elemAnimateTo.offset(),$popup=$(".save-search-popup"),$popup.css({opacity:0,transform:"scale(0.1)",bottom:$(document).height()-offset.top+$elemAnimateTo.height()-$popup.height()+"px",right:$(document).width()-offset.left+$elemAnimateTo.width()-$popup.width()+"px"}));$(".save-search-popup").removeClass("opened")},openSavePopup:function(){$.cookie("savePopupCancelled")||$(".save-search-popup").addClass("opened")}};this.viewModel.timeFilters=this.viewModel.searchRequest.timeFilters;this.viewModel.trackMapCenter.subscribe(function(newValue){newValue==!0?searchValue=$("#searchbar_address").val():$("#searchbar_address").val(searchValue);_self.setBookmarkUrl()});this.viewModel.trackMapCenterDependent=ko.computed(function(){_self.viewModel.trackMapCenter()==!0&&_self.viewModel.mapMoveSearch()==!0?($("#searchbar_address").val(""),$("#searchbar_address").attr("placeholder",mapTrackText)):$("#searchbar_address").attr("placeholder",optionalText)});this.viewModel.neighborhoodsSorted=ko.computed(function(){return _self.viewModel.neighborhoods().sort(function(a,b){return a.distanceFromCenter()>b.distanceFromCenter()})});calculateNeighborhoodDistancesFromCenter=function(center){_self.viewModel.neighborhoods().forEach(function(n){n.distanceFromCenter(google.maps.geometry.spherical.computeDistanceBetween(center,n.center))})};this.setNeighborhoods=function(neighborhoodsInResult){var mapCenter=_self.map.map.getCenter();_self.viewModel.neighborhoods(neighborhoodsInResult.map(function(n){var center=new google.maps.LatLng(n.latitude,n.longitude);return $.extend({checked:ko.computed(function(){return _self.viewModel.searchRequest.isNeighborhoodSelected(n.id)}),center:center,distanceFromCenter:ko.observable(mapCenter!=null?google.maps.geometry.spherical.computeDistanceBetween(mapCenter,center):0)},n)}));_self.viewModel.searchRequest.NeighborhoodIds(_self.viewModel.neighborhoods().filter(function(n){return n.checked()==!0}).map(function(n){return n.id}));viewModel.uncheckedNeighborhoods.removeAll()};this.viewModel.toggleNeighborhood=function(neighborhood){_self.viewModel.searchRequest.toggleNeighborhood(neighborhood.id);_self.setBookmarkUrl()};this.viewModel.displayMTMNullState=function(){return!this.searchIsProcessingInitial()&&!this.searchIsProcessing()&&this.searchAvailable()&&this.searchCompleted()&&_self.viewModel.searchPager&&_self.viewModel.searchPager.pageCount()==0&&_self.viewModel.timeFilters.method.isMonthly()};this.viewModel.displayNullState=function(){return!this.searchIsProcessingInitial()&&!this.searchIsProcessing()&&this.searchAvailable()&&this.searchCompleted()&&_self.viewModel.searchPager&&_self.viewModel.searchPager.pageCount()==0&&_self.viewModel.timeFilters.method.isHourly()};this.viewModel.redirectToWpp=function(data,event,url){event.preventDefault();var params=$.param({ReservationLengthMinutes:_self.viewModel.timeFilters.duration.minutes(),StartTime:_self.viewModel.timeFilters.startDate.textValue(),ReservationStart:_self.viewModel.timeFilters.startTime.timeSpan(),WorkspaceCapacity:_self.viewModel.searchRequest.WorkspaceCapacity(),Amenities:_self.viewModel.searchRequest.AmenityIds().join(",")});window.location.href=url+"?"+params};this.viewModel.feedbackViewModel=new LiquidSpace.View.FeedbackViewModel(_self.viewModel);this.viewModel.amenitiesSelected=ko.computed(function(){return _self.viewModel.amenitiesInResult().filter(function(a){return a.checked()})});this.viewModel.neighborhoodsSelected=ko.computed(function(){return _self.viewModel.neighborhoods().filter(function(n){return n.checked()})});this.viewModel.neighborhoodsFollowCompleted=ko.observable(!1);this.viewModel.neighborhoodsLocation=ko.computed(function(){var neighborhoodsSorted=_self.viewModel.neighborhoodsSorted();return neighborhoodsSorted.length>0?neighborhoodsSorted[0].location:null});this.viewModel.cityClass=ko.computed(function(){return _self.viewModel.neighborhoodsLocation()?_self.viewModel.neighborhoodsLocation().toLowerCase().replace(" ","-"):null});this.viewModel.uncheckedNeighborhoods=ko.observableArray();this.viewModel.neighborhoodsToFollow=ko.computed(function(){for(var result=[],neighborhoodsSorted=_self.viewModel.neighborhoodsSorted().filter(function(element){return element.location==_self.viewModel.neighborhoodsLocation()}),i=0;i<neighborhoodsSorted.length;i++)if(_self.viewModel.uncheckedNeighborhoods.indexOf(neighborhoodsSorted[i].id)==-1&&(result.push(neighborhoodsSorted[i]),result.length==6))return result;return result});this.viewModel.uncheckNeighborhood=function(neighborhood){_self.viewModel.uncheckedNeighborhoods.push(neighborhood.id)};this.viewModel.followNeighborhoods=function(){if(_self.viewModel.neighborhoodsToFollow().length>0){var neighborhoodsIds=_self.viewModel.neighborhoodsToFollow().map(function(value){return value.id});$(".neighborhoods-panel-wrapper").lsLoading("set");$.ajax({url:"/Search/FollowNeighborhoods",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({neighborhoods:neighborhoodsIds,location:_self.viewModel.neighborhoodsLocation()}),success:function(data){data&&data.success?(_self.viewModel.neighborhoodsFollowCompleted(!0),$("#neighborhoods-follow-completed-banner").fadeIn(1e3).delay(5e3).fadeOut(1e3)):data&&data.loginNeeded&&LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){_self.viewModel.followNeighborhoods()},onlyHeaderReload:!0,popupParams:{mode:"join",memberConnectionType:"ThroughFollowNeighborhoods",regType:"ThroughFollowNeighborhoods",additionalRegData:JSON.stringify(neighborhoodsIds)}})},complete:function(){$(".neighborhoods-panel-wrapper").lsLoading("remove")}})}};this.viewModel.workspaceCount=ko.computed(function(){var workspaceUntrimmed=_self.viewModel.totalWorkspacesUntrimmed(),workspacesCount;if(_self.viewModel.filteredWorkspacesUnpaged){if(workspacesCount=_self.viewModel.filteredWorkspacesUnpaged().length,workspacesCount<200)return workspacesCount;else if(workspacesCount<=workspaceUntrimmed)return workspaceUntrimmed}else return workspaceUntrimmed});var getPriceFilterDisplayValue=ko.computed(function(){var displayValue=_self.viewModel.searchRequest.priceFilterDisplayValue();return displayValue!=null?"Price: "+displayValue:null}),getSizeFilterDisplayValue=ko.computed(function(){var displayValue=_self.viewModel.searchRequest.sizeFilterDisplayValue();return displayValue!=null?"Size: "+displayValue:null}),getCapacityFilterDisplayValue=ko.computed(function(){var displayValue=_self.viewModel.searchRequest.capacityFilterDisplayValue();return displayValue!=null?"Capacity: "+displayValue:null});this.viewModel.appliedFilters=ko.computed(function(){var result=[],filterSpaceTypes,priceFilterDisplayValue,capacityFilterDisplayValue,sizeFilterDisplayValue;return _self.viewModel.filterMemberGroupsImmutable().forEach(function(memberGroup){result.push({displayValue:"Approved by "+memberGroup,launchSearch:!1,removeFunc:function(clearAll){},name:"group_immutable",immutable:!0})}),_self.viewModel.filterMemberGroups().forEach(function(memberGroup){result.push({displayValue:"Approved by "+memberGroup,launchSearch:!1,removeFunc:function(clearAll){_self.viewModel.filterMemberGroups(_self.viewModel.filterMemberGroups().filter(function(m){return m!=memberGroup}))},name:"group",immutable:!1})}),_self.viewModel.timeFilters.startDate.isValidDate()&&result.push({displayValue:_self.viewModel.timeFilters.startDateText(),launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.timeFilters.startDate.date(null);clearAll||_self.startSearch()},name:"startDate",immutable:!1}),_self.viewModel.timeFilters.startTime.timeSpan()&&result.push({displayValue:_self.viewModel.timeFilters.startTimeText(),launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.timeFilters.startTime.timeSpan("");clearAll||_self.startSearch()},name:"startTime",immutable:!1}),_self.viewModel.timeFilters.method.isHourly()&&_self.viewModel.timeFilters.duration.minutes()!=Enum.WorkspacePriceDuration.Hour&&result.push({displayValue:_self.viewModel.timeFilters.durationText(),launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.timeFilters.duration.minutes(+Enum.WorkspacePriceDuration.Hour);clearAll||_self.startSearch()},name:"reservationLength",immutable:!1}),filterSpaceTypes=_self.viewModel.searchRequest.SpaceTypes(),filterSpaceTypes&&Enum.SpaceType.getValues().forEach(function(spaceType){var intValue=parseInt(spaceType.Value);intValue&&intValue&_self.viewModel.searchRequest.SpaceTypes()&&result.push({displayValue:spaceType.Description,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.SpaceTypes(_self.viewModel.searchRequest.SpaceTypes()&~intValue);clearAll||_self.startSearch()},name:"space",immutable:!1})}),_self.viewModel.neighborhoodsSelected().forEach(function(neighborhood){result.push({displayValue:neighborhood.name,launchSearch:!1,removeFunc:function(clearAll){_self.viewModel.searchRequest.NeighborhoodIds.remove(neighborhood.id)},name:"neighborhood",immutable:!1})}),priceFilterDisplayValue=getPriceFilterDisplayValue(),priceFilterDisplayValue&&result.push({displayValue:priceFilterDisplayValue,launchSearch:!0,removeFunc:function(clearAll){_self.setMinPriceFilter(0);_self.setMaxPriceFilter(Infinity,!0);clearAll||_self.startSearch()},name:"price",immutable:!1}),capacityFilterDisplayValue=getCapacityFilterDisplayValue(),capacityFilterDisplayValue&&result.push({displayValue:capacityFilterDisplayValue,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.WorkspaceCapacity(0);_self.viewModel.searchRequest.WorkspaceMaxCapacity(Infinity);clearAll||_self.startSearch()},name:"capacity",immutable:!1}),sizeFilterDisplayValue=getSizeFilterDisplayValue(),sizeFilterDisplayValue&&result.push({displayValue:sizeFilterDisplayValue,launchSearch:!0,removeFunc:function(clearAll){_self.viewModel.searchRequest.MinSize(0);_self.viewModel.searchRequest.MaxSize(Infinity);_self.setBookmarkUrl();clearAll||_self.startSearch()},name:"size",immutable:!1}),_self.viewModel.amenitiesSelected().forEach(function(amenity){result.push({displayValue:amenity.Name,launchSearch:!1,removeFunc:function(clearAll){_self.viewModel.searchRequest.AmenityIds.remove(amenity.Id);clearAll||_self.startSearch()},name:"amenities",immutable:!1})}),result});this.viewModel.appliedFiltersCount=ko.computed(function(){return _self.viewModel.appliedFilters().filter(function(appliedFilter){return appliedFilter.name!="reservationLength"&&appliedFilter.name!="startDate"&&appliedFilter.name!="startTime"}).length});this.viewModel.showClearFilter=ko.computed(function(){return _self.viewModel.appliedFilters().filter(function(filter){return!filter.immutable}).length>0});this.viewModel.clearAppliedFilters=function(){var launchSearch=!1;_self.viewModel.appliedFilters().forEach(function(filter){filter.removeFunc(!0);launchSearch=launchSearch||filter.launchSearch});launchSearch&&_self.startSearch()};reorderWorkspacesByMaxCount=function(result,maxCount){var reordered=[],page=[],process=function(mCount){var pageCompleted=!1;$.each(result,function(i,w){var added=page.filter(function(pData){return pData.VenueId==w.VenueId});return added.length<mCount&&reordered.indexOf(w)==-1&&page.indexOf(w)==-1&&page.push(w),page.length>=options.pageSize?(reordered=reordered.concat(page),page=[],pageCompleted=!0,!1):void 0});pageCompleted?process(mCount):reordered.length+page.length==result.length&&(reordered=reordered.concat(page));reordered.length<result.length&&process(mCount+1)};return process(maxCount),reordered};this.viewModel.filteredWorkspacesUnpaged=ko.pauseableComputed(function(){var filterAmenities=_self.viewModel.searchRequest.AmenityIds(),filterNeighborhoods=_self.viewModel.searchRequest.NeighborhoodIds(),filterMemberGroupsImmutable=_self.viewModel.filterMemberGroupsImmutable(),filterMemberGroups=_self.viewModel.filterMemberGroups(),filtersSet=filterAmenities.length>0||filterNeighborhoods.length>0||filterMemberGroupsImmutable.length>0||filterMemberGroups.length>0,result=null,i,length,item;for(result=filtersSet?this.workspaces().filter(function(workspace){var containsAmenities,workspaceIsInSomeNeighborhood,immutableGroupFiltered;if(filterAmenities.length>0&&(containsAmenities=filterAmenities.every(function(amenityId){return workspace.Resources.some(function(venueAmenity){return venueAmenity.ResourceId==amenityId})}),!containsAmenities)||filterNeighborhoods.length>0&&(workspaceIsInSomeNeighborhood=workspace.NeighborhoodIds.some(function(nid){return filterNeighborhoods.indexOf(nid)!=-1}),!workspaceIsInSomeNeighborhood))return!1;var noImmutableGroupFilters=filterMemberGroupsImmutable.length==0,noGroupFilters=filterMemberGroups.length==0,groupFiltered=!1;return filterMemberGroups.forEach(function(memberGroup){if(workspace.PromotingMemberGroups){var workspaceMemberGroups=workspace.PromotingMemberGroups.split(", ");groupFiltered=groupFiltered||workspaceMemberGroups.indexOf(memberGroup)>-1}}),noImmutableGroupFilters?noGroupFilters||groupFiltered:(immutableGroupFiltered=!1,filterMemberGroupsImmutable.forEach(function(memberGroup){if(workspace.PromotingMemberGroups){var workspaceMemberGroups=workspace.PromotingMemberGroups.split(", ");immutableGroupFiltered=immutableGroupFiltered||workspaceMemberGroups.indexOf(memberGroup)>-1}}),immutableGroupFiltered&&(noGroupFilters||groupFiltered))}):this.workspaces(),options.maxVenueWorkspacesPerPage>0&&(result=reorderWorkspacesByMaxCount(result,options.maxVenueWorkspacesPerPage)),i=0,length=result.length;i<length;i++)item=result[i],item.ImageUrl=item.ImageUrl.replace(/pos=\d{4}/,"pos="+zeroPad(i+1,4));return _self.viewModel.searchPager&&_self.viewModel.searchPager.setPageCount(result.length),result},this.viewModel,this.viewModel.searchIsProcessing);this.viewModel.setReservationMethod=function(method){_self.viewModel.timeFilters.method(method);_self.viewModel.clearAppliedFilters();_self.setBookmarkUrl();_self.startSearch()};this.viewModel.startDateDatepickerOptions={useDateObjectForObservable:!0,minDate:(new Date).getUTCHours()>12?0:-1,dayNamesMin:["S","M","T","W","T","F","S"],onSelect:function(dateText,inst){_self.viewModel.applyStartDateFilter(inst.input.datepicker("getDate"))}};this.viewModel.applyStartDateFilter=function(date){_self.viewModel.timeFilters.hideFilterExtensions();_self.viewModel.timeFilters.startDate.date(date);_self.setBookmarkUrl();_self.startSearch()};this.viewModel.applyStartTimeFilter=function(timeSpan){_self.viewModel.timeFilters.startTime.timeSpan(timeSpan);_self.setBookmarkUrl();_self.startSearch();_self.viewModel.timeFilters.hideFilterExtensions()};this.viewModel.applyLengthFilter=function(value){_self.viewModel.timeFilters.duration.minutes(value);_self.setBookmarkUrl();_self.startSearch();_self.viewModel.timeFilters.hideFilterExtensions()};this.viewModel.toggleSizeRange=function(min,max){_self.viewModel.searchRequest.toggleSizeRange(min,max);_self.setBookmarkUrl();_self.startSearch()};this.viewModel.toggleCapacityRange1=function(){_self.viewModel.searchRequest.toggleCapacityRange1();_self.setBookmarkUrl();_self.startSearch()};this.viewModel.toggleCapacityRange=function(min,max){_self.viewModel.searchRequest.toggleCapacityRange(min,max);_self.setBookmarkUrl();_self.startSearch()};this.viewModel.togglePriceRange=function(min,max){_self.viewModel.searchIsProcessing()||(_self.viewModel.searchRequest.togglePriceRange(min,max),_self.setBookmarkUrl(),_self.startSearch())};this.viewModel.toggleFreePriceRange=function(){_self.viewModel.searchIsProcessing()||(_self.viewModel.searchRequest.toggleFreePriceRange(),_self.setBookmarkUrl(),_self.startSearch())};this.viewModel.toggleAmenity=function(amenity){_self.viewModel.searchRequest.toggleAmenity(amenity.Id);_self.viewModel.savedSearchDirty(!0);_self.setBookmarkUrl()};this.viewModel.toggleSpaceType=function(spaceType){_self.viewModel.searchRequest.toggleSpaceType(spaceType);_self.setBookmarkUrl();_self.startSearch()};this.viewModel.isMemberGroupSelected=function(memberGroup){return _self.viewModel.filterMemberGroups().indexOf(memberGroup)!=-1};this.viewModel.toggleMemberGroup=function(memberGroup){var filtred=_self.viewModel.filterMemberGroups().filter(function(m){return m==memberGroup});filtred.length>0?_self.viewModel.filterMemberGroups.remove(filtred[0]):_self.viewModel.filterMemberGroups.push(memberGroup)};this.viewModel.toggleFiltersVisibility=function(){var isCurrentlyVisible=_self.viewModel.filtersShown(),scrollTop;isCurrentlyVisible?(_self.viewModel.filtersShown(!1),$(window).scrollTo(0)):(scrollTop=$(window).scrollTop(),scrollTop==0?_self.viewModel.filtersShown(!0):$(window).scrollTo(0))};boundsToFitForCitySearch=null;pageNumberFromUrlHash=LSHelper.HelperLib.getTrackFromUrl("p");Knockout.assignPager(_self.viewModel,"searchPager",_self.viewModel.pageSize,_self.viewModel.filteredWorkspacesUnpaged,function(workspacesOnCurrentPage){var _pager=this;_self.viewModel.searchCompleted()!=!1&&setTimeout(function(){var venues,featuredData,i;_self.viewModel.featuredWorkspaces(_self.viewModel.featuredWorkspacesTemp());_self.markersData={};_self.map.clearMarkers();var processedVenues={},workspaces=_self.viewModel.filteredWorkspacesUnpaged(),venuesOnCurrentPage={};if($.each(workspacesOnCurrentPage,function(index,workspace){venuesOnCurrentPage[workspace.VenueId]=!0}),venues={},$.each(workspaces,function(index,workspace){var venueId=workspace.VenueId;venues[venueId]?venues[venueId].Favorited=venues[venueId].Favorited||workspace.Favorited:venues[venueId]={VenueId:workspace.VenueId,Latitude:workspace.Latitude,Longitude:workspace.Longitude,Workspaces:workspaces.filter(function(w){return w.VenueId==workspace.VenueId}),Favorited:workspace.Favorited,IsOnCurrentPage:!!venuesOnCurrentPage[venueId]}}),$.each(venues,function(venueId,venue){_self.addMarker(venue,options.locationTempateName);processedVenues[venueId]=!0}),_pager.currentPage()==0)for(featuredData=_self.viewModel.featuredWorkspacesTemp(),i=featuredData.length-1;i>=0;i--)processedVenues[featuredData[i].VenueId]||_self.addMarker(featuredData[i],options.locationTempateName),processedVenues[featuredData[i].VenueId]=!0;_self.needToRestoreMapCenter?_self.needToRestoreMapCenter=!1:$.isEmptyObject(processedVenues)?workspaces.length>0&&_self.setMapCenter(workspaces[0].Latitude,workspaces[0].Longitude):boundsToFitForCitySearch?(_self.map.map.fitBounds(boundsToFitForCitySearch),boundsToFitForCitySearch=null):_self.setMapCenter(null,null)},100)},options.maxResults,undefined,undefined,!0);ko.applyBindings(this.viewModel,$(options.elementToBindSelector)[0]);this.isWorkspaceAdded=function(workspace){return _self.viewModel.workspaces().some(function(w){return workspace.Id==w.Id})};this.setMinPriceFilter=function(value){value<=0?_self.viewModel.searchRequest.MinPrice(0):_self.viewModel.searchRequest.MinPrice(value)};this.setMaxPriceFilter=function(value){value==null||isNaN(value)||value==Infinity?_self.viewModel.searchRequest.MaxPrice(null):_self.viewModel.searchRequest.MaxPrice(value)};this.populateBinding=function(params){var featuredWorkspaceIds,length,dataToPush,isSmartSearch,searchPerformanceArray,key,fitToWorkspaces,bounds,min,i,workspace;if(params=$.extend({workspaces:null,amenitiesInResult:null,neighborhoodsInResult:null,memberFavoriteWorkspaceIds:null,featuredWorkspaces:null,searchPerformance:null,totalWorkspacesUntrimmed:null,geoLocation:null},params),this.viewModel.searchIsProcessing(!0),this.viewModel.searchIsProcessingInitial(!1),_self.viewModel.Rating={},params.featuredWorkspaces&&(_self.viewModel.featuredWorkspacesTemp.removeAll(),$.each(params.featuredWorkspaces,function(i,e){_self.viewModel.Rating[e.Id]=new LiquidSpace.View.review(e.Review);_self.viewModel.featuredWorkspacesTemp.push(e)})),featuredWorkspaceIds={},$.each(_self.viewModel.featuredWorkspacesTemp(),function(i,e){featuredWorkspaceIds[e.Id]=!0}),_self.viewModel.totalWorkspacesUntrimmed(params.totalWorkspacesUntrimmed),this.viewModel.workspaces.removeAll(),length=params.workspaces.length,_self.map.clearMarkers(),_self.viewModel.searchPager.setPageCount(length),dataToPush=[],isSmartSearch=_self.viewModel.searchRequest.IsFullTextSearch(),$.each(params.workspaces,function(i,e){$.extend(e,{IsSmartSearch:isSmartSearch});_self.isWorkspaceAdded(e)!=!1||featuredWorkspaceIds[e.Id]||(_self.viewModel.Rating[e.Id]=new LiquidSpace.View.review(e.Review),dataToPush.push(e))}),searchPerformanceArray=[],params.searchPerformance)for(key in params.searchPerformance)searchPerformanceArray.push({key:key,value:params.searchPerformance[key]});if(_self.viewModel.searchPerformance(searchPerformanceArray),_self.memberFavoriteWorkspaceIds=params.memberFavoriteWorkspaceIds,_self.setAmenities(params.amenitiesInResult),_self.setNeighborhoods(params.neighborhoodsInResult),_self.viewModel.workspaces(dataToPush),_self.map.setExactLocationMarker($("#searchbar_address").val()),_self.viewModel.searchCompleted(!0),this.viewModel.searchIsProcessing(!1),fitToWorkspaces=parseInt($.cookie("fit-to-workspaces"))||1,boundsToFitForCitySearch=null,params.geoLocation&&params.geoLocation.Accuracy==Enum.LocationAccuracy.CityLevel){for(bounds=new google.maps.LatLngBounds(params.geoLocation.Viewport.southwest,params.geoLocation.Viewport.northeast),min=Math.min(fitToWorkspaces,_self.viewModel.filteredWorkspacesUnpaged().length),i=0;i<min;i++)workspace=_self.viewModel.filteredWorkspacesUnpaged()[i],bounds.extend(new google.maps.LatLng(workspace.Latitude,workspace.Longitude));boundsToFitForCitySearch=bounds;$.cookie("fit-to-city-show-bounds")&&(window.boundsToFitForCitySearchRectangle&&window.boundsToFitForCitySearchRectangle.setMap(null),window.boundsToFitForCitySearchRectangle=new google.maps.Rectangle({map:_self.map.map,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,bounds:bounds}))}};this.markersData={};this.addMarker=function(venueWithWorkspaces,templateName){var markerData={venueWithWorkspaces:venueWithWorkspaces,marker:null,renderedTemplate:null},renderedTemplateAccessor=function(){return markerData.renderedTemplate||(markerData.renderedTemplate=ko.renderTemplateInMemory(templateName,venueWithWorkspaces)),markerData.renderedTemplate};markerData.marker=this.map.addMarker({lat:venueWithWorkspaces.Latitude,long:venueWithWorkspaces.Longitude,ignoreMapBounds:!0,title:renderedTemplateAccessor,icon:venueWithWorkspaces.IsOnCurrentPage?venueWithWorkspaces.Favorited?"favorited":"teardrop":"dot",extendBounds:venueWithWorkspaces.IsOnCurrentPage});_self.markersData[venueWithWorkspaces.VenueId]=markerData};this.updateMarkerFavorite=function(venueId,workspaceId,isFavorited){var markerData,marker,icon;_self.viewModel.workspaces().forEach(function(workspace){workspace.Id==workspaceId&&(workspace.Favorited=isFavorited)});markerData=_self.markersData[venueId];markerData.venueWithWorkspaces.Workspaces.forEach(function(workspace){workspace.Favorited=isFavorited});markerData.venueWithWorkspaces.Favorited=markerData.venueWithWorkspaces.Workspaces.some(function(workspace){return workspace.Favorited});markerData.venueWithWorkspaces.IsOnCurrentPage&&(marker=markerData.marker,icon=markerData.venueWithWorkspaces.Favorited?_self.map.pins.favorited:_self.map.pins.teardrop,marker.setIcon(icon),marker.initialMarker=icon)};this.handleBackButtonForSearch=function(isUserIdentified){LSHelper.HelperLib.unblockUI("#searchWorkspacesForm");var cookieName="backButton",cookieValue=$.cookie(cookieName);cookieValue&&!isUserIdentified&&cookieValue!=window.location.href&&$.post("/Account/UserIsAuthenticated",function(data){data!=null&&data&&($("#identityBackButton").val("true"),window.isSearchPassed||_self.startSearch())})};this.amenitiesNormalizedNames=[];this.initData=function(params){var filterFromHash,setSpaceTypeFilter;_self.viewModel.filtersShown(params.filtersOpened);_self.needToRestoreMapCenter=!1;filterFromHash=LiquidSpace.Search.SRPHelper.getFilterFromHash();filterFromHash!=null&&filterFromHash.mapLng&&filterFromHash.mapLat&&filterFromHash.mapZoom&&(_self.mapLng=parseFloat(filterFromHash.mapLng),_self.mapLat=parseFloat(filterFromHash.mapLat),_self.mapZoom=parseInt(filterFromHash.mapZoom),_self.trackMapCenter=filterFromHash.trackMapCenter==="true",_self.needToRestoreMapCenter=!0);_self.init_map("SRP",params.supportedCountries);params.latitude&&params.longitude?(_self.viewModel.searchRequest.Latitude(params.latitude),_self.viewModel.searchRequest.Longitude(params.longitude),_self.needToRestoreMapCenter||_self.setMapCenter(params.latitude,params.longitude)):params.hasWorkspaces||_self.needToRestoreMapCenter||_self.setMapCenter(params.defaultSearchLatitude,params.defaultSearchLongitude);_self.viewModel.searchRestrictionName(params.searchRestrictionName);params.maxPrice!=null&&params.maxPrice>=0&&_self.setMaxPriceFilter(params.maxPrice);params.minPrice!=null&&_self.setMinPriceFilter(params.minPrice);_self.viewModel.amenities(params.amenities);_self.amenitiesNormalizedNames=params.amenitiesNormalizedNames;_self.viewModel.timeFilters.method(_self.viewModel.searchRequest.ReservationMethod());setSpaceTypeFilter=function(currentValue){var allowedSpaceTypes=_self.viewModel.timeFilters.method.isMonthly()?Enum.SpaceType._monthly:Enum.SpaceType._hourly;_self.viewModel.searchRequest.SpaceTypes(currentValue&allowedSpaceTypes)};filterFromHash==null||LiquidSpace.Search.SRPHelper.isFiltersSame(filterFromHash,options.searchRequest)?(params.searchDisplayName&&($("#searchbar_address").val(params.searchDisplayName),_self.viewModel.searchbarAddress(params.searchDisplayName)),_self.populateBinding({workspaces:params.workspaces,amenitiesInResult:params.amenitiesInResult,neighborhoodsInResult:params.neighborhoodsInResult,memberFavoriteWorkspaceIds:params.favoriteWorkspaceIds,featuredWorkspaces:params.featuredWorkspaces,searchPerformance:params.searchPerformance,totalWorkspacesUntrimmed:params.totalWorkspacesUntrimmed,geoLocation:params.geoLocation}),_self.viewModel.timeFilters.startDate.date(Date.parse(options.searchRequest.StartTime)),_self.setBookmarkUrl()):(_self.viewModel.searchRequest.Latitude(filterFromHash.Latitude),_self.viewModel.searchRequest.Longitude(filterFromHash.Longitude),_self.viewModel.setVenueAndVenueGroupIds(filterFromHash.VenueId,filterFromHash.VenueGroupId,_self.viewModel.searchRequest.SearchByANDCondition()),_self.viewModel.timeFilters.method(filterFromHash.ReservationMethod),_self.viewModel.timeFilters.startDate.date(Date.parse(filterFromHash.StartTime)),_self.viewModel.timeFilters.duration.minutes(filterFromHash.ReservationLengthMinutes),_self.viewModel.timeFilters.startTime.timeSpan(filterFromHash.ReservationStart),_self.viewModel.searchRequest.WorkspaceCapacity(filterFromHash.WorkspaceCapacity),_self.viewModel.searchRequest.WorkspaceMaxCapacity(filterFromHash.WorkspaceMaxCapacity),_self.setMinPriceFilter(filterFromHash.MinPrice),_self.setMaxPriceFilter(filterFromHash.MaxPrice),_self.viewModel.searchRequest.MinSize(filterFromHash.MinSize),_self.viewModel.searchRequest.MaxSize(filterFromHash.MaxSize),setSpaceTypeFilter(filterFromHash.SpaceTypes),$("#searchbar_address").val(filterFromHash.Address),_self.viewModel.searchbarAddress(filterFromHash.Address),filterFromHash.IsFullTextSearch&&_self.viewModel.searchRequest.IsFullTextSearch(filterFromHash.IsFullTextSearch),_self.viewModel.searchRequest.IsCurrentLocationSearch((filterFromHash.IsCurrentLocationSearch+"").toLowerCase()=="true"),$.isArray(filterFromHash.Amenities)&&_self.viewModel.searchRequest.AmenityIds(filterFromHash.Amenities),$.isArray(filterFromHash.Neighborhoods)&&_self.viewModel.searchRequest.NeighborhoodIds(filterFromHash.Neighborhoods),_self.needToRestoreMapCenter&&_self.trackMapCenter?(_self.setMapCenter(_self.mapLat,_self.mapLng),_self.map.setZoom(_self.mapZoom),_self.viewModel.trackMapCenter(_self.trackMapCenter),google.maps.event.addListenerOnce(_self.map.map,"bounds_changed",_self.startMapSearch)):(_self.needToRestoreMapCenter&&(_self.setMapCenter(_self.mapLat,_self.mapLng),_self.map.setZoom(_self.mapZoom)),_self.startSearch()),window.isSearchPassed=!0,pageNumberFromUrlHash!=null&&_self.viewModel.searchPager.setCurrentPage(parseInt(pageNumberFromUrlHash),"normal"));_self.handleBackButtonForSearch(params.isAuth);params.approvedMemberGroups.forEach(function(memberGroup){memberGroup.IsImmutable?_self.viewModel.filterMemberGroupsImmutable.push(memberGroup.Name):options.showMemberGroupPreferred&&_self.viewModel.filterMemberGroups.push(memberGroup.Name)})};LSHelper.Account.getJoinDataObject=function(){return{venueId:_self.viewModel.searchRequest.VenueId(),workspaceId:_self.workspaceId,startDate:_self.viewModel.timeFilters.date.textValue(),reservationLength:_self.viewModel.timeFilters.duration.minutes()}}},function($){$.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};$.fn.lionbars=function(options){function mainLoop(){for(var childrens,i=0;elements[i]!==undefined;i++)childrens=$(elements[i]).find(".lb-content").children(),childrens.length>0&&$(elements[i]).html(childrens),$(elements[i]).find(".lb-wrap").remove(),$(elements[i]).find(".lb-v-scrollbar").remove(),!$(elements[i]).hasClass("nolionbars")&&$(elements[i]).find(".lb-content").length==0&&needScrollbars(elements[i])&&(target=elements[i],getDimentions(target),wrap(target,addVScroll,addHScroll),hideScrollbars(target,addVScroll,addHScroll),reduceScrollbarsWidthHeight(target),setSlidersHeight(target),setScrollRatios(target),setEvents(target),resetVars())}function setEvents(elem){var el=$(elem);(addVScroll||addHScroll)&&el.find(".lb-wrap").scroll(function(e){var self;el.find(".lb-v-scrollbar-slider").css({top:-$(this).scrollTop()/el.attr("vratio")});el.find(".lb-h-scrollbar-slider").css({left:-$(this).scrollLeft()/el.attr("hratio")});el.find(".lb-v-scrollbar").height()!=parseInt(el.find(".lb-v-scrollbar-slider").css("top"))+el.find(".lb-v-scrollbar-slider").height()||typeof options.reachedBottom!="function"||vEventFired||(vEventFired=!0,self=$(this),options.reachedBottom.apply($(this).children(".lb-content"),[function(){getDimentions($(self).parent(),{height:$(self).children(".lb-content").get(0).scrollHeight,width:$(self).children(".lb-content").get(0).scrollWidth});reduceScrollbarsWidthHeight($(self).parent());setSlidersHeight($(self).parent());setScrollRatios($(self).parent());resetVars();vEventFired=!1}]));el.find(".lb-h-scrollbar").width()!=parseInt(el.find(".lb-h-scrollbar-slider").css("left"))+el.find(".lb-h-scrollbar-slider").width()||typeof options.reachedRight!="function"||hEventFired||(hEventFired=!0,self=$(this),options.reachedRight.apply($(this).children(".lb-content"),[function(){getDimentions($(self).parent(),{height:$(self).children(".lb-content").get(0).scrollHeight,width:$(self).children(".lb-content").get(0).scrollWidth});reduceScrollbarsWidthHeight($(self).parent());setSlidersHeight($(self).parent());setScrollRatios($(self).parent());resetVars();hEventFired=!1}]));autohide&&(el.find(".lb-v-scrollbar, .lb-h-scrollbar").fadeIn(150),clearTimeout(timeout),timeout=setTimeout(function(){el.find(".lb-v-scrollbar, .lb-h-scrollbar").fadeOut(150)},2e3))});addVScroll&&(el.find(".lb-v-scrollbar-slider").mousedown(function(e){return eventY=e.pageY,VDragging=!0,activeScroll=$(this),activeWrap=el.find(".lb-wrap"),currentRatio=activeWrap.parent().attr("vratio"),initPos=activeScroll.position().top,!1}),el.find(".lb-v-scrollbar").mousedown(function(e){return $(e.target).hasClass("lb-v-scrollbar-slider")||el.find(".lb-wrap").scrollTop((e.pageY-$(this).offset().top)*Math.abs(el.attr("vratio"))-$(this).find(".lb-v-scrollbar-slider").height()/2),!1}));addHScroll&&(el.find(".lb-h-scrollbar-slider").mousedown(function(e){return eventX=e.pageX,HDragging=!0,activeScroll=$(this),activeWrap=el.find(".lb-wrap"),currentRatio=activeWrap.parent().attr("hratio"),initPos=activeScroll.position().left,!1}),el.find(".lb-h-scrollbar").mousedown(function(e){return $(e.target).hasClass("lb-h-scrollbar-slider")||el.find(".lb-wrap").scrollLeft((e.pageX-$(this).offset().left)*Math.abs(el.attr("hratio"))-$(this).find(".lb-h-scrollbar-slider").width()/2),!1}));(addVScroll||addHScroll)&&autohide&&(el.find(".lb-v-scrollbar, .lb-h-scrollbar").hide(),el.hover(function(){},function(){el.find(".lb-v-scrollbar, .lb-h-scrollbar").fadeOut(150)}))}function setScrollRatios(elem){vRatio=(offsetHeight-$(elem).find(".lb-wrap").get(0).scrollHeight-borderTop-borderBottom)/(vLbHeight-vSliderHeight);hRatio=(offsetWidth-$(elem).find(".lb-wrap").get(0).scrollWidth-borderLeft-borderRight)/(hLbHeight-hSliderHeight);var el=$(elem);el.attr("vratio",vRatio);el.attr("hratio",hRatio)}function setSlidersHeight(elem){var el=$(elem),hmin,hmax,gap;el.find(".lb-v-scrollbar").length!=0&&(hmin=20,gap=offsetHeight-el.find(".lb-v-scrollbar").height(),hmax=offsetHeight-gap-hmin,vSliderHeight=Math.round(offsetHeight*hmax/scrollHeight),vSliderHeight=vSliderHeight<hmin?hmin:vSliderHeight);el.find(".lb-h-scrollbar").length!=0&&(hmin=20,gap=offsetWidth-el.find(".lb-h-scrollbar").width(),hmax=offsetWidth-gap-hmin,hSliderHeight=Math.round(offsetWidth*hmax/scrollWidth),hSliderHeight=hSliderHeight<hmin?hmin:hSliderHeight);el.find(".lb-v-scrollbar-slider").css({height:vSliderHeight});el.find(".lb-h-scrollbar-slider").css({width:hSliderHeight})}function resetVars(){vScrollWidth=0;hScrollWidth=0;addHScroll=!1;addVScroll=!1;paddingTop=0;paddingLeft=0;paddingBottom=0;paddingRight=0;borderTop=0;borderLeft=0;borderBottom=0;borderRight=0;scrollHeight=0;scrollWidth=0;offsetWidth=0;offsetHeight=0;clientWidth=0;clientHeight=0;vSliderHeight=0;hSliderHeight=0;vLbHeight=0;hLbHeight=0}function reduceScrollbarsWidthHeight(elem){var el=$(elem);addVScroll&&addHScroll?(vLbHeight=el.height()-12,hLbHeight=el.width()-12,el.find(".lb-v-scrollbar").css({height:vLbHeight}),el.find(".lb-h-scrollbar").css({width:hLbHeight})):(vLbHeight=el.height()-16,hLbHeight=el.width()-4,el.find(".lb-v-scrollbar").css({height:vLbHeight}),el.find(".lb-h-scrollbar").css({width:hLbHeight}))}function hideScrollbars(elem,vscroll,hscroll){var el=$(elem);(vscroll||hscroll)&&(el.css({overflow:"hidden"}),movePadding(el,el.find(".lb-wrap")),resizeMainBox(el),resizeInnerWrap(el,el.find(".lb-wrap")))}function resizeMainBox(elem){var el=$(elem);el.css({width:el.width()+paddingLeft+paddingRight,height:el.height()+paddingTop+paddingBottom})}function movePadding(from,to){var fromEl=$(from),toEl=$(to);fromEl.css({padding:0});toEl.css({"padding-top":paddingTop+"px","padding-left":paddingLeft+"px","padding-bottom":paddingBottom+"px","padding-right":paddingRight+"px"})}function resizeInnerWrap(main,child){var mainEl=$(main),childEl=$(child);mainEl.css({position:"relative"});childEl.css({width:mainEl.width()+vScrollWidth+3-paddingLeft-paddingRight,height:mainEl.height()+hScrollWidth-paddingTop-paddingBottom})}function setVScrollbarWidth(elem){var el=$(elem);el.css({overflow:"auto"});vScrollWidth=offsetWidth-clientWidth-borderLeft-borderRight;el.css({overflow:"hidden"})}function setHScrollbarWidth(elem){var el=$(elem);el.css({overflow:"auto"});hScrollWidth=offsetHeight-clientHeight-borderTop-borderBottom;el.css({overflow:"hidden"})}function wrap(elem,vscroll,hscroll){var el=$(elem),elemId=el.attr("id"),wrap=0;elemId!==undefined?(el.wrapInner('<div class="lb-wrap" id="lb-wrap-'+id+"-"+elemId+'"><\/div>'),wrap=$("#lb-wrap-"+id+"-"+elemId)):(el.wrapInner('<div class="lb-wrap" id="lb-wrap-'+id+'"><\/div>'),wrap=$("#lb-wrap-"+id));wrap.wrapInner('<div class="lb-content"><\/div>');vscroll&&(el.prepend('<div class="lb-v-scrollbar"><\/div>'),el.find(".lb-v-scrollbar").append('<div class="lb-v-scrollbar-slider"><\/div>'));hscroll&&(el.prepend('<div class="lb-h-scrollbar"><\/div>'),el.find(".lb-h-scrollbar").append('<div class="lb-h-scrollbar-slider"><\/div>'));id=id+1}function needScrollbars(elem){var el=$(elem);return addVScroll=!1,addHScroll=!1,getPadding(el),getBorders(el),el.css({overflow:"hidden"}),el.get(0).scrollHeight>el.get(0).clientHeight&&(addVScroll=!0),options.showHScroll&&el.get(0).scrollWidth>el.get(0).clientWidth&&(addHScroll=!0),el.css({overflow:"auto"}),addVScroll||addHScroll?!0:void 0}function getPadding(elem){var el=$(elem);paddingTop=parseInt(el.css("padding-top").replace("px",""));paddingLeft=parseInt(el.css("padding-left").replace("px",""));paddingBottom=parseInt(el.css("padding-bottom").replace("px",""));paddingRight=parseInt(el.css("padding-right").replace("px",""))}function getBorders(elem){var el=$(elem),setValue=function(val){return isNaN(val)?0:val};borderTop=setValue(parseInt(el.css("border-top-width").replace("px","")));borderRight=setValue(parseInt(el.css("border-right-width").replace("px","")));borderBottom=setValue(parseInt(el.css("border-bottom-width").replace("px","")));borderLeft=setValue(parseInt(el.css("border-left-width").replace("px","")))}function getDimentions(elem,scroll){var el=$(elem).get(0);scrollHeight=typeof scroll!="undefined"?scroll.height:el.scrollHeight;scrollWidth=typeof scroll!="undefined"?scroll.width:el.scrollWidth;clientHeight=el.clientHeight;clientWidth=el.clientWidth;offsetHeight=el.offsetHeight;offsetWidth=el.offsetWidth;setVScrollbarWidth($(elem));setHScrollbarWidth($(elem))}options=options||{};autohide=options.autohide;options.showHScroll==undefined&&(options.showHScroll=!0);var timeout,HDragging=!1,VDragging=!1,activeScroll=0,activeWrap=0,eventX,eventY,mouseX,mouseY,currentRatio,initPos,scrollValue,hideTimeoutSet=!1,vEventFired=!1,hEventFired=!1,elements=$(this),id=0,vScrollWidth=0,hScrollWidth=0,addHScroll=!1,addVScroll=!1,paddingTop=0,paddingLeft=0,paddingBottom=0,paddingRight=0,borderTop=0,borderRight=0,borderBottom=0,borderLeft=0,scrollHeight=0,scrollWidth=0,offsetWidth=0,offsetHeight=0,clientWidth=0,clientHeight=0,vRatio=0,hRatio=0,vSliderHeight=0,hSliderHeight=0,vLbHeight=0,hLbHeight=0;return mainLoop(),$(document).mousemove(function(e){VDragging&&(mouseY=e.pageY,activeWrap.scrollTop((initPos+mouseY-eventY)*Math.abs(currentRatio)));HDragging&&(mouseX=e.pageX,activeWrap.scrollLeft((initPos+mouseX-eventX)*Math.abs(currentRatio)))}),$(document).mouseup(function(e){VDragging&&(VDragging=!1);HDragging&&(HDragging=!1)}),this.each(function(){})}}(jQuery);
/*!
* jQuery outside events - v1.1 - 3/16/2010
* http://benalman.com/projects/jquery-outside-events-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
(function($,doc,outside){function jq_addOutsideEvent(event_name,outside_event_name){function handle_event(event){$(elems).each(function(){var elem=$(this);this===event.target||elem.has(event.target).length||elem.triggerHandler(outside_event_name,[event.target])})}outside_event_name=outside_event_name||event_name+outside;var elems=$(),event_namespaced=event_name+"."+outside_event_name+"-special-event";$.event.special[outside_event_name]={setup:function(){elems=elems.add(this);elems.length===1&&$(doc).bind(event_namespaced,handle_event)},teardown:function(){elems=elems.not(this);elems.length===0&&$(doc).unbind(event_namespaced)},add:function(handleObj){var old_handler=handleObj.handler;handleObj.handler=function(event,elem){event.target=elem;old_handler.apply(this,arguments)}}}}$.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(event_name){jq_addOutsideEvent(event_name)});jq_addOutsideEvent("focusin","focus"+outside);jq_addOutsideEvent("focusout","blur"+outside);$.addOutsideEvent=jq_addOutsideEvent})(jQuery,document,"outside"),function($){$.fn.charCount=function(options){function calculate(obj){var count=$(obj).val().length,available=options.allowed-count;if(available<=options.warning&&available>=0?$(obj).next().addClass(options.cssWarning):$(obj).next().removeClass(options.cssWarning),available<0)if(options.limitInput==!0){$(obj).val($(obj).val().substring(0,options.allowed));calculate(obj);return}else $(obj).next().addClass(options.cssExceeded);else $(obj).next().removeClass(options.cssExceeded);$(obj).next().html(options.counterText+available)}var defaults={allowed:140,warning:25,css:"counter",counterElement:"span",cssWarning:"warning",cssExceeded:"exceeded",counterText:"",limitInput:!1},options=$.extend(defaults,options);this.each(function(){$(this).after("<"+options.counterElement+' class="'+options.css+'">'+options.counterText+"<\/"+options.counterElement+">");calculate(this);$(this).keyup(function(){calculate(this)});$(this).change(function(){calculate(this)})})}}(jQuery),function($){var allImages={},imageCounter=0,defaults;$.galleriffic={version:"2.0.1",normalizeHash:function(hash){return hash.replace(/^.*#/,"").replace(/\?.*$/,"")},getImage:function(hash){return hash?(hash=$.galleriffic.normalizeHash(hash),allImages[hash]):undefined},gotoImage:function(hash){var imageData=$.galleriffic.getImage(hash),gallery;return imageData?(gallery=imageData.gallery,gallery.gotoImage(imageData),!0):!1},removeImageByHash:function(hash,ownerGallery){var imageData=$.galleriffic.getImage(hash),gallery;return imageData?(gallery=imageData.gallery,ownerGallery&&ownerGallery!=gallery)?!1:gallery.removeImageByIndex(imageData.index):!1}};defaults={delay:3e3,numThumbs:20,preloadAhead:40,enableTopPager:!1,enableBottomPager:!0,maxPagesToShow:7,imageContainerSel:"",captionContainerSel:"",controlsContainerSel:"",loadingContainerSel:"",renderSSControls:!0,renderNavControls:!0,playLinkText:"Play",pauseLinkText:"Pause",prevLinkText:"Previous",nextLinkText:"Next",nextPageLinkText:"Next &rsaquo;",prevPageLinkText:"&lsaquo; Prev",enableHistory:!1,enableKeyboardNavigation:!1,autoStart:!1,syncTransitions:!1,defaultTransitionDuration:1e3,onSlideChange:undefined,onTransitionOut:undefined,onTransitionIn:undefined,onPageTransitionOut:undefined,onPageTransitionIn:undefined,onImageAdded:undefined,onImageRemoved:undefined,onMainSlideClicked:undefined};$.fn.galleriffic=function(settings){var gallery,initFirstImage,hash,imageData;return $.extend(this,{version:$.galleriffic.version,isSlideshowRunning:!1,slideshowTimeout:undefined,clickHandler:function(e,link){if(this.pause(),!this.enableHistory){var hash=$.galleriffic.normalizeHash($(link).attr("href"));if(link.className=="advance-link"&&this.onMainSlideClicked)this.onMainSlideClicked(hash);else $.galleriffic.gotoImage(hash);e.preventDefault()}},appendImage:function(listItem){return this.addImage(listItem,!1,!1),this},insertImage:function(listItem,position){return this.addImage(listItem,!1,!0,position),this},addImage:function(listItem,thumbExists,insert,position){var $li=typeof listItem=="string"?$(listItem):listItem,$aThumb=$li.find("a.thumb"),slideUrl=$aThumb.attr("href"),title=$aThumb.attr("title"),$caption=$li.find(".caption").remove(),hash=$aThumb.attr("name"),imageData,gallery;return imageCounter++,(!hash||allImages[""+hash])&&(hash=imageCounter),insert||(position=this.data.length),imageData={title:title,slideUrl:slideUrl,caption:$caption,hash:hash,gallery:this,index:position},insert?(this.data.splice(position,0,imageData),this.updateIndices(position)):this.data.push(imageData),gallery=this,thumbExists||this.updateThumbs(function(){var $thumbsUl=gallery.find("ul.thumbs");if(insert?$thumbsUl.children(":eq("+position+")").before($li):$thumbsUl.append($li),gallery.onImageAdded)gallery.onImageAdded(imageData,$li)}),allImages[""+hash]=imageData,$aThumb.attr("rel","history").attr("href","#"+hash).removeAttr("name").click(function(e){gallery.clickHandler(e,this)}),this},removeImageByIndex:function(index){if(index<0||index>=this.data.length)return!1;var imageData=this.data[index];return imageData?(this.removeImage(imageData),!0):!1},removeImageByHash:function(hash){return $.galleriffic.removeImageByHash(hash,this)},removeImage:function(imageData){var index=imageData.index;return this.data.splice(index,1),delete allImages[""+imageData.hash],this.updateThumbs(function(){var $li=gallery.find("ul.thumbs").children(":eq("+index+")").remove();if(gallery.onImageRemoved)gallery.onImageRemoved(imageData,$li)}),this.updateIndices(index),this},updateIndices:function(startIndex){for(i=startIndex;i<this.data.length;i++)this.data[i].index=i;return this},initializeThumbs:function(){this.data=[];var gallery=this;return this.find("ul.thumbs > li").each(function(i){gallery.addImage($(this),!0,!1)}),this},isPreloadComplete:!1,preloadInit:function(){if(this.preloadAhead==0)return this;this.preloadStartIndex=this.currentImage.index;var nextIndex=this.getNextIndex(this.preloadStartIndex);return this.preloadRecursive(this.preloadStartIndex,nextIndex)},preloadRelocate:function(index){return this.preloadStartIndex=index,this},preloadRecursive:function(startIndex,currentIndex){var nextIndex,gallery,preloadCount,imageData,image;return startIndex!=this.preloadStartIndex?(nextIndex=this.getNextIndex(this.preloadStartIndex),this.preloadRecursive(this.preloadStartIndex,nextIndex)):(gallery=this,preloadCount=currentIndex-startIndex,preloadCount<0&&(preloadCount=this.data.length-1-startIndex+currentIndex),this.preloadAhead>=0&&preloadCount>this.preloadAhead)?(setTimeout(function(){gallery.preloadRecursive(startIndex,currentIndex)},500),this):(imageData=this.data[currentIndex],!imageData)?this:imageData.image?this.preloadNext(startIndex,currentIndex):(image=new Image,image.onload=function(){imageData.image=this;gallery.preloadNext(startIndex,currentIndex)},image.alt=imageData.title,image.src=imageData.slideUrl,this)},preloadNext:function(startIndex,currentIndex){var nextIndex=this.getNextIndex(currentIndex),gallery;return nextIndex==startIndex?this.isPreloadComplete=!0:(gallery=this,setTimeout(function(){gallery.preloadRecursive(startIndex,nextIndex)},100)),this},getNextIndex:function(index){var nextIndex=index+1;return nextIndex>=this.data.length&&(nextIndex=0),nextIndex},getPrevIndex:function(index){var prevIndex=index-1;return prevIndex<0&&(prevIndex=this.data.length-1),prevIndex},pause:function(){return this.isSlideshowRunning=!1,this.slideshowTimeout&&(clearTimeout(this.slideshowTimeout),this.slideshowTimeout=undefined),this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("play").attr("title",this.playLinkText).attr("href","#play").html(this.playLinkText),this},play:function(){if(this.isSlideshowRunning=!0,this.$controlsContainer&&this.$controlsContainer.find("div.ss-controls a").removeClass().addClass("pause").attr("title",this.pauseLinkText).attr("href","#pause").html(this.pauseLinkText),!this.slideshowTimeout){var gallery=this;this.slideshowTimeout=setTimeout(function(){gallery.ssAdvance()},this.delay)}return this},toggleSlideshow:function(){return this.isSlideshowRunning?this.pause():this.play(),this},ssAdvance:function(){return this.isSlideshowRunning&&this.next(!0),this},next:function(dontPause,bypassHistory){return this.gotoIndex(this.getNextIndex(this.currentImage.index),dontPause,bypassHistory),this},previous:function(dontPause,bypassHistory){return this.gotoIndex(this.getPrevIndex(this.currentImage.index),dontPause,bypassHistory),this},nextPage:function(dontPause,bypassHistory){var page=this.getCurrentPage(),lastPage=this.getNumPages()-1,startIndex,nextPage;return page<lastPage&&(startIndex=page*this.numThumbs,nextPage=startIndex+this.numThumbs,this.gotoIndex(nextPage,dontPause,bypassHistory)),this},previousPage:function(dontPause,bypassHistory){var page=this.getCurrentPage(),startIndex,prevPage;return page>0&&(startIndex=page*this.numThumbs,prevPage=startIndex-this.numThumbs,this.gotoIndex(prevPage,dontPause,bypassHistory)),this},gotoIndex:function(index,dontPause,bypassHistory){dontPause||this.pause();index<0?index=0:index>=this.data.length&&(index=this.data.length-1);var imageData=this.data[index];return!bypassHistory&&this.enableHistory?$.historyLoad(String(imageData.hash)):this.gotoImage(imageData),this},gotoImage:function(imageData){var index=imageData.index;if(this.onSlideChange)this.onSlideChange(this.currentImage.index,index);return this.currentImage=imageData,this.preloadRelocate(index),this.refresh(),this},getDefaultTransitionDuration:function(isSync){return isSync?this.defaultTransitionDuration:this.defaultTransitionDuration/2},refresh:function(){var imageData=this.currentImage,index,previousSlide,previousCaption,image;if(!imageData)return this;index=imageData.index;this.$controlsContainer&&this.$controlsContainer.find("div.nav-controls a.prev").attr("href","#"+this.data[this.getPrevIndex(index)].hash).end().find("div.nav-controls a.next").attr("href","#"+this.data[this.getNextIndex(index)].hash);previousSlide=this.$imageContainer.find("span.current").addClass("previous").removeClass("current");previousCaption=0;this.$captionContainer&&(previousCaption=this.$captionContainer.find("span.current").addClass("previous").removeClass("current"));var isSync=this.syncTransitions&&imageData.image,isTransitioning=!0,gallery=this,transitionOutCallback=function(){isTransitioning=!1;previousSlide.remove();previousCaption&&previousCaption.remove();isSync||(imageData.image&&imageData.hash==gallery.data[gallery.currentImage.index].hash?gallery.buildImage(imageData,isSync):gallery.$loadingContainer&&gallery.$loadingContainer.show())};if(previousSlide.length==0)transitionOutCallback();else if(this.onTransitionOut)this.onTransitionOut(previousSlide,previousCaption,isSync,transitionOutCallback);else previousSlide.fadeTo(this.getDefaultTransitionDuration(isSync),0,transitionOutCallback),previousCaption&&previousCaption.fadeTo(this.getDefaultTransitionDuration(isSync),0);return isSync&&this.buildImage(imageData,isSync),imageData.image||(image=new Image,image.onload=function(){imageData.image=this;isTransitioning||imageData.hash!=gallery.data[gallery.currentImage.index].hash||gallery.buildImage(imageData,isSync)},image.alt=imageData.title,image.src=imageData.slideUrl),this.relocatePreload=!0,this.syncThumbs()},buildImage:function(imageData,isSync){var gallery=this,nextIndex=this.getNextIndex(imageData.index),newSlide=this.$imageContainer.append('<span class="image-wrapper current"><a class="advance-link" rel="history" href="#'+imageData.hash+'" title="'+imageData.title+'"><\/a><\/span>').find("span.current").css("opacity","0"),newCaption;if(newSlide.find("a").append(imageData.image).click(function(e){gallery.clickHandler(e,this)}),newCaption=0,this.$captionContainer&&(newCaption=this.$captionContainer.append('<span class="image-caption current"><\/span>').find("span.current").css("opacity",".5").append(imageData.caption)),this.$loadingContainer&&this.$loadingContainer.hide(),this.onTransitionIn)this.onTransitionIn(newSlide,newCaption,isSync);else newSlide.fadeTo(this.getDefaultTransitionDuration(isSync),1),newCaption&&newCaption.fadeTo(this.getDefaultTransitionDuration(isSync),1);return this.isSlideshowRunning&&(this.slideshowTimeout&&clearTimeout(this.slideshowTimeout),this.slideshowTimeout=setTimeout(function(){gallery.ssAdvance()},this.delay)),this},getCurrentPage:function(){return Math.floor(this.currentImage.index/this.numThumbs)},syncThumbs:function(){var page=this.getCurrentPage(),$thumbs;return page!=this.displayedPage&&this.updateThumbs(),$thumbs=this.find("ul.thumbs").children(),$thumbs.filter(".selected").removeClass("selected"),$thumbs.eq(this.currentImage.index).addClass("selected"),this},updateThumbs:function(postTransitionOutHandler){var gallery=this,transitionOutCallback=function(){postTransitionOutHandler&&postTransitionOutHandler();gallery.rebuildThumbs();gallery.onPageTransitionIn?gallery.onPageTransitionIn():gallery.show()};if(this.onPageTransitionOut)this.onPageTransitionOut(transitionOutCallback);else this.hide(),transitionOutCallback();return this},rebuildThumbs:function(){var needsPagination=this.data.length>this.numThumbs,$topPager,$bottomPager,$thumbsUl;this.enableTopPager&&($topPager=this.find("div.top"),$topPager.length==0?$topPager=this.prepend('<div class="top pagination"><\/div>').find("div.top"):$topPager.empty(),needsPagination&&this.buildPager($topPager));this.enableBottomPager&&($bottomPager=this.find("div.bottom"),$bottomPager.length==0?$bottomPager=this.append('<div class="bottom pagination"><\/div>').find("div.bottom"):$bottomPager.empty(),needsPagination&&this.buildPager($bottomPager));var page=this.getCurrentPage(),startIndex=page*this.numThumbs,stopIndex=startIndex+this.numThumbs-1;return stopIndex>=this.data.length&&(stopIndex=this.data.length-1),$thumbsUl=this.find("ul.thumbs"),$thumbsUl.find("li").each(function(i){var $li=$(this);i>=startIndex&&i<=stopIndex?$li.show():$li.hide()}),this.displayedPage=page,$thumbsUl.removeClass("noscript"),this},getNumPages:function(){return Math.ceil(this.data.length/this.numThumbs)},buildPager:function(pager){var gallery=this,numPages=this.getNumPages(),page=this.getCurrentPage(),startIndex=page*this.numThumbs,pagesRemaining=this.maxPagesToShow-1,pageNum=page-Math.floor((this.maxPagesToShow-1)/2)+1,remainingPageCount,prevPage,lastPageNum,nextPage;for(pageNum>0&&(remainingPageCount=numPages-pageNum,remainingPageCount<pagesRemaining&&(pageNum=pageNum-(pagesRemaining-remainingPageCount))),pageNum<0&&(pageNum=0),page>0&&(prevPage=startIndex-this.numThumbs,pager.append('<a rel="history" href="#'+this.data[prevPage].hash+'" title="'+this.prevPageLinkText+'">'+this.prevPageLinkText+"<\/a>")),pageNum>0&&(this.buildPageLink(pager,0,numPages),pageNum>1&&pager.append('<span class="ellipsis">&hellip;<\/span>'),pagesRemaining--);pagesRemaining>0;)this.buildPageLink(pager,pageNum,numPages),pagesRemaining--,pageNum++;return pageNum<numPages&&(lastPageNum=numPages-1,pageNum<lastPageNum&&pager.append('<span class="ellipsis">&hellip;<\/span>'),this.buildPageLink(pager,lastPageNum,numPages)),nextPage=startIndex+this.numThumbs,nextPage<this.data.length&&pager.append('<a rel="history" href="#'+this.data[nextPage].hash+'" title="'+this.nextPageLinkText+'">'+this.nextPageLinkText+"<\/a>"),pager.find("a").click(function(e){gallery.clickHandler(e,this)}),this},buildPageLink:function(pager,pageNum,numPages){var pageLabel=pageNum+1,currentPage=this.getCurrentPage(),imageIndex;return pageNum==currentPage?pager.append('<span class="current">'+pageLabel+"<\/span>"):pageNum<numPages&&(imageIndex=pageNum*this.numThumbs,pager.append('<a rel="history" href="#'+this.data[imageIndex].hash+'" title="'+pageLabel+'">'+pageLabel+"<\/a>")),this}}),$.extend(this,defaults,settings),this.enableHistory&&!$.historyInit&&(this.enableHistory=!1),this.imageContainerSel&&(this.$imageContainer=$(this.imageContainerSel)),this.captionContainerSel&&(this.$captionContainer=$(this.captionContainerSel)),this.loadingContainerSel&&(this.$loadingContainer=$(this.loadingContainerSel)),this.initializeThumbs(),this.maxPagesToShow<3&&(this.maxPagesToShow=3),this.displayedPage=-1,this.currentImage=this.data[0],gallery=this,this.$loadingContainer&&this.$loadingContainer.hide(),this.controlsContainerSel&&(this.$controlsContainer=$(this.controlsContainerSel).empty(),this.renderSSControls&&(this.autoStart?this.$controlsContainer.append('<div class="ss-controls"><a href="#pause" class="pause" title="'+this.pauseLinkText+'">'+this.pauseLinkText+"<\/a><\/div>"):this.$controlsContainer.append('<div class="ss-controls"><a href="#play" class="play" title="'+this.playLinkText+'">'+this.playLinkText+"<\/a><\/div>"),this.$controlsContainer.find("div.ss-controls a").click(function(e){return gallery.toggleSlideshow(),e.preventDefault(),!1})),this.renderNavControls&&this.$controlsContainer.append('<div class="nav-controls"><a class="prev" rel="history" title="'+this.prevLinkText+'">'+this.prevLinkText+'<\/a><a class="next" rel="history" title="'+this.nextLinkText+'">'+this.nextLinkText+"<\/a><\/div>").find("div.nav-controls a").click(function(e){gallery.clickHandler(e,this)})),initFirstImage=!this.enableHistory||!location.hash,this.enableHistory&&location.hash&&(hash=$.galleriffic.normalizeHash(location.hash),imageData=allImages[hash],imageData||(initFirstImage=!0)),initFirstImage&&this.gotoIndex(0,!1,!0),this.enableKeyboardNavigation&&$(document).keydown(function(e){var key=e.charCode?e.charCode:e.keyCode?e.keyCode:0;switch(key){case 32:gallery.next();e.preventDefault();break;case 33:gallery.previousPage();e.preventDefault();break;case 34:gallery.nextPage();e.preventDefault();break;case 35:gallery.gotoIndex(gallery.data.length-1);e.preventDefault();break;case 36:gallery.gotoIndex(0);e.preventDefault();break;case 37:gallery.previous();e.preventDefault();break;case 39:gallery.next();e.preventDefault();break}}),this.autoStart&&this.play(),setTimeout(function(){gallery.preloadInit()},1e3),this}}(jQuery);
/*!
 * jQuery Expander Plugin v1.4.3
 *
 * Date: Tue Jun 19 11:54:00 2012 EDT
 * Requires: jQuery v1.3+
 *
 * Copyright 2011, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 *
 *
*/
(function($){$.expander={version:"1.4.3",defaults:{slicePoint:100,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null}};$.fn.expander=function(options){function buildHTML(o,blocks){var el="span",summary=o.summary;return blocks?(el="div",rLastCloseTag.test(summary)&&!o.expandAfterSummary?summary=summary.replace(rLastCloseTag,o.moreLabel+"$1"):summary+=o.moreLabel,summary='<div class="'+o.summaryClass+'">'+summary+"<\/div>"):summary+=o.moreLabel,[summary,"<",el+' class="'+o.detailClass+'"',">",o.details,"<\/"+el+">"].join("")}function buildMoreLabel(o){var ret='<span class="'+o.moreClass+'">'+o.expandPrefix;return ret+('<a href="#">'+o.expandText+"<\/a><\/span>")}function backup(txt,preserveWords){return txt.lastIndexOf("<")>txt.lastIndexOf(">")&&(txt=txt.slice(0,txt.lastIndexOf("<"))),preserveWords&&(txt=txt.replace(rAmpWordEnd,"")),$.trim(txt)}function reCollapse(o,el){el.stop(!0,!0)[o.collapseEffect](o.collapseSpeed,function(){var prevMore=el.prev("span."+o.moreClass).show();prevMore.length||el.parent().children("div."+o.summaryClass).show().find("span."+o.moreClass).show()})}function delayCollapse(option,$collapseEl,thisEl){option.collapseTimer&&(delayedCollapse=setTimeout(function(){reCollapse(option,$collapseEl);$.isFunction(option.onCollapse)&&option.onCollapse.call(thisEl,!1)},option.collapseTimer))}var meth="init";typeof options=="string"&&(meth=options,options={});var opts=$.extend({},$.expander.defaults,options),rSelfClose=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,rAmpWordEnd=opts.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,rOpenCloseTag=/<\/?(\w+)[^>]*>/g,rOpenTag=/<(\w+)[^>]*>/g,rCloseTag=/<\/(\w+)>/g,rLastCloseTag=/(<\/[^>]+>)\s*$/,rTagPlus=/^<[^>]+>.?/,delayedCollapse,methods={init:function(){this.each(function(){function expand(event){event.preventDefault();$readMore.hide();$summEl.hide();defined.beforeExpand&&o.beforeExpand.call(thisEl);$thisDetails.stop(!1,!0)[o.expandEffect](expandSpeed,function(){$thisDetails.css({zoom:""});defined.afterExpand&&o.afterExpand.call(thisEl);delayCollapse(o,$thisDetails,thisEl)})}var i,l,tmp,newChar,summTagless,summOpens,summCloses,lastCloseTag,detailText,detailTagless,$thisDetails,$readMore,openTagsForDetails=[],closeTagsForsummaryText=[],defined={},thisEl=this,$this=$(this),$summEl=$([]),o=$.extend({},opts,$this.data("expander")||$.meta&&$this.data()||{}),hasDetails=!!$this.find("."+o.detailClass).length,hasBlocks=!!$this.find("*").filter(function(){var display=$(this).css("display");return/^block|table|list/.test(display)}).length,el=hasBlocks?"div":"span",detailSelector=el+"."+o.detailClass,moreSelector="span."+o.moreClass,expandSpeed=o.expandSpeed||0,allHtml=$.trim($this.html()),allText=$.trim($this.text()),summaryText=allHtml.slice(0,o.slicePoint),html;if(!$.data(this,"expanderInit")){for($.data(this,"expanderInit",!0),$.each(["onSlice","beforeExpand","afterExpand","onCollapse"],function(index,val){defined[val]=$.isFunction(o[val])}),summaryText=backup(summaryText),summTagless=summaryText.replace(rOpenCloseTag,"").length;summTagless<o.slicePoint;)newChar=allHtml.charAt(summaryText.length),newChar=="<"&&(newChar=allHtml.slice(summaryText.length).match(rTagPlus)[0]),summaryText+=newChar,summTagless++;for(summaryText=backup(summaryText,o.preserveWords),summOpens=summaryText.match(rOpenTag)||[],summCloses=summaryText.match(rCloseTag)||[],tmp=[],$.each(summOpens,function(index,val){rSelfClose.test(val)||tmp.push(val)}),summOpens=tmp,l=summCloses.length,i=0;i<l;i++)summCloses[i]=summCloses[i].replace(rCloseTag,"$1");if($.each(summOpens,function(index,val){var thisTagName=val.replace(rOpenTag,"$1"),closePosition=$.inArray(thisTagName,summCloses);closePosition===-1?(openTagsForDetails.push(val),closeTagsForsummaryText.push("<\/"+thisTagName+">")):summCloses.splice(closePosition,1)}),closeTagsForsummaryText.reverse(),hasDetails)detailText=$this.find(detailSelector).remove().html(),summaryText=$this.html(),allHtml=summaryText+detailText,lastCloseTag="";else{if(detailText=allHtml.slice(summaryText.length),detailTagless=$.trim(detailText.replace(rOpenCloseTag,"")),detailTagless===""||detailTagless.split(/\s+/).length<o.widow)return;lastCloseTag=closeTagsForsummaryText.pop()||"";summaryText+=closeTagsForsummaryText.join("");detailText=openTagsForDetails.join("")+detailText}o.moreLabel=$this.find(moreSelector).length?"":buildMoreLabel(o);hasBlocks&&(detailText=allHtml);summaryText+=lastCloseTag;o.summary=summaryText;o.details=detailText;o.lastCloseTag=lastCloseTag;defined.onSlice&&(tmp=o.onSlice.call(thisEl,o),o=tmp&&tmp.details?tmp:o);html=buildHTML(o,hasBlocks);$this.html(html);$thisDetails=$this.find(detailSelector);$readMore=$this.find(moreSelector);$thisDetails[o.collapseEffect](0);$readMore.find("a").unbind("click.expander").bind("click.expander",expand);$summEl=$this.find("div."+o.summaryClass);o.userCollapse&&!$this.find("span."+o.lessClass).length&&$this.find(detailSelector).append('<span class="'+o.lessClass+'">'+o.userCollapsePrefix+'<a href="#">'+o.userCollapseText+"<\/a><\/span>");$this.find("span."+o.lessClass+" a").unbind("click.expander").bind("click.expander",function(event){event.preventDefault();clearTimeout(delayedCollapse);var $detailsCollapsed=$(this).closest(detailSelector);reCollapse(o,$detailsCollapsed);defined.onCollapse&&o.onCollapse.call(thisEl,!0)})}})},destroy:function(){this.data("expander")&&(this.removeData("expander"),this.each(function(){var $this=$(this),o=$.meta?$.extend({},opts,$this.data()):opts,details=$this.find("."+o.detailClass).contents();$this.find("."+o.moreClass).remove();$this.find("."+o.summaryClass).remove();$this.find("."+o.detailClass).after(details).remove();$this.find("."+o.lessClass).remove()}))}};return methods[meth]&&methods[meth].call(this),this};$.fn.expander.defaults=$.expander.defaults})(jQuery);Array.prototype.map||(Array.prototype.map=function(fun){var len=this.length,res,thisp,i;if(typeof fun!="function")throw new TypeError;for(res=new Array(len),thisp=arguments[1],i=0;i<len;i++)i in this&&(res[i]=fun.call(thisp,this[i],i,this));return res});String.prototype.escapeDateTimeTokens=function(){return this.replace(/([dMyHmsft])/g,"\\$1")};Date.fromISOCache={};Date.isSameDay=function(date,date1){return date.getYear()==date1.getYear()&&date.getMonth()==date1.getMonth()&&date.getDate()==date1.getDate()};Date.fromISO=function(){var diso=Date.parse("2011-04-26T13:16:50Z"),common=function(val){var offset,dt;return val!=null&&$.isFunction(val.indexOf)&&val.indexOf("Date")!=-1?(val=val.replace("/Date(",""),offset=parseInt(val.substr(val.indexOf("+")+1,2)),val=val.substr(0,val.indexOf("+")!=-1?val.indexOf("+"):val.indexOf(")")),dt=new Date(parseInt(val)),Math.abs(dt.getTimezoneOffset())!=Math.abs(offset*60)&&dt.getFullYear()!=1&&(dt=new Date(dt.addMinutes(dt.getTimezoneOffset()))),dt):null};return diso===130382381e4?function(s){var cacheKey=s;return Date.fromISOCache[cacheKey]?new Date(Date.fromISOCache[cacheKey].getTime()):(Date.fromISOCache[cacheKey]=common(s)!=null?common(s):new Date(Date.parse(s)),new Date(Date.fromISOCache[cacheKey].getTime()))}:function(s){var cacheKey=s,result,day,tz,rx,p;if(Date.fromISOCache[cacheKey])return new Date(Date.fromISOCache[cacheKey].getTime());if(result=common(s),result!=null)Date.fromISOCache[cacheKey]=result;else{if(s==null)return NaN;if(rx=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/,p=rx.exec(s)||[],p[1]){if(day=p[1].split(/\D/).map(function(itm){return parseInt(itm,10)||0}),day[1]-=1,day=eval("new Date("+day.join(",")+")"),!day.getDate())return NaN;p[5]&&(tz=parseInt(p[5],10)*60,p[6]&&(tz+=parseInt(p[6],10)),p[4]=="+"&&(tz*=-1),tz&&day.setUTCMinutes(day.getUTCMinutes()+tz));Date.fromISOCache[cacheKey]=day}else Date.fromISOCache[cacheKey]=new Date(s)}return new Date(Date.fromISOCache[cacheKey].getTime())}}();Imtech=Imtech||{};Imtech.Utils={date:{"1033":{monthsLong:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysLong:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy H:mm tt",F:"dddd, MMMM dd, yyyy H:mm:ss tt",g:"M/d/yyyy H:mm tt",G:"M/d/yyyy H:mm:ss tt",m:"MMMM dd",M:"MMMM, yyyy",o:"yyyy-MM-ddTHH:mm:ss.fff",s:"yyyy-MM-ddTHH:mm:ss",t:"H:mm tt",T:"H:mm:ss tt",U:"dddd, MMMM dd, yyyy HH:mm:ss tt",y:"MMMM, yyyy",i:"ddd, MMMM dd, yyyy",l:"ddd, M/d"},tt:{AM:"AM",PM:"PM"},clockType:12},"1043":{monthsLong:["januari","febrauri","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],daysLong:["maandag","dinsdag","woensdag","donderdag","vridag","zaterdag","zondag"],daysShort:["ma","di","wo","do","vr","za","zo"],patterns:{d:"d-M-yyyy",D:"dddd d MMMM yyyy",f:"dddd d MMMM yyyy H:mm",F:"dddd d MMMM yyyy H:mm:ss",g:"d-M-yyyy H:mm",G:"d-M-yyyy H:mm:ss",m:"dd MMMM",M:"MMMM, yyyy",o:"yyyy-MM-ddTHH:mm:ss.fff",s:"yyyy-MM-ddTHH:mm:ss",t:"H:mm",T:"H:mm:ss",U:"dddd d MMMM yyyy HH:mm:ss",y:"MMMM, yyyy"},tt:{AM:"",PM:""},clockType:24}}};Date.prototype.cache={};Date.prototype.daysTo=function(to){return Math.abs(Math.floor(to.getTime()/864e5)-Math.floor(this.getTime()/864e5))};Date.prototype.cformat=Date.prototype.format=function(format,locale){var cacheKey=format+locale+this,fd,dateFormat,pattern,month,dayOfWeek,day,hour,minutes,seconds;return Date.prototype.cache[cacheKey]?Date.prototype.cache[cacheKey]:(locale==undefined&&(locale="1033"),fd=this.toString(),dateFormat=Imtech.Utils.date[locale],typeof dateFormat!="undefined"&&(pattern=typeof dateFormat.patterns[format]!="undefined"?dateFormat.patterns[format]:format,fd=pattern.replace(/yyyy/g,this.getFullYear()),fd=fd.replace(/yy/g,(this.getFullYear()+"").substring(2)),isNaN(this)||(month=this.getMonth(),fd=fd.replace(/MMMM/g,dateFormat.monthsLong[month].escapeDateTimeTokens()),fd=fd.replace(/MMM/g,dateFormat.monthsShort[month].escapeDateTimeTokens()),fd=fd.replace(/MM/g,month+1<10?"0"+(month+1):month+1),fd=fd.replace(/(\\)?M/g,function($0,$1){return $1?$0:month+1}),dayOfWeek=this.getDay(),fd=fd.replace(/dddd/g,dateFormat.daysLong[dayOfWeek].escapeDateTimeTokens()),fd=fd.replace(/ddd/g,dateFormat.daysShort[dayOfWeek].escapeDateTimeTokens()),day=this.getDate(),fd=fd.replace(/dd/g,day<10?"0"+day:day),fd=fd.replace(/(\\)?d/g,function($0,$1){return $1?$0:day}),hour=this.getHours(),dateFormat.clockType==12&&(hour==0&&(hour=12),hour>12&&(hour-=12)),fd=fd.replace(/HH/g,hour<10?"0"+hour:hour),fd=fd.replace(/(\\)?H/g,function($0,$1){return $1?$0:hour}),minutes=this.getMinutes(),fd=fd.replace(/mm/g,minutes<10?"0"+minutes:minutes),fd=fd.replace(/(\\)?m/g,function($0,$1){return $1?$0:minutes}),seconds=this.getSeconds(),fd=fd.replace(/ss/g,seconds<10?"0"+seconds:seconds),fd=fd.replace(/(\\)?s/g,function($0,$1){return $1?$0:seconds}),fd=fd.replace(/fff/g,this.getMilliseconds()),fd=fd.replace(/tt/g,this.getHours()>12||this.getHours()==12?dateFormat.tt.PM:dateFormat.tt.AM))),Date.prototype.cache[cacheKey]=fd.replace(/\\/g,""),Date.prototype.cache[cacheKey])};Date.prototype.toServerString=function(){return this.toString("yyyy-MM-ddTHH:mm:ss")},function($){$.fn.lsCalendarSettings=[];$.fn.lsCalendar=function(config,events,options){var viewModel={},getDateFromStr=function(val){return Date.fromISO(val)},isPeriodReservation=function(res,dt){return res.ReservationMethod==2&&(viewModel.isMonthView()?res.BlockWorkspaceFrom:res.StartTime)<=dt.Date&&res.EndTime>=dt.Date},getResFunction=function(dayId,externalVal){var id=externalVal.Id,result=[],days,ev,width,i,coord;if(viewModel.alreadyLoadedWorkspaces.indexOf(id)==-1&&viewModel.selectedWorkspaces.indexOf(id)==-1)return result;days=viewModel.currentPeriod();$.each(viewModel.events[id](),function(i,val){if(val.WorkspaceId==id){var day=days[dayId!=null?dayId:0];day!=null&&(isSameDay(day.Date,val.StartTime)==!0||isPeriodReservation(val,day))&&result.push(val)}});result.sort(function(left,right){if(left.StartTime-right.StartTime==0){if(left._previousOrder<right._previousOrder)return-1;else if(left._previousOrder>right._previousOrder)return 1;return 0}return left.StartTime<right.StartTime?-1:1});var days=[],evs_originals=[],stack=[];for(i=0;i<result.length;i++){for(ev=result[i];stack.length&&stack[stack.length-1].EndTime<=ev.StartTime;)stack.splice(stack.length-1,1);stack.length&&(stack[stack.length-1]._inner=!0);ev._sorder=stack.length;ev._previousOrder||(ev._previousOrder=stack.length);stack.push(ev);stack.length>(stack.max_count||0)&&(stack.max_count=stack.length)}if(!viewModel.isMonthView())for(width=1/stack.max_count,i=0;i<result.length;i++)result[i].Workspace=externalVal,result[i]._sorder=result[i]._sorder,result[i]._count=stack.max_count,coord=viewModel.getReservationCoord(result[i]),coord.left=result[i]._sorder*width,coord.width=result[i]._inner?width:width*(result[i]._count-result[i]._sorder),result[i].coord=coord;return result},convertDate=function(config,reservations){var convert=function(val){val.Date=getDateFromStr(val.Date);val.StartTime=getDateFromStr(val.StartTime);val.EndTime=getDateFromStr(val.EndTime)};config!=null&&(config.SelectedDate=new Date(getDateFromStr(config.SelectedDate).setHours(0,0,0)),$.each(config.Workspaces,function(i1,val1){$.each(val1.CalendarDays,function(i,val){convert(val);$.each(val.Blocked,function(i2,val2){convert(val2)});$.each(val.Opened,function(i2,val2){convert(val2)})})}));reservations!=null&&$.each(reservations,function(i,val){val.StartTime=getDateFromStr(val.StartTime);val.EndTime=getDateFromStr(val.EndTime);val.PaidEndTime!=null&&val.PaidEndTime!=""&&(val.PaidEndTime=getDateFromStr(val.PaidEndTime));val.BlockWorkspaceFrom!=null&&val.BlockWorkspaceFrom!=""&&(val.BlockWorkspaceFrom=getDateFromStr(val.BlockWorkspaceFrom))})},capacity=function(name,value){this.name=name;this.value=population},templateToUseApplier=function(funcDay,funcWeek,funcMonth,funcAgenda,template){switch(template!=null?template:viewModel.templateToUse()){case"calendar-day":funcDay();break;case"calendar-week":funcWeek();break;case"calendar-month":funcMonth();break;case"calendar-agenda":funcAgenda();break}},isSameDay=function(date,date1){return date.getYear()==date1.getYear()&&date.getMonth()==date1.getMonth()&&date.getDate()==date1.getDate()},_hashSelectedDate=undefined,_hashCapacity=undefined,_hashTemplateToUse=undefined,_this=$(this),_thisWrapper=$(".innerContent"),selectedWorkspacesKey,workspacesColorsKey,navigation,header,iOSRegex,hideBookItButton,blockAmmountForBlockedWeek,capacityChanged,restoreMonthViewWorkspaces,activateSelectedViewMode,skipInitialRefresh,copyEvent;if(typeof config=="object"){config.$wrapper!=null&&(_thisWrapper=config.$wrapper);selectedWorkspacesKey=config.VenueId+"_selectedWorkspaces";workspacesColorsKey=config.VenueId+"_workspacesColors";options=options||{navTemplate:"#calendar-navigation",headerTemplate:"#calendar-header"};convertDate(config,events);config.CalendarDate=config.SelectedDate.format("i");$(this).addClass("ls_cal");navigation=$($(options.navTemplate).html());header=$($(options.headerTemplate).html());navigation.find(".view-mode").buttonset();navigation.appendTo(this);header.appendTo(this);$('<div class="ls_calendar_loading" data-bind="visible: processing() && !silentProcessing()"><\/div>').appendTo(this);$(this).css("position","relative");var currentTime=new Date,currentTimeHours=currentTime.getUTCHours()+(currentTime.getUTCMinutes()+config.TimeZoneDetail.OffsetMinutes)/60,instance=new Date;_this.refreshInterval=setInterval(function(){viewModel.processing()||viewModel.pauseSilentProcessing()||viewModel.refreshCalendar(null,null,null,null,null,null,null,!0)},3e5);_this.currentTimeInterval=setInterval(function(){if(viewModel!=null&&$.isFunction(viewModel.currentTimeHours)){var currentTime=new Date,currentTimeHours=currentTime.getUTCHours()+(currentTime.getUTCMinutes()+config.TimeZoneDetail.OffsetMinutes)/60;viewModel.currentTimeHours(currentTimeHours)}},6e4);ko.utils.domNodeDisposal.addDisposeCallback(_this[0],function(){clearInterval(_this.currentTimeInterval);clearInterval(_this.refreshInterval);for(var prop in viewModel)ko.isComputed(viewModel[prop])&&viewModel[prop].dispose()});iOSRegex=new RegExp("iPhone|iPad|iPod","g");hideBookItButton=iOSRegex.test(navigator.userAgent);viewModel={calendarHeaderMouseDown:function(data,ev){viewModel.isUserEmpty()==!1&&viewModel.getReservationPopupDetails("day-pass",data,null,ev,!0)},currentWeekMouseDown:function(data,ev){data.list=$parent[Id][$index];viewModel.getReservationPopupDetails("day-pass",data,Date,ev)},workspaceColorsPool:["FCD0BD","CFFFBF","FFEFBF","BFFFFF","EFBFFF","FF9999","FFBF00","A3D900","4DFFD2","73DCFF"],workspaceAssignedColors:{},getDateWithoutTime:function(dateTime){var result=new Date(dateTime);return result.setHours(0,0,0,0),result},mtmCheckFunc:function(res,index,checkFunc){var period=viewModel.currentPeriod(),resStartDate=viewModel.getDateWithoutTime(res.StartTime);return(resStartDate>period[0].Date&&resStartDate<period[period.length-1].Date&&isSameDay(resStartDate,period[index].Date)||period[0].Date>resStartDate&&isSameDay(period[0].Date,period[index].Date))&&checkFunc(res,period[index].Date)},isMtmBooked:function(res,date){var resStartDate=viewModel.getDateWithoutTime(res.StartTime);return date>=resStartDate&&date<=res.PaidEndTime},showMtmBooked:function(res,index){return viewModel.mtmCheckFunc(res,index,viewModel.isMtmBooked)},isMtmRenewal:function(res,date){var resStartDate=viewModel.getDateWithoutTime(res.StartTime);return date>res.PaidEndTime||date<resStartDate},showMtmRenewal:function(res,index){var period=viewModel.currentPeriod(),dt=new Date(res.PaidEndTime).addDays(1);return isSameDay(dt,period[index].Date)},getTitleText:function(res,index){if(res.ReservationMethod==2){if(viewModel.showMtmRenewal(res,index))return"Renewal";if(viewModel.showMtmBooked(res,index))return"Booked"}else if(res.IsCreditCardPayment&&viewModel.isSuperUser()||viewModel.getEventIconState(res.Id)>1)return viewModel.getTimePartFromStr(res.StartTime,!1,!0)+"-"+viewModel.getTimePartFromStr(res.EndTime,!0,!0);else if(!(res.IsCreditCardPayment&&viewModel.isSuperUser()||viewModel.getEventIconState(res.Id)>1))return viewModel.getTimePartFromStr(res.StartTime)+" - "+viewModel.getTimePartFromStr(res.EndTime,!0)},getWorkspaceColor:function(id,res,index){var color,period;if(!viewModel.workspaceAssignedColors[id]){if(viewModel.workspaceColorsPool.length>0)color="#"+viewModel.workspaceColorsPool.shift();else{function getRandomInt(max){return Math.floor(Math.random()*max)}function generateRandomColor(){var red=getRandomInt(256),green=getRandomInt(256),blue=getRandomInt(256);return red=Math.floor((red+255)/2),green=Math.floor((green+255)/2),blue=Math.floor((blue+255)/2),"#"+red.toString(16)+green.toString(16)+blue.toString(16)}color=generateRandomColor()}viewModel.workspaceAssignedColors[id]=color;LSHelper.sessionStorage.set(workspacesColorsKey,viewModel.workspaceAssignedColors)}return res!=null&&res.ReservationMethod==2&&(period=viewModel.currentPeriod(),viewModel.isMtmRenewal(res,period[index].Date))?color="repeating-linear-gradient(-60deg, white, white 2px, "+viewModel.workspaceAssignedColors[id]+" 2px,"+viewModel.workspaceAssignedColors[id]+" 6px)":viewModel.workspaceAssignedColors[id]},selectedWorkspaces:ko.observableArray([]),workspace_visible_in_conatiner:function(id){var e=$(".ls_events_display."+id),width=0,pos=e.position(),result;return $.each(e,function(i,val){width+=$(val).width()}),result=!1,pos==null||(result=(pos.left>0||pos.left+width>0)&&pos.left<viewModel.calendarWidth()),result},getWorkspacesVisibleInContainer:function(){var result=[],ws=viewModel.workspaces();return $.each(ws,function(i,val){viewModel.workspace_visible_in_conatiner(val.Id)&&result.push(val.Id)}),result.length==0&&$.each(ws,function(i,val){if(result.length<6)result.push(val.Id);else return!1}),result},alreadyLoadedWorkspaces:ko.observableArray([]),calendarHeaderScroll:function(){$(".ls_calendar_month_fullday").hide();_this.find(".calendar-display-content").css("margin-left",-1*_this.find(".calendar-header-content").scrollLeft()+"px");var currentlyVisibleW=viewModel.getWorkspacesVisibleInContainer(),addedEls=currentlyVisibleW.filter(function(el){return viewModel.alreadyLoadedWorkspaces.indexOf(el)==-1});$.each(addedEls,function(i,added){viewModel.alreadyLoadedWorkspaces.push(added)});$(".calendar-reservation-popup").remove()},pauseSilentProcessing:ko.observable(!1),silentProcessing:ko.observable(!1),_isPaused:ko.observable(!1),progressBarTop:function(){return parseInt(_this.height()/2)+"px"},progressBarLeft:function(){return parseInt(_this.width()/2-100)+"px"},afterRender:function(elements){$(elements).find("button").button();$(".qtip").tooltipster("destroy");$.each($(elements).find(".ls_calendar_event_title").not(".after-render-disabled"),function(i,val){var content=$(val).next().html();content&&content.length>0&&$(val).tooltipster({content:content,theme:"tooltipster-calendar",position:"bottom-left"})});applyButtonPermissions()},currentPeriodCache:{},currentPeriod:function(date,template,getCloseDateInfo){var result=[],start=0,today=new Date(new Date(date!=null?date:viewModel.calendarConfig().SelectedDate).setHours(0,0,0,0)),cacheKey=today.toString()+"_"+(template||viewModel.templateToUse()),weekFunc;return!getCloseDateInfo&&viewModel.currentPeriodCache[cacheKey]?viewModel.currentPeriodCache[cacheKey]:(weekFunc=function(){var day=today.getDay()-start,date=today.getDate()-day,i,d;for(today=new Date(today.setDate(date)),i=0;i<7;i++)d=new Date(new Date(today).setDate(new Date(today).getDate()+i)),result.push({Date:d,DateStr:d.format("ddd, MMM dd"),IsLast:i==6})},templateToUseApplier(function(){result.push({Date:today,DateStr:today.format("ddd, MMM dd"),IsLast:!0})},function(){weekFunc()},function(){var i,counter,d;end=new Date(today.getFullYear(),today.getMonth()+1,0).getDate();var firstShow=0,firstDay=new Date(today.getFullYear(),today.getMonth(),1).getDay(),calendarViewTopBound=firstDay==0?firstShow-6:firstShow-firstDay+1,calendarViewBottomBound=firstDay==0?35-firstDay:42-firstDay;for(i=calendarViewTopBound,counter=0;i<=calendarViewBottomBound;i++,counter++)d=new Date(new Date(today).setDate(i)),result.push({Date:d,DateStr:d.format("MMM dd"),OtherMonth:i<1||i>end,IsLast:d.getDay()==6,CloseDateInfo:getCloseDateInfo?viewModel.monthCloseDateInfo(d):null,IsLastLine:counter>=35})},function(){for(var d,i=0;i<7;i++)d=new Date(new Date(today).setDate(new Date(today).getDate()+i)),result.push({Date:d,DateStr:d.format("ddd, MMM dd"),IsLast:i==6})},template),viewModel.currentPeriodCache[cacheKey]=result,result)},monthCloseDateInfo:function(date){var closeReason,closedWorkspaces=0;return($.each(viewModel.selectedWorkspaces(),function(index,value){var dayInfo=viewModel.getCalendarDayInfo(date,viewModel.getWorkspaceById(value),!0);typeof dayInfo!="undefined"&&dayInfo!=null&&(dayInfo.LastHour-dayInfo.FirstHour==0||dayInfo.Opened.length==0)&&(closedWorkspaces++,dayInfo.ClosedReason&&dayInfo.ClosedReason.length>0?closeReason=dayInfo.ClosedReason:dayInfo.Blocked&&dayInfo.Blocked.length>0&&(closeReason=dayInfo.Blocked[0].ClosedReason))}),closedWorkspaces>0)?{IsClosed:closedWorkspaces==viewModel.selectedWorkspaces().length,CloseReason:closedWorkspaces==1?closeReason:null}:null},agendaFirstDate:function(){var events=viewModel.allEvents();if(events.length>0)return events[0].isMoveOut?events[0].EndTime.format("MMMM dd, yyyy"):events[0].StartTime.format("MMMM dd, yyyy")},agendaLastDate:function(){var days=viewModel.currentPeriod();return days[6].Date.format("MMMM dd")},calendarDate:function(){var result=(new Date).format("i"),weekFunc=function(){var days=viewModel.currentPeriod();result=days[0].Date.format("MMM dd")+" - "+days[6].Date.format("MMM dd, yyyy")};return templateToUseApplier(function(){result=viewModel.calendarConfig().SelectedDate.format("i")},function(){weekFunc()},function(){result=viewModel.calendarConfig().SelectedDate.format("M")},function(){weekFunc()}),result},headerVertical:function(){return viewModel.isDayView()&&viewModel.getWorkspacesPaged().length>3},headerHeight:function(){var res=viewModel.headerVertical()?140:100;return viewModel.worskpacePageSize()<viewModel.workspaces().length&&templateToUseApplier(function(){res=res+10},function(){res=res+10},function(){},function(){res=res+10}),res+"px"},currentTimeHours:ko.observable(currentTimeHours),currentTimeHoursSymbolTop:function(){return(viewModel.currentTimeHours()-viewModel.getMaximumRange().FirstHour)*viewModel.hourSizePx()-6},currentTimeHoursLineTop:function(){return viewModel.currentTimeHoursSymbolTop()+7},processing:ko.observable(!1),sortedWorkspacesId:ko.observable(config.SortedWorkspacesId),calendarConfig:ko.observable(config),reservationsForToday:ko.observable(config.ReservationsForToday),hourSizePx:ko.observable(42),getCalendarDayInfo:function(date,w,skipReservationCheck){return koExtend.cacheFunction("getCalendarDayInfo"+date+w.Id,function(){var result,min,max;return skipReservationCheck=skipReservationCheck==null?!1:skipReservationCheck,result=null,$.each(w.CalendarDays,function(i,val){if(isSameDay(val.Date,date))return result=$.extend({},val),!1}),skipReservationCheck==!1&&result!=null&&viewModel.events[w.Id]().length>0&&(min=100,max=-1,$.each(viewModel.events[w.Id](),function(i,val){if(isSameDay(date,val.StartTime)&&val.ReservationMetod==0){var w=viewModel.getWorkspaceById(val.WorkspaceId);min>val.StartTime.getHours()&&(min=val.StartTime.getHours());max<val.EndTime.getHours()&&(max=val.EndTime.getHours()+(val.EndTime.getMinutes()>0?1:0));isSameDay(date,val.EndTime)||(max=24);max<min&&(max=24)}}),result.FirstHour==result.LastHour&&result.FirstHour<min&&isSameDay(result.StartTime,result.EndTime)&&(result.FirstHour=min),result.LastHour!=0||isSameDay(result.StartTime,result.EndTime)||(result.LastHour=24),result.FirstHour>min&&(result.FirstHour=min),result.LastHour<max&&(result.LastHour=max)),result})},availableCapacities:ko.observableArray(config.WorkspaceCapacityList),templateToUse:ko.observable(config&&config.TemplateToUse?config.TemplateToUse:"calendar-day"),getCurrentDayPassReservationsCount:function(id,substractFrom){if($.isFunction(viewModel[id]))return substractFrom!=null?substractFrom-viewModel[id]().length:viewModel[id]().length},calendarViewChange:function(val,viewType){if(viewModel.templateToUse()!=val){LSHelper.Calendar.trackCalendarViewSwitchEvents(viewType);_this.find(".calendar-header-content").html("");_this.find(".calendar-display-content").html("");_this.find(".calendar-display-time").html("");viewModel.alreadyLoadedWorkspaces([]);val=="calendar-month"?viewModel.selectedWorkspaces([viewModel.workspaces()[0].Id]):viewModel.selectedWorkspaces([]);function setContentMargin(){_this.find(".calendar-display-content").css("margin-left",-1*_this.find(".calendar-header-content").scrollLeft()+"px")}templateToUseApplier(setContentMargin,setContentMargin,setContentMargin,setContentMargin);viewModel.processing(!1);viewModel.silentProcessing(!1);viewModel.refreshCalendar(null,null,null,new Date((new Date).setHours(0,0,0,0)),val,!0)}},isFullScreen:ko.observable(!1),previuosOverflowStyle:"",resizeFunctionSet:!1,fullScreenCalendar:function(){function onFullScreenResize(){viewModel.isFullScreen()&&(changeWrapperPos(),setTimeout(function(){viewModel.calendarWidth()}))}$(".drop-down-table.dropdown-table-opened").length>0&&$(".drop-down-table.dropdown-table-opened").dropDownTable().close();var val=viewModel.isFullScreen(),changeWrapperPos=function(){var winW=window.innerWidth-17,docW=document.documentElement.clientWidth||document.body.clientWidth,w=winW<docW?winW:docW;w<960&&(w=960);viewModel.deltaWidth(w)},$header=$("header"),$footer=$("footer");if(viewModel.isFullScreen(!val),val!=!0){viewModel.calendarHeaderScroll();$footer.hide();$header.hide();$(".my-page-wrapper > .left-side").hide();changeWrapperPos();_thisWrapper.addClass("calendar-full-screen");setTimeout(function(){viewModel.calendarHeaderScroll()});$(window).on("resize",onFullScreenResize)}else _thisWrapper.removeClass("calendar-full-screen"),$footer.show(),$header.show(),$(".my-page-wrapper > .left-side").show(),$(window).off("resize",onFullScreenResize);return setTimeout(function(){viewModel.calendarWidth();viewModel.setIsScrollVisible()}),viewModel.isFullScreen()},calendarHourColumnOffset:ko.observable($(".ls_cal_hours_column")[0].offsetWidth+$(".ls_cal_hours_column")[0].offsetLeft),wrapperWidth:ko.observable($(_this).width()),deltaWidth:ko.observable($(document).width()-(_thisWrapper.outerWidth()-_thisWrapper.width())),isScrollVisible:ko.observable(!0),setIsScrollVisible:function(){var wsCount=viewModel.workspaces().length,visibleCount=viewModel.calendarWidth()/viewModel.blockWidth();viewModel.isScrollVisible(visibleCount<wsCount)},calendarWidth:function(){var width=viewModel.isFullScreen()?viewModel.deltaWidth():viewModel.wrapperWidth(),result;return viewModel.calendarWidthObs(width),result=0,templateToUseApplier(function(){result=width-viewModel.calendarHourColumnOffset()},function(){result=width-viewModel.calendarHourColumnOffset()},function(){result=width},function(){result=width-viewModel.calendarHourColumnOffset()}),result},calendarWidthObs:ko.observable(),blockWidth:function(){var pagerVisible=viewModel.workspaces().length>viewModel.worskpacePageSize(),isFullScreen=viewModel.isFullScreen(),result=0,fullScreenResult=viewModel.calendarWidth()/viewModel.workspaces().length;return templateToUseApplier(function(){result=165},function(){result=800},function(){result=viewModel.calendarWidth()-273},function(){}),viewModel.isMonthView()||fullScreenResult>result&&(result=fullScreenResult),result},subBlockWidth:function(x){var result=1;return templateToUseApplier(function(){result=viewModel.blockWidth()},function(){result=viewModel.blockWidth()/7},function(){result=parseInt(viewModel.blockWidth()/7-($.browser.msie&&$.browser.version.slice(0,1)=="7"?1:0))},function(){}),result},worskpacePage:ko.observable(0),capacity:ko.observable(config.WorkspaceCapacityList[0]),targetPageSize:5,worskpacePageSize:function(){var result=1;return templateToUseApplier(function(){result=viewModel.workspaces().length>viewModel.targetPageSize?viewModel.targetPageSize:viewModel.workspaces().length},function(){},function(){},function(){}),result},workspaces:ko.observableArray(config.Workspaces),calendarDateChange:function(val){var date=null;templateToUseApplier(function(){date=new Date(new Date(viewModel.calendarConfig().SelectedDate).addDays(val))},function(){date=new Date(new Date(viewModel.calendarConfig().SelectedDate).addDays(val*7));date=new Date(date.addDays(-date.getDay()))},function(){var d=new Date(viewModel.calendarConfig().SelectedDate);date=new Date(d.setMonth(d.getMonth()+val,1))},function(){date=new Date(new Date(viewModel.calendarConfig().SelectedDate).addDays(val*7))});val==0&&(date=new Date((new Date).setHours(0,0,0,0)));viewModel.refreshCalendar(null,null,null,date,null,!0)},getTimePartFromStr:function(val,isEnd,noSpaces){var date=getDateFromStr(val);return viewModel.getTime(date.getHours(),date.getMinutes(),isEnd,noSpaces)},getTime:function(hour,minutes,isEnd,noSpaces){isEnd&&isEnd==!0&&hour==0&&minutes==0&&(hour=23,minutes=59);var result=hour==0?"12":hour>12?hour-12:hour;return minutes<10&&(minutes="0"+minutes),result+":"+minutes+(noSpaces?"":" ")+(hour<12?"AM":"PM")},getReservationCoord:function(res,date,skipResMethodCheck){var start=res.StartTime,length=res.EndTime-res.StartTime,h=parseInt(viewModel.hourSizePx()*length/36e5),delta=viewModel.timeDisplayed().length>0?viewModel.timeDisplayed()[0].Hour:0,top=parseInt(viewModel.hourSizePx()*(start.getHours()-delta+start.getMinutes()/60));return h+top>viewModel.calendarHeight()&&(h=viewModel.calendarHeight()-top),res.ReservationMethod==null||res.ReservationMethod==0||skipResMethodCheck||(h=viewModel.calendarHeight(),top=0),{id:res.Id,height:h,top:top,width:viewModel.blockWidth()-3,left:1,counter:0}},ajaxFunction:function(url,params,success,method){return viewModel.processing(!0),method==null&&(method="GET"),$.ajax({type:method,data:params,url:url,async:!0,success:function(result){viewModel.processing(!1);success(result)},error:function(xhr,ajaxOptions,thrownError){viewModel.processing(!1)}})},getWorkspacesPaged:function(){var items=[],monthData=function(){if(viewModel.workspaces().length>0){var item=$.extend({},viewModel.workspaces()[0]);item.blockWidth=viewModel.blockWidth();item.list=function(){return viewModel.getWorkspaceReservations()};items.push(item)}},common=function(){items=viewModel.workspaces();$.each(items,function(j,val){val.blockWidth=viewModel.blockWidth();val.list=function(){return viewModel.getWorkspaceReservations(this.Id)}})};return templateToUseApplier(common,common,monthData,function(){}),items},setSelectedDateUrl:function(date){LSHelper.HelperLib.addTrackToUrl("date",date)},getSelectedDateFromUrl:function(){return LSHelper.HelperLib.getTrackFromUrl("date")},setCapacityUrl:function(capacity){LSHelper.HelperLib.addTrackToUrl("capacity",capacity)},getCapacityFromUrl:function(){return LSHelper.HelperLib.getTrackFromUrl("capacity")},setTemplateToUseUrl:function(templateToUse){LSHelper.HelperLib.addTrackToUrl("templateToUse",templateToUse)},getTemplateToUseFromUrl:function(){return LSHelper.HelperLib.getTrackFromUrl("templateToUse")},lastRefreshCalendarRequest:null,refreshCalendar:function(data,event,userId,date,template,capacityChanged,res,silent,wId,reservationAddedOrDeleted){var common,templateChanged;if(silent||$(".calendar-reservation-popup").remove(),viewModel.processing()&&viewModel.silentProcessing()&&!viewModel.reservationPopupOpened()&&wId==null){viewModel.silentProcessing(!1);return}capacityChanged==null&&(capacityChanged=!1);viewModel.silentProcessing(silent);viewModel._isPaused(!0);common=function(){var period=viewModel.currentPeriod(date,template);fromDate=period[0].Date;toDate=period[period.length-1].Date};templateChanged=!1;template!=null&&template!=viewModel.templateToUse()&&(viewModel.initGetResFunctions(date,template),viewModel.templateToUse(template),templateChanged=!0);var wIds=wId==null?viewModel.getWorkspacesVisibleInContainer():[wId],fromDate=date!=null?date:viewModel.calendarConfig().SelectedDate,toDate=null,agendaView=!1;templateToUseApplier(function(){},function(){common()},function(){common();wIds=viewModel.selectedWorkspaces()},function(){agendaView=!0;common()},template);viewModel.lastRefreshCalendarRequest&&viewModel.lastRefreshCalendarRequest.readyState!=4&&viewModel.lastRefreshCalendarRequest.abort();viewModel.lastRefreshCalendarRequest=viewModel.ajaxFunction("/Calendar/ReservationsJson",{id:viewModel.calendarConfig().VenueId,userId:userId!=null?userId:viewModel.calendarConfig().UserId,capacity:viewModel.capacity().Value,shownWorkspacesIds:null,from:LSHelper.Calendar.toServerString(fromDate),to:LSHelper.Calendar.toServerString(toDate),loggedInUserId:viewModel.calendarConfig().LoggedInUserId,showAllWorkspaces:agendaView,capacityChanged:reservationAddedOrDeleted||capacityChanged},function(result){var ev;if(result.isException)result.sessionExpired==!0?(viewModel.pauseSilentProcessing(!0),$("#editReservationDialog").dialog("close"),ev=viewModel.getReservation(null),viewModel.events[ev.WorkspaceId].remove(ev),LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){userId!=viewModel.calendarConfig().LoggedInUserId?window.location.reload():(viewModel.pauseSilentProcessing(!1),viewModel.refreshCalendar(data,event,userId,date,template,capacityChanged,res,silent))},onlyHeaderReload:!0,signInMessage:result.content})):LSHelper.UI.showError(result);else{viewModel.reservationsForToday(result.config.ReservationsForToday);convertDate(result.config,result.reservations);result.config.SelectedDate=date!=null?date:viewModel.calendarConfig().SelectedDate;var replaceEvents=!isSameDay(result.config.SelectedDate,viewModel.calendarConfig().SelectedDate)||templateChanged,isEqual=function(v,newRes){var result=!0;for(var p in newRes)if(newRes[p]!=v[p]&&(result=p=="Id"?v.Id==newRes.Id||v.IsRecurrentReservation&&newRes.IsRecurrentReservation&&v.ParentId==newRes.ParentId&&v.OccurrenceDate==newRes.OccurrenceDate:isNaN(new Date(newRes[p]))||isNaN(new Date(v[p]))?!1:newRes[p]-v[p]==0,result==!1))return result},isSameReservationInstance=function(res1,res2){return!res1||!res2?!1:res1.Id==res2.Id||res1.IsRecurrentReservation&&res2.IsRecurrentReservation&&res1.ReadId==res2.ReadId&&res1.OccurrenceDate==res2.OccurrenceDate?!0:!1};replaceEvents?(viewModel.initEventObs(result.reservations),viewModel.calendarConfig(result.config),viewModel.workspaces(result.config.Workspaces),viewModel.alreadyLoadedWorkspaces(viewModel.isMonthView()?[]:viewModel.getWorkspacesVisibleInContainer())):(viewModel.initEventObs(result.reservations),viewModel.workspaces(result.config.Workspaces),viewModel.selectedWorkspaces(viewModel.selectedWorkspaces()));viewModel.silentProcessing()?viewModel.silentProcessing(!1):result&&result.config&&!$.isEmptyObject(result.config.SortedWorkspacesId)&&viewModel.sortedWorkspacesId(result.config.SortedWorkspacesId);replaceEvents||viewModel.calendarConfig(result.config);koExtend.clearCacheFunction();viewModel._isPaused(!1);$(".qtip").tooltipster("destroy");templateChanged&&viewModel.setIsScrollVisible()}},"POST")},initGetResFunctions:function(date,template){var common=function(setThrottle){$.each(viewModel.workspaces(),function(externalI,externalVal){viewModel[externalVal.Id]==null&&(viewModel[externalVal.Id]={});$.each(viewModel.currentPeriod(date,template),function(i,val){var func=function(){return getResFunction(i,externalVal)};viewModel[externalVal.Id][i]=ko.computed(function(){return func()})})})};$.each(viewModel.workspaces(),function(externalI,externalVal){viewModel[externalVal.Id]!=null&&ko.isComputed(viewModel[externalVal.Id])&&viewModel[externalVal.Id].dispose();for(var prop in viewModel[externalVal.Id])viewModel[externalVal.Id].hasOwnProperty(prop)&&ko.isComputed(viewModel[externalVal.Id][prop])&&viewModel[externalVal.Id][prop].dispose()});templateToUseApplier(function(){$.each(viewModel.workspaces(),function(externalI,externalVal){var func=function(){return getResFunction(null,externalVal)};viewModel[externalVal.Id]=ko.computed(function(){return func()})})},function(){common()},function(){common(!0)},function(){common()},template)},getDateFromEvent:function(e,date){var y=e.pageY-$(e.currentTarget).offset().top,date=new Date(new Date(date==null?viewModel.calendarConfig().SelectedDate:date).addHours(viewModel.timeDisplayed()[0].Hour)),time=date.addSeconds(3600*y/viewModel.hourSizePx()),minutes=time.getMinutes();return time=new Date(new Date(time.setMinutes(0)).setSeconds(0)).setMilliseconds(0),minutes>45&&(minutes=60),minutes<15&&(minutes=0),new Date(time).addMinutes(Math.floor(minutes/15)*15)},mousePressed:ko.observable(!1),oneClickReservation:ko.observable(!0),reservationPopupOpened:ko.observable(!1),getAffectedEvents:function(ev,workspace,date){var check=function(val,val1){var check1=function(val,val1){return val.StartTime<=val1.StartTime&&(val.EndTime>=val1.EndTime||val.EndTime>val1.StartTime)||val.ReservationMethod!=0||val1.ReservationMethod!=0};return check1(val,val1)||check1(val1,val)},affected=[];return $.each(viewModel.getWorkspaceReservations(workspace.Id,date!=null?new Date(date):null),function(i,val){ev.Id!=val.Id&&check(ev,val)&&affected.push(val)}),affected},refreshAffectedEvents:function(ev,workspace,date){var affected=viewModel.getAffectedEvents(ev,workspace,date);affected.push(ev);ev.WorkspaceId!=workspace.Id&&(viewModel.events[ev.WorkspaceId].remove(ev),ev.WorkspaceId=workspace.Id,viewModel.events[workspace.Id].push(ev));$.each(affected,function(i,val){viewModel.events[val.WorkspaceId].replace(val,val)})},bookItButton:$('<div class="calendar-bookItButton"><\/div>'),bookItNowData:{StartTime:new Date,EndTime:new Date},bookItButtonLabel:function(workspace){var buttonLabel=viewModel.isMonthView()?"Book It":"Book It Now";return workspace.NeedToDoRequest&&(buttonLabel=workspace.IsInquiry?"Request":"Schedule a Tour"),buttonLabel},mouseMoving:function(date,workspace,e){var datesInRange=function(d1,d2){return!0},timeLess=function(d1,d2){return d1.getHours()<d2.getHours()||d1.getHours()==d2.getHours()&&d1.getMinutes()<d2.getMinutes()},dt=viewModel.getDateFromEvent(e,date),ev,wasModified,bbStartTime,cDay,buttonLabel;if(viewModel.mousePressed()){viewModel.oneClickReservation(!1);ev=viewModel.getReservation(null);wasModified=!1;dt>ev.StartTime&&datesInRange(dt,ev.EndTime)?(ev.EndTime=dt,ev.EndTime.getDate()!=ev.StartTime.getDate()&&viewModel.isWeekView()&&(ev.StartTime=new Date(ev.EndTime.getFullYear(),ev.EndTime.getMonth(),ev.EndTime.getDate(),ev.StartTime.getHours(),ev.StartTime.getMinutes())),wasModified=!0):dt<ev.EndTime&&datesInRange(ev.StartTime,dt)&&(ev.StartTime=dt,ev.EndTime.getDate()!=ev.StartTime.getDate()&&(ev.EndTime=new Date(ev.StartTime.getFullYear(),ev.StartTime.getMonth(),ev.StartTime.getDate(),ev.EndTime.getHours(),ev.EndTime.getMinutes())),wasModified=!0);ev.WorkspaceId!=workspace.Id&&(wasModified=!0);wasModified&&viewModel.refreshAffectedEvents(ev,workspace,date)}else if(bbStartTime=dt,cDay=viewModel.getCalendarDayInfo(date==null?viewModel.calendarConfig().SelectedDate:date,workspace),cDay!=null){timeLess(bbStartTime,cDay.StartTime)&&(bbStartTime=cDay.StartTime);var bbEndTime=new Date(bbStartTime).addHours(1),coord=viewModel.getReservationCoord({StartTime:bbStartTime,EndTime:bbEndTime},date,!0),affected=viewModel.getAffectedEvents({StartTime:bbStartTime,EndTime:new Date(bbStartTime).addMinutes(1),ReservationMethod:workspace.ReservationMethod},workspace,date);(affected.length==0||workspace.CurrentReservationMethodCapacity>0)&&(buttonLabel=viewModel.bookItButtonLabel(workspace),viewModel.bookItNowData.StartTime=bbStartTime,viewModel.bookItNowData.EndTime=bbEndTime,hideBookItButton||(viewModel.bookItButton.html(buttonLabel),viewModel.bookItButton.css("top",coord.top),viewModel.bookItButton.appendTo(e.currentTarget)))}},mouseOut:function(data,ev){var elem=_this.find(".calendar-display-content"),offset=elem.offset(),res;(ev.pageX>=offset.left+elem.width()||ev.pageX<=offset.left||ev.pageY<=offset.top||ev.pageY>=offset.top+elem.height())&&(hideBookItButton||viewModel.bookItButton.detach(),viewModel.mousePressed()&&(res=viewModel.getReservation(null),res!=null&&(viewModel.mousePressed(!1),viewModel.getReservationDetails(null,{Id:res.WorkspaceId,VenueId:res.VenueId},null,res.StartTime,res.EndTime))))},mouseUp:function(date,workspace,data,e){if(e==null&&(e=data),viewModel.mousePressed()==!0){viewModel.mousePressed(!1);viewModel.oneClickReservation()==!0?(hideBookItButton||viewModel.bookItButton.detach(),viewModel.getReservationDetails(null,workspace,null,viewModel.bookItNowData.StartTime,viewModel.bookItNowData.EndTime,!0)):viewModel.getReservationDetails(null,workspace);viewModel.oneClickReservation(!0)}},mouseDown:function(date,workspace,data,e){function detectLeftButton(evt){evt=evt||window.event;var button=evt.which||evt.button;return button==1}var ev;if(date&&date.getFullYear&&(date=new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0)),e==null&&(e=data),workspace.w!=null&&(workspace=workspace.w),e!=null&&detectLeftButton(e)==!0){var time=viewModel.getDateFromEvent(e,date),endTime=null,day=null;switch(workspace.ReservationMethod){case 0:viewModel.oneClickReservation(!0);viewModel.mousePressed(!0);endTime=new Date(time);ev=viewModel.getReservation(null);viewModel.events[workspace.Id].remove(ev);break;case 1:day=viewModel.getCalendarDayInfo(time,workspace);day!=null&&(time=day.StartTime,endTime=day.EndTime);break;case 2:day=viewModel.getCalendarDayInfo(time,workspace);day!=null&&(time=day.StartTime,endTime=new Date(time).addMinutes(workspace.MinimumBookingLength));break}(workspace.ReservationMethod==0||day!=null)&&(viewModel.events[workspace.Id].push({Id:null,WorkspaceId:workspace.Id,VenueId:workspace.VenueId,VenueSlug:workspace.VenueSlug,StartTime:time,EndTime:endTime,IsCreditCardPayment:!1}),workspace.ReservationMethod!=0&&viewModel.getReservationDetails(null,workspace,null,time,endTime,!0))}},calendarMonthDayOver:function(date,e){$(".ls_calendar_month_fullday").hide();var overlay=$(e.currentTarget).next(),offset=$(e.currentTarget).position(),overlayHeight=overlay.height(),overlayMinHeight=parseInt(overlay.css("min-height"));!date.IsLastLine||overlayHeight<=overlayMinHeight?overlay.css("top",offset.top-5+"px"):overlay.css("top",offset.top-20-(overlayHeight-overlayMinHeight)+"px");overlay.css("left",offset.left-5+"px");overlay.show();overlay.mouseleave(function(){overlay.hide()})},updateEvent:function(ev){var event=viewModel.getReservation(ev.Id);viewModel.events[event.WorkspaceId].remove(event);viewModel.events[event.WorkspaceId].push(event)},currentReservationPopUp:ko.observable(),stateSelector:function(r,checkInAllowed,checkOutAllowed,cancelAllowed){var exec=function(f){typeof f!="undefined"&&$.isFunction(f)&&f()};r.CheckInState!=3&&r.CheckInState!=6&&r.CheckInState!=4?exec(checkInAllowed):r.CheckInState==3?exec(checkOutAllowed):r.CheckInState==6&&viewModel.isSuperUser()&&exec(checkInAllowed)},setCurrentReservationPopUp:function(state,id,showUndo){var res=id==null?viewModel.currentReservationPopUp():viewModel.getReservation(id),w,undoAvailable,isSuperUser;res.canCheckIn=!1;res.canCheckOut=!1;res.canEdit=!0;res.canDelete=!0;w=viewModel.getWorkspaceById(res.WorkspaceId);res.infoText="";res.error=!1;undoAvailable=!1;state!=null&&(res.CheckInState=state.checkInState,state.errorMessage!=null&&state.errorMessage.length>0?res.infoText=state.errorMessage:(isSuperUser=viewModel.isSuperUser(),res.CheckInState==3?(res.IconState=2,res.infoText=res.CreatorName+" is now checked in. ",isSuperUser&&(undoAvailable=!0)):res.CheckInState==6?(res.IconState=3,res.infoText=res.CreatorName+" is now checked out. ",isSuperUser&&(undoAvailable=!0)):res.CheckInState==2&&(res.IconState=0)));viewModel.stateSelector(res,function(){res.canCheckIn=!0},function(){res.canCheckOut=!0},function(){});viewModel.isSuperUser()||viewModel.calendarConfig().UserId==res.MemberId||viewModel.isBookingDelegate()&&viewModel.calendarConfig().UserId==res.OriginatingBookingDelegateId||(res.canCheckIn=!1,res.canCheckOut=!1,res.canEdit=!1,res.canDelete=!1);res.MeetingRequestOriginated&&!viewModel.isSuperUser()&&(res.canEdit=!1,res.canDelete=!1);res.canRefund=res.RefundPaymentAllowed&&viewModel.calendarConfig().IsLoggedInUserSuperUser;viewModel.currentReservationPopUp(res);undoAvailable&&(showUndo==undefined||showUndo!=undefined&&showUndo)&&$("<a><\/a>",{"class":"undo",href:"#",text:"Undo",click:function(){var undoLink=$(this);return undoLink.hasClass("disabled")?!1:(undoLink.addClass("disabled"),LSHelper.Reservation.undocheckinout(viewModel.currentReservationPopUp().Id,viewModel.calendarConfig().UserId,state.checkInState,null,function(result){return result!=undefined&&result.result?(viewModel.setCurrentReservationPopUp(result,null,!1),viewModel.updateEvent(viewModel.currentReservationPopUp()),undoLink.remove()):LSHelper.Dialog.alertDialog("There was some unexpected error.","Error"),!1},function(){return undoLink.removeClass("disabled"),!1},viewModel.currentReservationPopUp().IsRecurrentReservation?viewModel.currentReservationPopUp().OccurrenceDate:null),!1)}}).appendTo(".calendar-reservation-popup-message")},isUserEmpty:function(){return viewModel.calendarConfig().UserId=="00000000-0000-0000-0000-000000000000"||viewModel.calendarConfig().UserId==null},isBookingDelegate:function(){return viewModel.calendarConfig().IsBookingDelegate},getReservationPopupDetails:function(reservationId,res,date,event,headerClick){var isDayPass=reservationId=="day-pass",reservation=isDayPass?res.list()[0]:viewModel.getReservation(reservationId),w=isDayPass?res.w==null?res:res.w:viewModel.getWorkspaceById(reservation.WorkspaceId),day,isSuperUser,quickLook,baseWrapper,wrapperSelector,wrapperWidths,reverseDirection,$resEl,resElementOffset,resList,left,arrow;if(reservation==null)return(day=viewModel.getCalendarDayInfo(date==null?viewModel.calendarConfig().SelectedDate:date,w),day.StartTime==day.EndTime)?void 0:viewModel.mouseDown(date,w,event);if(isSuperUser=viewModel.isSuperUser(),isDayPass){if(baseWrapper=".ls_events_display",wrapperSelector=baseWrapper+"."+w.Id,templateToUseApplier(function(){},function(){wrapperSelector=baseWrapper+"."+w.Id+(date!=null?"."+date.getOrdinalNumber():"")},function(){},function(){}),$(".calendar-reservation-popup").remove(),isSuperUser||!res.GrayedOut||!res.ReadOnly){var wrapper=headerClick?$(event.currentTarget):$(wrapperSelector),dayPassWrapper=_this,$header=$(".calendar-header-content"),offset=wrapper.position(),dOffset=dayPassWrapper.offset();res.coord={left:offset.left-$header.scrollLeft(),width:wrapper.width(),top:event.clientY-(headerClick?0:dOffset.top)+$(window).scrollTop(),height:headerClick?wrapper.height():100};wrapperWidths=wrapper.width();reverseDirection=!1;parseInt(res.coord.left+res.coord.width)+325>wrapperWidths&&(reverseDirection=!0);$resEl=$(event.currentTarget);$resEl.length==0&&($resEl=$(".ls_events_display."+w.Id).find(".ls_calendar_event"));resElementOffset=$resEl.offset();resList=res.list();$.each(resList,function(i,val){val.error=val.ReservationMethod!=w.ReservationMethod});reservation.resList=resList;viewModel.currentReservationPopUp(reservation);viewModel.setCurrentReservationPopUp();var day=viewModel.getCalendarDayInfo(date!=null?date:viewModel.calendarConfig().SelectedDate,w),isDayOpened=day.StartTime-day.EndTime!=0,html=$($("#calendar-reservation-popup").html()),popupViewModel={res:reservation,reverseDirection:reverseDirection,isSuperUser:isSuperUser,isDayPass:isDayPass,resList:resList,w:w,date:date,showNewButton:isDayPass&&isDayOpened&&resList.length<w.CurrentReservationMethodCapacity&&(isSuperUser||resList.filter(function(val){return val.MemberId==viewModel.calendarConfig().UserId}).length===0),viewModel:viewModel},html=html.appendTo($("body"));html.find(".reservation-popup-body.daypass .scroller").lionbars();LSHelper.HelperLib.autoEllipseText(html.find(".reservation-popup-title-text"),250);ko.applyBindings(popupViewModel,html[0]);html.css("position","absolute");reverseDirection?(left=resElementOffset.left-(html.width()+12),left<0&&(left=resElementOffset.left+res.coord.width-325,arrow=$(".calendar-reservation-popup-arrow-right"),arrow.removeClass("calendar-reservation-popup-arrow-right"),arrow.addClass("calendar-reservation-popup-arrow")),html.css("left",left+"px")):html.css("left",resElementOffset.left+res.coord.width+"px");html.css("top",resElementOffset.top+res.coord.height/2-html.height()/2+"px");html.find(".reservation-popup-icon-close").bind("mousedown",function(ev){$(this).closest(".calendar-reservation-popup").remove();LSHelper.disabledEventPropagation(ev)});html.bind("mousedown",function(ev){LSHelper.disabledEventPropagation(ev)});html.find("button").button({disabled:res.ReadOnly})}}else!isSuperUser&&(reservation.GrayedOut||reservation.ReadOnly)||($(".calendar-reservation-popup").remove(),quickLook=LSHelper.Reservation.quickLook({reservationId:reservation.ReadId,occurrenceDate:reservation.IsRecurrentReservation?reservation.OccurrenceDate:null,memberId:viewModel.calendarConfig().UserId,checkInFunction:function(){LSHelper.HelperLib.blockUI();LSHelper.Reservation.checkIn(reservation.ReadId,reservation.MemberId,!1,function(result){viewModel.refreshCalendar(null,null,null,null,null,null,null,null,null);LSHelper.HelperLib.unblockUI();quickLook.refresh()},function(){LSHelper.HelperLib.unblockUI();quickLook.refresh()},!1,reservation.IsRecurrentReservation?reservation.OccurrenceDate:null)},checkOutFunction:function(){LSHelper.HelperLib.blockUI();LSHelper.Reservation.checkout(reservation.ReadId,reservation.MemberId,null,function(result){viewModel.refreshCalendar(null,null,null,null,null,null,null,null,null);LSHelper.HelperLib.unblockUI();quickLook.refresh()},function(){LSHelper.HelperLib.unblockUI();quickLook.refresh()},reservation.IsRecurrentReservation?reservation.OccurrenceDate:null)},editFunction:function(){quickLook.$dialog.dialog("close");viewModel.getReservationDetails(reservation.Id,w,null,null,null,null)},deleteFunction:function(){$(document).unbind("reservationDeleted.reservationQuickLook");$(document).bind("reservationDeleted.reservationQuickLook",function(){quickLook.$dialog.dialog("close")});viewModel.deleteReservation(reservation)},stopAutoRenewSuccessFunc:function(){viewModel.refreshCalendar();quickLook.refresh()}}))},getReservationDetails:function(resId,workspace,event,startDate,endDate,isOneClick,recurrenceEditType){var res,readId,closeOrErrorFunc,guestCount,params;if(($(".calendar-reservation-popup").remove(),viewModel.reservationPopupOpened()!=!0)&&(isOneClick=isOneClick==null?!1:isOneClick,event!=null&&event.stopPropagation(),res=viewModel.getReservation(resId),res==null||!res.ReadOnly)){if(readId=res!=null?res.ReadId:resId,res!=null&&res.IsRecurrentReservation&&!recurrenceEditType){LSHelper.Reservation.showRecurrentDialog(LSHelper.Reservation.RecurrentDialogModes.edit,function(el,opts){viewModel.getReservationDetails(resId,workspace,event,startDate,endDate,isOneClick,opts.recurrenceEditType)});return}var sD=startDate!=null||!res?startDate:res.Id!=null?null:res.StartTime,eD=endDate!=null||!res?endDate:res.Id!=null?null:res.EndTime,previousEvent=resId!=null?copyEvent(viewModel.getReservation(resId)):null;LSHelper.Account.getJoinDataObject=function(){return{type:"getReservationDetails",resId:resId,workspaceId:workspace.Id!=null?workspace.Id:res.WorkspaceId,startDate:startDate,endDate:endDate,isOneClick:isOneClick}};var wId=workspace.Id!=null?workspace.Id:res.WorkspaceId,ws=workspace!=null?workspace:viewModel.getWorkspaceById(wId),ev={id:readId,workspace_id:wId,venue_id:viewModel.calendarConfig().VenueId,start_date:sD,end_date:eD,workspace:ws};viewModel.calendarConfig().UserId==null&&(viewModel.calendarConfig().UserId="00000000-0000-0000-0000-000000000000");closeOrErrorFunc=function(id,refresh,confirmed){viewModel._isPaused(!1);var ev=viewModel.getReservation(id);confirmed||(ev!=null&&viewModel.events[ev.WorkspaceId].remove(ev),previousEvent!=null&&viewModel.events[previousEvent.WorkspaceId].push(previousEvent));viewModel.reservationPopupOpened(!1);(refresh==!0||ev&&!isSameDay(viewModel.calendarConfig().SelectedDate,ev.StartTime))&&viewModel.refreshCalendar()};viewModel.capacity()&&(guestCount=viewModel.capacity().Value);params={ev:ev,userId:viewModel.calendarConfig().UserId,onClose:function(ev,refresh,confirmed){closeOrErrorFunc(resId,!1,confirmed)},successCallBack:function(userId){viewModel.calendarConfig().UserId=userId;viewModel.reservationPopupOpened(!1)},errorCallback:function(){closeOrErrorFunc(resId,!1)},isOneClick:isOneClick,guestCount:guestCount,confirmationCallback:function(userId){viewModel.calendarConfig().UserId=userId},reservationSourcePage:LSHelper.Calendar.reservationSourceNames.CalendarDirect,occurrenceDate:recurrenceEditType&&recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.SingleEvent?res.OccurrenceDate:undefined,applyDate:recurrenceEditType&&recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.AllFollowing?res.OccurrenceDate:undefined,notLoggedInCallBack:function(){LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){viewModel.calendarConfig().UserId=userId;viewModel.refreshCalendar();params.userId=userId;LSHelper.Calendar.editReservation(params)},onlyHeaderReload:!0})},skipCurrentUtcOverride:!0};(params.userId==null||params.userId==Guid.Empty)&&(params.userId=User.id);LSHelper.Calendar.editReservation(params);ws.ReservationMethod==2?(viewModel.events[wId].remove(viewModel.getReservation(null)),viewModel.reservationPopupOpened(!1)):viewModel.reservationPopupOpened(!0)}},getReservation:function(id){id==""&&(id=null);var result=null;return $.each(viewModel.workspaces(),function(i,val){var res=viewModel.events[val.Id]().filter(function(v){return v.Id==id});if(res.length>0&&res[0].Id==id)return result=res[0],!1}),result},getWorkspaceReservations:function(workspaceId,date){var result=[];return viewModel.events&&viewModel.events[workspaceId]&&$.each(viewModel.events[workspaceId](),function(i,val){val.WorkspaceId==workspaceId&&(date==null||isSameDay(val.StartTime,date))&&result.push(val)}),result},calendarDatePicker:ko.observable(null),calendarChooseDate:function(data,elem){var p=viewModel.calendarDatePicker(),getCalendarPickerWidth=function(){var width=$(".ls_cal_date ").width();return width<175&&(width=175),width},dt,widget;p==null&&(dt=$('<input type="text" style="display:none;visibility:hidden;" />'),p=$(dt).insertAfter($(elem)),p.datepicker({onSelect:function(dateText,inst){viewModel.refreshCalendar(null,null,null,new Date(inst.selectedYear,inst.selectedMonth,inst.selectedDay),null,!0)},onChangeMonthYear:function(y,m,inst){setTimeout(function(){$(inst.dpDiv[0]).width(getCalendarPickerWidth())})}}),viewModel.calendarDatePicker(p));widget=p.datepicker("widget");widget.is(":visible")?p.datepicker("hide"):(p.datepicker("setDate",viewModel.calendarConfig().SelectedDate),p.datepicker("show"),widget.width(getCalendarPickerWidth()),widget.css("top",$(elem).offset().top+$(elem).height()),widget.css("left",$(elem).offset().left),widget.css("z-index",215))},getTopByDate:function(date,firstHour){date=new Date(date);var hoursOffset=date.getHours()>=firstHour?date.getHours()-firstHour:0;return parseInt((hoursOffset+date.getMinutes()/60)*viewModel.hourSizePx())},getBlockedIntervals:function(date,workspace,getFreeInterval){var result,hasReservations,day,max,min;if(getFreeInterval=getFreeInterval==null?!1:!0,result=[],hasReservations=viewModel.events[workspace.Id]().length>0,workspace=viewModel.getWorkspaceById(workspace.Id),day=viewModel.getCalendarDayInfo(date!=null?date:viewModel.calendarConfig().SelectedDate,workspace),day!=null&&day.StartTime-day.EndTime!=0){var firstHour=viewModel.timeDisplayed().length>0?viewModel.timeDisplayed()[0].Hour:0,lastHour=viewModel.timeDisplayed().length>0?viewModel.timeDisplayed()[viewModel.timeDisplayed().length-1].Hour+1:0,begin=new Date(day.StartTime),end=new Date(day.EndTime);day.Opened.length==0&&(begin.setHours(firstHour),begin.setMinutes(0),end.setHours(lastHour),end.setMinutes(0));getFreeInterval?result.push({Start:viewModel.getTopByDate(new Date(begin),firstHour),End:viewModel.getTopByDate(new Date(end.getHours()==0&&end.getMinutes()==0?new Date(end).setHours(23,59,0):new Date(end)),firstHour)}):((begin.getMinutes()>0||firstHour<begin.getHours())&&result.push({Start:viewModel.getTopByDate(new Date(begin).setHours(firstHour,0,0),firstHour),End:viewModel.getTopByDate(day.StartTime,firstHour),ClosedReason:day.ClosedReason,DayClosed:day.FirstHour==day.LastHour}),(end.getMinutes()>0||lastHour>end.getHours()&&end.getHours()!=0)&&result.push({Start:viewModel.getTopByDate(day.LastHour!=0?day.EndTime:new Date(day.StartTime).setHours(firstHour),firstHour),End:viewModel.getTopByDate(new Date(end).setHours(lastHour==24?23:lastHour,lastHour==24?59:0,0),firstHour),ClosedReason:day.ClosedReason,DayClosed:day.FirstHour==day.LastHour,EndingBlock:!0}),$.each(day.Blocked,function(i,val){day.Opened.length!=0&&(begin=new Date(val.StartTime),end=new Date(val.EndTime));result.push({Start:viewModel.getTopByDate(new Date(begin),firstHour),End:viewModel.getTopByDate(new Date(end.getHours()==0&&end.getMinutes()==0?new Date(end).setHours(23,59,0):new Date(end)),firstHour),ClosedReason:val.ClosedReason,DayClosed:!1})}))}else day!=null&&day.StartTime-day.EndTime==0?hasReservations?getFreeInterval?(max=null,min=null,$.each(viewModel.events[workspace.Id](),function(i,val){(val.StartTime<min||min==null)&&(min=val.StartTime);(val.EndTime>max||max==null)&&(max=val.EndTime)}),result.push({Start:(min.getHours()-day.FirstHour)*viewModel.hourSizePx(),End:((max.getHours()==0&&max.getMinutes()==0?24:max.getHours())-day.FirstHour)*viewModel.hourSizePx()})):result.push({Start:0,End:0,ClosedReason:day.ClosedReason,DayClosed:day.StartTime-day.EndTime==0}):result.push({Start:0,End:0,ClosedReason:day.ClosedReason,DayClosed:day.StartTime-day.EndTime==0}):getFreeInterval&&result.push({Start:0,End:0,ClosedReason:"Incorrect Day",DayClosed:!0});return result},eventCssClass:function(event_id){var event=viewModel.getReservation(event_id),cssClass="ls_calendar_event",workspace;return event!=null&&(event.GrayedOut==!0&&(cssClass=cssClass+" grayed_out_event"),event.ReadOnly==!0&&(event.GrayedOut==!1&&(cssClass=cssClass+" grayed_out_event"),cssClass=cssClass+" readonly_event"),event.IconState!=undefined&&(event.IconState==0?cssClass=cssClass+" future_reservations":event.IconState==1?cssClass=cssClass+" never_checked_in":event.IconState==2?cssClass=cssClass+" checked_in":event.IconState==3&&(cssClass=cssClass+" checked_out")),event.BlockSpace==!0&&(cssClass=cssClass+" reservation_block_space"),workspace=viewModel.getWorkspaceById(event.WorkspaceId),event.ReservationMethod!=workspace.ReservationMethod&&(cssClass=cssClass+" reservationmethod_wrong")),cssClass},getEventIconState:function(event_id){var event=viewModel.getReservation(event_id);return event!=null?event.IconState:0},isReservationMethodIncorrect:function(event_id){var event=viewModel.getReservation(event_id),workspace;return event!=null?(workspace=viewModel.getWorkspaceById(event.WorkspaceId),event.ReservationMethod!=workspace.ReservationMethod):!1},getWorkspaceById:function(id){var result=null;return $.each(viewModel.workspaces(),function(i,val){if(val.Id==id)return result=val,!1}),result},monthlyViewBookItNowTargetWorkspaceId:function(){var selected=viewModel.selectedWorkspaces();return selected.length>0?selected[selected.length-1]:viewModel.workspaces()[0].Id},monthlyViewBookItButtonLabel:function(){var workspaceId=viewModel.monthlyViewBookItNowTargetWorkspaceId(),workspace=viewModel.getWorkspaceById(workspaceId);return viewModel.bookItButtonLabel(workspace)},bookItNow:function(date,useDateAsStartSearch,daysAhead,w,event){var workspaceId=w.Id,ev;templateToUseApplier(function(){},function(){},function(){workspaceId=viewModel.monthlyViewBookItNowTargetWorkspaceId()},function(){});w.Id!=workspaceId&&(w=viewModel.getWorkspaceById(workspaceId));daysAhead=daysAhead==null?LSHelper.Constants.reservationSearchDaysAhead():daysAhead;useDateAsStartSearch=useDateAsStartSearch==null?!1:useDateAsStartSearch;var currentTime=new Date,currentTimeHours=currentTime.getUTCHours()+(currentTime.getUTCMinutes()+viewModel.calendarConfig().TimeZoneDetail.OffsetMinutes)/60,dtmCalendarTimeVenue=new Date(viewModel.calendarConfig().SelectedDate.getFullYear(),viewModel.calendarConfig().SelectedDate.getMonth(),viewModel.calendarConfig().SelectedDate.getDate(),0,0,0,0),operatingInterval=viewModel.calendarConfig().LastHour-viewModel.calendarConfig().FirstHour,venueClosed=operatingInterval==0;if(LSHelper.Account.getJoinDataObject=function(){return{type:"bookItNow",workspaceId:w.Id,venueId:w.VenueId,startDate:date,useDateAsStartSearch:useDateAsStartSearch}},venueClosed)return!1;else ev={workspace_id:workspaceId,venue_id:w.VenueId,start_date:date!=null&&useDateAsStartSearch==!0?date.Date:null,workspace:w},LSHelper.Calendar.editReservation({ev:ev,onClose:function(ev,refresh){if(refresh!=null&&refresh==!1){var ev=viewModel.getReservation(null);viewModel.events[ev.WorkspaceId].remove(ev)}},daysAhead:daysAhead,currentVenueDate:LSHelper.Calendar.toServerString(useDateAsStartSearch==!0?date.Date:dtmCalendarTimeVenue),errorCallback:viewModel.refreshCalendar,isOneClick:!0,skipCurrentUtcOverride:useDateAsStartSearch,reservationSourcePage:LSHelper.Calendar.reservationSourceNames.Calendar})},quickLookWorkspace:function(data){LSHelper.Workspace.quickLook({venueId:data.VenueId,workspaceId:data.Id,bookItFunction:function(){viewModel.bookItNow(null,null,null,data)}})},deleteReservation:function(res){var trackReservationProcess=function(action,res){LSHelper.Calendar.trackCalendarReservation("ReservationDialog"+action+"?vid="+res.VenueId+"&wid="+res.WorkspaceId)},deleteCallback;res.IsRecurrentReservation?(deleteCallback=function(elem,options){var occurrenceDate=null,applyDate=null;options.recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.SingleEvent?occurrenceDate=res.OccurrenceDate:options.recurrenceEditType==LSHelper.Reservation.RecurrenceEditTypes.AllFollowing&&(applyDate=res.OccurrenceDate);LSHelper.Reservation.deleteAction(res.ReadId,function(result){trackReservationProcess("Delete/Success",res);$(document).trigger("reservationDeleted",{reservationId:res.Id});$("#editReservationDialog").dialog("close")},function(){trackReservationProcess("Delete/Failure",res)},!1,occurrenceDate,applyDate)},LSHelper.Reservation.showRecurrentDialog(LSHelper.Reservation.RecurrentDialogModes.del,deleteCallback)):LSHelper.Reservation.deleteReservation(res.ReadId,function(result){trackReservationProcess("Delete/Success",res);$(document).trigger("reservationDeleted",{reservationId:res.Id});$("#editReservationDialog").dialog("close")},function(){trackReservationProcess("Delete/Failure",res)},null,null,null,function(){trackReservationProcess("Delete",res)},res.ReservationMethod==2,null,res.IsCreditCardPayment,viewModel.calendarConfig().IsLoggedInUserVenueAdmin,res.CreatorName)},refundReservation:function(reservation){LSHelper.Dialog.editDialog("Refund Payment","/Calendar/RefundPayment/"+reservation.Id,"/Calendar/RefundPayment",function(result){$.each(viewModel.events[reservation.WorkspaceId](),function(i,item){if(item.Id==reservation.Id){item.RefundPaymentAllowed=result.RefundPaymentAllowed;viewModel.events[item.WorkspaceId].replace(item,item);var currentReservationPopUp=viewModel.currentReservationPopUp();return currentReservationPopUp&&currentReservationPopUp.Id==reservation.Id&&(currentReservationPopUp.canRefund=result.RefundPaymentAllowed,currentReservationPopUp.RefundPaymentAllowed=result.RefundPaymentAllowed,viewModel.currentReservationPopUp(currentReservationPopUp)),!1}})},function(){})},eventsDatasource:function(){var wPaged=viewModel.workspacesPaged();return viewModel.isAgendaView()?viewModel.allEvents():wPaged},allEvents:function(){var currentPeriod=viewModel.currentPeriod(),firstPeriodDate=currentPeriod[0].Date,lastPeriodDate=currentPeriod[currentPeriod.length-1].Date,allresult=[],result,res;return $.each(viewModel.workspaces(),function(i,val){if(viewModel.events[val.Id]){allresult=allresult.concat(viewModel.events[val.Id]().filter(function(res){return res.ReservationMethod!=2}));var monthlyReservations=viewModel.events[val.Id]().filter(function(res){return res.ReservationMethod==2});$.each(monthlyReservations,function(i,val){var startDate=new Date(val.StartTime.getFullYear(),val.StartTime.getMonth(),val.StartTime.getDate()),endDate;startDate>=firstPeriodDate&&startDate<=lastPeriodDate&&(val.isMoveIn=!0,allresult.push(val));val.MTMEndDate!=null&&(endDate=new Date(val.EndTime.getFullYear(),val.EndTime.getMonth(),val.EndTime.getDate()),endDate>=firstPeriodDate&&endDate<=lastPeriodDate&&(val.isMoveOut=!0,allresult.push(val)))})}}),result=allresult.sort(function(left,right){var leftTime=left.StartTime,rightTime=right.StartTime;return left.isMoveOut&&(leftTime=left.EndTime),right.isMoveOut&&(rightTime=right.EndTime),leftTime<rightTime?-1:1}),res=[],$.each(result,function(i,val){if(val!=null){if(res.length>0){var lastAddedDate=res[res.length-1].StartTime,currentDate=val.StartTime;res[res.length-1].isMoveOut&&(lastAddedDate=res[res.length-1].EndTime);val.isMoveOut&&(currentDate=val.EndTime);isSameDay(lastAddedDate,currentDate)||(res[res.length-1].delimiter&&res.pop(),res.push({StartTime:currentDate,delimiter:!0}))}res.push(val)}}),res.length>0&&res[res.length-1].delimiter&&res.pop(),res},events:{},initEventObs:function(evs){$.each(viewModel.workspaces(),function(i,val){viewModel.events[val.Id]=ko.observableArray(evs!=null?evs.filter(function(v){return v.WorkspaceId==val.Id}):[])})}};viewModel.isDayView=ko.computed(function(){return viewModel.templateToUse()==="calendar-day"});viewModel.isWeekView=ko.computed(function(){return viewModel.templateToUse()==="calendar-week"});viewModel.isMonthView=ko.computed(function(){return viewModel.templateToUse()==="calendar-month"});viewModel.isAgendaView=ko.computed(function(){return viewModel.templateToUse()==="calendar-agenda"});viewModel.isSuperUser=ko.computed(function(){return viewModel.calendarConfig().IsLoggedInUserSuperUser==!0||viewModel.calendarConfig().IsLoggedInUserVenueAdmin==!0||viewModel.calendarConfig().IsLoggedInUserCalendarAdmin==!0});viewModel.initEventObs(events);viewModel.getMaximumRange=ko.pauseableComputed(function(){var obj={FirstHour:24,LastHour:0},weekFunc=function(){$.each(viewModel.currentPeriod(),function(i,val){$.each(viewModel.workspaces(),function(i1,val1){if(val1.ReservationMethod!=2){var cDay=viewModel.getCalendarDayInfo(val.Date,val1,!1);cDay!=null&&cDay.FirstHour!=cDay.LastHour&&(obj.FirstHour>cDay.FirstHour&&(obj.FirstHour=cDay.FirstHour),obj.LastHour<cDay.LastHour&&(obj.LastHour=cDay.LastHour))}})})},isClosed;return templateToUseApplier(function(){$.each(viewModel.workspaces(),function(i1,val1){val1.ReservationMethod!=2&&$.each(val1.CalendarDays,function(i,val){val.Opened.length>0&&(obj.FirstHour>val.FirstHour&&val.FirstHour!=val.LastHour&&(obj.FirstHour=val.FirstHour),obj.LastHour<val.LastHour&&(obj.LastHour=val.LastHour))})})},function(){weekFunc()},function(){},function(){}),isClosed=obj.LastHour==0&&obj.FirstHour==24,$.each(viewModel.workspaces(),function(j,w){$.each(viewModel.events[w.Id](),function(i,val){if(val.ReservationMethod==0){obj.FirstHour>val.StartTime.getHours()&&(obj.FirstHour=val.StartTime.getHours());var resLastHour=val.EndTime.getHours()==0||val.EndTime.getHours()==23&&val.EndTime.getMinutes()!=0?24:val.EndTime.getHours();obj.LastHour<resLastHour&&(obj.LastHour=resLastHour);obj.LastHour==obj.FirstHour&&(obj.LastHour=obj.FirstHour+1)}})}),obj.LastHour-obj.FirstHour<5&&isClosed&&(obj.FirstHour==24&&obj.LastHour==0&&(obj.FirstHour=8),obj.LastHour=obj.FirstHour+9),obj},viewModel,viewModel._isPaused);viewModel.getMonthReservations=function(index){var result=[];return $.each(viewModel.selectedWorkspaces(),function(i,val){result=result.concat(viewModel[val][index]())}),result};blockAmmountForBlockedWeek=7;viewModel.timeDisplayed=ko.pauseableComputed(function(){var common=function(){for(var i=cDay.FirstHour;i<cDay.LastHour;i++)result.push({Time:viewModel.getTime(i,0),Hour:i,Display:i<viewModel.currentTimeHours()&&i+1>viewModel.currentTimeHours()&&isSameDay(date,currDate)})},fixClosedWeek=function(){if(cDay.FirstHour==cDay.LastHour||cDay.FirstHour>cDay.LastHour){result=[];for(var i=0;i<blockAmmountForBlockedWeek;i++)result.push({Time:"",Hour:"",Display:""})}},result=[],date=viewModel.calendarConfig().SelectedDate,currDate=new Date,cDay=viewModel.getMaximumRange();return templateToUseApplier(function(){common();fixClosedWeek()},function(){common();fixClosedWeek()},function(){},function(){}),result},viewModel,viewModel._isPaused);window.viewModel=viewModel;viewModel.calendarHeight=ko.pauseableComputed(function(){var cDay=null,result=0,cDay=viewModel.getMaximumRange();return templateToUseApplier(function(){result=(cDay.LastHour-cDay.FirstHour)*viewModel.hourSizePx()},function(){result=cDay.LastHour-cDay.FirstHour>0?(cDay.LastHour-cDay.FirstHour)*viewModel.hourSizePx():blockAmmountForBlockedWeek*viewModel.hourSizePx()},function(){result=viewModel.subBlockWidth()*6},function(){return 500}),result<=0&&(result=300),result},viewModel,viewModel._isPaused);viewModel.workspacesPaged=ko.pauseableComputed(function(){return viewModel.getWorkspacesPaged()},viewModel,viewModel._isPaused);capacityChanged=function(newValue){var temp=[];$.each(viewModel.sortedWorkspacesId()[newValue.Value],function(i,val){var w=viewModel.getWorkspaceById(val);temp.push(w)});viewModel.workspaces(temp)};restoreMonthViewWorkspaces=function(){viewModel.selectedWorkspaces(LSHelper.sessionStorage.get(selectedWorkspacesKey)||[viewModel.workspaces()[0].Id]);var colors=LSHelper.sessionStorage.get(workspacesColorsKey);colors&&(viewModel.workspaceAssignedColors=colors,viewModel.workspaceColorsPool=viewModel.workspaceColorsPool.slice(colors.length))};viewModel.selectedWorkspaces.subscribe(function(newValue){LSHelper.sessionStorage.set(selectedWorkspacesKey,newValue)});activateSelectedViewMode=function(){$('.view-mode input[value="'+viewModel.templateToUse()+'"]').prop("checked",!0).button("refresh")};skipInitialRefresh=!1;viewModel.hashTracker=ko.dependentObservable(function(){var refresh=!1,newCapacity;_hashSelectedDate==undefined?(_hashSelectedDate=viewModel.getSelectedDateFromUrl(),_hashSelectedDate==undefined?(_hashSelectedDate=viewModel.calendarConfig().SelectedDate,viewModel.setSelectedDateUrl(_hashSelectedDate)):_hashSelectedDate!=viewModel.calendarConfig().SelectedDate&&(refresh=!0)):_hashSelectedDate!=viewModel.calendarConfig().SelectedDate&&(_hashSelectedDate=viewModel.calendarConfig().SelectedDate,viewModel.setSelectedDateUrl(_hashSelectedDate));_hashTemplateToUse==undefined?(_hashTemplateToUse=viewModel.getTemplateToUseFromUrl(),_hashTemplateToUse==undefined?(_hashTemplateToUse=viewModel.templateToUse(),viewModel.setTemplateToUseUrl(_hashTemplateToUse)):_hashTemplateToUse!=viewModel.templateToUse()&&(_hashTemplateToUse=="calendar-day"||_hashTemplateToUse=="calendar-week"||viewModel.isSuperUser()||(_hashTemplateToUse="calendar-day",viewModel.setTemplateToUseUrl(_hashTemplateToUse)),_hashTemplateToUse!=viewModel.templateToUse()&&(refresh=!0,viewModel.templateToUse(_hashTemplateToUse),viewModel.isMonthView()&&restoreMonthViewWorkspaces()))):_hashTemplateToUse!=viewModel.templateToUse()&&(_hashTemplateToUse=viewModel.templateToUse(),viewModel.setTemplateToUseUrl(_hashTemplateToUse));_hashCapacity==undefined?(_hashCapacity=viewModel.getCapacityFromUrl(),_hashCapacity==undefined?(_hashCapacity=viewModel.capacity().Value,viewModel.setCapacityUrl(_hashCapacity)):_hashCapacity!=viewModel.capacity().Value&&(refresh=!0,$.each(viewModel.availableCapacities(),function(index,value){value.Value==_hashCapacity&&(newCapacity=value)}),newCapacity||(newCapacity=viewModel.availableCapacities()[0],_hashCapacity=newCapacity.Value,viewModel.setCapacityUrl(_hashCapacity)),viewModel.capacity(newCapacity),capacityChanged(newCapacity))):_hashCapacity!=viewModel.capacity().Value&&(viewModel.capacity().Value=="ReservationsCountDesc"&&(_hashTemplateToUse=="calendar-day"||_hashTemplateToUse=="calendar-week")&&(refresh=!0),_hashCapacity=viewModel.capacity().Value,viewModel.setCapacityUrl(_hashCapacity),capacityChanged(viewModel.capacity()),viewModel.calendarHeaderScroll());refresh&&(skipInitialRefresh=!0,activateSelectedViewMode(),setTimeout(function(){viewModel.refreshCalendar(null,null,null,getDateFromStr(_hashSelectedDate),_hashTemplateToUse,!0)},100))},viewModel);viewModel.alreadyLoadedWorkspaces().length==0&&viewModel.alreadyLoadedWorkspaces(viewModel.getWorkspacesVisibleInContainer());viewModel.initGetResFunctions();ko.applyBindings(viewModel,$(this)[0]);$(document).bind("reservationSaved",function(event,reservationId,venueId,workspaceId,isNewReservation,reservationDateTime,workspaceName,visaGranted,userId){viewModel.refreshCalendar(null,null,null,reservationDateTime!=null?new Date(reservationDateTime.setHours(0,0,0)):null,null,null,null,null,null,!0);userId&&venueId&&LSHelper.Calendar.memberVisaStatus(userId,venueId)});$(document).bind("reservationDeleted",function(){viewModel.reservationPopupOpened(!1);viewModel.refreshCalendar(null,null,null,null,null,null,null,null,null,!0)});$(document).bind("reservationCheckedIn",function(){viewModel.refreshCalendar()});$(document).bind("reservationCheckedOut",function(){viewModel.refreshCalendar()});$(window).bind("agreeToShareApproved",function(e,args){viewModel.refreshCalendar();LSHelper.Calendar.memberVisaStatus(args.userId,args.venueId)});viewModel.setIsScrollVisible();$(document).bind("afterRegister",function(e,args){var workspace;args&&args.type&&(args.type=="bookItNow"?(workspace={Id:args.workspaceId,VenueId:args.venueId},viewModel.bookItNow(args.startDate,args.useDateAsStartSearch,LSHelper.Constants.reservationSearchDaysAhead(),workspace)):args.type=="getReservationDetails"&&(workspace={Id:args.workspaceId},viewModel.getReservationDetails(args.resId,workspace,null,parseJsonDate(args.startDate),parseJsonDate(args.endDate),args.isOneClick)))});$(this).data("viewModel",viewModel);viewModel.isDayView()||skipInitialRefresh||setTimeout(function(){activateSelectedViewMode();viewModel.refreshCalendar(null,null,events)},100)}else{viewModel=$(this).data("viewModel");switch(config){case"refreshCalendar":viewModel.refreshCalendar(null,null,events);break;case"resize":viewModel.wrapperWidth($("#wrapper").width());break}}return copyEvent=function(ev){var copy=$.extend({},ev);return ev!=null&&(copy.StartTime=new Date(ev.StartTime),copy.EndTime=new Date(ev.EndTime)),copy},{resize:function(){$(".calendar-reservation-popup").remove();viewModel.wrapperWidth($("#wrapper").width());viewModel.setIsScrollVisible()},fullScreen:function(){return viewModel.fullScreenCalendar()},refresh:function(){viewModel.refreshCalendar()},deleteEvent:function(id){var event=viewModel.getReservation(id);event&&viewModel.events[event.WorkspaceId].remove(event)},getEvent:function(id){var item=null;return viewModel&&((id=="null"||id=="")&&(id=null),item=viewModel.getReservation(id)),item},event_updated:function(ev){if(viewModel){var event=viewModel.getReservation(ev.Id);viewModel._isPaused(!1);isSameDay(viewModel.calendarConfig().SelectedDate,ev.StartTime)?viewModel.events[ev.WorkspaceId].replace(event,ev):viewModel.refreshCalendar()}},copy_event:function(ev){return copyEvent(ev)},current_date:function(val,res){if(viewModel)if(val==null)return viewModel.calendarConfig().SelectedDate;else{var config=viewModel.calendarConfig();isSameDay(config.SelectedDate,val)||viewModel.refreshCalendar(null,null,null,val,null,null,res)}else return null},setUserId:function(id){if(viewModel){var cc=viewModel.calendarConfig();cc.UserId=id;viewModel.calendarConfig(cc)}}}}}(jQuery),function($,window,document){function _handleKeyBoardNav(e,$dk){var code=e.keyCode,data=$dk.data("dropkick"),options=$dk.find(".dk_options"),open=$dk.hasClass("dk_open"),current=$dk.find(".dk_option_current"),first=options.find("li").first(),last=options.find("li").last(),next,prev;switch(code){case keyMap.enter:open?data.settings.disableKeyNavigation||(_onSelect(e,current.find("a"),$dk),e.isDefaultPrevented()||(_updateFields(current.find("a"),$dk),_closeDropdown($dk))):_openDropdown($dk);e.preventDefault();break;case keyMap.up:prev=current.prev("li");open?data.settings.disableKeyNavigation||(prev.length?_setCurrent(prev,$dk):_setCurrent(last,$dk)):_openDropdown($dk);e.preventDefault();break;case keyMap.down:open?data.settings.disableKeyNavigation||(next=current.next("li").first(),next.length?_setCurrent(next,$dk):_setCurrent(first,$dk)):_openDropdown($dk);e.preventDefault();break;default:break}}function _onSelect(event,option,$dk){var data=$dk.data("dropkick");if(data&&data.settings.onSelect)data.settings.onSelect(event,option,$dk)}function _updateFields(option,$dk,reset){var value,label,data;value=option.attr("data-dk-dropdown-value");label=option.text();data=$dk.data("dropkick");$select=data.$select;$select.val(value);$dk.find(".dk_label").text(label);reset=reset||!1;data.settings.change&&!reset&&data.settings.change.call($select,value,label)}function _setCurrent($current,$dk){$dk.find(".dk_option_current").removeClass("dk_option_current");$current.addClass("dk_option_current");_setScrollPos($dk,$current)}function _setScrollPos($dk,anchor){var height=anchor.prevAll("li").outerHeight()*anchor.prevAll("li").length;$dk.find(".dk_options_inner").animate({scrollTop:height+"px"},0)}function _closeDropdown($dk){$dk.removeClass("dk_open");var data=$dk.data("dropkick");if(data&&data.settings.onClose)data.settings.onClose($dk)}function _openDropdown($dk){var data=$dk.data("dropkick"),openedOrgDD;if($dk.find(".dk_options").css({top:$dk.find(".dk_toggle").outerHeight()-1}),data.settings.onOpen)data.settings.onOpen($dk);$dk.toggleClass("dk_open");_setScrollPos($dk,$dk.find(".dk_option_current"));openedOrgDD=$(".dropdown-table-opened");openedOrgDD.length>0&&openedOrgDD.trigger("clickoutside")}function _build(tpl,view){var template=tpl,options=[],$dk,isEmpty,i,l;if(template=template.replace("{{ id }}",view.id),template=template.replace("{{ label }}",view.label),template=template.replace("{{ tabindex }}",view.tabindex),isEmpty=!1,view.options&&view.options.length)for(i=0,l=view.options.length;i<l;i++){var $option=$(view.options[i]),current="dk_option_current",oTemplate=optionTemplate;oTemplate=oTemplate.replace("{{ value }}",$option.val());oTemplate=oTemplate.replace("{{ current }}",_notBlank($option.val())===view.value?current:"");oTemplate=oTemplate.replace("{{ text }}",$option.text());options[options.length]=oTemplate}else isEmpty=!0;return $dk=$(template),$dk.find(".dk_options_inner").html(options.join("")),isEmpty&&$dk.addClass("empty"),$dk}function _notBlank(text){return $.trim(text).length>0?text:!1}var ie6=!1;$.browser.msie&&$.browser.version.substr(0,1)<7&&!$.browser.version.substring(0,2)>=10&&(ie6=!0);var methods={},lists=[],keyMap={left:37,up:38,right:39,down:40,enter:13},dropdownTemplate='<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}"><a class="dk_toggle"><span class="dk_label">{{ label }}<\/span><\/a><div class="dk_options"><ul class="dk_options_inner"><\/ul><\/div><\/div>',optionTemplate='<li class="{{ current }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}<\/a><\/li>',defaults={startSpeed:1e3,theme:!1,change:!1,onSelect:!1,disableKeyNavigation:!1},keysBound=!1;methods.init=function(settings){return settings=$.extend({},defaults,settings),this.each(function(){var $select=$(this),$original=$select.find(":selected").first(),$options=$select.find("option"),data=$select.data("dropkick")||{},id=$select.attr("id")||$select.attr("name"),width=settings.width||$select.outerWidth(),tabindex=$select.attr("tabindex")?$select.attr("tabindex"):"",$dk=!1,theme;if(data.id)return $select;else data.settings=settings,data.tabindex=tabindex,data.id=id,data.$original=$original,data.$select=$select,data.value=_notBlank($select.val())||_notBlank($original.attr("value")),data.label=$original.text(),data.options=$options;$dk=_build(dropdownTemplate,data);$dk.find(".dk_toggle").css({width:width+"px"});$select.before($dk);$dk=$("#dk_container_"+id).fadeIn(settings.startSpeed);theme=settings.theme?settings.theme:"default";$dk.addClass("dk_theme_"+theme);data.theme=theme;data.$dk=$dk;$select.data("dropkick",data);$dk.data("dropkick",data);lists[lists.length]=$select;$dk.bind("clickoutside",function(event){_closeDropdown($dk)});$("body").click(function(event){$(event.target).parents(".dk_container").length&&($(event.target).parents(".dk_container").attr("id")==$dk.attr("id")||$(event.target).parents(".dk_container").attr("id")==undefined)||_closeDropdown($dk)});setTimeout(function(){$select.hide()},0)})};methods.theme=function(newTheme){var $select=$(this),list=$select.data("dropkick"),$dk=list.$dk,oldtheme="dk_theme_"+list.theme;$dk.removeClass(oldtheme).addClass("dk_theme_"+newTheme);list.theme=newTheme};methods.reset=function(){for(var i=0,l=lists.length;i<l;i++){var listData=lists[i].data("dropkick"),$dk=listData.$dk,$current=$dk.find("li").first();$dk.find(".dk_label").text(listData.label);$dk.find(".dk_options_inner").animate({scrollTop:0},0);_setCurrent($current,$dk);_updateFields($current,$dk,!0)}};methods.close=function(){$select=$(this);$.each($(this),function(i,val){if(list=$(val).data("dropkick"),list!=null){var $dk=list.$dk;_closeDropdown($dk)}})};$.fn.dropkick=function(method){if(!ie6)if(methods[method])return methods[method].apply(this,Array.prototype.slice.call(arguments,1));else if(typeof method=="object"||!method)return methods.init.apply(this,arguments)};$(function(){$(".dk_toggle").live("click",function(e){var $dk=$(this).parents(".dk_container").first();return $dk.find(".dk_options_inner li").length&&(_openDropdown($dk),"ontouchstart"in window&&($dk.addClass("dk_touch"),$dk.find(".dk_options_inner").addClass("scrollable vertical"))),e.preventDefault(),!1});$(".dk_options a").live($.browser.msie?"mousedown":"click",function(e){var $option=$(this),$dk=$option.parents(".dk_container").first(),data=$dk.data("dropkick");return _onSelect(e,$option,$dk),e.isDefaultPrevented()||(_closeDropdown($dk),_updateFields($option,$dk),_setCurrent($option.parent(),$dk),e.preventDefault()),!1});$(document).bind("keydown.dk_nav",function(e){var $open=$(".dk_container.dk_open"),$focused=$(".dk_container.dk_focus"),$dk=null;$open.length?$dk=$open:$focused.length&&!$open.length&&($dk=$focused);$dk&&_handleKeyBoardNav(e,$dk)})})}(jQuery,window,document),function($){$.fn.wresize=function(f){function resizeOnce(){var version,width;if($.browser.msie)if(wresize.fired){if(version=parseInt($.browser.version,10),wresize.fired=!1,version<7)return!1;else if(version==8)return(width=$(window).width(),width!=wresize.width)?(wresize.width=width,!0):!1}else wresize.fired=!0;return!0}function handleWResize(e){if(resizeOnce())return f.apply(this,[e])}return version="1.1",wresize={fired:!1,width:0},this.each(function(){this==window?$(this).resize(handleWResize):$(this).resize(f)}),this}}(jQuery),function(window,undefined){var kg=window.kg={},SELECTED_PROP,GRID_TEMPLATE,utils;kg.templates={};SELECTED_PROP="__kg_selected__";GRID_TEMPLATE="koGridTmpl";kg.labels={};utils={forEach:function(arr,action){for(var len=arr.length,i=0;i<len;i++)arr[i]!==undefined&&action(arr[i],i)},forIn:function(obj,action){for(var prop in obj)obj.hasOwnProperty(prop)&&action(obj[prop],prop)}};utils.newId=function(){var seedId=(new Date).getTime();return function(){return seedId+=1}}();utils.StringBuilder=function(){var strArr=[];this.append=function(str,data){var len=arguments.length,intMatch=0,strMatch="{0}",i=1;if(len>1)while(i<len){while(str.indexOf(strMatch)!==-1)str=str.replace(strMatch,arguments[i]);i++;intMatch=i-1;strMatch="{"+intMatch.toString()+"}"}strArr.push(str)};this.toString=function(){var separator=arguments[0];return separator!==null&&separator!==undefined?strArr.join(separator):strArr.join("")}};kg.utils=utils;kg.templates.defaultGridInnerTemplate=function(){return'<div><div class="kgTopPanel" data-bind="kgSize: $data.headerDim"><div class="kgHeaderContainer" style="position: relative; overflow-x: hidden" data-bind="kgSize: $data.headerDim"><div class="kgHeaderScroller" data-bind="kgHeaderRow: $data, kgSize: $data.headerScrollerDim"><\/div><\/div><\/div><div class="kgViewport" data-bind="kgSize: $data.viewportDim"><div class="kgRow kgNoMatch" data-bind="visible:$data.rows().length==0">No match<\/div><div class="kgCanvas" data-bind="kgRows: $data.rows, style: { height: $data.canvasHeight }" style="position: relative"><\/div><\/div><div class="kgFooterPanel" data-bind="kgFooter: $data, kgSize: $data.footerDim" style="position: relative;"><\/div><\/div>'};kg.templates.generateHeaderTemplate=function(options){var b=new kg.utils.StringBuilder,cols=options.columns,showFilter=options.showFilter;return b.append("<div>"),utils.forEach(cols,function(col,i){col.field==="__kg_selected__"?(b.append('<div class="kgSelectionCell" data-bind="kgHeader: { value: \'{0}\' } ">',col.field),b.append('  <input type="checkbox" data-bind="checked: $parent.toggleSelectAll, visible: $parent.config.isMultiSelect"/>'),b.append("<\/div>")):col.field==="rowIndex"&&showFilter?(b.append("<div data-bind=\"kgHeader: { value: '{0}' } \">",col.field),b.append('      <div title="Filter Results" class="kgFilterBtn openBtn" data-bind="visible: !$data.filterVisible(), click: $parent.showFilter_Click, clickBubble: false"><\/div>'),b.append('      <div title="Close" class="kgFilterBtn closeBtn" data-bind="visible: $data.filterVisible(), click: $parent.showFilter_Click, clickBubble: false"><\/div>'),b.append('      <div title="Clear Filters" class="kgFilterBtn clearBtn" data-bind="visible: $data.filterVisible(), click: $parent.clearFilter_Click, clickBubble: false"><\/div>'),b.append("<\/div>")):(b.append("<div data-bind=\"kgHeader: { value: '{0}' } \">",col.field),b.append("<\/div>"))}),b.append("<\/div>"),b.toString()};kg.templates.defaultHeaderCellTemplate=function(){var b=new kg.utils.StringBuilder;return b.append("<div>"),b.append('<div data-bind="click: $data.sort, css: { kgSorted: !$data.noSortVisible() }">'),b.append('  <span data-bind="html: $data.displayName"><\/span>'),b.append('  <img class="kgSortImg" data-bind="visible: $data.noSortVisible" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAEFJREFUKFNjYICC+vp6YyDeDcSCMDEwDRRQAuK7QPwfpAAuiSYBkkQoAHLOQAVgEjB6FYrxGBy8OvHaide1+PwJAMBIWUlZ9vlNAAAAAElFTkSuQmCC"/>'),b.append('  <img class="kgSortImg" data-bind="visible: $data.sortAscVisible" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAPElEQVQoU2NggIL6+npjIN4NxIIwMTANFFAC4rtA/B+kAC6JJgGSRCgAcs5ABWASMHoVw////3HigZAEACKmlTwMfriZAAAAAElFTkSuQmCC"/>'),b.append('  <img class="kgSortImg" data-bind="visible: $data.sortDescVisible" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAYAAAD+WDajAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABp0RVh0U29mdHdhcmUAUGFpbnQuTkVUIHYzLjUuMTAw9HKhAAAAPUlEQVQoU2P4//8/Ay6MUwKkgQJJBnygvr7+DBD/x4JXMQAFlYD4LprkbriBaAoQEjAVQAXGQLwbiAVhYgD6kIBR+tr9IgAAAABJRU5ErkJggg=="/>'),b.append("<\/div>"),b.append('<div data-bind="visible: $parent.filterVisible" style="position:absolute; bottom:5px;width:92%">'),b.append('  <input class="filter" type="text" data-bind="visible: displayFilter, value: $data.column.filter, valueUpdate: \'afterkeydown\'" style="width: 90%" tabindex="1" />'),b.append("<\/div>"),b.append("<\/div>"),b.toString()};kg.templates.generateRowTemplate=function(options){var b=new kg.utils.StringBuilder,cols=options.columns;return b.append("<div>"),b.append('<div data-bind="kgRow: $data, click: $data.toggleSelected, css: $data.cssClass">'),utils.forEach(cols,function(col,i){if(col.field==="__kg_selected__")b.append('<div class="kgSelectionCell" data-bind="kgCell: { value: \'{0}\' } ">',col.field),b.append('  <input type="checkbox" data-bind="checked: $data.selected" />'),b.append("<\/div>");else if(col.field==="rowIndex")b.append('<div class="kgRowIndexCell" data-bind="kgCell: { value: \'{0}\' } "><\/div>',col.field);else if(col.hasCellTemplate){var tmpl=kg.templateManager.getTemplateText(col.cellTemplate),replacer="{ value: '"+col.field+"' }";tmpl=tmpl.replace(/\$cellClass/g,col.cellClass||"");tmpl=tmpl.replace(/\$cellValue/g,"$data."+col.field);tmpl=tmpl.replace(/\$cell/g,replacer);b.append(tmpl)}else b.append('<div class="{0}"  data-bind="kgCell: { value: \'{1}\' }" ><\/div>',col.cellClass||"",col.field)}),b.append("<\/div>"),b.append("<\/div>"),b.toString()};kg.templates.defaultFooterTemplate=function(){return'<div><div class="kgTotalSelectContainer" data-bind="visible: footerVisible" style="width:auto;"><div class="kgFooterTotalItems"><span class="kgLabel">Total Items:<\/span> <span data-bind="text: maxRows"><\/span><\/div><\/div><div class="kgPagerContainer" data-bind="visible: pagerVisible() && footerVisible()"><div style="float: right;"><div class="kgRowCountPicker""><span class="kgLabel">Rows:<\/span><select data-bind="options: pageSizes, value: selectedPageSize"><\/select><\/div><div class="kgPagerControl"><input class="kgPagerFirst" type="button" data-bind="click: pageToFirst, enable: canPageBackward" title="First Page"/><input class="kgPagerPrev" type="button"  data-bind="click: pageBackward, enable: canPageBackward" title="Previous Page"/><input class="kgPagerCurrent" type="text" data-bind="value: protectedCurrentPage, enable: maxPages() > 1" /><input class="kgPagerNext" type="button"  data-bind="click: pageForward, enable: canPageForward" title="Next Page"/><input class="kgPagerLast" type="button"  data-bind="click: pageToLast, enable: canPageForward" title="Last Page"/><\/div><\/div><\/div><\/div>'};kg.templateManager=new function(){var self=this,templateExists=function(tmplId){var el=document.getElementById(tmplId);return el!==undefined&&el!==null},addTemplate=function(templateText,tmplId){var tmpl=document.createElement("SCRIPT");tmpl.type="text/x-tmpl";tmpl.id=tmplId;tmpl.text=templateText;document.body.appendChild(tmpl)};this.addTemplateSafe=function(tmplId,templateTextAccessor){templateExists(tmplId)||addTemplate(templateTextAccessor(),tmplId)};this.ensureGridTemplates=function(options){var defaults={rowTemplate:"",headerTemplate:"",headerCellTemplate:"",footerTemplate:"",columns:null,showFilter:!0},config=$.extend(defaults,options);self.addTemplateSafe(GRID_TEMPLATE,kg.templates.defaultGridInnerTemplate);config.headerTemplate&&self.addTemplateSafe(config.headerTemplate,function(){return kg.templates.generateHeaderTemplate(config)});config.headerCellTemplate&&self.addTemplateSafe(config.headerCellTemplate,kg.templates.defaultHeaderCellTemplate);config.rowTemplate&&self.addTemplateSafe(config.rowTemplate,function(){return kg.templates.generateRowTemplate(config)});config.footerTemplate&&self.addTemplateSafe(config.footerTemplate,kg.templates.defaultFooterTemplate)};this.getTemplateText=function(tmplId){if(templateExists(tmplId)){var el=document.getElementById(tmplId);return el.text}else return""}};kg.Dimension=function(options){this.innerHeight=null;this.innerWidth=null;this.outerHeight=null;this.outerWidth=null;this.widthDiff=null;this.heightDiff=null;this.autoFitHeight=!1;this.autoFitWidth=!1;$.extend(this,options)};kg.Cell=function(col){this.data="";this.column=col;this.row=null};kg.Column=function(colDef){this.width=ko.observable(0);this.sortField=colDef.sortField;this.field=colDef.field;this.displayName=colDef.displayName;this.displayFilter=ko.observable(colDef.displayFilter);this.colIndex=0;this.isVisible=ko.observable(!1);this.width=ko.observable();this.visible=colDef.visible;this.autowidth=!1;this.allowSort=colDef.allowSort;this.sortDirection=ko.observable("");this.filter=ko.observable();this.cellTemplate=colDef.cellTemplate;this.hasCellTemplate=this.cellTemplate?!0:!1;this.cellClass=colDef.cellClass;this.headerClass=colDef.headerClass;this.headerTemplate=colDef.headerTemplate;this.hasHeaderTemplate=this.headerTemplate?!0:!1;colDef.visible==!0||colDef.visible==null?colDef.width||(colDef.width=(this.displayName?this.displayName.length:0)*kg.domUtility.letterW,colDef.width+=30,this.autowidth=!0):colDef.width=0;this.width(colDef.width)};kg.ColumnCollection=function(){var obs=ko.observableArray([]);return ko.utils.extend(obs,kg.ColumnCollection.fn),obs};kg.ColumnCollection.fn={};kg.Row=function(entity){var self=this;this.entity=ko.isObservable(entity)?entity:ko.observable(entity);this.entity().__kg_selected__===undefined&&(this.entity().__kg_selected__=ko.observable(!1));this.selected=ko.dependentObservable({read:function(){return self.entity().__kg_selected__()},write:function(val){self.entity().__kg_selected__(val);self.onSelectionChanged()}});this.cssClass=ko.dependentObservable({read:function(){var val=self.entity().row_css_class;return(self.selected()?"kgSelected ":"")+val},write:function(val){self.entity().row_css_class=val}});this.toggleSelected=function(data,event){var element=event.target;if(element.type=="checkbox"&&element.parentElement.className.indexOf(!0))return!0;else self.selected()?self.selected(!1):self.selected(!0);return!0};this.cells=ko.observableArray([]);this.cellMap={};this.rowIndex=0;this.offsetTop=0;this.rowKey=entity.rowKey;this.rowDisplayIndex=0;this.onSelectionChanged=function(){},function(){utils.forIn(entity,function(prop,propName){self[propName]=prop})}()};kg.Range=function(bottom,top){this.topRow=top;this.bottomRow=bottom};kg.CellFactory=function(cols){var colCache=cols,len=colCache.length;this.buildRowCells=function(row){for(var cell,cells=[],col,i=0;i<len;i++)col=colCache[i],cell=new kg.Cell(col),cell.row=row,cell.data=row.entity()[col.field],cells.push(cell),row.cellMap[col.field]=cell;return row.cells(cells),row}};kg.HeaderCell=function(col,grid){var self=this;this.colIndex=0;this.displayName=col.displayName;this.field=col.field;this.column=col;this.headerClass=col.headerClass;this.headerTemplate=col.headerTemplate;this.hasHeaderTemplate=col.hasHeaderTemplate;this.width=ko.computed(function(){return col.width()});this.filter=ko.computed({read:function(){return self.column.filter()},write:function(val){self.column.filter(val)}});this.filterVisible=ko.observable(grid.filterIsOpen());this.displayFilter=col.displayFilter;this.sortAscVisible=ko.computed(function(){return self.column.sortDirection()==="asc"});this.sortDescVisible=ko.computed(function(){return self.column.sortDirection()==="desc"});this.noSortVisible=ko.computed(function(){if(self.column.allowSort==!1)return!1;var sortDir=self.column.sortDirection();return sortDir!=="asc"&&sortDir!=="desc"});this.sort=function(){if(self.column.allowSort!=!1){var dir=self.column.sortDirection()==="asc"?"desc":"asc";self.column.sortDirection(dir)}};this.filterHasFocus=ko.observable(!1)};kg.HeaderRow=function(grid){this.headerCells=[];this.height;this.headerCellMap={};this.filterVisible=ko.observable(grid.config.alwaysShowFilters||grid.filterIsOpen())};kg.RowManager=function(grid){var self=this,prevMaxRows=0,prevMinRows=0,dataChanged=!0,currentPage=grid.config.currentPage,pageSize=grid.config.pageSize,prevRenderedRange=new kg.Range(0,1),prevViewableRange=new kg.Range(0,1),internalRenderedRange=ko.observable(prevRenderedRange),buildRowFromEntity,calcRenderedRange;this.rowCache={};this.dataSource=grid.finalData;this.dataSource.subscribe(function(){dataChanged=!0;self.rowCache={}});this.minViewportRows=grid.minRowsToRender;this.excessRows=8;this.rowHeight=grid.config.rowHeight;this.cellFactory=new kg.CellFactory(grid.columns());this.viewableRange=ko.observable(prevViewableRange);this.renderedRange=ko.observable(prevRenderedRange);this.rows=ko.observableArray([]);this.rowSubscriptions={};buildRowFromEntity=function(entity,rowIndex,pagingOffset){var row=self.rowCache[rowIndex];return row||(row=new kg.Row(entity),row.rowIndex=rowIndex+1,row.rowDisplayIndex=row.rowIndex+pagingOffset,row.offsetTop=self.rowHeight*rowIndex,row.onSelectionChanged=function(){var ent=this.entity();grid.changeSelectedItem(ent)},self.cellFactory.buildRowCells(row),self.rowCache[rowIndex]=row),row};this.renderedRange.subscribe(function(rg){var rowArr=[],row,pagingOffset=pageSize()*(currentPage()-1),dataArr=self.dataSource().slice(rg.bottomRow,rg.topRow);utils.forEach(dataArr,function(item,i){row=buildRowFromEntity(item,rg.bottomRow+i,pagingOffset);rowArr.push(row);row=null});self.rows(rowArr)});calcRenderedRange=function(){var rg=self.viewableRange(),minRows=self.minViewportRows(),maxRows=self.dataSource().length,isDif=!1,newRg;rg?(isDif=rg.bottomRow!==prevViewableRange.bottomRow||rg.topRow!==prevViewableRange.topRow||dataChanged,isDif||prevMaxRows===maxRows||(isDif=!0,rg=new kg.Range(prevViewableRange.bottomRow,prevViewableRange.topRow)),isDif||prevMinRows===minRows||(isDif=!0,rg=new kg.Range(prevViewableRange.bottomRow,prevViewableRange.topRow)),isDif&&(rg.bottomRow<0&&(rg.bottomRow=0),rg.topRow=rg.bottomRow+minRows,prevViewableRange=rg,newRg=new kg.Range(rg.bottomRow,rg.topRow),newRg.bottomRow=Math.max(0,rg.bottomRow-self.excessRows),newRg.topRow=Math.min(maxRows,rg.topRow+self.excessRows),prevMaxRows=maxRows,prevMinRows=minRows,(prevRenderedRange.topRow!==newRg.topRow||prevRenderedRange.bottomRow!==newRg.bottomRow||dataChanged)&&(dataChanged=!1,prevRenderedRange=newRg,self.renderedRange(newRg)))):self.renderedRange(new kg.Range(0,0))};self.viewableRange.subscribe(calcRenderedRange);self.minViewportRows.subscribe(calcRenderedRange);self.dataSource.subscribe(calcRenderedRange)};kg.Footer=function(grid){var self=this;this.maxRows;this.maxRows=grid.config.totalServerItems()!==null&&grid.config.totalServerItems()!==undefined?grid.config.totalServerItems:grid.maxRows;this.selectedItemCount=grid.selectedItemCount;this.footerVisible=grid.config.footerVisible;this.pagerVisible=ko.observable(grid.config.enablePaging);this.selectedPageSize=grid.config.pageSize;this.pageSizes=ko.observableArray(grid.config.pageSizes);this.currentPage=grid.config.currentPage;this.maxPages=ko.computed(function(){var maxCnt=self.maxRows()||1,pageSize=self.selectedPageSize();return Math.ceil(maxCnt/pageSize)});this.protectedCurrentPage=ko.computed({read:function(){return self.currentPage()},write:function(page){page&&page<=self.maxPages()&&page>0&&self.currentPage(page)},owner:self});this.pageForward=function(){var page=self.currentPage();self.currentPage(Math.min(page+1,self.maxPages()))};this.pageBackward=function(){var page=self.currentPage();self.currentPage(Math.max(page-1,1))};this.pageToFirst=function(){self.currentPage(1)};this.pageToLast=function(){var maxPages=self.maxPages();self.currentPage(maxPages)};this.canPageForward=ko.computed(function(){var curPage=self.currentPage(),maxPages=self.maxPages();return curPage<maxPages});this.canPageBackward=ko.computed(function(){var curPage=self.currentPage();return curPage>1})};kg.FilterManager=function(options){var self=this,wildcard=options.filterWildcard||"*",includeDestroyed=options.includeDestroyed||!1,regExCache={},initPhase=0,internalFilteredData=ko.observableArray([]),filterDestroyed,isEmpty,matchString,filterData;if(wildcard!=="*"&&wildcard!=="%")throw new Error("You can only declare a percent sign (%) or an asterisk (*) as a wildcard character");filterDestroyed=function(arr){return ko.utils.arrayFilter(arr,function(item){return item._destroy===!0?!1:!0})};this.filterInfo=options.filterInfo||ko.observable();this.data=options.data;this.filteredData=ko.computed(function(){var data=internalFilteredData();return initPhase>0?data:filterDestroyed(self.data())});isEmpty=function(data){return data===null||data===undefined||data===""};matchString=function(itemStr,filterStr){var regex,replacer,regexStr;if(itemStr=$("<div/>").html(itemStr).text(),regex=regExCache[filterStr],!regex){replacer="";filterStr=filterStr.replace(/\\/g,"\\");replacer=wildcard==="*"?/\*/g:/\%/g;filterStr=filterStr.replace(/\+/g,"\\+");regexStr=filterStr.replace(replacer,"[^']*");try{regex=new RegExp(regexStr,"gi")}catch(e){regex=/.*/gi}regExCache[filterStr]=regex}return itemStr.match(regex)};this.matchString=matchString;filterData=function(){var filterInfo=self.filterInfo(),data=self.data(),keepRow=!1,match=!0,newArr=[],field,itemData,itemDataStr,filterStr;if(data=filterDestroyed(data),!filterInfo||$.isEmptyObject(filterInfo)||options.useExternalFiltering){internalFilteredData(data);return}regExCache={};newArr=ko.utils.arrayFilter(data,function(item){for(field in filterInfo)if(filterInfo.hasOwnProperty(field)&&(itemData=ko.utils.unwrapObservable(item["sort_"+field]!=null?item["sort_"+field]:item[field]),filterStr=filterInfo[field],isEmpty(filterStr)||filterStr===wildcard||(isEmpty(itemData)?match=!1:typeof itemData=="string"?match=matchString(itemData,filterStr):(itemDataStr=itemData.toString(),match=matchString(itemDataStr,filterStr)))),keepRow&&!match?keepRow=!1:!keepRow&&match&&(keepRow=!0),!match)break;return filterStr=null,itemData=null,itemDataStr=null,match=!0,keepRow});internalFilteredData(newArr)};this.data.subscribe(filterData);this.filterInfo.subscribe(filterData);this.createFilterChangeCallback=function(col){return function(newFilterVal){var info=self.filterInfo();(info||newFilterVal)&&(info||(info={}),(newFilterVal===null||newFilterVal===undefined||newFilterVal==="")&&info[col.field]?delete info[col.field]:newFilterVal!==null&&newFilterVal!==undefined&&(info[col.field]=newFilterVal),self.filterInfo(info))}};initPhase=1};kg.SortManager=function(options){var self=this,colSortFnCache={},dateRE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,ASC="asc",DESC="desc",prevSortInfo={},dataSource=options.data,initPhase=0,internalSortedData=ko.observableArray([]),isEmpty=function(val){return val===null||val===undefined||val===""},sortData;this.sortInfo=options.sortInfo||ko.observable();this.sortedData=ko.computed(function(){var sortData=internalSortedData();return initPhase>0?sortData:dataSource()});this.guessSortFn=function(item){var sortFn,itemStr,itemType,dateParts,month,day;if(item===undefined||item===null||item==="")return null;itemType=typeof item;switch(itemType){case"number":sortFn=self.sortNumber;break;case"boolean":sortFn=self.sortBool;break}return sortFn?sortFn:Object.prototype.toString.call(item)==="[object Date]"?self.sortDate:itemType!=="string"?null:item.match(/^-?[£$¤]?[\d,.]+%?$/)?self.sortNumberStr:(dateParts=item.match(dateRE),dateParts)?(month=parseInt(dateParts[1]),day=parseInt(dateParts[2]),month>12?self.sortDDMMStr:day>12?self.sortMMDDStr:self.sortMMDDStr):self.sortAlpha};this.sortNumber=function(a,b){return a-b};this.sortNumberStr=function(a,b){var numA,numB,badA=!1,badB=!1;return(numA=parseFloat(a.replace(/[^0-9.-]/g,"")),isNaN(numA)&&(badA=!0),numB=parseFloat(b.replace(/[^0-9.-]/g,"")),isNaN(numB)&&(badB=!0),badA&&badB)?0:badA?1:badB?-1:numA-numB};this.sortAlpha=function(a,b){var strA=a.toUpperCase(),strB=b.toUpperCase();return strA==strB?0:strA<strB?-1:1};this.sortDate=function(a,b){var timeA=a.getTime(),timeB=b.getTime();return timeA==timeB?0:timeA<timeB?-1:1};this.sortBool=function(a,b){return a&&b?0:a||b?a?1:-1:0};this.sortDDMMStr=function(a,b){var dateA,dateB,mtch,m,d,y;return(mtch=a.match(dateRE),y=mtch[3],m=mtch[2],d=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateA=y+m+d,mtch=b.match(dateRE),y=mtch[3],m=mtch[2],d=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateB=y+m+d,dateA==dateB)?0:dateA<dateB?-1:1};this.sortMMDDStr=function(a,b){var dateA,dateB,mtch,m,d,y;return(mtch=a.match(dateRE),y=mtch[3],d=mtch[2],m=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateA=y+m+d,mtch=b.match(dateRE),y=mtch[3],d=mtch[2],m=mtch[1],m.length==1&&(m="0"+m),d.length==1&&(d="0"+d),dateB=y+m+d,dateA==dateB)?0:dateA<dateB?-1:1};this.sort=function(col,direction){(col!==prevSortInfo.column||direction!==prevSortInfo.direction)&&self.sortInfo({column:col,direction:direction})};sortData=function(){var data=dataSource(),sortInfo=self.sortInfo(),col,direction,sortFn,item,prop;if(!data||!sortInfo||options.useExternalSorting){internalSortedData(data);return}col=sortInfo.column;direction=sortInfo.direction;colSortFnCache[col.field]?sortFn=colSortFnCache[col.field]:(item=dataSource()[0],item&&(prop=ko.utils.unwrapObservable(item[col.field])),sortFn=self.guessSortFn(prop),sortFn?colSortFnCache[col.field]=sortFn:sortFn=self.sortAlpha);data.sort(function(itemA,itemB){var propA=ko.utils.unwrapObservable(itemA[col.sortField!=null&&col.sortField.length>0?col.sortField:col.field]),propB=ko.utils.unwrapObservable(itemB[col.sortField!=null&&col.sortField.length>0?col.sortField:col.field]),propAEmpty=isEmpty(propA),propBEmpty=isEmpty(propB);if(propAEmpty&&propBEmpty)return 0;else if(propAEmpty)return 1;else if(propBEmpty)return-1;return direction===ASC?sortFn(propA,propB):0-sortFn(propA,propB)});internalSortedData(data)};dataSource.subscribe(sortData);this.sortInfo.subscribe(sortData);initPhase=1};kg.SelectionManager=function(options){var self=this,isMulti=options.isMultiSelect,dataSource=options.data,KEY="__kg_selected__",maxRows=ko.computed(function(){return dataSource().length});this.selectedItem=options.selectedItem;this.selectedItems=options.selectedItems;this.selectedIndex=options.selectedIndex;this.selectedItemCount=ko.computed(function(){var single=self.selectedItem(),arr=self.selectedItems();return isMulti?arr.length:single!==null&&single!==undefined?1:0});this.selectedItem.subscribe(function(currentEntity){isMulti||currentEntity&&currentEntity[KEY]&&currentEntity[KEY](!1)},self,"beforeChange");this.selectedItem.subscribe(function(entity){entity&&!entity[KEY]?entity[KEY]=ko.observable(!0):entity&&entity[KEY](!0)});this.selectedItems.subscribe(function(newItems){var data=dataSource();newItems||(newItems=[]);utils.forEach(data,function(item,i){item[KEY]||(item[KEY]=ko.observable(!1));ko.utils.arrayIndexOf(newItems,item)>-1?item[KEY](!0):item[KEY](!1)})});this.changeSelectedItem=function(changedEntity){var currentEntity=self.selectedItem(),currentItems=self.selectedItems,len=0,keep=!1;isMulti?(len=currentItems().length,changedEntity&&changedEntity[KEY]&&(keep=changedEntity[KEY]()),keep?currentItems.indexOf(changedEntity)===-1&&currentItems.push(changedEntity):currentItems.remove(changedEntity)):(changedEntity&&changedEntity[KEY]&&(keep=changedEntity[KEY]()),self.selectedItem(changedEntity),keep||changedEntity[KEY](!0))};this.toggleSelectAll=ko.computed({read:function(){var cnt=self.selectedItemCount();return isMulti?maxRows()===0?!1:cnt===maxRows():cnt===1},write:function(val){var checkAll=val,dataSourceCopy=[];isMulti&&(utils.forEach(dataSource(),function(item){dataSourceCopy.push(item)}),checkAll?self.selectedItems(dataSourceCopy):self.selectedItems([]))}});dataSource.subscribe(function(items){var selectedItems,selectedItem,itemsToRemove;items&&(isMulti?(selectedItems=self.selectedItems(),itemsToRemove=[],ko.utils.arrayForEach(selectedItems,function(item){ko.utils.arrayIndexOf(items,item)<0&&itemsToRemove.push(item)}),itemsToRemove.length>0&&self.selectedItems.removeAll(itemsToRemove)):selectedItem=self.selectedItem())})};kg.gridManager=new function(){var self=this,elementGridKey="__koGrid__";this.gridCache={};this.storeGrid=function(element,grid){self.gridCache[grid.gridId]=grid;element[elementGridKey]=grid.gridId};this.getGrid=function(element){var grid;return element[elementGridKey]&&(grid=self.gridCache[element[elementGridKey]]),grid};this.clearGridCache=function(){self.gridCache={}};this.assignGridEventHandlers=function(grid){var $parent,timeoutHandler,resizeFunc;grid.$viewport.scroll(function(e){var scrollLeft=e.target.scrollLeft,scrollTop=e.target.scrollTop;grid.config.scrollPosition(scrollTop);grid.adjustScrollLeft(scrollLeft)});$parent=grid.$root.parent();$parent.length==0&&($parent=grid.$root);timeoutHandler=null;resizeFunc=function(){clearTimeout(timeoutHandler);timeoutHandler=setTimeout(function(){var dt=new Date,prevSizes={rootMaxH:grid.elementDims.rootMaxH,rootMaxW:grid.elementDims.rootMaxW,rootMinH:grid.elementDims.rootMinH,rootMinW:grid.elementDims.rootMinW},scrollTop=0,isDifferent=!1,$hiddens=grid.$root.parents(":hidden");if(!($hiddens.length>0)){if(scrollTop=grid.$viewport.scrollTop(),kg.domUtility.measureGrid(grid.$root,grid),prevSizes.rootMaxH!==grid.elementDims.rootMaxH&&grid.elementDims.rootMaxH!==0)isDifferent=!0;else if(prevSizes.rootMaxW!==grid.elementDims.rootMaxW&&grid.elementDims.rootMaxW!==0)isDifferent=!0;else if(prevSizes.rootMinH!==grid.elementDims.rootMinH)isDifferent=!0;else if(prevSizes.rootMinW!==grid.elementDims.rootMinW)isDifferent=!0;else return;grid.elementDims.rootMinW==0&&prevSizes.rootMinW!=0&&(grid.elementDims.rootMinW=prevSizes.rootMinW);isDifferent&&(grid.refreshDomSizes(),grid.adjustScrollTop(scrollTop,!0),kg.cssBuilder.buildStyles(grid))}},500)};$(window).wresize(resizeFunc)}};kg.KoGrid=function(options){var defaults={rowHeight:30,columnWidth:100,headerRowHeight:30,footerRowHeight:55,filterRowHeight:30,rowTemplate:"kgRowTemplate",headerTemplate:"kgHeaderRowTemplate",headerCellTemplate:"kgHeaderCellTemplate",footerTemplate:"kgFooterTemplate",footerVisible:ko.observable(!0),autogenerateColumns:!0,data:null,columnDefs:[],pageSizes:[250,500,1e3],enablePaging:!1,pageSize:ko.observable(250),totalServerItems:ko.observable(),currentPage:ko.observable(1),selectedItem:ko.observable(),selectedItems:ko.observableArray([]),selectedIndex:ko.observable(0),isMultiSelect:!0,displaySelectionCheckbox:!0,displayRowIndex:!0,useExternalFiltering:!1,useExternalSorting:!1,filterInfo:ko.observable(),sortInfo:ko.observable(),filterWildcard:"*",includeDestroyed:!1,scrollIntoTheView:ko.observable(),scrollPosition:ko.observable(),finalData:ko.observableArray([])},self=this,filterManager,sortManager,selectionManager,isSorting=!1,prevScrollTop,prevScrollLeft,prevMinRowsToRender,maxCanvasHt=0,h_updateTimeout,scrollIntoView,buildColumnDefsFromData,buildColumns;this.$root;this.$topPanel;this.$headerContainer;this.$headerScroller;this.$headers;this.$viewport;this.$canvas;this.$footerPanel;this.config=$.extend(defaults,options);this.filterIsOpen=ko.observable(this.config.alwaysShowFilters);this.gridId="kg"+kg.utils.newId();this.initPhase=0;this.data=self.config.data;$.each(this.data(),function(i,val){val.rowKey=utils.newId()});this.data.subscribe(function(){$.each(self.data(),function(i,val){val.rowKey=utils.newId()})});filterManager=new kg.FilterManager(self.config);this.filterManager=filterManager;sortManager=new kg.SortManager({data:filterManager.filteredData,sortInfo:self.config.sortInfo,useExternalSorting:self.config.useExternalFiltering});this.sortInfo=sortManager.sortInfo;this.filterInfo=filterManager.filterInfo;this.finalData=sortManager.sortedData;this.canvasHeight=ko.observable(maxCanvasHt.toString()+"px");selectionManager=new kg.SelectionManager({isMultiSelect:self.config.isMultiSelect,data:self.finalData,selectedItem:self.config.selectedItem,selectedItems:self.config.selectedItems,selectedIndex:self.config.selectedIndex});this.maxRows=ko.computed(function(){var rows=self.finalData();return maxCanvasHt=rows.length*self.config.rowHeight,self.canvasHeight(maxCanvasHt.toString()+"px"),rows.length||0});this.maxCanvasHeight=function(){return maxCanvasHt||0};this.selectedItemCount=selectionManager.selectedItemCount;this.columns=new kg.ColumnCollection;this.rowManager;this.rows;this.headerRow;this.footer;this.elementDims={scrollW:0,scrollH:0,cellHdiff:0,cellWdiff:0,rowWdiff:0,rowHdiff:0,rowIndexCellW:35,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0,rootMinW:0,rootMinH:0};this.elementsNeedMeasuring=!0;this.rootDim=ko.observable(new kg.Dimension({outerHeight:0,outerWidth:2e4}));this.headerDim=ko.computed(function(){var rootDim=self.rootDim(),filterOpen=self.filterIsOpen(),newDim=new kg.Dimension;return newDim.outerHeight=self.config.headerRowHeight,newDim.outerWidth=rootDim.outerWidth,filterOpen&&(newDim.outerHeight+=self.config.filterRowHeight),newDim});this.footerDim=ko.computed(function(){var rootDim=self.rootDim(),showFooter=ko.unwrap(self.config.footerVisible),newDim=new kg.Dimension;return newDim.outerHeight=self.config.footerRowHeight,newDim.outerWidth=rootDim.outerWidth,showFooter||(newDim.outerHeight=3),newDim});this.viewportDim=ko.computed(function(){var rootDim=self.rootDim(),headerDim=self.headerDim(),footerDim=self.footerDim(),newDim=new kg.Dimension,wDelta=self.config.alwaysShowFilters==!0?self.config.filterRowHeight:0,rowHeights=self.rowManager!=null&&footerDim.outerHeight<5&&self.finalData().length!=self.data().length?self.rowManager.rowHeight*self.finalData().length:-1;return self.finalData().length==0&&self.rowManager!=null&&footerDim.outerHeight<5&&(rowHeights=self.rowManager.rowHeight),newDim.outerHeight=rowHeights!=-1?rowHeights:rootDim.outerHeight-headerDim.outerHeight-footerDim.outerHeight+wDelta,newDim.outerWidth=rootDim.outerWidth,newDim.innerHeight=newDim.outerHeight-wDelta,newDim.innerWidth=newDim.innerWidth,newDim});this.totalRowWidth=ko.computed(function(){var width=0,cols=self.columns();return utils.forEach(cols,function(col,i){width+=col.width()}),width});this.minRowsToRender=ko.computed(function(){var viewportH=self.viewportDim().outerHeight||1;return prevMinRowsToRender=Math.floor(viewportH/self.config.rowHeight)});this.headerScrollerDim=ko.computed(function(){var viewportH=self.viewportDim().outerHeight,filterOpen=self.filterIsOpen(),maxHeight=self.maxCanvasHeight(),vScrollBarIsOpen=maxHeight>viewportH,hScrollBarIsOpen=self.viewportDim().outerWidth<self.totalRowWidth();return newDim=new kg.Dimension,newDim.autoFitHeight=!0,newDim.outerWidth=self.totalRowWidth(),vScrollBarIsOpen?newDim.outerWidth+=self.elementDims.scrollW:maxHeight-viewportH<=self.elementDims.scrollH&&(newDim.outerWidth+=self.elementDims.scrollW),newDim});this.changeSelectedItem=selectionManager.changeSelectedItem;this.toggleSelectAll=selectionManager.toggleSelectAll;this.sortData=function(col,dir){isSorting=!0;utils.forEach(self.columns(),function(column){column.field!==col.field&&column.sortDirection()!==""&&column.sortDirection("")});sortManager.sort(col,dir);isSorting=!1};this.config.scrollIntoTheView.subscribe(function(){var item=self.config.scrollIntoTheView();item!=null&&scrollIntoView(item)});this.config.scrollPosition.subscribe(function(){self.adjustScrollTop(self.config.scrollPosition())});this.finalData.subscribe(function(){var item;self.config.isMultiSelect&&self.config.selectedItems()?item=self.config.selectedItems()[0]:self.config.selectedItem()&&(item=self.config.selectedItem());item&&scrollIntoView(item);self.config.finalData(self.finalData())});scrollIntoView=function(entity){var itemIndex,viewableRange=self.rowManager.viewableRange();entity&&(itemIndex=ko.utils.arrayIndexOf(self.finalData(),entity));itemIndex>-1&&(!0||itemIndex>viewableRange.topRow||itemIndex<viewableRange.bottomRow-5)&&(self.rowManager.viewableRange(new kg.Range(itemIndex-self.minRowsToRender(),itemIndex+self.minRowsToRender())),setTimeout(function(){self.$viewport&&self.$viewport.scrollTop(itemIndex*self.config.rowHeight)},1))};this.refreshDomSizes=function(){var dim=new kg.Dimension,oldDim=self.rootDim(),rootH=0,rootW=0,canvasH=0;self.elementsNeedMeasuring=!0;rootH=self.maxCanvasHeight()+self.config.headerRowHeight+self.config.footerRowHeight;rootH=Math.min(self.elementDims.rootMaxH,rootH);rootH=Math.max(self.elementDims.rootMinH,rootH);canvasH=rootH-self.config.headerRowHeight-self.config.footerRowHeight;rootW=self.totalRowWidth()+self.elementDims.rowWdiff;$(".kgViewport").css("overflow-y")!="scroll"&&(self.elementDims.scrollW=0);self.maxCanvasHeight()>canvasH&&(rootW+=self.elementDims.scrollW||0);dim.outerWidth=Math.min(self.elementDims.rootMaxW,rootW);dim.outerWidth=Math.max(self.elementDims.rootMinW,dim.outerWidth);dim.outerHeight=rootH;(dim.outerHeight!==oldDim.outerHeight||dim.outerWidth!==oldDim.outerWidth)&&self.rootDim(dim)};this.refreshDomSizesTrigger=ko.computed(function(){var data=self.data();h_updateTimeout&&(window.setImmediate?window.clearImmediate(h_updateTimeout):window.clearTimeout(h_updateTimeout));self.initPhase>0&&(self.filterIsOpen()||isSorting||(self.refreshDomSizes(),kg.cssBuilder.buildStyles(self),self.initPhase>0&&self.$root&&self.$root.show()))});buildColumnDefsFromData=function(){var item;if(!self.data()||!self.data()[0])throw'If auto-generating columns, "data" cannot be of null or undefined type!';item=self.data()[0];utils.forIn(item,function(prop,propName){propName!=="__kg_selected__"&&self.config.columnDefs.push({field:propName})})};buildColumns=function(){var columnDefs=self.config.columnDefs,cols=[],column,createColumnSortClosure;self.config.autogenerateColumns&&buildColumnDefsFromData();self.config.displaySelectionCheckbox&&columnDefs.splice(0,0,{field:"__kg_selected__",width:self.elementDims.rowSelectedCellW});self.config.displayRowIndex&&columnDefs.splice(0,0,{field:"rowIndex",width:self.elementDims.rowIndexCellW});createColumnSortClosure=function(col){return function(dir){dir&&self.sortData(col,dir)}};columnDefs.length>1&&(utils.forEach(columnDefs,function(colDef,i){column=new kg.Column(colDef);column.index=i;column.sortDirection.subscribe(createColumnSortClosure(column));column.filter.subscribe(filterManager.createFilterChangeCallback(column));cols.push(column)}),self.columns(cols))};this.init=function(){buildColumns();self.config.rowTemplate==="kgRowTemplate"&&(self.config.rowTemplate=self.gridId+self.config.rowTemplate);self.config.headerTemplate==="kgHeaderRowTemplate"&&(self.config.headerTemplate=self.gridId+self.config.headerTemplate);self.rowManager=new kg.RowManager(self);self.rows=self.rowManager.rows;kg.cssBuilder.buildStyles(self);self.initPhase=1};this.update=function(){var updater=function(){self.refreshDomSizes();kg.cssBuilder.buildStyles(self);self.initPhase>0&&self.$root&&self.$root.show()};window.setImmediate?h_updateTimeout=setImmediate(updater):setTimeout(updater,1)};this.showFilter_Click=function(){var isOpen=self.filterIsOpen()?!1:!0;self.headerRow.filterVisible(isOpen);self.filterIsOpen(isOpen)};this.clearFilter_Click=function(){utils.forEach(self.columns(),function(col,i){col.filter(null)})};this.adjustScrollTop=function(scrollTop,force){var rowIndex;(prevScrollTop!==scrollTop||force)&&(rowIndex=Math.floor(scrollTop/self.config.rowHeight),prevScrollTop=scrollTop,self.rowManager.viewableRange(new kg.Range(rowIndex,rowIndex+self.minRowsToRender())))};this.adjustScrollLeft=function(scrollLeft){self.$headerContainer&&self.$headerContainer.scrollLeft(scrollLeft)};self.init()};kg.cssBuilder={buildStyles:function(grid){var rowHeight=grid.config.rowHeight-grid.elementDims.rowHdiff,$style=grid.$styleSheet,gridId=grid.gridId,rules,i=0,len=grid.columns().length,css=new kg.utils.StringBuilder,col,sumWidth=0,colWidth,colToAdjust,adjustableIndex,widthToAdjust,borderLessIndex,j;for($style||($style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"))),$style.empty(),css.append(".{0} .kgCell { height: {1}px; }",gridId,rowHeight),css.append(".{0} .kgCanvas { width: {1}px; }",gridId,grid.elementDims.rootMinW-grid.elementDims.scrollW-2),css.append(".{0} .kgRow { position: absolute; left: 0; right: 0; height: {1}px; line-height: {1}px; display: inline; }",gridId,rowHeight),css.append(".{0} .kgHeaderCell { top: 0; bottom: 0; }",gridId,rowHeight),css.append(".{0} .kgHeaderScroller { line-height: {1}px; overflow: none; }",gridId,rowHeight-4),colToAdjust=[],adjustableIndex=[];i<len;i++)col=grid.columns()[i],colWidth=col.width()-grid.elementDims.cellWdiff,colToAdjust.push({col:col,left:sumWidth,right:grid.elementDims.rootMaxW-grid.elementDims.scrollW-sumWidth-col.width(),width:colWidth}),(col.visible==!0||col.visible==null)&&col.autowidth==!0&&adjustableIndex.push(i),sumWidth+=col.width();if(widthToAdjust=grid.elementDims.rootMaxW-grid.elementDims.scrollW-sumWidth,widthToAdjust!=0){if(adjustableIndex.length==0)for(j=colToAdjust.length-1;j>=0;j--)(colToAdjust[j].col.visible==!0||colToAdjust[j].col.visible==null)&&adjustableIndex.push(j);$.each(adjustableIndex,function(i,val){var col=colToAdjust[val],inc=parseInt(widthToAdjust*col.width/sumWidth),j;for(col.width=col.width+inc,col.right=col.right+inc,j=val+1;j<colToAdjust.length;j++)colToAdjust[j].left=colToAdjust[j].left+inc,colToAdjust[j].right=colToAdjust[j].right+inc})}for(borderLessIndex=0,j=colToAdjust.length-1;j>=0;j--)if(colToAdjust[j].col.visible==!0||colToAdjust[j].col.visible==null){borderLessIndex=j;break}$.each(colToAdjust,function(i,val){css.append(".{0} .col{1} { left: {2}px; right: {3}px; width: {4}px; {5} }",gridId,i,val.left,val.right,colToAdjust.length-1==i?val.width-10:val.width,i==borderLessIndex||val.col.visible==!1?"border-right: none":"")});$style[0].styleSheet?$style[0].styleSheet.cssText=css.toString(" "):$style[0].appendChild(document.createTextNode(css.toString(" ")));grid.$styleSheet=$style}};kg.domUtility=new function(){var $testContainer=$("<div><\/div>"),self=this,parsePixelString=function(pixelStr){if(!pixelStr)return 0;var numStr=pixelStr.replace("/px/gi",""),num=parseInt(numStr,10);return isNaN(num)?0:num};this.assignGridContainers=function(rootEl,grid){grid.$root=$(rootEl);var dataDivId="postData_"+grid.$root[0].id;grid.$dataDiv=$('<div id="'+dataDivId+'"><\/div>').insertAfter(grid.$root);grid.$topPanel=$(".kgTopPanel",grid.$root[0]);grid.$headerContainer=$(".kgHeaderContainer",grid.$topPanel[0]);grid.$headerScroller=$(".kgHeaderScroller",grid.$headerContainer[0]);grid.$headers=grid.$headerContainer.children();grid.$viewport=$(".kgViewport",grid.$root[0]);grid.$canvas=$(".kgCanvas",grid.$viewport[0]);grid.$footerPanel=$(".kgFooterPanel",grid.$root[0])};this.measureElementMaxDims=function($container){var dims={},$test=$("<div style='height: 20000px; width: 100%;'><\/div>"),$tempContainer=$container,pixelStr;return $tempContainer.append($test),dims.maxWidth=$tempContainer.width(),dims.maxHeight=$tempContainer.height(),dims.maxWidth||(pixelStr=$tempContainer.css("max-width"),dims.maxWidth=parsePixelString(pixelStr)),dims.maxHeight||(pixelStr=$tempContainer.css("max-height"),dims.maxHeight=parsePixelString(pixelStr)),dims.maxWidth===0&&(dims.maxWidth=$tempContainer.parent().width()),dims.maxHeight===0&&(dims.maxHeight=$tempContainer.parent().height()),$test.remove(),dims};this.measureElementMinDims=function($container){var dims={},$testContainer=$container.clone(),$test,pixelStr;return $testContainer.appendTo($container.parent().first()),dims.minWidth=0,dims.minHeight=0,$testContainer.empty(),$test=$("<div style='height: 0x; width: 0px;'><\/div>"),$testContainer.append($test),dims.minWidth=$testContainer.width(),dims.minHeight=$testContainer.height(),dims.minWidth||(pixelStr=$testContainer.css("min-width"),dims.minWidth=parsePixelString(pixelStr)),dims.minHeight||(pixelStr=$testContainer.css("min-height"),dims.minHeight=parsePixelString(pixelStr)),$testContainer.remove(),dims};this.measureGrid=function($container,grid,measureMins){var dims=self.measureElementMaxDims($container);grid.elementDims.rootMaxW=dims.maxWidth;grid.elementDims.rootMaxH=dims.maxHeight;grid.elementDims.scrollW=kg.domUtility.scrollW;grid.elementDims.scrollH=kg.domUtility.scrollH;dims=self.measureElementMinDims($container);grid.elementDims.rootMinW=dims.minWidth;dims.minHeight=Math.max(dims.minHeight,grid.config.headerRowHeight+grid.config.footerRowHeight+3*grid.config.rowHeight);dims.minHeight=Math.min(grid.elementDims.rootMaxH,dims.minHeight);grid.elementDims.rootMinH=dims.minHeight};this.measureRow=function($canvas,grid){var $row,$cell,isDummyRow,isDummyCell;$row=$canvas.children().first();$row.length===0&&($canvas.append('<div class="kgRow"><\/div>'),$row=$canvas.children().first(),isDummyRow=!0);$cell=$row.children().first();$cell.length===0&&($row.append('<div class="kgCell col0"><\/div>'),$cell=$row.children().first(),isDummyCell=!0);grid.elementDims.rowWdiff=$row.outerWidth()-$row.width();grid.elementDims.rowHdiff=$row.outerHeight()-$row.height();grid.elementDims.cellWdiff=$cell.outerWidth()-$cell.width();grid.elementDims.cellHdiff=$cell.outerHeight()-$cell.height();grid.elementsNeedMeasuring=!1;isDummyRow?$row.remove():isDummyCell&&$cell.remove()};this.scrollH=17;this.scrollW=17;this.letterW=5;$(function(){$testContainer.appendTo("body");$testContainer.height(100).width(100).css("position","absolute").css("overflow","scroll");$testContainer.append('<div style="height: 400px; width: 400px;"><\/div>');self.scrollH=$testContainer.height()-$testContainer[0].clientHeight;self.scrollW=$testContainer.width()-$testContainer[0].clientWidth;$testContainer.empty();$testContainer.attr("style","");$testContainer.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M<\/strong><\/span>');self.letterW=$testContainer.children().first().width();$testContainer.remove()})};ko.bindingHandlers.kgWith=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var val=ko.utils.unwrapObservable(valueAccessor()),newContext=bindingContext.createChildContext(val);if(!val)throw Error("Cannot use a null or undefined value with the 'kgWith' binding");return ko.applyBindingsToDescendants(newContext,element),{controlsDescendantBindings:!0}}}}();ko.bindingHandlers.koGrid=function(){var makeNewValueAccessor=function(grid){return function(){return{name:GRID_TEMPLATE,data:grid}}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid,options=valueAccessor(),$element=$(element);return grid=new kg.KoGrid(options),kg.gridManager.storeGrid(element,grid),kg.domUtility.measureGrid($element,grid,!0),$element.hide(),$(element).addClass("kgGrid").addClass("ui-widget").addClass(grid.gridId.toString()),kg.templateManager.ensureGridTemplates({rowTemplate:grid.config.rowTemplate,headerTemplate:grid.config.headerTemplate,headerCellTemplate:grid.config.headerCellTemplate,footerTemplate:grid.config.footerTemplate,columns:grid.columns(),showFilter:grid.config.allowFiltering}),ko.bindingHandlers.template.init(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext)},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid,returnVal;if(grid=kg.gridManager.getGrid(element),grid.initComplete!=!0)return grid?(returnVal=ko.bindingHandlers.template.update(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext),kg.domUtility.assignGridContainers(element,grid),kg.gridManager.assignGridEventHandlers(grid),grid.update(),grid.initComplete=grid.data().length>0,returnVal):{controlsDescendantBindings:!0}}}}();ko.bindingHandlers.kgRows=function(){var RowSubscription=function(){this.rowKey;this.rowIndex;this.node;this.subscription},compareRows=function(rows,rowSubscriptions,add){return rowMap={},newRows=[],rowSubscriptionsToRemove=[],ko.utils.arrayForEach(rows,function(row){rowMap[row.rowIndex]=row;var possibleRow=rowSubscriptions[row.rowIndex];!possibleRow||add?newRows.push(row):(possibleRow.rowKey!==row.rowKey||add)&&newRows.push(row)}),utils.forIn(rowSubscriptions,function(rowSubscription,index){var compareRow=rowMap[index];compareRow?compareRow.rowKey!==rowSubscription.rowKey&&rowSubscriptionsToRemove.push(rowSubscription):rowSubscriptionsToRemove.push(rowSubscription)}),{add:newRows,remove:rowSubscriptionsToRemove}};return{init:function(element,valueAccessor,allBindings,viewModel,bindingContext){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var rowManager=bindingContext.$data.rowManager,rows=ko.utils.unwrapObservable(valueAccessor()),grid=bindingContext.$data,rowChanges;return rowChanges=compareRows(rows,rowManager.rowSubscriptions||{},grid.elementsNeedMeasuring),rowChanges.remove.length==0&&rowChanges.add.length==0&&(rowChanges=compareRows(rows,rowManager.rowSubscriptions||{},!0)),ko.utils.arrayForEach(rowChanges.remove,function(rowSubscription){var data=viewModel.data().filter(function(val){return val.rowKey==rowSubscription.rowKey})[0],wasModified=!1,childrens=$(rowSubscription.node).children();data!=null&&($.each(childrens,function(i,val){var colName=$(val).attr("col-name"),inputs=$(val).find("input[type=checkbox]"),value;$.each(inputs,function(i1,val1){val1.checked?$(val1).attr("checked","checked"):$(val1).removeAttr("checked")});value=$(val).children().first().html();value!=data[colName]&&inputs.length>0&&(wasModified=!0,data[colName]=value)}),wasModified==!0&&(viewModel.rowManager.rowCache[rowSubscription.rowIndex-1]=null,$.each(childrens.find("input"),function(i,val){var name=$(val).attr("name");name!=null&&name.length>0&&val.id!=null&&val.id.length>0&&(viewModel.$dataDiv.find('[name="'+name+'"]').remove(),viewModel.$dataDiv.append("<input type='hidden' value='"+(val.type=="checkbox"?val.checked:$(val).val())+"' name='"+name+"' />"))})));rowSubscription.node&&ko.removeNode(rowSubscription.node);rowSubscription.subscription.dispose();delete rowManager.rowSubscriptions[rowSubscription.rowIndex]}),ko.utils.arrayForEach(rowChanges.add,function(row){var newBindingCtx,rowSubscription,divNode=document.createElement("DIV"),oldNode;newBindingCtx=bindingContext.createChildContext(row);element.appendChild(divNode);oldNode=rowManager.rowSubscriptions[row.rowIndex];oldNode&&(ko.removeNode(oldNode.node),oldNode.subscription.dispose(),delete rowManager.rowSubscriptions[row.rowIndex]);rowSubscription=new RowSubscription;rowSubscription.rowKey=row.rowKey;rowSubscription.rowIndex=row.rowIndex;rowManager.rowSubscriptions[row.rowIndex]=rowSubscription;rowSubscription.subscription=ko.renderTemplate(grid.config.rowTemplate,newBindingCtx,null,divNode,"replaceNode");$.validator&&$.validator.unobtrusive.parseDynamicContent&&$.validator.unobtrusive.parseDynamicContent(element);$.each($(rowSubscription.node).children().find("input"),function(i,val){var name=$(val).attr("name");name!=null&&name.length>0&&viewModel.$dataDiv.find('[name="'+name+'"]').remove()})}),grid.elementsNeedMeasuring&&grid.initPhase>0&&kg.domUtility.measureRow($(element),grid),{controlsDescendantBindings:!0}}}}();ko.bindingHandlers.kgRow=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var row=valueAccessor(),classes="kgRow",grid=bindingContext.$parent,rowManager=bindingContext.$parent.rowManager,rowSubscription;classes+=row.rowIndex%2==0?" even":" odd";element._kg_rowIndex_=row.rowIndex;element.style.top=row.offsetTop+"px";element.className=classes;rowSubscription=rowManager.rowSubscriptions[row.rowIndex];rowSubscription&&(rowSubscription.node=element)}}}();ko.bindingHandlers.kgCell=function(){var makeValueAccessor=function(cell){var func;return cell.column.field==="rowIndex"?function(){return cell.row.rowDisplayIndex}:function(){return"<span>"+cell.data+"<\/span>"}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var options=valueAccessor(),cell,row=bindingContext.$data,text,fi,matches;cell=row.cellMap[options.value];element.className+=" kgCell col"+cell.column.index;$(element).attr("col-name",cell.column.field);cell.column.field==="__kg_selected__"||cell.column.hasCellTemplate||(text=makeValueAccessor(cell),fi=ko.unwrap(bindingContext.$root.filterInfo),fi!=null&&fi[cell.column.field]!=null&&fi[cell.column.field].length>0?(matches=bindingContext.$parent.filterManager.matchString(cell.data,fi[cell.column.field]),matches&&matches.length>0?ko.bindingHandlers.html.update(element,function(){var htmlRegex=new RegExp(/<[/a-zA-Z][/a-zA-Z0-9]*\b[^>]*>/g),str=cell.data,htmlMatches=str.match(htmlRegex),i;if(htmlMatches!=null)for(i=0;i<htmlMatches.length;i++)str=str.replace(htmlMatches[i],String.fromCharCode(i));if(str=$("<div/>").html(str).text(),$.each(matches,function(i,v){str=str.replace(v,String.fromCharCode(27)+v+String.fromCharCode(28))}),str="<span>"+str.replace(String.fromCharCode(27),'<span class="under-line">').replace(String.fromCharCode(28),"<\/span>")+"<\/span>",htmlMatches!=null)for(i=0;i<htmlMatches.length;i++)str=str.replace(String.fromCharCode(i),htmlMatches[i]);return str.replace(/&lt;/g,"<").replace(/&gt;/g,">")}):ko.bindingHandlers.html.update(element,text)):ko.bindingHandlers.html.update(element,text),setTimeout(function(){if($(element).children(0).width()>$(element).width()){var toolTip=$('<div class="ui-corner-all grid_tooltip" style="z-index:100000;position:absolute;top:'+(parseInt($(element).offset().top)+$(element).height())+"px;left:"+$(element).offset().left+'px">'+text()+"<\/div>");$(element).mouseover(function(){$(".grid_tooltip").remove();var offset=$(element).offset();$(toolTip).css("top",offset.top+$(element).height()+"px");$(toolTip).css("left",offset.left+"px");toolTip=$(toolTip).appendTo(document.body)});$(element).mouseout(function(){toolTip.remove()})}else $(element).mouseover(function(){$(".grid_tooltip").remove()})},10))}}}();ko.bindingHandlers.kgHeaderRow=function(){var buildHeaders=function(grid){var cols=grid.columns(),cell,headerRow=new kg.HeaderRow(grid);utils.forEach(cols,function(col,i){cell=new kg.HeaderCell(col,grid);cell.colIndex=i;headerRow.headerCells.push(cell);headerRow.headerCellMap[col.field]=cell});grid.headerRow=headerRow;grid.headerRow.height=grid.config.headerRowHeight},makeNewValueAccessor=function(grid){return function(){return{name:grid.config.headerTemplate,data:grid.headerRow}}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return buildHeaders(grid),ko.bindingHandlers.template.init(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext)},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return ko.bindingHandlers.template.update(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,bindingContext)}}}();ko.bindingHandlers.kgHeader=function(){var makeNewValueAccessor=function(headerCell,grid){return function(){return{name:headerCell.headerTemplate||grid.config.headerCellTemplate,data:headerCell}}};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var headerRow=bindingContext.$data,cell,property,options=valueAccessor();if(options&&(property=options.value,cell=headerRow.headerCellMap[property],cell&&property!=="rowIndex"&&property!=="__kg_selected__"))return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var headerRow=bindingContext.$data,grid=bindingContext.$parent,cell,property,options=valueAccessor();if(options&&(property=options.value,cell=headerRow.headerCellMap[property],cell&&(element.className+=" kgHeaderCell col"+cell.colIndex,cell.headerClass&&(element.className+=" "+cell.headerClass),property!=="rowIndex"&&property!=="__kg_selected__")))return ko.bindingHandlers.template.update(element,makeNewValueAccessor(cell,grid),allBindingsAccessor,viewModel,bindingContext)}}}();ko.bindingHandlers.kgFooter=function(){var makeNewValueAccessor=function(grid){return function(){return{name:grid.config.footerTemplate,data:grid.footer}}},makeNewBindingContext=function(bindingContext,footer){return bindingContext.createChildContext(footer)};return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return grid.footer=new kg.Footer(grid),ko.bindingHandlers.template.init(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,makeNewBindingContext(bindingContext,grid.footer))},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var grid=bindingContext.$data;return ko.unwrap(grid.config.footerVisible)==!1&&$(element).css("display","none"),ko.bindingHandlers.template.update(element,makeNewValueAccessor(grid),allBindingsAccessor,grid,makeNewBindingContext(bindingContext,grid.footer))}}}();ko.bindingHandlers.kgSize=function(){return{init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){if(!$(element).hasClass("kgHeaderScroller")){var $container=$(element),$parent=$container.parent(),dim=ko.utils.unwrapObservable(valueAccessor()),oldHt=$container.outerHeight(),oldWdth=$container.outerWidth();if(dim.autoFitHeight&&(dim.outerHeight=$parent.height()),dim.innerHeight&&dim.innerWidth){$container.height(dim.innerHeight);$container.width(dim.innerWidth);return}(oldHt!==dim.outerHeight||oldWdth!==dim.outerWidth)&&($container.height(dim.outerHeight).width(dim.outerWidth),oldHt=$container.outerHeight(),oldWdth=$container.outerWidth(),dim.heightDiff=oldHt-$container.height(),dim.widthDiff=oldWdth-$container.width(),$container.height(dim.outerHeight-dim.heightDiff),$container.width(dim.outerWidth-dim.widthDiff+1))}}}}()}(window),function($){DropDownTableCache={image:new Image};$(document).ready(function(){DropDownTableCache.image.src="/Content/Images/BookIt/SearchIcon.png"});$.fn.dropDownTable=function(settings,viewModel,wrapperDivId,attachToParentElement){var dataKey="dropDownTable-"+this[0].id,thisObj=$.data(window,dataKey),i,changeVisibilityStyle;if(typeof settings=="object"){for(thisObj=this,settings.TargetElement.indexOf("#")==-1&&(settings.TargetElement="#"+settings.TargetElement),i=0;i<settings.ColumnToProperty.length;i++)settings.ColumnToProperty[i].TargetProperty&&settings.ColumnToProperty[i].TargetProperty!=""&&settings.ColumnToProperty[i].TargetProperty.indexOf("#")==-1&&(settings.ColumnToProperty[i].TargetProperty="#"+settings.ColumnToProperty[i].TargetProperty);this.settings=settings;this.wrapperDivId=wrapperDivId;this.viewModel=viewModel;this.nextLoad=this.settings.SelectedId==""||this.settings.SelectedId=="00000000-0000-0000-0000-000000000000";this.wrapperId="#"+wrapperDivId;this.divLineId=this.wrapperId+"-line";this.image=$(DropDownTableCache.image).clone();this.isOpened=!1;this.mouseDetected=!1;this.emptyFilterClass="dropdown-table-empty";this.openTableClass="dropdown-table-opened";this.openBtnClass="dropdown-table-opened-btn";this.dialogDragEventName="dialogdrag.ddt";this.dialogDragStopEventName="dialogdragstop.ddt";this.attachToParentElement=attachToParentElement;$.data(window,dataKey,thisObj)}else thisObj=$.data(window,dataKey);return changeVisibilityStyle=function(self){var divId=self.wrapperId,btn=jQuery(self.settings.TargetElement).parent().find(".drop_down_table_btn"),btnImg=btn.find("img"),btnDiv=btn.find("div"),$targetElem=jQuery(self.settings.TargetElement),w;jQuery(divId).css("display")=="none"?(jQuery(divId).removeClass(self.openTableClass),$targetElem.width($targetElem.width()+2),btn.removeClass(self.openBtnClass),jQuery(divId).removeClass(self.emptyFilterClass),btn.removeClass(self.emptyFilterClass),$(btnDiv).fadeTo(.5,1),$targetElem.removeClass(self.openTableClass),$targetElem.removeClass(self.emptyFilterClass),self.isOpened=!1):($targetElem.width($targetElem.width()-2),jQuery(divId).addClass(self.openTableClass),btn.addClass(self.openBtnClass),$(btnDiv).fadeTo(0,.5),$targetElem.addClass(self.openTableClass),w=$(self.wrapperId).outerWidth()-$targetElem.parent().outerWidth()-3,w>0?($(self.divLineId).show(),$(self.divLineId).width(w)):$(self.divLineId).hide(),self.isOpened=!0)},this.close=function(){if(thisObj!=null&&jQuery(thisObj.wrapperId).css("display")!="none"){jQuery(thisObj.wrapperId).toggle();var $targetElem=jQuery(thisObj.settings.TargetElement),$dialog=$targetElem.closest(".ui-dialog-content");$dialog.off(thisObj.dialogDragEventName);$dialog.off(thisObj.dialogDragStopEventName);changeVisibilityStyle(thisObj)}},this.open=function(event,wasRowSelected){var divId=thisObj.wrapperId,$targetElem=jQuery(thisObj.settings.TargetElement),$dialog=$targetElem.closest(".ui-dialog-content"),$div=jQuery(divId),obj,$posElem,setCoord,tempSelf,tempSettings;$dialog.bind("dialogbeforeclose",function(event,ui){thisObj.close()});$div.css("display")=="none"?(obj=thisObj.viewModel.filterInfo(null),$div.find(".filter").val("")):wasRowSelected===!1&&$targetElem.val(thisObj.settings.selectedValue);$posElem=$targetElem.parent().find(".drop_down_table_btn");setCoord=function(reverse){var offset=$posElem.offset();thisObj.attachToParentElement?($div.css("top",$posElem.outerHeight()+"px"),$div.css("left",$posElem.outerWidth()-3+$targetElem.outerWidth()-$div.outerWidth()-(reverse==!0?-1:1)*($posElem.outerWidth()-$posElem.width())+"px")):($div.css("top",offset.top+$posElem.outerHeight()+"px"),$div.css("left",Math.ceil(offset.left-$div.outerWidth()+$posElem.width()-(reverse==!0?-1:1)*($posElem.outerWidth()-$posElem.width()))+"px"))};setCoord();$div.toggle();changeVisibilityStyle(thisObj);$dialog.on(thisObj.dialogDragEventName,function(event,ui){setCoord(!0)});$dialog.on(thisObj.dialogDragStopEventName,function(event,ui){setCoord(!0)});event&&event.stopPropagation?event.stopPropagation():event&&(event.cancelBubble=!0);tempSelf=thisObj;tempSettings=thisObj.settings;$div.unbind("clickoutside");$div.bind("clickoutside",function(event){$div.is(":visible")&&($div.toggle(),changeVisibilityStyle(tempSelf),tempSettings.selectedValue&&$targetElem.val(tempSettings.selectedValue));$(divId).unbind("clickoutside")})},this.stringFormat=function(stringFormat,args){for(arg in args)stringFormat=stringFormat.replace("{"+arg+"}",args[arg]);return stringFormat},this.setTargetPropertyValue=function(row){var args=[],i,j,valueToSet,element,text;if(row!=undefined&&!jQuery.isEmptyObject(row))for(i=0;i<this.settings.ColumnToProperty.length;i++)if(this.settings.ColumnToProperty[i].TargetProperty&&this.settings.ColumnToProperty[i].TargetProperty!=""){for(j=0;j<this.settings.ColumnToProperty[i].Columns.length;j++)args[this.settings.ColumnToProperty[i].Columns[j].FormatIndex]=eval("row.column"+this.settings.ColumnToProperty[i].Columns[j].GridColumnIndex);if(valueToSet=this.stringFormat(this.settings.ColumnToProperty[i].TargetPropertyVaueFormat,args),jQuery(this.settings.ColumnToProperty[i].TargetProperty).val(valueToSet),this.settings.ColumnToProperty[i].TargetProperty===this.settings.TargetElement&&(this.settings.selectedValue=valueToSet),this.settings.ColumnToProperty[i].TargetPropertyList)for(k=0;k<this.settings.ColumnToProperty[i].TargetPropertyList.length;k++)if(element=jQuery("#"+this.settings.ColumnToProperty[i].TargetPropertyList[k]),text=this.stringFormat(this.settings.ColumnToProperty[i].TargetPropertyVaueFormat,args),element.length>0)switch(element[0].tagName.toLowerCase()){case"input":element.val(text);break;default:element.text(text);break}args=[]}},this._selectRow=function(rowid,status){if(this.viewModel!=null){var gridData=this.viewModel.dataSource(),resultIndex=-1,row=null;typeof rowid!="object"?($.each(gridData,function(key,value){return value.column0==rowid?(row=value,resultIndex=key,!1):!0}),this.viewModel.selectedItem(row)):row=rowid;row!=null&&this.setTargetPropertyValue(row)}},this.onInitSelectRow=function(rowid,status){this._selectRow(rowid,status)},this.onSelectRow=function(rowid,status){thisObj.mouseDetected=!1;rowid!=null&&(this._selectRow(rowid,status),this.close(),this.nextLoad&&this.settings.OnItemSelected&&this.settings.OnItemSelected!=""&&eval(this.settings.OnItemSelected+"('"+(typeof rowid=="object"?rowid.column0:rowid)+"')"))},this.fixZIndex=function(){jQuery("#"+wrapperDivId).css("z-index",this.settings.OrderOnPage)},this.init=function(assignData){var elemToInit=jQuery(this.settings.TargetElement),isVisible=elemToInit.is(":visible"),height=isVisible?elemToInit.outerHeight():elemToInit.actual("outerHeight"),delta=height-(isVisible?elemToInit.innerHeight():elemToInit.actual("innerHeight")),width=elemToInit.actual("width"),imagePadding,dimensionStyle,image,button,gridData,clearSubscription,initFunc,initialVal;if(imgWidth=height,elemToInit.width(width-imgWidth-this.settings.LabelWidth-delta),elemToInit.css("line-height",elemToInit.actual("height")+"px"),elemToInit.wrap("<div style='position:relative;height:"+height+"px;'><\/div>"),elemToInit.css("float","left"),imagePadding=4,dimensionStyle="height:"+(height-delta)+"px;width:"+(imgWidth-delta)+"px;",this.image[0].width=height-delta-imagePadding*2,this.image[0].height=height-delta-imagePadding*2,this.image[0].id=this.tableId+"_drop_down_table_btn",image=$(this.image).wrap('<div class="drop_down_table_btn" style="'+dimensionStyle+'float:left;"><div style="'+dimensionStyle+"padding: "+imagePadding+'px;"><\/div><\/div>'),button=elemToInit.after(image.parent().parent()).next(),elemToInit.parent().width(elemToInit.outerWidth()+this.settings.LabelWidth+imgWidth-1),this.settings.Label&&this.settings.Label!="null"&&(elemToInit.after("<div style='position:absolute;"+this.settings.LabelStyle+"'>"+this.settings.Label+"<\/div>"),elemToInit.css("padding-left",this.settings.LabelWidth+"px")),gridData=this.settings.Data,this.settings.DataElementId!=undefined&&this.settings.DataElementId!=""&&(gridData=jQuery.parseJSON($("#"+this.settings.DataElementId).val())),gridData&&gridData.length>0&&(this.viewModel.dataSource(gridData),button.click(function(event){var timepickers=$(".dk_theme_timepicker");timepickers.length>0&&timepickers.trigger("clickoutside");thisObj.open(event,!1)})),clearSubscription=function(){for(var i in thisObj.viewModel.subscriptions)typeof thisObj.viewModel.subscriptions[i].dispose!="undefined"&&thisObj.viewModel.subscriptions[i].dispose()},clearSubscription(),initFunc=function(model){model.subscriptions.push(model.finalData.subscribe(function(data){var input=jQuery(thisObj.settings.TargetElement),btn=jQuery(thisObj.settings.TargetElement).parent().find(".drop_down_table_btn");data.length==0&&thisObj.isOpened==!0?(input.addClass(thisObj.emptyFilterClass),btn.addClass(thisObj.emptyFilterClass)):(input.removeClass(thisObj.emptyFilterClass),btn.removeClass(thisObj.emptyFilterClass))}));button.unbind("click");button.click(function(event){var timepickers=$(".dk_theme_timepicker");timepickers.length>0&&timepickers.trigger("clickoutside");thisObj.open(event,!1)})},this.settings.DataUrl&&(!gridData||gridData.length==0)?(elemToInit.attr("disabled","disabled"),initialVal=elemToInit.val(),elemToInit.val("Loading..."),thisObj=this,$.ajax({type:"POST",url:this.settings.DataUrl,async:!0,context:thisObj,success:function(result){elemToInit.val(initialVal);var data=eval(result);thisObj.viewModel=assignData(data);thisObj.viewModel.subscriptions.push(thisObj.viewModel.selectedItem.subscribe(function(newValue){if(thisObj.nextLoad==!0&&thisObj.isOpened==!1||thisObj.mouseDetected==!0)thisObj.onSelectRow(newValue);thisObj.nextLoad=!0}));elemToInit.removeAttr("disabled");thisObj.onInitSelectRow(thisObj.settings.SelectedId,null);initFunc(thisObj.viewModel)},error:function(xhr,ajaxOptions,thrownError){}})):(this.nextLoad=!0,thisObj.viewModel.subscriptions.push(thisObj.viewModel.selectedItem.subscribe(function(newValue){if(thisObj.isOpened==!1||thisObj.mouseDetected==!0)thisObj.onSelectRow(newValue)})),initFunc(thisObj.viewModel)),this.fixZIndex(),this.settings.SelectedId!="")this.onInitSelectRow(this.settings.SelectedId,null);thisObj.close();$.data(thisObj,"data",thisObj);elemToInit.mouseup(function(){$(thisObj.settings.TargetElement).val("");setTimeout(thisObj.open,1)});$(thisObj.wrapperId).mouseup(function(){thisObj.mouseDetected=!0});$(document).keyup(function(ev){var preventEvent,index,i,item;if(elemToInit.is(":focus")==!0&&(preventEvent=!0,thisObj.isOpened==!0)){index=thisObj.viewModel.finalData().indexOf(thisObj.viewModel.selectedItem());switch(ev.keyCode){case 13:thisObj.close();break;case 38:index--;index<0&&(index=0);break;case 40:index++;index>thisObj.viewModel.finalData().length-1&&index--;break;default:if(elemToInit.is(":focus")==!0){var value=$(thisObj.settings.TargetElement).val()+(ev.charCode!=0?String.fromCharCode(ev.charCode):""),columnValues=value.split(","),filter={},validColumnIndexes=[];for(i=0;i<100;i++)validColumnIndexes.push(i);for($.each(thisObj.settings.GridColumnOverrides,function(index,val){val.Visible==!1&&validColumnIndexes.splice(val.GridColumnIndex,1)}),i=0;i<columnValues.length;i++)eval("filter.column"+(validColumnIndexes[i]+1)+" = columnValues["+i+"];");thisObj.viewModel.filterInfo(filter);index=thisObj.viewModel.finalData().indexOf(thisObj.viewModel.selectedItem());(index<0||index>thisObj.viewModel.finalData().length-1)&&(index=0);preventEvent=!1}break}item=thisObj.viewModel.finalData()[index];thisObj.viewModel.selectedItem(item);thisObj.viewModel.scrollIntoTheView(item);preventEvent&&(ev.preventDefault(),ev.stopPropagation())}})},this}}(jQuery);Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","liquidspace.com"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],run:function(opts){opts.domains=opts.domains||Kicksend.mailcheck.defaultDomains;opts.topLevelDomains=opts.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains;opts.distanceFunction=opts.distanceFunction||Kicksend.sift3Distance;var result=Kicksend.mailcheck.suggest(encodeURI(opts.email),opts.domains,opts.topLevelDomains,opts.distanceFunction);result?opts.suggested&&opts.suggested(result):opts.empty&&opts.empty()},suggest:function(email,domains,topLevelDomains,distanceFunction){var emailParts,closestDomain,closestTopLevelDomain,domain;if(email=email.toLowerCase(),emailParts=this.splitEmail(email),closestDomain=this.findClosestDomain(emailParts.domain,domains,distanceFunction),closestDomain){if(closestDomain!=emailParts.domain)return{address:emailParts.address,domain:closestDomain,full:emailParts.address+"@"+closestDomain}}else if(closestTopLevelDomain=this.findClosestDomain(emailParts.topLevelDomain,topLevelDomains),emailParts.domain&&closestTopLevelDomain&&closestTopLevelDomain!=emailParts.topLevelDomain)return domain=emailParts.domain,closestDomain=domain.substring(0,domain.lastIndexOf(emailParts.topLevelDomain))+closestTopLevelDomain,{address:emailParts.address,domain:closestDomain,full:emailParts.address+"@"+closestDomain};return!1},findClosestDomain:function(domain,domains,distanceFunction){var dist,minDist=99,closestDomain=null,i;if(!domain||!domains)return!1;for(distanceFunction||(distanceFunction=this.sift3Distance),i=0;i<domains.length;i++){if(domain===domains[i])return domain;dist=distanceFunction(domain,domains[i]);dist<minDist&&(minDist=dist,closestDomain=domains[i])}return minDist<=this.threshold&&closestDomain!==null?closestDomain:!1},sift3Distance:function(s1,s2){var i;if(s1==null||s1.length===0)return s2==null||s2.length===0?0:s2.length;if(s2==null||s2.length===0)return s1.length;for(var c=0,offset1=0,offset2=0,lcs=0,maxOffset=5;c+offset1<s1.length&&c+offset2<s2.length;){if(s1.charAt(c+offset1)==s2.charAt(c+offset2))lcs++;else for(offset1=0,offset2=0,i=0;i<maxOffset;i++){if(c+i<s1.length&&s1.charAt(c+i)==s2.charAt(c)){offset1=i;break}if(c+i<s2.length&&s1.charAt(c)==s2.charAt(c+i)){offset2=i;break}}c++}return(s1.length+s2.length)/2-lcs},splitEmail:function(email){var parts=email.split("@"),i;if(parts.length<2)return!1;for(i=0;i<parts.length;i++)if(parts[i]==="")return!1;var domain=parts.pop(),domainParts=domain.split("."),tld="";if(domainParts.length==0)return!1;else if(domainParts.length==1)tld=domainParts[0];else{for(i=1;i<domainParts.length;i++)tld+=domainParts[i]+".";domainParts.length>=2&&(tld=tld.substring(0,tld.length-1))}return{topLevelDomain:tld,domain:domain,address:parts.join("@")}}}};window.jQuery&&function($){$.fn.mailcheck=function(opts){var self=this,oldSuggested,oldEmpty;opts.suggested&&(oldSuggested=opts.suggested,opts.suggested=function(result){oldSuggested(self,result)});opts.empty&&(oldEmpty=opts.empty,opts.empty=function(){oldEmpty.call(null,self)});opts.email=this.val();Kicksend.mailcheck.run(opts)}}(jQuery);
/*!
 * jQuery.ScrollTo
 * Copyright (c) 2007-2013 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 *
 * @projectDescription Easy element scrolling using jQuery.
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @author Ariel Flesler
 * @version 1.4.6
 *
 * @id jQuery.scrollTo
 * @id jQuery.fn.scrollTo
 * @param {String, Number, DOMElement, jQuery, Object} target Where to scroll the matched elements.
 *	  The different options for target are:
 *		- A number position (will be applied to all axes).
 *		- A string position ('44', '100px', '+=90', etc ) will be applied to all axes
 *		- A jQuery/DOM element ( logically, child of the element to scroll )
 *		- A string selector, that will be relative to the element to scroll ( 'li:eq(2)', etc )
 *		- A hash { top:x, left:y }, x and y can be any kind of number/string like above.
 *		- A percentage of the container's dimension/s, for example: 50% to go to the middle.
 *		- The string 'max' for go-to-end. 
 * @param {Number, Function} duration The OVERALL length of the animation, this argument can be the settings object instead.
 * @param {Object,Function} settings Optional set of settings or the onAfter callback.
 *	 @option {String} axis Which axis must be scrolled, use 'x', 'y', 'xy' or 'yx'.
 *	 @option {Number, Function} duration The OVERALL length of the animation.
 *	 @option {String} easing The easing method for the animation.
 *	 @option {Boolean} margin If true, the margin of the target element will be deducted from the final position.
 *	 @option {Object, Number} offset Add/deduct from the end position. One number for both axes or { top:x, left:y }.
 *	 @option {Object, Number} over Add/deduct the height/width multiplied by 'over', can be { top:x, left:y } when using both axes.
 *	 @option {Boolean} queue If true, and both axis are given, the 2nd axis will only be animated after the first one ends.
 *	 @option {Function} onAfter Function to be called after the scrolling ends. 
 *	 @option {Function} onAfterFirst If queuing is activated, this function will be called after the first scrolling ends.
 * @return {jQuery} Returns the same jQuery object, for chaining.
 *
 * @desc Scroll to a fixed position
 * @example $('div').scrollTo( 340 );
 *
 * @desc Scroll relatively to the actual position
 * @example $('div').scrollTo( '+=340px', { axis:'y' } );
 *
 * @desc Scroll using a selector (relative to the scrolled element)
 * @example $('div').scrollTo( 'p.paragraph:eq(2)', 500, { easing:'swing', queue:true, axis:'xy' } );
 *
 * @desc Scroll to a DOM element (same for jQuery object)
 * @example var second_child = document.getElementById('container').firstChild.nextSibling;
 *			$('#container').scrollTo( second_child, { duration:500, axis:'x', onAfter:function(){
 *				alert('scrolled!!');																   
 *			}});
 *
 * @desc Scroll on both axes, to different values
 * @example $('div').scrollTo( { top: 300, left:'+=200' }, { axis:'xy', offset:-20 } );
 */
(function($){function both(val){return typeof val=="object"?val:{top:val,left:val}}var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:!0};$scrollTo.window=function(scope){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var elem=this,isWin=!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1,doc;return isWin?(doc=(elem.contentWindow||elem).document||elem.ownerDocument||elem,/webkit/i.test(navigator.userAgent)||doc.compatMode=="BackCompat"?doc.body:doc.documentElement):elem})};$.fn.scrollTo=function(target,duration,settings){return typeof duration=="object"&&(settings=duration,duration=0),typeof settings=="function"&&(settings={onAfter:settings}),target=="max"&&(target=9e9),settings=$.extend({},$scrollTo.defaults,settings),duration=duration||settings.duration,settings.queue=settings.queue&&settings.axis.length>1,settings.queue&&(duration/=2),settings.offset=both(settings.offset),settings.over=both(settings.over),this._scrollable().each(function(){function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,targ,settings)})}if(target!=null){var elem=this,$elem=$(elem),targ=target,toff,attr={},win=$elem.is("html,body");switch(typeof targ){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}if(targ=$(targ,this),!targ.length)return;case"object":(targ.is||targ.style)&&(toff=(targ=$(targ)).offset())}$.each(settings.axis.split(""),function(i,axis){var Pos=axis=="x"?"Left":"Top",pos=Pos.toLowerCase(),key="scroll"+Pos,old=elem[key],max=$scrollTo.max(elem,axis),val;toff?(attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]),settings.margin&&(attr[key]-=parseInt(targ.css("margin"+Pos))||0,attr[key]-=parseInt(targ.css("border"+Pos+"Width"))||0),attr[key]+=settings.offset[pos]||0,settings.over[pos]&&(attr[key]+=targ[axis=="x"?"width":"height"]()*settings.over[pos])):(val=targ[pos],attr[key]=val.slice&&val.slice(-1)=="%"?parseFloat(val)/100*max:val);settings.limit&&/^\d+$/.test(attr[key])&&(attr[key]=attr[key]<=0?0:Math.min(attr[key],max));!i&&settings.queue&&(old!=attr[key]&&animate(settings.onAfterFirst),delete attr[key])});animate(settings.onAfter)}}).end()};$scrollTo.max=function(elem,axis){var Dim=axis=="x"?"Width":"Height",scroll="scroll"+Dim;if(!$(elem).is("html,body"))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size="client"+Dim,html=elem.ownerDocument.documentElement,body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])}})(jQuery);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function($){function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=!0,deltaX=0,deltaY=0;return event=$.event.fix(orgEvent),event.type="mousewheel",orgEvent.wheelDelta&&(delta=orgEvent.wheelDelta/120),orgEvent.detail&&(delta=-orgEvent.detail/3),deltaY=delta,orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaY=0,deltaX=-1*delta),orgEvent.wheelDeltaY!==undefined&&(deltaY=orgEvent.wheelDeltaY/120),orgEvent.wheelDeltaX!==undefined&&(deltaX=orgEvent.wheelDeltaX/-120),args.unshift(event,delta,deltaX,deltaY),($.event.dispatch||$.event.handle).apply(this,args)}var types=["DOMMouseScroll","mousewheel"],i;if($.event.fixHooks)for(i=types.length;i;)$.event.fixHooks[types[--i]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var i=types.length;i;)this.addEventListener(types[--i],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var i=types.length;i;)this.removeEventListener(types[--i],handler,!1);else this.onmousewheel=null}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})})(jQuery);FastEllipsisGlobal={cache:{}};typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s*/,"").replace(/\s*$/,"")});typeof String.prototype.strip_tags_fast!="function"&&(String.prototype.strip_tags_fast=function(){return this.replace(/<br>/g," %br% ").replace(/<\/?[^>]+(>|$)/g,"")});typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.EditReservation=function(params){function getFriendlyEmails(requestNumber){requestNumber==undefined&&(requestNumber=0);$.ajax({async:!0,data:{requestNumber:requestNumber,totalEmailCount:friendlyEmails.length},url:"/Calendar/GetFriends",type:"POST",success:function(result){result&&result.success==!0&&($(result.emails).each(function(i,val){$.inArray(val.Email,friendlyEmails)<0&&friendlyEmails.push(val.Email)}),result.continueRequest&&(requestNumber++,getFriendlyEmails(requestNumber)))},error:function(){}})}function trackDialogEntry(){trackReservationProcess(params.isReservationNew?"Create":"Edit")}function trackReservationProcess(action){LSHelper.Calendar.trackCalendarReservation("ReservationDialog"+action+"?vid="+params.venueId+"&wid="+params.workspaceId)}function isButtonDisabled(elem){return elem.currentTarget&&(elem=elem.currentTarget),$(elem)[0].getAttribute!=undefined?$(elem)[0].getAttribute("disabled")!=null&&$(elem)[0].getAttribute("disabled")!="":!1}function validatePart(selector){var isValid=!0;return $(selector).find(":input").each(function(i,item){try{$(item).valid()||(isValid=!1)}catch(ex){}}),isValid}function getTimeDigit(data,diffData,order){var result=parseInt(data[order],10);return diffData!=undefined&&(result=$.isArray(diffData)?result+parseInt(diffData[order],10):result+diffData),result}function formatDigitToString(digit){return(digit+"").length==1?"0"+digit:digit}function getTimeString(data,diffData){var hours=getTimeDigit(data,diffData,0),minutes=getTimeDigit(data,diffData,1),seconds=getTimeDigit(data,diffData,2);return minutes>=60&&(minutes=minutes-60,hours=hours+1),hours==24&&(hours=23,minutes=59,seconds=59),formatDigitToString(hours)+":"+formatDigitToString(minutes)+":"+formatDigitToString(seconds)}function setDate(date,hours){return hours.length==3?(hours[0]=="1.00"&&(hours[0]=24),new Date(new Date(date).setHours(hours[0],hours[1],hours[2]))):date}function updateValidationRules(){$.validator.unobtrusive.parseDynamicContent("#editReservationForm");$("#Reservation_StartTime").rules("remove");$("#Reservation_EndTime").rules("remove")}function checkReservationState(){var isDisabled=($("select[id=startTime] option").size()==0||$("select[id=endTime] option").size()==0)&&!(params.reservationMethod=="Period"||params.reservationMethod=="DayPass");isDisabled?($("#startTime").attr("disabled","disabled"),$("#endTime").attr("disabled","disabled"),_self.setValidationProperty({startTimeEndTime:!(isDisabled&&params.canEditPastReservation)})):(_self.setValidationProperty({startTimeEndTime:!0}),refreshEvent());$(".monthly-cost-wrapper .lsPopupHost").tooltipster({position:"top",maxWidth:330})}function initLicensePreview(){$("#previewDashLicense").off("click").on("click",function(ev){ev.preventDefault();previewDashLicense()})}function saveBtnClickMonthly(elem,options){$("#editReservationForm").valid()&&saveBtnClick(elem,options)}function previewDashLicense(){for(var data,formData=$("#editReservationForm").formToArray(),$form=$("<form/>",{action:"/Calendar/PreviewLicense",method:"POST",target:"_blank"}),i=0;i<formData.length;i++)data=formData[i],$form.append($("<input>",{name:data.name,value:data.value,type:"hidden"}));$("body").append($form);$form.submit();$form.remove()}function saveBtnClick(elem,options){var reservationDateTime,reservationEvent,formData;if(options||(options={}),!isButtonDisabled(elem)&&$("#editReservationForm").validate().form()){if(options.CanContinueRecurrentRule===!1)return;if(isRecurrent()&&!isRecurrenceStateConfirmed()){reservationModel.calculateReservationPrice({successCallback:function(data){options.CanContinueRecurrentRule=data.CanContinueRecurrentRule;saveBtnClick(elem,options)},source:"saveBtnClick availability validation"});return}switchView("waiting");reservationDateTime=undefined;try{reservationDateTime=Date.parse($("#ReservationDay").val()+" "+$("#startTime").val())}catch(ex){}trackReservationProcess("Save");reservationEvent={reservationId:params.reservationId,memberId:params.memberId,totalPrice:params.totalPrice,city:params.city,state:params.state,country:params.country,venueName:params.venueName,workspaceName:params.workspaceName,scenario:params.scenario,reservationMethod:params.reservationMethod,unitPrice:params.unitPrice,units:"1"};formData=_self.braintree!=null?LSHelper.HelperLib.encodeDataForPaymentGateway("#editReservationForm",_self.braintree):null;LSHelper.HelperLib.submitAjaxForm("#editReservationForm",$("#editReservationForm").parent(),function(data){var isReservationAnonymous,isBookingOnBehalf,rcpUrl,$dialogWrapper,$dialogCloseButton;if(data.isException)LSHelper.UI.showError(data);else{if(_self.scheduler.current_date()){var schedulerDateSelected=new Date(_self.scheduler.current_date().getFullYear(),_self.scheduler.current_date().getMonth(),_self.scheduler.current_date().getDate(),0,0,0,0),dateStr=$("#ReservationDay").val(),eventDateSelected=Date.parse(dateStr);_self.scheduler.reservationDialogOpened=!1}if(isReservationAnonymous=$("#IsAnonymousMode").val()=="True",isBookingOnBehalf=data.Data.isBookingOnBehalf,trackReservationProcess("Save/Success"),data.Data.appliedCouponCode&&data.Data.appliedCouponIsFirstTimeOnly&&LSHelper.SessionCoupon.getCouponFromCookie()==data.Data.appliedCouponCode&&LSHelper.SessionCoupon.removeCouponCookie(),reservationEvent.reservationId=data.Data.id,LSHelper.Calendar.trackCalendarReservationTransaction(params.googleAnalyticsAccount,params.googleAnalyticsDomain,reservationEvent,params.isReservationNew,!isReservationAnonymous),rcpUrl="/Reservations/"+data.Data.id,(params.isReservationNew||$("#vlp").length||$("#srp").length)&&(isReservationAnonymous||!$("#scheduler_new").length)&&(rcpUrl=rcpUrl+"?sc="+data.Data.sc,isBookingOnBehalf&&(rcpUrl=rcpUrl+"&"+params.reservationConfirmationCreatorParam+"="+params.reservationDoneByBookingDelegateKey),params.trackAdWordsConversion&&LSHelper.Calendar.trackAdWordsConversion(data.Data.totalPriceIncludeDeferred,!isReservationAnonymous,data.Data.isCreditCardBilled,data.Data.id),params.isMobileView)){window.location=rcpUrl;return}if(params.isMobileView)$("#editReservationDialog").dialog("close");else if($("#waiting-div .rcp-link a").attr("href",rcpUrl),$("#waiting-div").addClass("confirmed"),params.showGetAppSection||params.isAdmin&&$("#scheduler_new").length)$dialogWrapper=$($dialog.parent()),$dialogCloseButton=$($dialogWrapper.find(".ui-dialog-titlebar-close")),$dialogCloseButton.show();else{window.location=rcpUrl;return}$(document).trigger("reservationSaved",[data.Data.id,params.venueId,params.workspaceId,params.isReservationNew,reservationDateTime,data.Data.workspaceName,data.Data.visaGranted,data.Data.userId,data.Data.reservationReferenceId,data.Data.occurrenceDate])}},function(){trackReservationProcess("Save/Failure");trackDialogEntry();switchView(params.isOneWindowMode?"reservation":"reservation-step1")},!1,null,formData)}}function cancelingReservation(reservationId){trackReservationProcess("Cancel");$("#scheduler_new").length>0&&revertReservationView(reservationId);$dialog.dialog("close")}function switchView(mode){var dateTime,checkboxes,amenityStr;previousMode=currentMode;currentMode=mode;var $dialogWrapper=$($dialog.parent()),$dialogTitle=$($dialogWrapper.find(".ui-dialog-title")),$dialogCloseButton=$($dialogWrapper.find(".ui-dialog-titlebar-close")),$waitingDiv=$("#waiting-div"),$reservationDiv=$("#reservation-div");if(mode=="waiting")$reservationDiv.hide(),$dialogWrapper.addClass("waiting-mode"),$dialogCloseButton.hide(),params.isMobileView?$dialogTitle.html("Your reservation is being processed"):($dialogTitle.html(""),dateTime=Date.fromISO($("#ReservationDay").val()).format("ddd, MMM d"),$("#dk_container_startTime .dk_label").text()&&(dateTime+=" at "+$("#dk_container_startTime .dk_label").text()),$waitingDiv.find(".reservation-time").text(dateTime)),$waitingDiv.show();else{$waitingDiv.hide();$dialogCloseButton.show();$dialogWrapper.removeClass("waiting-mode");$("#reservation-div").show();switch(mode){case"reservation":$(".show-at-step1, .show-at-step2").show();$(".show-only-at-step1, .show-only-at-step2").hide();params.isMobileView||$(".reservation-step1 .focus").first().focus();$dialogTitle.html(params.dialogTitle);break;case"reservation-step1":$(".show-at-step1, .show-only-at-step1").show();$(".show-at-step2, .show-only-at-step2").hide();params.isMobileView||$(".reservation-step1 .focus").first().focus();$dialogTitle.html(params.dialogTitle);break;case"reservation-step2":$(".show-at-step2, .show-only-at-step2").show();$(".show-at-step1, .show-only-at-step1").hide();$(".signed-in-holder").hide();params.isMobileView||$(".reservation-step2 .focus").first().focus();checkboxes=$(".amenities-list input[type=checkbox]");amenityStr="";$.each(checkboxes,function(i,val){val.checked&&(amenityStr=amenityStr+(amenityStr.length==0?"":", ")+$(val).siblings(".amenity-name").text())});amenityStr.length==0&&(amenityStr="none");$("#amenities-request-string-value").html(amenityStr);$dialogTitle.html(params.dialogTitle2?params.dialogTitle2:params.dialogTitle);break}params.isMobileView&&$("html, body").scrollTop($dialogWrapper.offset().top)}$.browser.msie&&parseInt($.browser.version,10)==7&&$dialogWrapper.css("width","auto");$(".textarea-resizeable").change();LSHelper.HelperLib.correctDialogTitleWidth($dialog);$dialog.dialog({position:"center"})}function checkAmenitiesDispaly(){var isReservationAnonymous=$("#IsAnonymousMode").val()=="True";params.isReservationNew&&(isReservationAnonymous||!$("#scheduler_new").length)?$(".attendees-display").hide():$(".attendees-display").show()}function revertReservationView(reservationId){if(reservationId=="")_self.scheduler.deleteEvent(params.eventId,!0);else{var ev=_self.scheduler.getEvent(params.eventId);ev!=undefined&&(ev.StartTime=originalEvent.StartTime,ev.EndTime=originalEvent.EndTime,_self.scheduler.event_updated(ev))}}function refreshEvent(){var ev=_self.scheduler.getEvent(params.eventId);ev&&$("#startTime").val()!=undefined&&$("#endTime").val()!=undefined&&(ev.StartTime=setDate(ev.StartTime,$("#startTime").val().split(":")),ev.EndTime=setDate(ev.StartTime,$("#endTime").val().split(":")),_self.scheduler.current_date(new Date($("#ReservationDay").val()),ev),_self.scheduler.event_updated(ev))}var isRecurrent=function(){return typeof recurrenceBuilder!="undefined"?recurrenceBuilder.viewModel.enabled():!1},isRecurrenceStateConfirmed=function(){return typeof recurrenceBuilder!="undefined"?!recurrenceBuilder.viewModel.hasChanges():!0},$dialog=$("#editReservationDialog"),_self=this,friendlyEmails=[],previousMode,currentMode="reservation",originalEvent,validationProperties,continueBtnClick;this.scheduler=$("#scheduler_new").lsCalendar();originalEvent=_self.scheduler.copy_event(_self.scheduler.getEvent(params.eventId));this.redeemCoupon=function(){$(".coupon-redeem-link").hide();$(".coupon-input-form").show();$("#promotionCode").focus()};this.cancelBtnClick=function(elem,reservationId){isButtonDisabled(elem)||cancelingReservation(reservationId)};this.reservationIntervalChanged=function(isStartTime){var originalTimeDiff=params.originalTimeDiff.split(":"),startTime=$("#startTime").val().split(":"),endTime=$("#endTime").val().split(":"),tempDate=new Date,newEndTime="",changeEndDate=!0,options={source:"reservationIntervalChanged"},endTimeElem;!isStartTime&&setDate(tempDate,startTime)>=setDate(tempDate,endTime)?newEndTime=getTimeString(startTime,[0,60,0]):isStartTime?newEndTime=getTimeString(startTime,originalTimeDiff):changeEndDate=!1;changeEndDate&&(endTimeElem=$("#endTime option[value='"+newEndTime+"']"),endTimeElem.length>0?endTimeElem.attr("selected","selected"):options.endTime=newEndTime);_self.calculateReservationPrice(options)};this.moveResevationDialogBtnClick=function(item,val){$("#UseExistingPrice").val(val);var $item=$(item);$item.parent().find("button.orange-button").removeClass("orange-button");$item.addClass("orange-button");this.calculateReservationPrice({source:"moveResevationDialogBtnClick"})};this.hideMoveResevationDialog=function(item,val){var $parent=$(".move-reservation-dialog");$parent.hide("Drop");$("#Reservation_WorkspaceId option[value="+val+"]").attr("selected","selected");$("#UseExistingPrice").val(!1);$parent.find(".default-button").addClass("orange-button")};this.showMoveResevationDialog=function(item,val){var $item=$(".move-reservation-dialog");$("#Reservation_WorkspaceId").val()==val?this.hideMoveResevationDialog(item,val):($item.show("Drop"),$("#ShowMoveResevationDialog").val(!0),this.calculateReservationPrice({reloadAmenities:!0,source:"showMoveResevationDialog"}))};this.calculateReservationPrice=function(calculateReservationPriceOptions){var params=$.extend({source:null,dateText:null,inst:null,doNotReloadPaymentMethod:!1,reloadOrganizer:!1,reloadTime:!0,trackCouponState:!1,reloadAmenities:!1,successCallback:function(result){}},calculateReservationPriceOptions),$form=$("#editReservationForm"),formData=$form.formToArray(),$loader=$form.find(".loader"),elementReplaced;LSHelper.HelperLib.blockUI($form);$loader.show();_self.setValidationProperty({calculatingReservationPrice:!1});$("#continueBtn").button({disabled:!0});$form.find("button").button({disabled:!0});$form.find(".reservation-timepicker").addClass("reservation-timepicker-loading");formData.push({name:"reloadOrganizer",value:params.reloadOrganizer});formData.push({name:"isRecurrenceStateConfirmed",value:isRecurrenceStateConfirmed()});formData.push({name:"hasPaymentProfileForm",value:typeof creditCardModel!="undefined"&&creditCardModel!=undefined});params.endTime&&(elementReplaced=!1,$.each(formData,function(index,value){value&&value.name=="endTime"&&(elementReplaced=!0,value.value=params.endTime)}),elementReplaced||formData.push({name:"endTime",value:params.endTime}));$.ajax({type:"POST",url:"/Calendar/CalculateReservationPrice",data:formData,async:!0,success:function(result){if($(document).unbind("recurrenceRuleChanged.reservation"),$loader.hide(),LSHelper.HelperLib.unblockUI($form),$form.find(".reservation-timepicker").removeClass("reservation-timepicker-loading"),result.isException)LSHelper.UI.showError(result);else{if(params.trackCouponState&&(result.CouponSuccess?LSHelper.Calendar.trackCalendarReservationCoupon("Success"):LSHelper.Calendar.trackCalendarReservationCoupon("Fail: "+result.CouponError)),$("#costDetails").html(result.RenderedCostDetailsView),params.reloadTime&&$(".reservation-timepicker").html(result.RenderedView),$(".recurrent-notifications").html(result.RenderedRecurrenceNotifications).show(),LSHelper.HelperLib.autoEllipseText(".autoellipse380",280),params.doNotReloadPaymentMethod)currentMode=="reservation-step2"&&$(".time-picker-view").hide();else{var restorePaymentProfileState=typeof creditCardModel!="undefined"?creditCardModel.isPaymentProfileChange:!1;$("#paymentProfileDetails").html(result.RenderedPaymentProfileDetails);restorePaymentProfileState?_self.changePaymentMethod():typeof creditCardModel!="undefined"&&creditCardModel.cancelChange();$(".agree-to-share-wrap").html(result.RenderedAgreeToShare)}params.reloadOrganizer&&$(".organizer-wrapper").html(result.RenderedOrganizerView);params.reloadAmenities&&$("#amenities-wrapper").html(result.RenderedAmenities);$("#promotionDataWrapper").html(result.PromotionData);$("#amenities .amenities-other").tooltipster({maxWidth:200});$("#ApplyDate").val(result.ApplyDate);LSHelper.HelperLib.autoEllipseText(".reservationOneLineEllipse",170,null,[0,0]);currentMode=="reservation-step2"&&switchView(currentMode);_self.setValidationProperty({calculatingReservationPrice:!0});_self.setValidationProperty(result.SaveBtnDisabledReasons);$("#continueBtn").button({disabled:result.ContinueBtnDisabled==="true"});$form.find("button").button({disabled:!1});checkReservationState();updateValidationRules();checkAmenitiesDispaly();initLicensePreview();typeof creditCardModel!="undefined"&&creditCardModel.recalculateModelstate(creditCardModel.recalculateModelstate()+1);typeof recurrenceBuilder!="undefined"&&(recurrenceBuilder.viewModel.hasChanges()&&recurrenceBuilder.viewModel.hasChanges(!1),$(document).bind("recurrenceRuleChanged.reservation",function(){_self.setValidationProperty({recurrenceRule:!0});$("#continueBtn").button({disabled:!1})}));params.successCallback(result)}},error:function(){LSHelper.HelperLib.unblockUI($form);$form.find(".reservation-timepicker").removeClass("reservation-timepicker-loading");$loader.hide()}})};this.changePaymentMethod=function(cancel){cancel?($(".change-show").hide(),$(".change-hide").show(),typeof creditCardModel!="undefined"&&creditCardModel.cancelChange()):($(".change-show").show(),$(".change-hide").hide(),typeof creditCardModel!="undefined"&&creditCardModel.startChange(),$(".ccard-number").focus())};this.correctEmail=function(email){$(".anonymous-email").val(email);$(".anonymous-email").blur()};validationProperties=[];this.setValidationProperty=function(state){var saveEnabled,i;$.each(state,function(i,val){validationProperties[i]=val});saveEnabled=!0;for(i in validationProperties)if(!validationProperties[i]){saveEnabled=!1;break}$("#saveBtn").button({disabled:!saveEnabled})};this.showValidationProperty=function(){console.log(validationProperties)};this.plaidLink=function(){};$(document).ready(function(){checkReservationState();initLicensePreview();LSHelper.HelperLib.autoEllipseText(".reservationOneLineEllipse",170,null,[0,0]);LSHelper.HelperLib.autoEllipseText(".autoellipse380",280);getFriendlyEmails();initUI()});$(document).one("editReservationDialogOpened",function(e){$dialog.dialog("option","title",params.dialogTitle);updateValidationRules();trackDialogEntry();checkAmenitiesDispaly()});continueBtnClick=function(data){if($(this).is(":visible")){if(data&&data.CanContinueRecurrentRule===!1)return;if(isRecurrent()&&!isRecurrenceStateConfirmed()){reservationModel.calculateReservationPrice({successCallback:continueBtnClick,source:"continueBtnClick"});return}validatePart(".reservation-step1")&&validatePart(".reservation-timepicker")&&(trackReservationProcess("Continue"),switchView("reservation-step2"))}};$("#continueBtn").bind("click",continueBtnClick);$("#backBtn").bind("click",function(){trackReservationProcess("Back");switchView("reservation-step1")});params.reservationMethod=="Period"&&params.isReservationNew?$("#saveBtn").bind("click",saveBtnClickMonthly):$("#saveBtn").bind("click",saveBtnClick);$("#editReservationDialog .ui-dialog-titlebar-close").bind("click",function(ev){cancelingReservation(params.isReservationNew?"":params.reservationId);ev.preventDefault()});var elemId="#inviteeEmailsText",separatorReg=/[;,\s]+/,lastInviteeTypingReg=/[;,\s]+[a-zA-Z0-9_\-\.\+@@]+?$/;!$(".reservation-invitee-autocomplete").length>0&&$("body").append('<div class="reservation-invitee-autocomplete"><\/div>');$(elemId).autocomplete({delay:0,appendTo:".reservation-invitee-autocomplete",focus:function(event,ui){var curVal=$(elemId).val();separatorReg.test(curVal)?$(elemId).val(curVal.replace(lastInviteeTypingReg,", "+ui.item.value)):$(elemId).val(ui.item.value);event.preventDefault()},select:function(event,ui){var curVal=$(elemId).val();separatorReg.test(curVal)?$(elemId).val(curVal.replace(lastInviteeTypingReg,", "+ui.item.value)):$(elemId).val(ui.item.value);event.preventDefault()},source:function(request,response){var maxDisplay=10,curdisplay=0,data=friendlyEmails.filter(function(val){var result=!1,term;return val&&(term=request.term,separatorReg.test(term)&&(term=request.term.match(lastInviteeTypingReg),term=term!=undefined?term[0].replace(separatorReg,""):""),result=val.toLowerCase().indexOf(term)==0&&term!="",result&&curdisplay++,curdisplay>maxDisplay&&(result=!1)),result});response(data)}});$(".anonymous-email").blur(function(){$(".anonymous-email-suggest").hide();$(this).mailcheck({suggested:function(element,suggestion){$(".anonymous-email-suggest").html('Did you mean <a href="#" onclick="reservationModel.correctEmail(\''+suggestion.full+"');return false;\">"+suggestion.full+"<\/a>?");$(".anonymous-email-suggest").show()},empty:function(element){}})});$.getScript("https://js.braintreegateway.com/v1/braintree.js",function(){reservationModel.braintree=Braintree.create(params.braintreeEncryptionKey)})};
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,window,undefined){function get_fragment(url){return url=url||location.href,"#"+url.replace(/^[^#]*#?(.*)$/,"$1")}var str_hashchange="hashchange",doc=document,fake_onhashchange,special=$.event.special,doc_mode=doc.documentMode,supports_onhashchange="on"+str_hashchange in window&&(doc_mode===undefined||doc_mode>7);$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange)};$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange)return!1;$(fake_onhashchange.start)},teardown:function(){if(supports_onhashchange)return!1;$(fake_onhashchange.stop)}});fake_onhashchange=function(){function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);hash!==last_hash?(history_set(last_hash=hash,history_hash),$(window).trigger(str_hashchange)):history_hash!==last_hash&&(location.href=location.href.replace(/#.*/,"")+history_hash);timeout_id=setTimeout(poll,$.fn[str_hashchange].delay)}var self={},timeout_id,last_hash=get_fragment(),fn_retval=function(val){return val},history_set=fn_retval,history_get=fn_retval;return self.start=function(){timeout_id||poll()},self.stop=function(){timeout_id&&clearTimeout(timeout_id);timeout_id=undefined},$.browser.msie&&!supports_onhashchange&&function(){var iframe,iframe_src;self.start=function(){iframe||(iframe_src=$.fn[str_hashchange].src,iframe_src=iframe_src&&iframe_src+get_fragment(),iframe=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){iframe_src||history_set(get_fragment());poll()}).attr("src",iframe_src||"javascript:0").insertAfter("body")[0].contentWindow,doc.onpropertychange=function(){try{event.propertyName==="title"&&(iframe.document.title=doc.title)}catch(e){}})};self.stop=fn_retval;history_get=function(){return get_fragment(iframe.location.href)};history_set=function(hash,history_hash){var iframe_doc=iframe.document,domain=$.fn[str_hashchange].domain;hash!==history_hash&&(iframe_doc.title=doc.title,iframe_doc.open(),domain&&iframe_doc.write('<script>document.domain="'+domain+'"<\/script>'),iframe_doc.close(),iframe.location.hash=hash)}}(),self}()})(jQuery,this),function($){$.fn.numeric=function(config,callback){typeof config=="boolean"&&(config={decimal:config});config=config||{};typeof config.negative=="undefined"&&(config.negative=!0);var decimal=config.decimal===!1?"":config.decimal||".",negative=config.negative===!0?!0:!1,callback=typeof callback=="function"?callback:function(){};return this.data("numeric.decimal",decimal).data("numeric.negative",negative).data("numeric.callback",callback).keypress($.fn.numeric.keypress).keyup($.fn.numeric.keyup).blur($.fn.numeric.blur)};$.fn.numeric.keypress=function(e){var decimal=$.data(this,"numeric.decimal"),negative=$.data(this,"numeric.negative"),key=e.charCode?e.charCode:e.keyCode?e.keyCode:0,allow;if(key==13&&this.nodeName.toLowerCase()=="input")return!0;else if(key==13)return!1;if((allow=!1,e.ctrlKey&&key==97||e.ctrlKey&&key==65)||e.ctrlKey&&key==120||e.ctrlKey&&key==88||e.ctrlKey&&key==99||e.ctrlKey&&key==67||e.ctrlKey&&key==122||e.ctrlKey&&key==90||e.ctrlKey&&key==118||e.ctrlKey&&key==86||e.shiftKey&&key==45)return!0;if(key<48||key>57){if(this.value.indexOf("-")!=0&&negative&&key==45&&(this.value.length==0||$.fn.getSelectionStart(this)==0))return!0;decimal&&key==decimal.charCodeAt(0)&&this.value.indexOf(decimal)!=-1&&(allow=!1);key!=8&&key!=9&&key!=13&&key!=35&&key!=36&&key!=37&&key!=39&&key!=46?allow=!1:typeof e.charCode!="undefined"&&(e.keyCode==e.which&&e.which!=0?(allow=!0,e.which==46&&(allow=!1)):e.keyCode!=0&&e.charCode==0&&e.which==0&&(allow=!0));decimal&&key==decimal.charCodeAt(0)&&(allow=this.value.indexOf(decimal)==-1?!0:!1)}else allow=!0;return allow};$.fn.numeric.keyup=function(e){var val=this.value,dot,validChars,length,validChar,j,firstDecimal,i,ch;if(val.length>0){var carat=$.fn.getSelectionStart(this),decimal=$.data(this,"numeric.decimal"),negative=$.data(this,"numeric.negative");for(decimal!=""&&(dot=val.indexOf(decimal),dot==0&&(this.value="0"+val),dot==1&&val.charAt(0)=="-"&&(this.value="-0"+val.substring(1)),val=this.value),validChars=[0,1,2,3,4,5,6,7,8,9,"-",decimal],length=val.length,i=length-1;i>=0;i--){for(ch=val.charAt(i),i!=0&&ch=="-"?val=val.substring(0,i)+val.substring(i+1):i!=0||negative||ch!="-"||(val=val.substring(1)),validChar=!1,j=0;j<validChars.length;j++)if(ch==validChars[j]){validChar=!0;break}validChar&&ch!=" "||(val=val.substring(0,i)+val.substring(i+1))}if(firstDecimal=val.indexOf(decimal),firstDecimal>0)for(i=length-1;i>firstDecimal;i--)ch=val.charAt(i),ch==decimal&&(val=val.substring(0,i)+val.substring(i+1));this.value=val;$.fn.setSelection(this,carat)}};$.fn.numeric.blur=function(){var decimal=$.data(this,"numeric.decimal"),callback=$.data(this,"numeric.callback"),val=this.value,re;val!=""&&(re=new RegExp("^\\d+$|\\d*"+decimal+"\\d+"),re.exec(val)||callback.apply(this))};$.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",$.fn.numeric.keypress).unbind("blur",$.fn.numeric.blur)};$.fn.getSelectionStart=function(o){if(o.createTextRange){var r=document.selection.createRange().duplicate();return(r.moveEnd("character",o.value.length),r.text=="")?o.value.length:o.value.lastIndexOf(r.text)}else return o.selectionStart};$.fn.setSelection=function(o,p){if(typeof p=="number"&&(p=[p,p]),p&&p.constructor==Array&&p.length==2)if(o.createTextRange){var r=o.createTextRange();r.collapse(!0);r.moveStart("character",p[0]);r.moveEnd("character",p[1]);r.select()}else o.setSelectionRange&&(o.focus(),o.setSelectionRange(p[0],p[1]))}}(jQuery);jQuery.base64=function($){function _getbyte64(s,i){var idx=_ALPHA.indexOf(s.charAt(i));if(idx===-1)throw"Cannot decode base64";return idx}function _decode(s){var pads=0,i,b10,imax=s.length,x=[];if(s=String(s),imax===0)return s;if(imax%4!=0)throw"Cannot decode base64";for(s.charAt(imax-1)===_PADCHAR&&(pads=1,s.charAt(imax-2)===_PADCHAR&&(pads=2),imax-=4),i=0;i<imax;i+=4)b10=_getbyte64(s,i)<<18|_getbyte64(s,i+1)<<12|_getbyte64(s,i+2)<<6|_getbyte64(s,i+3),x.push(String.fromCharCode(b10>>16,b10>>8&255,b10&255));switch(pads){case 1:b10=_getbyte64(s,i)<<18|_getbyte64(s,i+1)<<12|_getbyte64(s,i+2)<<6;x.push(String.fromCharCode(b10>>16,b10>>8&255));break;case 2:b10=_getbyte64(s,i)<<18|_getbyte64(s,i+1)<<12;x.push(String.fromCharCode(b10>>16));break}return x.join("")}function _getbyte(s,i){var x=s.charCodeAt(i);if(x>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return x}function _encode(s){if(arguments.length!==1)throw"SyntaxError: exactly one argument required";s=String(s);var i,b10,x=[],imax=s.length-s.length%3;if(s.length===0)return s;for(i=0;i<imax;i+=3)b10=_getbyte(s,i)<<16|_getbyte(s,i+1)<<8|_getbyte(s,i+2),x.push(_ALPHA.charAt(b10>>18)),x.push(_ALPHA.charAt(b10>>12&63)),x.push(_ALPHA.charAt(b10>>6&63)),x.push(_ALPHA.charAt(b10&63));switch(s.length-imax){case 1:b10=_getbyte(s,i)<<16;x.push(_ALPHA.charAt(b10>>18)+_ALPHA.charAt(b10>>12&63)+_PADCHAR+_PADCHAR);break;case 2:b10=_getbyte(s,i)<<16|_getbyte(s,i+1)<<8;x.push(_ALPHA.charAt(b10>>18)+_ALPHA.charAt(b10>>12&63)+_ALPHA.charAt(b10>>6&63)+_PADCHAR);break}return x.join("")}var _PADCHAR="=",_ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_VERSION="1.0";return{decode:_decode,encode:_encode,VERSION:_VERSION}}(jQuery),function($){var tmp,loading,overlay,wrap,outer,content,close,title,nav_left,nav_right,selectedIndex=0,selectedOpts={},selectedArray=[],currentIndex=0,currentOpts={},currentArray=[],ajaxLoader=null,imgPreloader=new Image,imgRegExp=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,swfRegExp=/[^\.]\.(swf)\s*$/i,loadingTimer,loadingFrame=1,titleHeight=0,titleStr="",start_pos,final_pos,busy=!1,fx=$.extend($("<div/>")[0],{prop:0}),isIE6=$.browser.msie&&$.browser.version<7&&!window.XMLHttpRequest,_abort=function(){loading.hide();imgPreloader.onerror=imgPreloader.onload=null;ajaxLoader&&ajaxLoader.abort();tmp.empty()},_error=function(){if(!1===selectedOpts.onError(selectedArray,selectedIndex,selectedOpts)){loading.hide();busy=!1;return}selectedOpts.titleShow=!1;selectedOpts.width="auto";selectedOpts.height="auto";tmp.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.<\/p>');_process_inline()},_start=function(){var obj=selectedArray[selectedIndex],href,type,title,str,emb,ret;if(_abort(),selectedOpts=$.extend({},$.fn.fancybox.defaults,typeof $(obj).data("fancybox")=="undefined"?selectedOpts:$(obj).data("fancybox")),ret=selectedOpts.onStart(selectedArray,selectedIndex,selectedOpts),ret===!1){busy=!1;return}else typeof ret=="object"&&(selectedOpts=$.extend(selectedOpts,ret));if(title=selectedOpts.title||(obj.nodeName?$(obj).attr("title"):obj.title)||"",obj.nodeName&&!selectedOpts.orig&&(selectedOpts.orig=$(obj).children("img:first").length?$(obj).children("img:first"):$(obj)),title===""&&selectedOpts.orig&&selectedOpts.titleFromAlt&&(title=selectedOpts.orig.attr("alt")),href=selectedOpts.href||(obj.nodeName?$(obj).attr("href"):obj.href)||null,(/^(?:javascript)/i.test(href)||href=="#")&&(href=null),selectedOpts.type?(type=selectedOpts.type,href||(href=selectedOpts.content)):selectedOpts.content?type="html":href&&(type=href.match(imgRegExp)?"image":href.match(swfRegExp)?"swf":$(obj).hasClass("iframe")?"iframe":href.indexOf("#")===0?"inline":"ajax"),!type){_error();return}type=="inline"&&(obj=href.substr(href.indexOf("#")),type=$(obj).length>0?"inline":"ajax");selectedOpts.type=type;selectedOpts.href=href;selectedOpts.title=title;selectedOpts.autoDimensions&&(selectedOpts.type=="html"||selectedOpts.type=="inline"||selectedOpts.type=="ajax"?(selectedOpts.width="auto",selectedOpts.height="auto"):selectedOpts.autoDimensions=!1);selectedOpts.modal&&(selectedOpts.overlayShow=!0,selectedOpts.hideOnOverlayClick=!1,selectedOpts.hideOnContentClick=!1,selectedOpts.enableEscapeButton=!1,selectedOpts.showCloseButton=!1);selectedOpts.padding=parseInt(selectedOpts.padding,10);selectedOpts.margin=parseInt(selectedOpts.margin,10);tmp.css("padding",selectedOpts.padding+selectedOpts.margin);$(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){$(this).replaceWith(content.children())});switch(type){case"html":tmp.html(selectedOpts.content);_process_inline();break;case"inline":if($(obj).parent().is("#fancybox-content")===!0){busy=!1;return}$('<div class="fancybox-inline-tmp" />').hide().insertBefore($(obj)).bind("fancybox-cleanup",function(){$(this).replaceWith(content.children())}).bind("fancybox-cancel",function(){$(this).replaceWith(tmp.children())});$(obj).appendTo(tmp);_process_inline();break;case"image":busy=!1;$.fancybox.showActivity();imgPreloader=new Image;imgPreloader.onerror=function(){_error()};imgPreloader.onload=function(){busy=!0;imgPreloader.onerror=imgPreloader.onload=null;_process_image()};imgPreloader.src=href;break;case"swf":selectedOpts.scrolling="no";str='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+selectedOpts.width+'" height="'+selectedOpts.height+'"><param name="movie" value="'+href+'"><\/param>';emb="";$.each(selectedOpts.swf,function(name,val){str+='<param name="'+name+'" value="'+val+'"><\/param>';emb+=" "+name+'="'+val+'"'});str+='<embed src="'+href+'" type="application/x-shockwave-flash" width="'+selectedOpts.width+'" height="'+selectedOpts.height+'"'+emb+"><\/embed><\/object>";tmp.html(str);_process_inline();break;case"ajax":busy=!1;$.fancybox.showActivity();selectedOpts.ajax.win=selectedOpts.ajax.success;ajaxLoader=$.ajax($.extend({},selectedOpts.ajax,{url:href,data:selectedOpts.ajax.data||{},error:function(XMLHttpRequest,textStatus,errorThrown){XMLHttpRequest.status>0&&_error()},success:function(data,textStatus,XMLHttpRequest){var o=typeof XMLHttpRequest=="object"?XMLHttpRequest:ajaxLoader;if(o.status==200){if(typeof selectedOpts.ajax.win=="function")if(ret=selectedOpts.ajax.win(href,data,textStatus,XMLHttpRequest),ret===!1){loading.hide();return}else(typeof ret=="string"||typeof ret=="object")&&(data=ret);tmp.html(data);_process_inline()}}}));break;case"iframe":_show();break}},_process_inline=function(){var w=selectedOpts.width,h=selectedOpts.height;w=w.toString().indexOf("%")>-1?parseInt(($(window).width()-selectedOpts.margin*2)*parseFloat(w)/100,10)+"px":w=="auto"?"auto":w+"px";h=h.toString().indexOf("%")>-1?parseInt(($(window).height()-selectedOpts.margin*2)*parseFloat(h)/100,10)+"px":h=="auto"?"auto":h+"px";tmp.wrapInner('<div style="width:'+w+";height:"+h+";overflow: "+(selectedOpts.scrolling=="auto"?"auto":selectedOpts.scrolling=="yes"?"scroll":"hidden")+';position:relative;"><\/div>');selectedOpts.width=tmp.width();selectedOpts.height=tmp.height();_show()},_process_image=function(){selectedOpts.width=imgPreloader.width;selectedOpts.height=imgPreloader.height;$("<img />").attr({id:"fancybox-img",src:imgPreloader.src,alt:selectedOpts.title}).appendTo(tmp);_show()},_show=function(){var pos,equal;if(loading.hide(),wrap.is(":visible")&&!1===currentOpts.onCleanup(currentArray,currentIndex,currentOpts)){$.event.trigger("fancybox-cancel");busy=!1;return}if(busy=!0,$(content.add(overlay)).unbind(),$(window).unbind("resize.fb scroll.fb"),$(document).unbind("keydown.fb"),wrap.is(":visible")&&currentOpts.titlePosition!=="outside"&&wrap.css("height",wrap.height()),currentArray=selectedArray,currentIndex=selectedIndex,currentOpts=selectedOpts,currentOpts.overlayShow){if(overlay.css({"background-color":currentOpts.overlayColor,opacity:currentOpts.overlayOpacity,cursor:currentOpts.hideOnOverlayClick?"pointer":"auto",height:$(document).height()}),!overlay.is(":visible")){if(isIE6)$("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});overlay.show()}}else overlay.hide();if(final_pos=_get_zoom_to(),_process_title(),wrap.is(":visible")){$(close.add(nav_left).add(nav_right)).hide();pos=wrap.position();start_pos={top:pos.top,left:pos.left,width:wrap.width(),height:wrap.height()};equal=start_pos.width==final_pos.width&&start_pos.height==final_pos.height;content.fadeTo(currentOpts.changeFade,.3,function(){var finish_resizing=function(){content.html(tmp.contents()).fadeTo(currentOpts.changeFade,1,_finish)};$.event.trigger("fancybox-change");content.empty().removeAttr("filter").css({"border-width":currentOpts.padding,width:final_pos.width-currentOpts.padding*2,height:selectedOpts.autoDimensions?"auto":final_pos.height-titleHeight-currentOpts.padding*2});equal?finish_resizing():(fx.prop=0,$(fx).animate({prop:1},{duration:currentOpts.changeSpeed,easing:currentOpts.easingChange,step:_draw,complete:finish_resizing}))});return}if(wrap.removeAttr("style"),content.css("border-width",currentOpts.padding),currentOpts.transitionIn=="elastic"){start_pos=_get_zoom_from();content.html(tmp.contents());wrap.show();currentOpts.opacity&&(final_pos.opacity=0);fx.prop=0;$(fx).animate({prop:1},{duration:currentOpts.speedIn,easing:currentOpts.easingIn,step:_draw,complete:_finish});return}currentOpts.titlePosition=="inside"&&titleHeight>0&&title.show();content.css({width:final_pos.width-currentOpts.padding*2,height:selectedOpts.autoDimensions?"auto":final_pos.height-titleHeight-currentOpts.padding*2}).html(tmp.contents());wrap.css(final_pos).fadeIn(currentOpts.transitionIn=="none"?0:currentOpts.speedIn,_finish)},_format_title=function(title){return title&&title.length?currentOpts.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"><\/td><td id="fancybox-title-float-main">'+title+'<\/td><td id="fancybox-title-float-right"><\/td><\/tr><\/table>':'<div id="fancybox-title-'+currentOpts.titlePosition+'">'+title+"<\/div>":!1},_process_title=function(){if(titleStr=currentOpts.title||"",titleHeight=0,title.empty().removeAttr("style").removeClass(),currentOpts.titleShow===!1){title.hide();return}if(titleStr=$.isFunction(currentOpts.titleFormat)?currentOpts.titleFormat(titleStr,currentArray,currentIndex,currentOpts):_format_title(titleStr),!titleStr||titleStr===""){title.hide();return}title.addClass("fancybox-title-"+currentOpts.titlePosition).html(titleStr).appendTo("body").show();switch(currentOpts.titlePosition){case"inside":title.css({width:final_pos.width-currentOpts.padding*2,marginLeft:currentOpts.padding,marginRight:currentOpts.padding});titleHeight=title.outerHeight(!0);title.appendTo(outer);final_pos.height+=titleHeight;break;case"over":title.css({marginLeft:currentOpts.padding,width:final_pos.width-currentOpts.padding*2,bottom:currentOpts.padding}).appendTo(outer);break;case"float":title.css("left",parseInt((title.width()-final_pos.width-40)/2,10)*-1).appendTo(wrap);break;default:title.css({width:final_pos.width-currentOpts.padding*2,paddingLeft:currentOpts.padding,paddingRight:currentOpts.padding}).appendTo(wrap);break}title.hide()},_set_navigation=function(){if((currentOpts.enableEscapeButton||currentOpts.enableKeyboardNav)&&$(document).bind("keydown.fb",function(e){e.keyCode==27&&currentOpts.enableEscapeButton?(e.preventDefault(),$.fancybox.close()):(e.keyCode==37||e.keyCode==39)&&currentOpts.enableKeyboardNav&&e.target.tagName!=="INPUT"&&e.target.tagName!=="TEXTAREA"&&e.target.tagName!=="SELECT"&&(e.preventDefault(),$.fancybox[e.keyCode==37?"prev":"next"]())}),!currentOpts.showNavArrows){nav_left.hide();nav_right.hide();return}(currentOpts.cyclic&&currentArray.length>1||currentIndex!==0)&&nav_left.show();(currentOpts.cyclic&&currentArray.length>1||currentIndex!=currentArray.length-1)&&nav_right.show()},_finish=function(){$.support.opacity||(content.get(0).style.removeAttribute("filter"),wrap.get(0).style.removeAttribute("filter"));selectedOpts.autoDimensions&&content.css("height","auto");wrap.css("height","auto");titleStr&&titleStr.length&&title.show();currentOpts.showCloseButton&&close.show();_set_navigation();currentOpts.hideOnContentClick&&content.bind("click",$.fancybox.close);currentOpts.hideOnOverlayClick&&overlay.bind("click",$.fancybox.close);$(window).bind("resize.fb",$.fancybox.resize);currentOpts.centerOnScroll&&$(window).bind("scroll.fb",$.fancybox.center);currentOpts.type=="iframe"&&$('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+($.browser.msie?'allowtransparency="true""':"")+' scrolling="'+selectedOpts.scrolling+'" src="'+currentOpts.href+'"><\/iframe>').appendTo(content);wrap.show();busy=!1;$.fancybox.center();currentOpts.onComplete(currentArray,currentIndex,currentOpts);_preload_images()},_preload_images=function(){var href,objNext;currentArray.length-1>currentIndex&&(href=currentArray[currentIndex+1].href,typeof href!="undefined"&&href.match(imgRegExp)&&(objNext=new Image,objNext.src=href));currentIndex>0&&(href=currentArray[currentIndex-1].href,typeof href!="undefined"&&href.match(imgRegExp)&&(objNext=new Image,objNext.src=href))},_draw=function(pos){var dim={width:parseInt(start_pos.width+(final_pos.width-start_pos.width)*pos,10),height:parseInt(start_pos.height+(final_pos.height-start_pos.height)*pos,10),top:parseInt(start_pos.top+(final_pos.top-start_pos.top)*pos,10),left:parseInt(start_pos.left+(final_pos.left-start_pos.left)*pos,10)};typeof final_pos.opacity!="undefined"&&(dim.opacity=pos<.5?.5:pos);wrap.css(dim);content.css({width:dim.width-currentOpts.padding*2,height:dim.height-titleHeight*pos-currentOpts.padding*2})},_get_viewport=function(){return[$(window).width()-currentOpts.margin*2,$(window).height()-currentOpts.margin*2,$(document).scrollLeft()+currentOpts.margin,$(document).scrollTop()+currentOpts.margin]},_get_zoom_to=function(){var view=_get_viewport(),to={},resize=currentOpts.autoScale,double_padding=currentOpts.padding*2,ratio;return to.width=currentOpts.width.toString().indexOf("%")>-1?parseInt(view[0]*parseFloat(currentOpts.width)/100,10):currentOpts.width+double_padding,to.height=currentOpts.height.toString().indexOf("%")>-1?parseInt(view[1]*parseFloat(currentOpts.height)/100,10):currentOpts.height+double_padding,resize&&(to.width>view[0]||to.height>view[1])&&(selectedOpts.type=="image"||selectedOpts.type=="swf"?(ratio=currentOpts.width/currentOpts.height,to.width>view[0]&&(to.width=view[0],to.height=parseInt((to.width-double_padding)/ratio+double_padding,10)),to.height>view[1]&&(to.height=view[1],to.width=parseInt((to.height-double_padding)*ratio+double_padding,10))):(to.width=Math.min(to.width,view[0]),to.height=Math.min(to.height,view[1]))),to.top=parseInt(Math.max(view[3]-20,view[3]+(view[1]-to.height-40)*.5),10),to.left=parseInt(Math.max(view[2]-20,view[2]+(view[0]-to.width-40)*.5),10),to},_get_obj_pos=function(obj){var pos=obj.offset();return pos.top+=parseInt(obj.css("paddingTop"),10)||0,pos.left+=parseInt(obj.css("paddingLeft"),10)||0,pos.top+=parseInt(obj.css("border-top-width"),10)||0,pos.left+=parseInt(obj.css("border-left-width"),10)||0,pos.width=obj.width(),pos.height=obj.height(),pos},_get_zoom_from=function(){var orig=selectedOpts.orig?$(selectedOpts.orig):!1,from={},pos,view;return orig&&orig.length?(pos=_get_obj_pos(orig),from={width:pos.width+currentOpts.padding*2,height:pos.height+currentOpts.padding*2,top:pos.top-currentOpts.padding-20,left:pos.left-currentOpts.padding-20}):(view=_get_viewport(),from={width:currentOpts.padding*2,height:currentOpts.padding*2,top:parseInt(view[3]+view[1]*.5,10),left:parseInt(view[2]+view[0]*.5,10)}),from},_animate_loading=function(){if(!loading.is(":visible")){clearInterval(loadingTimer);return}$("div",loading).css("top",loadingFrame*-40+"px");loadingFrame=(loadingFrame+1)%12};$.fn.fancybox=function(options){return $(this).length?($(this).data("fancybox",$.extend({},options,$.metadata?$(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!busy){busy=!0;$(this).blur();selectedArray=[];selectedIndex=0;var rel=$(this).attr("rel")||"";rel&&rel!=""&&rel!=="nofollow"?(selectedArray=$("a[rel="+rel+"], area[rel="+rel+"]"),selectedIndex=selectedArray.index(this)):selectedArray.push(this);_start();return}}),this):this};$.fancybox=function(obj){var opts,i,j;if(!busy){if(busy=!0,opts=typeof arguments[1]!="undefined"?arguments[1]:{},selectedArray=[],selectedIndex=parseInt(opts.index,10)||0,$.isArray(obj)){for(i=0,j=obj.length;i<j;i++)typeof obj[i]=="object"?$(obj[i]).data("fancybox",$.extend({},opts,obj[i])):obj[i]=$({}).data("fancybox",$.extend({content:obj[i]},opts));selectedArray=jQuery.merge(selectedArray,obj)}else typeof obj=="object"?$(obj).data("fancybox",$.extend({},opts,obj)):obj=$({}).data("fancybox",$.extend({content:obj},opts)),selectedArray.push(obj);(selectedIndex>selectedArray.length||selectedIndex<0)&&(selectedIndex=0);_start()}};$.fancybox.showActivity=function(){clearInterval(loadingTimer);loading.show();loadingTimer=setInterval(_animate_loading,66)};$.fancybox.hideActivity=function(){loading.hide()};$.fancybox.next=function(){return $.fancybox.pos(currentIndex+1)};$.fancybox.prev=function(){return $.fancybox.pos(currentIndex-1)};$.fancybox.pos=function(pos){if(!busy){pos=parseInt(pos);selectedArray=currentArray;pos>-1&&pos<currentArray.length?(selectedIndex=pos,_start()):currentOpts.cyclic&&currentArray.length>1&&(selectedIndex=pos>=currentArray.length?0:currentArray.length-1,_start());return}};$.fancybox.cancel=function(){if(!busy){busy=!0;$.event.trigger("fancybox-cancel");_abort();selectedOpts.onCancel(selectedArray,selectedIndex,selectedOpts);busy=!1}};$.fancybox.close=function(){function _cleanup(){overlay.fadeOut("fast");title.empty().hide();wrap.hide();$.event.trigger("fancybox-cleanup");content.empty();currentOpts.onClosed(currentArray,currentIndex,currentOpts);currentArray=selectedOpts=[];currentIndex=selectedIndex=0;currentOpts=selectedOpts={};busy=!1}if(!busy&&!wrap.is(":hidden")){if(busy=!0,currentOpts&&!1===currentOpts.onCleanup(currentArray,currentIndex,currentOpts)){busy=!1;return}if(_abort(),$(close.add(nav_left).add(nav_right)).hide(),$(content.add(overlay)).unbind(),$(window).unbind("resize.fb scroll.fb"),$(document).unbind("keydown.fb"),content.find("iframe").attr("src",isIE6&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),currentOpts.titlePosition!=="inside"&&title.empty(),wrap.stop(),currentOpts.transitionOut=="elastic"){start_pos=_get_zoom_from();var pos=wrap.position();final_pos={top:pos.top,left:pos.left,width:wrap.width(),height:wrap.height()};currentOpts.opacity&&(final_pos.opacity=1);title.empty().hide();fx.prop=1;$(fx).animate({prop:0},{duration:currentOpts.speedOut,easing:currentOpts.easingOut,step:_draw,complete:_cleanup})}else wrap.fadeOut(currentOpts.transitionOut=="none"?0:currentOpts.speedOut,_cleanup)}};$.fancybox.resize=function(){overlay.is(":visible")&&overlay.css("height",$(document).height());$.fancybox.center(!0)};$.fancybox.center=function(){var view,align;busy||(align=arguments[0]===!0?1:0,view=_get_viewport(),!align&&(wrap.width()>view[0]||wrap.height()>view[1]))||wrap.stop().animate({top:parseInt(Math.max(view[3]-20,view[3]+(view[1]-content.height()-40)*.5-currentOpts.padding)),left:parseInt(Math.max(view[2]-20,view[2]+(view[0]-content.width()-40)*.5-currentOpts.padding))},typeof arguments[0]=="number"?arguments[0]:200)};$.fancybox.init=function(){$("#fancybox-wrap").length||($("body").append(tmp=$('<div id="fancybox-tmp"><\/div>'),loading=$('<div id="fancybox-loading"><div><\/div><\/div>'),overlay=$('<div id="fancybox-overlay"><\/div>'),wrap=$('<div id="fancybox-wrap"><\/div>')),outer=$('<div id="fancybox-outer"><\/div>').append('<div class="fancybox-bg" id="fancybox-bg-n"><\/div><div class="fancybox-bg" id="fancybox-bg-ne"><\/div><div class="fancybox-bg" id="fancybox-bg-e"><\/div><div class="fancybox-bg" id="fancybox-bg-se"><\/div><div class="fancybox-bg" id="fancybox-bg-s"><\/div><div class="fancybox-bg" id="fancybox-bg-sw"><\/div><div class="fancybox-bg" id="fancybox-bg-w"><\/div><div class="fancybox-bg" id="fancybox-bg-nw"><\/div>').appendTo(wrap),outer.append(content=$('<div id="fancybox-content"><\/div>'),close=$('<a id="fancybox-close"><\/a>'),title=$('<div id="fancybox-title"><\/div>'),nav_left=$('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"><\/span><\/a>'),nav_right=$('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"><\/span><\/a>')),close.click($.fancybox.close),loading.click($.fancybox.cancel),nav_left.click(function(e){e.preventDefault();$.fancybox.prev()}),nav_right.click(function(e){e.preventDefault();$.fancybox.next()}),$.fn.mousewheel&&wrap.bind("mousewheel.fb",function(e,delta){busy?e.preventDefault():($(e.target).get(0).clientHeight==0||$(e.target).get(0).scrollHeight===$(e.target).get(0).clientHeight)&&(e.preventDefault(),$.fancybox[delta>0?"prev":"next"]())}),$.support.opacity||wrap.addClass("fancybox-ie"),isIE6&&(loading.addClass("fancybox-ie6"),wrap.addClass("fancybox-ie6"),$('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"><\/iframe>').prependTo(outer)))};$.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};$(document).ready(function(){$.fancybox.init()})}(jQuery);
/*!
 * NETEYE Activity Indicator jQuery Plugin
 *
 * Copyright (c) 2010 NETEYE GmbH
 * Licensed under the MIT license
 *
 * Author: Felix Gnass [fgnass at neteye dot de]
 * Version: 1.0.0
 */
(function($){function svg(tag,attr){var el=document.createElementNS("http://www.w3.org/2000/svg",tag||"svg");return attr&&$.each(attr,function(k,v){el.setAttributeNS(null,k,v)}),$(el)}var render,animate,animations,s,sheet;$.fn.activity=function(opts){return this.each(function(){var $this=$(this),el=$this.data("activity");if(el&&(clearInterval(el.data("interval")),el.remove(),$this.removeData("activity")),opts!==!1){opts=$.extend({color:$this.css("color")},$.fn.activity.defaults,opts);el=render($this,opts).css("position","absolute").appendTo(opts.outside?"body":$this);var h=$this.outerHeight()-el.height(),w=$this.outerWidth()-el.width(),margin={top:opts.valign=="top"?opts.padding:opts.valign=="bottom"?h-opts.padding:Math.floor(h/2),left:opts.align=="left"?opts.padding:opts.align=="right"?w-opts.padding:Math.floor(w/2)},offset=$this.offset();opts.outside?el.css({top:offset.top+"px",left:offset.left+"px"}):(margin.top-=el.offset().top-offset.top,margin.left-=el.offset().left-offset.left);el.css({marginTop:margin.top+"px",marginLeft:margin.left+"px"});animate(el,opts.segments,Math.round(10/opts.speed)/10);$this.data("activity",el)}}),this};$.fn.activity.defaults={segments:12,space:3,length:7,width:4,speed:1.2,align:"center",valign:"center",padding:4};$.fn.activity.getOpacity=function(opts,i){var steps=opts.steps||opts.segments-1,end=opts.opacity!==undefined?opts.opacity:1/steps;return 1-Math.min(i,steps)*(1-end)/steps};render=function(){return $("<div>").addClass("busy")};animate=function(){};document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?(render=function(target,d){for(var innerRadius=d.width*2+d.space,r=innerRadius+d.length+Math.ceil(d.width/2)+1,el=svg().width(r*2).height(r*2),g=svg("g",{"stroke-width":d.width,"stroke-linecap":"round",stroke:d.color}).appendTo(svg("g",{transform:"translate("+r+","+r+")"}).appendTo(el)),i=0;i<d.segments;i++)g.append(svg("line",{x1:0,y1:innerRadius,x2:0,y2:innerRadius+d.length,transform:"rotate("+360/d.segments*i+", 0, 0)",opacity:$.fn.activity.getOpacity(d,i)}));return $("<div>").append(el).width(2*r).height(2*r)},document.createElement("div").style.WebkitAnimationName!==undefined?(animations={},animate=function(el,steps,duration){var name,rule,i;if(!animations[steps]){for(name="spin"+steps,rule="@-webkit-keyframes "+name+" {",i=0;i<steps;i++){var p1=Math.round(1e5/steps*i)/1e3,p2=Math.round(1e5/steps*(i+1)-1)/1e3,value="% { -webkit-transform:rotate("+Math.round(360/steps*i)+"deg); }\n";rule+=p1+value+p2+value}rule+="100% { -webkit-transform:rotate(100deg); }\n}";document.styleSheets[0].insertRule(rule,0);animations[steps]=name}el.css("-webkit-animation",animations[steps]+" "+duration+"s linear infinite")}):animate=function(el,steps,duration){var rotation=0,g=el.find("g g").get(0);el.data("interval",setInterval(function(){g.setAttributeNS(null,"transform","rotate("+ ++rotation%steps*(360/steps)+")")},duration*1e3/steps))}):(s=$("<shape>").css("behavior","url(#default#VML)").appendTo("body"),s&&s.get(0)&&s.get(0).adj&&(sheet=document.createStyleSheet(),$.each(["group","shape","stroke"],function(){sheet.addRule(this,"behavior:url(#default#VML);")}),render=function(target,d){for(var innerRadius=d.width*2+d.space,r=innerRadius+d.length+Math.ceil(d.width/2)+1,s=r*2,o=-Math.ceil(s/2),el=$("<group>",{coordsize:s+" "+s,coordorigin:o+" "+o}).css({top:o,left:o,width:s,height:s}),i=0;i<d.segments;i++)el.append($("<shape>",{path:"m "+innerRadius+",0  l "+(innerRadius+d.length)+",0"}).css({width:s,height:s,rotation:360/d.segments*i+"deg"}).append($("<stroke>",{color:d.color,weight:d.width+"px",endcap:"round",opacity:$.fn.activity.getOpacity(d,i)})));return $("<group>",{coordsize:s+" "+s}).css({width:s,height:s,overflow:"hidden"}).append(el)},animate=function(el,steps,duration){var rotation=0,g=el.get(0);el.data("interval",setInterval(function(){g.style.rotation=++rotation%steps*(360/steps)},duration*1e3/steps))}),$(s).remove())})(jQuery);typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.initReviewModel=function(data,wrapper){var currentModel={reviews:ko.observableArray([])};return currentModel.loadReviews=function(reviews){var reviewsToAdd=[];$.each(reviews,function(i,val){reviewsToAdd.push(new LiquidSpace.View.review(val))});currentModel.reviews(reviewsToAdd)},currentModel.getReview=function(workspaceId){var index=-1;return $.each(currentModel.reviews(),function(i,val){if(val.workspaceId==workspaceId)return index=i,!1}),index>-1?currentModel.reviews()[index]:new LiquidSpace.View.review},currentModel.loadReviews(data),ko.cleanNode(wrapper[0]),ko.applyBindings(currentModel,wrapper[0]),currentModel};LiquidSpace.View.review=function(indata,params){function reviewModel(data){var _self=this,calculateStars;this.loading=!1;this.workspaceImage=data.WorkspaceImage;this.workspaceName=data.WorkspaceName;this.venueName=data.VenueName;this.workspaceId=data.WorkspaceId;this.memberId=data.MemberId;this.venueId=data.VenueId;this.readMoreReviewsUrl=data.ReadMoreReviewsUrl;this.ratingsDisabled=data.RatingsDisabled;data.Rates&&$.each(data.Rates,function(i,val){val.ratingsDisabled=data.RatingsDisabled});this.editMode=ko.observable(!1);this.availableUserNames=ko.observableArray(data.AvailableUserNames);this.reviews=ko.observableArray(data.Rates);this.starsCountData=ko.observable(5);this.currentReviewId=ko.observable("");this.currentReviewText=ko.observable("");this.currentReviewDisplayName=ko.observable(data.AvailableUserNames?data.AvailableUserNames[0]:"");this.currentReviewStars=ko.observable(0);this.currentReviewStarsText=ko.observable("");this.ratesCount=ko.observable(data.RatesCount?data.RatesCount:0);this.averageRating=ko.observable(data.AverageRating?data.AverageRating:0);this.topArrowVisible=ko.observable(!1);this.myReview=ko.computed(function(){var result=null;return $.each(this.reviews(),function(i,val){if(val.MemberId==_self.memberId&&val.WorkspaceId==_self.workspaceId)return result=val,!1}),result},this);calculateStars=function(val){for(var res,starsArray=[],i=0;i<_self.starsCountData();i++)res=0,Math.floor(val)>i?starsArray.push(1):Math.floor(val)<i||i==val?starsArray.push(0):(starsArray.push(.5),starsArray.push(-.5));return starsArray};this.starsCountFunc=function(data){return calculateStars(data.Stars)};this.starsCountMy=ko.computed(function(){var r=_self.myReview();return calculateStars(r!=null?r.TempStars||r.Stars:0)},this);this.starsCount=ko.computed(function(){var starsArray=[],r=this.averageRating();return calculateStars(r)},this);this.modified=!1;this.setReviewForEdit=function(){var r=_self.myReview();return r!=null&&(_self.currentReviewId(r.Id),_self.currentReviewText(r.Text),r.Name&&r.Name.length>0&&_self.availableUserNames.indexOf(r.Name)>-1&&_self.currentReviewDisplayName(r.Name),_self.currentReviewStars(r.Stars),_self.setCurrentReviewStarsText(r.Stars)),_self.editMode(!0),r};this.previousState={};this.editReviewHandlerInline=function(el){_self.editMode()?(_self.previousState==null||$.isEmptyObject(_self.previousState)||_self.reviews.replace(_self.myReview(),_self.previousState),_self.editMode(!1)):(_self.previousState=$.extend({},_self.setReviewForEdit()),$(el.currentTarget).parent().find("textarea").trigger("show"))};this.editReviewHandler=function(allowed,stars,reservationId){if(allowed){_self.modified=!1;var previousState=null,reviewEditHtml=$("#review-edit").html(),dialogOptions={resizable:!1,height:"auto",width:580,modal:!0,position:"center",afterOpen:function(el){var r=_self.setReviewForEdit();previousState=$.extend({},r);stars===null||stars===undefined||isNaN(stars)||_self.setReviewStarsHandler(stars);ko.applyBindings({review:_self,reservationId:reservationId},el[0]);LSHelper.HelperLib.setOptionalText($(el).find("textarea"))},close:function(){_self.modified||(previousState==null||$.isEmptyObject(previousState)?_self.reviews.remove(function(r){return r.Id==null}):(previousState.TempStars=undefined,_self.reviews.replace(_self.myReview(),previousState)));_self.editMode(!1);_self.modified=!1}};LSHelper.HelperLib.showDialog({html:reviewEditHtml,divId:"rating-dialog",dialogOptions:dialogOptions})}else stars!=null&&_self.setReviewStarsHandler(stars)};this.setCurrentReviewStarsText=function(val){switch(val){case 0:this.currentReviewStarsText("Select a star rating");break;case 1:this.currentReviewStarsText("It was terrible");break;case 2:this.currentReviewStarsText("I was disappointed");break;case 3:this.currentReviewStarsText("It was okay");break;case 4:this.currentReviewStarsText("I liked it!");break;case 5:this.currentReviewStarsText("I loved it!");break}};this.setReviewStarsHandler=function(stars){if(this.editMode()==!0){var r=_self.myReview();r==null?(r={Stars:stars+1,MemberId:this.memberId,WorkspaceId:this.workspaceId,VenueId:this.venueId},this.reviews.push(r)):(r.Stars=stars+1,this.reviews.replace(r,r));this.setCurrentReviewStarsText(r.Stars);this.currentReviewStars(r.Stars)}};this.setReviewStarsHover=function(stars,forceHover){var r,_displayAmount;(this.editMode()==!0||forceHover)&&(r=_self.myReview(),_displayAmount=0,stars!=null?_displayAmount=stars+1:r!=null&&(_displayAmount=r.Stars),r==null?(r={Stars:0,TempStars:_displayAmount,MemberId:this.memberId,WorkspaceId:this.workspaceId,VenueId:this.venueId},this.reviews.push(r)):(r.TempStars=_displayAmount,this.reviews.replace(r,r)),this.setCurrentReviewStarsText(_displayAmount),this.currentReviewStars(_displayAmount))};this.deleteReviewHandler=function(event,review){LSHelper.Dialog.confirmDialog("Review will be removed",function(){$.ajax({type:"POST",data:{ratingId:review.Id,venueId:_self.venueId,workspaceId:_self.workspaceId},url:GetUrl("DeleteRating","Rating"),async:!0,success:function(result){_self.reviews.remove(review);_self.ratesCount(result.RatingCount);_self.averageRating(result.RatingAverage)},error:function(xhr,ajaxOptions,thrownError){}})},"Are you sure?")};this.saveReviewHandler=function(event,reservationId){if(_self.currentReviewStars()){var $btn=$(event.currentTarget);$btn.button({disabled:!0});$.ajax({type:"POST",data:{Id:_self.currentReviewId(),MemberId:_self.memberId,WorkspaceId:_self.workspaceId,Stars:_self.currentReviewStars(),Text:_self.currentReviewText(),Name:_self.currentReviewDisplayName(),VenueId:_self.venueId,ReservationId:reservationId},url:GetUrl("EditRating","Rating"),async:!0,success:function(result){var r=_self.myReview();if(_self.modified=!0,_self.reviews.replace(r,result.Rating),_self.ratesCount(result.RatingCount),_self.averageRating(result.RatingAverage),$btn.button({disabled:!1}),$btn.closest(".ui-dialog-content").dialog("close"),_self.editMode(!1),$.isFunction(params.onSaveReview))params.onSaveReview(result)},error:function(xhr,ajaxOptions,thrownError){$btn.button({disabled:!1})}})}};this.getReviewsToShow=function(callback){if(_self.loading)setTimeout(function(){_self.getReviewsToShow(callback)},100);else{var returnCount=2,reviews=_self.reviews(),ids=[];$.each(reviews,function(i,val){ids.push(val.Id)});_self.ratesCount&&reviews.length<_self.ratesCount()&&reviews.length<returnCount?(_self.loading=!0,$.ajax({type:"POST",data:{id:_self.workspaceId,returnCount:returnCount-reviews.length,skip:JSON.stringify(ids)},url:GetUrl("GetRatingByWorkspace","Rating"),async:!0,success:function(result){for(var i=0;i<result.length;i++)_self.reviews.push(result[i]);_self.loading=!1;callback&&callback()},error:function(xhr,ajaxOptions,thrownError){_self.loading=!1}})):callback&&callback()}};this.showReviews=function(event,params){var options=$.extend({align:"left",topPadding:12,toggle:!1},params);if($(".review-show").length){if(options.toggle&&$(".review-show").data("button")==event.currentTarget){$(".review-show").remove();return}$(".review-show").remove()}var $elem=$($("#review-show").html()).data("button",event.currentTarget).appendTo($("body")),$btn=$(event.currentTarget),offset=$btn.offset(),repositionElement=function(){var top=offset.top+3-$elem.outerHeight(),left,paddingLeft;$(window).scrollTop()>top-40?(top=offset.top+$btn.outerHeight(),_self.topArrowVisible(!0)):(_self.topArrowVisible(!1),top+=options.topPadding);left=0;switch(options.align){case"left":left=offset.left-$elem.outerWidth()/2+5;break;case"center":left=offset.left+$btn.outerWidth()/2-$elem.outerWidth()/2;break}left<0&&(paddingLeft=parseInt($elem.css("padding-left").replace(/[^-\d\.]/g,"")),left=-paddingLeft);$elem.css("left",left);$elem.css("top",top)};repositionElement();ko.applyBindings(this,$elem[0]);this.getReviewsToShow(repositionElement);$elem.find(".review-close").click(function(){$elem.remove()});$elem.unbind("clickoutside");$elem.bind("clickoutside",function(){$elem.remove()})}}return params=params==null?{}:params,indata=indata==null?{}:indata,this.model=new reviewModel(indata),this.model};ko.bindingHandlers.ratingBinding={init:function(element,valueAccessor,allBindings,viewModel,bindingContext){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindings,viewModel,bindingContext){var model=ko.unwrap(valueAccessor()),elem,innerBindingContext;return model.params=$.extend({showcount:!1,addreview:!1,showdate:!1,isEditable:!1,nohover:!1,short:!1},model.params),$(element).find(".review-stars-container").remove(),elem=$($("#review-stars").html()).appendTo($(element)),innerBindingContext=bindingContext.extend(model),ko.applyBindingsToDescendants(innerBindingContext,elem[0]),{controlsDescendantBindings:!0}}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
(function(root){var serverSide=typeof module!="undefined"&&module.exports,getnlp=function(){if(!getnlp._nlp)if(serverSide)getnlp._nlp=require("./nlp");else if(!(getnlp._nlp=root._RRuleNLP))throw new Error("You need to include rrule/nlp.js for fromText/toText to work.");return getnlp._nlp},dateutil={MONTH_DAYS:[31,28,31,30,31,30,31,31,30,31,30,31],ONE_DAY:864e5,MAXYEAR:9999,ORDINAL_BASE:new Date(1970,0,1),PY_WEEKDAYS:[6,0,1,2,3,4,5],getYearDay:function(date){var dateNoTime=new Date(date.getFullYear(),date.getMonth(),date.getDate());return Math.ceil((dateNoTime-new Date(date.getFullYear(),0,1))/dateutil.ONE_DAY)+1},isLeapYear:function(year){return year instanceof Date&&(year=year.getFullYear()),year%4==0&&year%100!=0||year%400==0},tzOffset:function(date){return date.getTimezoneOffset()*6e4},daysBetween:function(date1,date2){var date1_ms=date1.getTime()-dateutil.tzOffset(date1),date2_ms=date2.getTime()-dateutil.tzOffset(date2),difference_ms=Math.abs(date1_ms-date2_ms);return Math.round(difference_ms/dateutil.ONE_DAY)},toOrdinal:function(date){return dateutil.daysBetween(date,dateutil.ORDINAL_BASE)},fromOrdinal:function(ordinal){var millisecsFromBase=ordinal*dateutil.ONE_DAY;return new Date(dateutil.ORDINAL_BASE.getTime()-dateutil.tzOffset(dateutil.ORDINAL_BASE)+millisecsFromBase+dateutil.tzOffset(new Date(millisecsFromBase)))},monthRange:function(year,month){var date=new Date(year,month,1);return[dateutil.getWeekday(date),dateutil.getMonthDays(date)]},getMonthDays:function(date){var month=date.getMonth();return month==1&&dateutil.isLeapYear(date)?29:dateutil.MONTH_DAYS[month]},getWeekday:function(date){return dateutil.PY_WEEKDAYS[date.getDay()]},combine:function(date,time){return time=time||date,new Date(date.getFullYear(),date.getMonth(),date.getDate(),time.getHours(),time.getMinutes(),time.getSeconds())},clone:function(date){var dolly=new Date(date.getTime());return dolly.setMilliseconds(0),dolly},cloneDates:function(dates){for(var clones=[],i=0;i<dates.length;i++)clones.push(dateutil.clone(dates[i]));return clones},sort:function(dates){dates.sort(function(a,b){return a.getTime()-b.getTime()})},timeToUntilString:function(time){for(var date=new Date(time),comp,comps=[date.getUTCFullYear(),date.getUTCMonth()+1,date.getUTCDate(),"T",date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds(),"Z"],i=0;i<comps.length;i++)comp=comps[i],!/[TZ]/.test(comp)&&comp<10&&(comps[i]="0"+String(comp));return comps.join("")},untilStringToDate:function(until){var re=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,bits=re.exec(until);if(!bits)throw new Error("Invalid UNTIL value: "+until);return new Date(Date.UTC(bits[1],bits[2]-1,bits[3],bits[5]||0,bits[6]||0,bits[7]||0))}},RRule,Iterinfo,IterResult,CallbackIterResult;dateutil.Time=function(hour,minute,second){this.hour=hour;this.minute=minute;this.second=second};dateutil.Time.prototype={getHours:function(){return this.hour},getMinutes:function(){return this.minute},getSeconds:function(){return this.second},getTime:function(){return(this.hour*3600+this.minute*60+this.second)*1e3}};var range=function(start,end){var rang,i;for(arguments.length===1&&(end=start,start=0),rang=[],i=start;i<end;i++)rang.push(i);return rang},repeat=function(value,times){var i=0,array=[];if(value instanceof Array)for(;i<times;i++)array[i]=[].concat(value);else for(;i<times;i++)array[i]=value;return array},pymod=function(a,b){var r=a%b;return r*b<0?r+b:r},divmod=function(a,b){return{div:Math.floor(a/b),mod:pymod(a,b)}},plb=function(obj){return obj instanceof Array&&obj.length==0?!1:Boolean(obj)},contains=function(arr,val){return arr.indexOf(val)!=-1},M365MASK=[].concat(repeat(1,31),repeat(2,28),repeat(3,31),repeat(4,30),repeat(5,31),repeat(6,30),repeat(7,31),repeat(8,31),repeat(9,30),repeat(10,31),repeat(11,30),repeat(12,31),repeat(1,7)),M366MASK=[].concat(repeat(1,31),repeat(2,29),repeat(3,31),repeat(4,30),repeat(5,31),repeat(6,30),repeat(7,31),repeat(8,31),repeat(9,30),repeat(10,31),repeat(11,30),repeat(12,31),repeat(1,7)),M28=range(1,29),M29=range(1,30),M30=range(1,31),M31=range(1,32),MDAY366MASK=[].concat(M31,M29,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7)),MDAY365MASK=[].concat(M31,M28,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7));M28=range(-28,0);M29=range(-29,0);M30=range(-30,0);M31=range(-31,0);var NMDAY366MASK=[].concat(M31,M29,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7)),NMDAY365MASK=[].concat(M31,M28,M31,M30,M31,M30,M31,M31,M30,M31,M30,M31,M31.slice(0,7)),M366RANGE=[0,31,60,91,121,152,182,213,244,274,305,335,366],M365RANGE=[0,31,59,90,120,151,181,212,243,273,304,334,365],WDAYMASK=function(){for(var wdaymask=[],i=0;i<55;i++)wdaymask=wdaymask.concat(range(7));return wdaymask}(),Weekday=function(weekday,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=weekday;this.n=n};Weekday.prototype={nth:function(n){return this.n==n?this:new Weekday(this.weekday,n)},equals:function(other){return this.weekday==other.weekday&&this.n==other.n},toString:function(){var s=["MO","TU","WE","TH","FR","SA","SU"][this.weekday];return this.n&&(s=(this.n>0?"+":"")+String(this.n)+s),s},getJsWeekday:function(){return this.weekday==6?0:this.weekday+1}};RRule=function(options,noCache){var opts,i,bymonthday,bynmonthday,v,byweekday,bynweekday,wday,hour,j,minute,k,second;this._string=null;options=options||{};this._cache=noCache?null:{all:!1,before:[],after:[],between:[]};this.origOptions={};var invalid=[],keys=Object.keys(options),defaultKeys=Object.keys(RRule.DEFAULT_OPTIONS);if(keys.forEach(function(key){this.origOptions[key]=options[key];contains(defaultKeys,key)||invalid.push(key)},this),invalid.length)throw new Error("Invalid options: "+invalid.join(", "));if(!RRule.FREQUENCIES[options.freq]&&options.byeaster===null)throw new Error("Invalid frequency: "+String(options.freq));if(defaultKeys.forEach(function(key){contains(keys,key)||(options[key]=RRule.DEFAULT_OPTIONS[key])}),opts=this.options=options,opts.byeaster!==null&&(opts.freq=RRule.YEARLY),opts.dtstart||(opts.dtstart=new Date,opts.dtstart.setMilliseconds(0)),opts.wkst===null?opts.wkst=RRule.MO.weekday:typeof opts.wkst=="number"||(opts.wkst=opts.wkst.weekday),opts.bysetpos!==null)for(typeof opts.bysetpos=="number"&&(opts.bysetpos=[opts.bysetpos]),i=0;i<opts.bysetpos.length;i++)if(v=opts.bysetpos[i],v==0||!(-366<=v&&v<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1");if(!(plb(opts.byweekno)||plb(opts.byyearday)||plb(opts.bymonthday)||opts.byweekday!==null||opts.byeaster!==null))switch(opts.freq){case RRule.YEARLY:opts.bymonth||(opts.bymonth=opts.dtstart.getMonth()+1);opts.bymonthday=opts.dtstart.getDate();break;case RRule.MONTHLY:opts.bymonthday=opts.dtstart.getDate();break;case RRule.WEEKLY:opts.byweekday=dateutil.getWeekday(opts.dtstart);break}if(opts.bymonth===null||opts.bymonth instanceof Array||(opts.bymonth=[opts.bymonth]),opts.byyearday===null||opts.byyearday instanceof Array||(opts.byyearday=[opts.byyearday]),opts.bymonthday===null)opts.bymonthday=[],opts.bynmonthday=[];else if(opts.bymonthday instanceof Array){for(bymonthday=[],bynmonthday=[],i=0;i<opts.bymonthday.length;i++)v=opts.bymonthday[i],v>0?bymonthday.push(v):v<0&&bynmonthday.push(v);opts.bymonthday=bymonthday;opts.bynmonthday=bynmonthday}else opts.bymonthday<0?(opts.bynmonthday=[opts.bymonthday],opts.bymonthday=[]):(opts.bynmonthday=[],opts.bymonthday=[opts.bymonthday]);if(opts.byweekno===null||opts.byweekno instanceof Array||(opts.byweekno=[opts.byweekno]),opts.byweekday===null)opts.bynweekday=null;else if(typeof opts.byweekday=="number")opts.byweekday=[opts.byweekday],opts.bynweekday=null;else if(opts.byweekday instanceof Weekday)!opts.byweekday.n||opts.freq>RRule.MONTHLY?(opts.byweekday=[opts.byweekday.weekday],opts.bynweekday=null):(opts.bynweekday=[[opts.byweekday.weekday,opts.byweekday.n]],opts.byweekday=null);else{for(byweekday=[],bynweekday=[],i=0;i<opts.byweekday.length;i++)wday=opts.byweekday[i],typeof wday=="number"?byweekday.push(wday):!wday.n||opts.freq>RRule.MONTHLY?byweekday.push(wday.weekday):bynweekday.push([wday.weekday,wday.n]);opts.byweekday=plb(byweekday)?byweekday:null;opts.bynweekday=plb(bynweekday)?bynweekday:null}if(opts.byhour===null?opts.byhour=opts.freq<RRule.HOURLY?[opts.dtstart.getHours()]:null:typeof opts.byhour=="number"&&(opts.byhour=[opts.byhour]),opts.byminute===null?opts.byminute=opts.freq<RRule.MINUTELY?[opts.dtstart.getMinutes()]:null:typeof opts.byminute=="number"&&(opts.byminute=[opts.byminute]),opts.bysecond===null?opts.bysecond=opts.freq<RRule.SECONDLY?[opts.dtstart.getSeconds()]:null:typeof opts.bysecond=="number"&&(opts.bysecond=[opts.bysecond]),opts.freq>=RRule.HOURLY)this.timeset=null;else{for(this.timeset=[],i=0;i<opts.byhour.length;i++)for(hour=opts.byhour[i],j=0;j<opts.byminute.length;j++)for(minute=opts.byminute[j],k=0;k<opts.bysecond.length;k++)second=opts.bysecond[k],this.timeset.push(new dateutil.Time(hour,minute,second));dateutil.sort(this.timeset)}};RRule.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"];RRule.YEARLY=0;RRule.MONTHLY=1;RRule.WEEKLY=2;RRule.DAILY=3;RRule.HOURLY=4;RRule.MINUTELY=5;RRule.SECONDLY=6;RRule.MO=new Weekday(0);RRule.TU=new Weekday(1);RRule.WE=new Weekday(2);RRule.TH=new Weekday(3);RRule.FR=new Weekday(4);RRule.SA=new Weekday(5);RRule.SU=new Weekday(6);RRule.DEFAULT_OPTIONS={freq:null,dtstart:null,interval:1,wkst:RRule.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};RRule.parseText=function(text,language){return getnlp().parseText(text,language)};RRule.fromText=function(text,language){return getnlp().fromText(text,language)};RRule.optionsToString=function(options){var key,keys,defaultKeys,value,strValues,pairs=[],wday,j,strings,i,attr;for(keys=Object.keys(options),defaultKeys=Object.keys(RRule.DEFAULT_OPTIONS),i=0;i<keys.length;i++)if(contains(defaultKeys,keys[i])&&(key=keys[i].toUpperCase(),value=options[keys[i]],strValues=[],value!==null&&(!(value instanceof Array)||value.length))){switch(key){case"FREQ":value=RRule.FREQUENCIES[options.freq];break;case"WKST":value=value.toString();break;case"BYWEEKDAY":for(key="BYDAY",value instanceof Array||(value=[value]),j=0;j<value.length;j++)wday=value[j],wday instanceof Weekday||(wday=wday instanceof Array?new Weekday(wday[0],wday[1]):new Weekday(wday)),strValues[j]=wday.toString();value=strValues;break;case"DTSTART":case"UNTIL":value=dateutil.timeToUntilString(value);break;default:if(value instanceof Array){for(j=0;j<value.length;j++)strValues[j]=String(value[j]);value=strValues}else value=String(value)}pairs.push([key,value])}for(strings=[],i=0;i<pairs.length;i++)attr=pairs[i],strings.push(attr[0]+"="+attr[1].toString());return strings.join(";")};RRule.prototype={all:function(iterator){if(iterator)return this._iter(new CallbackIterResult("all",{},iterator));else{var result=this._cacheGet("all");return result===!1&&(result=this._iter(new IterResult("all",{})),this._cacheAdd("all",result)),result}},between:function(after,before,inc,iterator){var args={before:before,after:after,inc:inc},result;return iterator?this._iter(new CallbackIterResult("between",args,iterator)):(result=this._cacheGet("between",args),result===!1&&(result=this._iter(new IterResult("between",args)),this._cacheAdd("between",result,args)),result)},before:function(dt,inc){var args={dt:dt,inc:inc},result=this._cacheGet("before",args);return result===!1&&(result=this._iter(new IterResult("before",args)),this._cacheAdd("before",result,args)),result},after:function(dt,inc){var args={dt:dt,inc:inc},result=this._cacheGet("after",args);return result===!1&&(result=this._iter(new IterResult("after",args)),this._cacheAdd("after",result,args)),result},count:function(){return this.all().length},toString:function(){return RRule.optionsToString(this.origOptions)},toText:function(gettext,language){return getnlp().toText(this,gettext,language)},isFullyConvertibleToText:function(){return getnlp().isFullyConvertible(this)},_cacheAdd:function(what,value,args){this._cache&&(value&&(value=value instanceof Date?dateutil.clone(value):dateutil.cloneDates(value)),what=="all"?this._cache.all=value:(args._value=value,this._cache[what].push(args)))},_cacheGet:function(what,args){var cached,item,k,iterResult,i;if(!this._cache)return!1;if(cached=!1,what=="all")cached=this._cache.all;else loopItems:for(i=0;i<this._cache[what].length;i++){item=this._cache[what][i];for(k in args)if(args.hasOwnProperty(k)&&String(args[k])!=String(item[k]))continue loopItems;cached=item._value;break}if(!cached&&this._cache.all){for(iterResult=new IterResult(what,args),i=0;i<this._cache.all.length;i++)if(!iterResult.accept(this._cache.all[i]))break;cached=iterResult.getValue();this._cacheAdd(what,cached,args)}return cached instanceof Array?dateutil.cloneDates(cached):cached instanceof Date?dateutil.clone(cached):cached},clone:function(){return new RRule(this.origOptions)},_iter:function(iterResult){var dtstart=this.options.dtstart,year=dtstart.getFullYear(),month=dtstart.getMonth()+1,day=dtstart.getDate(),hour=dtstart.getHours(),minute=dtstart.getMinutes(),second=dtstart.getSeconds(),weekday=dateutil.getWeekday(dtstart),yearday=dateutil.getYearDay(dtstart),freq=this.options.freq,interval=this.options.interval,wkst=this.options.wkst,until=this.options.until,bymonth=this.options.bymonth,byweekno=this.options.byweekno,byyearday=this.options.byyearday,byweekday=this.options.byweekday,byeaster=this.options.byeaster,bymonthday=this.options.bymonthday,bynmonthday=this.options.bynmonthday,bysetpos=this.options.bysetpos,byhour=this.options.byhour,byminute=this.options.byminute,bysecond=this.options.bysecond,ii=new Iterinfo(this),getdayset,timeset,gettimeset,daypos,timepos,poslist,pos,val,date,time,res,daysinmonth;ii.rebuild(year,month);getdayset={};getdayset[RRule.YEARLY]=ii.ydayset;getdayset[RRule.MONTHLY]=ii.mdayset;getdayset[RRule.WEEKLY]=ii.wdayset;getdayset[RRule.DAILY]=ii.ddayset;getdayset[RRule.HOURLY]=ii.ddayset;getdayset[RRule.MINUTELY]=ii.ddayset;getdayset[RRule.SECONDLY]=ii.ddayset;getdayset=getdayset[freq];freq<RRule.HOURLY?timeset=this.timeset:(gettimeset={},gettimeset[RRule.HOURLY]=ii.htimeset,gettimeset[RRule.MINUTELY]=ii.mtimeset,gettimeset[RRule.SECONDLY]=ii.stimeset,gettimeset=gettimeset[freq],timeset=freq>=RRule.HOURLY&&plb(byhour)&&!contains(byhour,hour)||freq>=RRule.MINUTELY&&plb(byminute)&&!contains(byminute,minute)||freq>=RRule.SECONDLY&&plb(bysecond)&&!contains(bysecond,minute)?[]:gettimeset.call(ii,hour,minute,second));for(var filtered,total=0,count=this.options.count,iterNo=0,i,j,k,dm,div,mod,tmp,pos,dayset,start,end,fixday;;){for(tmp=getdayset.call(ii,year,month,day),dayset=tmp[0],start=tmp[1],end=tmp[2],filtered=!1,j=start;j<end;j++)i=dayset[j],(plb(bymonth)&&!contains(bymonth,ii.mmask[i])||plb(byweekno)&&!ii.wnomask[i]||plb(byweekday)&&!contains(byweekday,ii.wdaymask[i])||plb(ii.nwdaymask)&&!ii.nwdaymask[i]||byeaster!==null&&!contains(ii.eastermask,i)||(plb(bymonthday)||plb(bynmonthday))&&!contains(bymonthday,ii.mdaymask[i])&&!contains(bynmonthday,ii.nmdaymask[i])||plb(byyearday)&&(i<ii.yearlen&&!contains(byyearday,i+1)&&!contains(byyearday,-ii.yearlen+i)||i>=ii.yearlen&&!contains(byyearday,i+1-ii.yearlen)&&!contains(byyearday,-ii.nextyearlen+i-ii.yearlen)))&&(dayset[i]=null,filtered=!0);if(plb(bysetpos)&&plb(timeset)){for(poslist=[],i,j=0;j<bysetpos.length;j++){pos=bysetpos[j];pos<0?(daypos=Math.floor(pos/timeset.length),timepos=pymod(pos,timeset.length)):(daypos=Math.floor((pos-1)/timeset.length),timepos=pymod(pos-1,timeset.length));try{for(tmp=[],k=start;k<end;k++)(val=dayset[k],val!==null)&&tmp.push(val);i=daypos<0?tmp.slice(daypos)[0]:tmp[daypos];var time=timeset[timepos],date=dateutil.fromOrdinal(ii.yearordinal+i),res=dateutil.combine(date,time);contains(poslist,res)||poslist.push(res)}catch(e){}}for(dateutil.sort(poslist),j=0;j<poslist.length;j++)if(res=poslist[j],until&&res>until)return this._len=total,iterResult.getValue();else if(res>=dtstart){if(++total,!iterResult.accept(res))return iterResult.getValue();if(count&&(--count,!count))return this._len=total,iterResult.getValue()}}else for(j=start;j<end;j++)if(i=dayset[j],i!==null)for(date=dateutil.fromOrdinal(ii.yearordinal+i),k=0;k<timeset.length;k++)if(time=timeset[k],res=dateutil.combine(date,time),until&&res>until)return this._len=total,iterResult.getValue();else if(res>=dtstart){if(++total,!iterResult.accept(res))return iterResult.getValue();if(count&&(--count,!count))return this._len=total,iterResult.getValue()}if(fixday=!1,freq==RRule.YEARLY){if(year+=interval,year>dateutil.MAXYEAR)return this._len=total,iterResult.getValue();ii.rebuild(year,month)}else if(freq==RRule.MONTHLY){if(month+=interval,month>12&&(div=Math.floor(month/12),mod=pymod(month,12),month=mod,year+=div,month==0&&(month=12,--year),year>dateutil.MAXYEAR))return this._len=total,iterResult.getValue();ii.rebuild(year,month)}else if(freq==RRule.WEEKLY)day+=wkst>weekday?-(weekday+1+(6-wkst))+interval*7:-(weekday-wkst)+interval*7,weekday=wkst,fixday=!0;else if(freq==RRule.DAILY)day+=interval,fixday=!0;else if(freq==RRule.HOURLY){for(filtered&&(hour+=Math.floor((23-hour)/interval)*interval);;)if(hour+=interval,dm=divmod(hour,24),div=dm.div,mod=dm.mod,div&&(hour=mod,day+=div,fixday=!0),!plb(byhour)||contains(byhour,hour))break;timeset=gettimeset.call(ii,hour,minute,second)}else if(freq==RRule.MINUTELY){for(filtered&&(minute+=Math.floor((1439-(hour*60+minute))/interval)*interval);;)if(minute+=interval,dm=divmod(minute,60),div=dm.div,mod=dm.mod,div&&(minute=mod,hour+=div,dm=divmod(hour,24),div=dm.div,mod=dm.mod,div&&(hour=mod,day+=div,fixday=!0,filtered=!1)),(!plb(byhour)||contains(byhour,hour))&&(!plb(byminute)||contains(byminute,minute)))break;timeset=gettimeset.call(ii,hour,minute,second)}else if(freq==RRule.SECONDLY){for(filtered&&(second+=Math.floor((86399-(hour*3600+minute*60+second))/interval)*interval);;)if(second+=interval,dm=divmod(second,60),div=dm.div,mod=dm.mod,div&&(second=mod,minute+=div,dm=divmod(minute,60),div=dm.div,mod=dm.mod,div&&(minute=mod,hour+=div,dm=divmod(hour,24),div=dm.div,mod=dm.mod,div&&(hour=mod,day+=div,fixday=!0))),(!plb(byhour)||contains(byhour,hour))&&(!plb(byminute)||contains(byminute,minute))&&(!plb(bysecond)||contains(bysecond,second)))break;timeset=gettimeset.call(ii,hour,minute,second)}if(fixday&&day>28&&(daysinmonth=dateutil.monthRange(year,month-1)[1],day>daysinmonth)){while(day>daysinmonth){if(day-=daysinmonth,++month,month==13&&(month=1,++year,year>dateutil.MAXYEAR))return this._len=total,iterResult.getValue();daysinmonth=dateutil.monthRange(year,month-1)[1]}ii.rebuild(year,month)}}}};RRule.parseString=function(rfcString){var i,j,key,value,attr,attrs,options,n,wday,day,days;if(rfcString=rfcString.replace(/^\s+|\s+$/,""),!rfcString.length)return null;for(attrs=rfcString.split(";"),options={},i=0;i<attrs.length;i++){attr=attrs[i].split("=");key=attr[0];value=attr[1];switch(key){case"FREQ":options.freq=RRule[value];break;case"WKST":options.wkst=RRule[value];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(value.indexOf(",")!=-1)for(value=value.split(","),j=0;j<value.length;j++)/^[+-]?\d+$/.test(value[j])&&(value[j]=Number(value[j]));else/^[+-]?\d+$/.test(value)&&(value=Number(value));key=key.toLowerCase();options[key]=value;break;case"BYDAY":for(days=value.split(","),options.byweekday=[],j=0;j<days.length;j++)day=days[j],day.length==2?(wday=RRule[day],options.byweekday.push(wday)):(day=day.match(/^([+-]?\d)([A-Z]{2})$/),n=Number(day[1]),wday=day[2],wday=RRule[wday].weekday,options.byweekday.push(new Weekday(wday,n)));break;case"DTSTART":options.dtstart=dateutil.untilStringToDate(value);break;case"UNTIL":options.until=dateutil.untilStringToDate(value);break;case"BYEASTER":options.byeaster=Number(value);break;default:throw new Error("Unknown RRULE property '"+key+"'");}}return options};RRule.fromString=function(string){return new RRule(RRule.parseString(string))};Iterinfo=function(rrule){this.rrule=rrule;this.lastyear=null;this.lastmonth=null;this.yearlen=null;this.nextyearlen=null;this.yearordinal=null;this.yearweekday=null;this.mmask=null;this.mrange=null;this.mdaymask=null;this.nmdaymask=null;this.wdaymask=null;this.wnomask=null;this.nwdaymask=null;this.eastermask=null};Iterinfo.prototype.easter=function(y,offset){offset=offset||0;var a=y%19,b=Math.floor(y/100),c=y%100,d=Math.floor(b/4),e=b%4,f=Math.floor((b+8)/25),g=Math.floor((b-f+1)/3),h=Math.floor(19*a+b-d-g+15)%30,i=Math.floor(c/4),k=c%4,l=Math.floor(32+2*e+2*i-h-k)%7,m=Math.floor((a+11*h+22*l)/451),month=Math.floor((h+l-7*m+114)/31),day=(h+l-7*m+114)%31+1,date=Date.UTC(y,month-1,day+offset),yearStart=Date.UTC(y,0,1);return[Math.ceil((date-yearStart)/864e5)]};Iterinfo.prototype.rebuild=function(year,month){var rr=this.rrule,firstyday,no1wkst,firstwkst,wyearlen,lnumweeks,i,ranges,j,k,wday,n;if(year!=this.lastyear)if(this.yearlen=dateutil.isLeapYear(year)?366:365,this.nextyearlen=dateutil.isLeapYear(year+1)?366:365,firstyday=new Date(year,0,1),this.yearordinal=dateutil.toOrdinal(firstyday),this.yearweekday=dateutil.getWeekday(firstyday),wday=dateutil.getWeekday(new Date(year,0,1)),this.yearlen==365?(this.mmask=[].concat(M365MASK),this.mdaymask=[].concat(MDAY365MASK),this.nmdaymask=[].concat(NMDAY365MASK),this.wdaymask=WDAYMASK.slice(wday),this.mrange=[].concat(M365RANGE)):(this.mmask=[].concat(M366MASK),this.mdaymask=[].concat(MDAY366MASK),this.nmdaymask=[].concat(NMDAY366MASK),this.wdaymask=WDAYMASK.slice(wday),this.mrange=[].concat(M366RANGE)),plb(rr.options.byweekno)){this.wnomask=repeat(0,this.yearlen+7);no1wkst=firstwkst=pymod(7-this.yearweekday+rr.options.wkst,7);no1wkst>=4?(no1wkst=0,wyearlen=this.yearlen+pymod(this.yearweekday-rr.options.wkst,7)):wyearlen=this.yearlen-no1wkst;var div=Math.floor(wyearlen/7),mod=pymod(wyearlen,7),numweeks=Math.floor(div+mod/4);for(j=0;j<rr.options.byweekno.length;j++)if(n=rr.options.byweekno[j],n<0&&(n+=numweeks+1),0<n&&n<=numweeks)for(n>1?(i=no1wkst+(n-1)*7,no1wkst!=firstwkst&&(i-=7-firstwkst)):i=no1wkst,k=0;k<7;k++)if(this.wnomask[i]=1,i++,this.wdaymask[i]==rr.options.wkst)break;if(contains(rr.options.byweekno,1)&&(i=no1wkst+numweeks*7,no1wkst!=firstwkst&&(i-=7-firstwkst),i<this.yearlen))for(j=0;j<7;j++)if(this.wnomask[i]=1,i+=1,this.wdaymask[i]==rr.options.wkst)break;if(no1wkst){if(contains(rr.options.byweekno,-1))lnumweeks=-1;else{var lyearweekday=dateutil.getWeekday(new Date(year-1,0,1)),lno1wkst=pymod(7-lyearweekday+rr.options.wkst,7),lyearlen=dateutil.isLeapYear(year-1)?366:365;lno1wkst>=4?(lno1wkst=0,lnumweeks=Math.floor(52+pymod(lyearlen+pymod(lyearweekday-rr.options.wkst,7),7)/4)):lnumweeks=Math.floor(52+pymod(this.yearlen-no1wkst,7)/4)}if(contains(rr.options.byweekno,lnumweeks))for(i=0;i<no1wkst;i++)this.wnomask[i]=1}}else this.wnomask=null;if(plb(rr.options.bynweekday)&&(month!=this.lastmonth||year!=this.lastyear)){if(ranges=[],rr.options.freq==RRule.YEARLY)if(plb(rr.options.bymonth))for(j=0;j<rr.options.bymonth.length;j++)month=rr.options.bymonth[j],ranges.push(this.mrange.slice(month-1,month+1));else ranges=[[0,this.yearlen]];else rr.options.freq==RRule.MONTHLY&&(ranges=[this.mrange.slice(month-1,month+1)]);if(plb(ranges))for(this.nwdaymask=repeat(0,this.yearlen),j=0;j<ranges.length;j++){var rang=ranges[j],first=rang[0],last=rang[1];for(last-=1,k=0;k<rr.options.bynweekday.length;k++)wday=rr.options.bynweekday[k][0],n=rr.options.bynweekday[k][1],n<0?(i=last+(n+1)*7,i-=pymod(this.wdaymask[i]-wday,7)):(i=first+(n-1)*7,i+=pymod(7-this.wdaymask[i]+wday,7)),first<=i&&i<=last&&(this.nwdaymask[i]=1)}this.lastyear=year;this.lastmonth=month}rr.options.byeaster!==null&&(this.eastermask=this.easter(year,rr.options.byeaster))};Iterinfo.prototype.ydayset=function(year,month,day){return[range(this.yearlen),0,this.yearlen]};Iterinfo.prototype.mdayset=function(year,month,day){for(var set=repeat(null,this.yearlen),start=this.mrange[month-1],end=this.mrange[month],i=start;i<end;i++)set[i]=i;return[set,start,end]};Iterinfo.prototype.wdayset=function(year,month,day){for(var set=repeat(null,this.yearlen+7),i=dateutil.toOrdinal(new Date(year,month-1,day))-this.yearordinal,start=i,j=0;j<7;j++)if(set[i]=i,++i,this.wdaymask[i]==this.rrule.options.wkst)break;return[set,start,i]};Iterinfo.prototype.ddayset=function(year,month,day){var set=repeat(null,this.yearlen),i=dateutil.toOrdinal(new Date(year,month-1,day))-this.yearordinal;return set[i]=i,[set,i,i+1]};Iterinfo.prototype.htimeset=function(hour,minute,second){for(var j,set=[],rr=this.rrule,i=0;i<rr.options.byminute.length;i++)for(minute=rr.options.byminute[i],j=0;j<rr.options.bysecond.length;j++)second=rr.options.bysecond[j],set.push(new dateutil.Time(hour,minute,second));return dateutil.sort(set),set};Iterinfo.prototype.mtimeset=function(hour,minute,second){for(var set=[],rr=this.rrule,j=0;j<rr.options.bysecond.length;j++)second=rr.options.bysecond[j],set.push(new dateutil.Time(hour,minute,second));return dateutil.sort(set),set};Iterinfo.prototype.stimeset=function(hour,minute,second){return[new dateutil.Time(hour,minute,second)]};IterResult=function(method,args){this.init(method,args)};IterResult.prototype={init:function(method,args){this.method=method;this.args=args;this._result=[];this.minDate=null;this.maxDate=null;method=="between"?(this.maxDate=args.inc?args.before:new Date(args.before.getTime()-1),this.minDate=args.inc?args.after:new Date(args.after.getTime()+1)):method=="before"?this.maxDate=args.inc?args.dt:new Date(args.dt.getTime()-1):method=="after"&&(this.minDate=args.inc?args.dt:new Date(args.dt.getTime()+1))},accept:function(date){var tooEarly=this.minDate&&date<this.minDate,tooLate=this.maxDate&&date>this.maxDate;if(this.method=="between"){if(tooEarly)return!0;if(tooLate)return!1}else if(this.method=="before"){if(tooLate)return!1}else if(this.method=="after")return tooEarly?!0:(this.add(date),!1);return this.add(date)},add:function(date){return this._result.push(date),!0},getValue:function(){switch(this.method){case"all":case"between":return this._result;case"before":case"after":return this._result.length?this._result[this._result.length-1]:null}}};CallbackIterResult=function(method,args,iterator){var allowedMethods=["all","between"];if(!contains(allowedMethods,method))throw new Error('Invalid method "'+method+'". Only all and between works with iterator.');this.add=function(date){return iterator(date,this._result.length)?(this._result.push(date),!0):!1};this.init(method,args)};CallbackIterResult.prototype=IterResult.prototype;serverSide&&(module.exports={RRule:RRule});typeof ender=="undefined"&&(root.RRule=RRule);typeof define=="function"&&define.amd&&define("rrule",[],function(){return RRule})})(this);
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
(function(root){var serverSide=typeof module!="undefined"&&module.exports,RRule,contains,ToText,common,ENGLISH,nlp;if(serverSide)RRule=require("./rrule").RRule;else if(root.RRule)RRule=root.RRule;else if(typeof require!="undefined")RRule||(RRule=require("rrule"));else throw new Error("rrule.js is required for rrule/nlp.js to work");contains=function(arr,val){return arr.indexOf(val)!=-1};ToText=function(rrule,gettext,language){var bymonthday,bynmonthday,byweekday,days,sortWeekDays;this.gettext=gettext||function(id){return id};this.language=language||ENGLISH;this.text="";this.rrule=rrule;this.freq=rrule.options.freq;this.options=rrule.options;this.origOptions=rrule.origOptions;this.origOptions.bymonthday&&(bymonthday=[].concat(this.options.bymonthday),bynmonthday=[].concat(this.options.bynmonthday),bymonthday.sort(),bynmonthday.sort(),bynmonthday.reverse(),this.bymonthday=bymonthday.concat(bynmonthday),this.bymonthday.length||(this.bymonthday=null));this.origOptions.byweekday?(byweekday=(this.origOptions.byweekday instanceof Array)?this.origOptions.byweekday:[this.origOptions.byweekday],days=String(byweekday),this.byweekday={allWeeks:byweekday.filter(function(weekday){return!Boolean(weekday.n)}),someWeeks:byweekday.filter(function(weekday){return Boolean(weekday.n)}),isWeekdays:days.indexOf("MO")!=-1&&days.indexOf("TU")!=-1&&days.indexOf("WE")!=-1&&days.indexOf("TH")!=-1&&days.indexOf("FR")!=-1&&days.indexOf("SA")==-1&&days.indexOf("SU")==-1},sortWeekDays=function(a,b){return a.weekday-b.weekday},this.byweekday.allWeeks.sort(sortWeekDays),this.byweekday.someWeeks.sort(sortWeekDays),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)):this.byweekday=null};ToText.IMPLEMENTED=[];common=["count","until","interval","byweekday","bymonthday","bymonth"];ToText.IMPLEMENTED[RRule.DAILY]=common;ToText.IMPLEMENTED[RRule.WEEKLY]=common;ToText.IMPLEMENTED[RRule.MONTHLY]=common;ToText.IMPLEMENTED[RRule.YEARLY]=["byweekno","byyearday"].concat(common);ToText.isFullyConvertible=function(rrule){var canConvert=!0,key;if(!(rrule.options.freq in ToText.IMPLEMENTED)||rrule.origOptions.until&&rrule.origOptions.count)return!1;for(key in rrule.origOptions){if(contains(["dtstart","wkst","freq"],key))return!0;if(!contains(ToText.IMPLEMENTED[rrule.options.freq],key))return canConvert=!1,!1}return canConvert};ToText.prototype={isFullyConvertible:function(){return ToText.isFullyConvertible(this.rrule)},toString:function(){var gettext=this.gettext,until;return(this.options.freq in ToText.IMPLEMENTED)?(this.text=[gettext("every")],this[RRule.FREQUENCIES[this.options.freq]](),this.options.until?(this.add(gettext("until")),until=this.options.until,this.add(this.language.monthNames[until.getMonth()]).add(until.getDate()+",").add(until.getFullYear())):this.options.count&&this.add(gettext("for")).add(this.options.count).add(this.plural(this.options.count)?gettext("times"):gettext("time")),this.isFullyConvertible()||this.add(gettext("(~ approximate)")),this.text.join("")):gettext("RRule error: Unable to fully convert this rrule to text")},DAILY:function(){var gettext=this.gettext;this.options.interval!=1&&this.add(this.options.interval);this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?gettext("weekdays"):gettext("weekday")):this.add(this.plural(this.options.interval)?gettext("days"):gettext("day"));this.origOptions.bymonth&&(this.add(gettext("in")),this._bymonth());this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday()},WEEKLY:function(){var gettext=this.gettext;this.options.interval!=1&&this.add(this.options.interval).add(this.plural(this.options.interval)?gettext("weeks"):gettext("week"));this.byweekday&&this.byweekday.isWeekdays?this.options.interval==1?this.add(this.plural(this.options.interval)?gettext("weekdays"):gettext("weekday")):this.add(gettext("on")).add(gettext("weekdays")):(this.options.interval==1&&this.add(gettext("week")),this.origOptions.bymonth&&(this.add(gettext("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},MONTHLY:function(){var gettext=this.gettext;this.origOptions.bymonth?(this.options.interval!=1&&(this.add(this.options.interval).add(gettext("months")),this.plural(this.options.interval)&&this.add(gettext("in"))),this._bymonth()):(this.options.interval!=1&&this.add(this.options.interval),this.add(this.plural(this.options.interval)?gettext("months"):gettext("month")));this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(gettext("on")).add(gettext("weekdays")):this.byweekday&&this._byweekday()},YEARLY:function(){var gettext=this.gettext;this.origOptions.bymonth?(this.options.interval!=1&&(this.add(this.options.interval),this.add(gettext("years"))),this._bymonth()):(this.options.interval!=1&&this.add(this.options.interval),this.add(this.plural(this.options.interval)?gettext("years"):gettext("year")));this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday();this.options.byyearday&&this.add(gettext("on the")).add(this.list(this.options.byyearday,this.nth,gettext("and"))).add(gettext("day"));this.options.byweekno&&this.add(gettext("in")).add(this.plural(this.options.byweekno.length)?gettext("weeks"):gettext("week")).add(this.list(this.options.byweekno,null,gettext("and")))},_bymonthday:function(){var gettext=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(gettext("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,gettext("or"))).add(gettext("the")).add(this.list(this.bymonthday,this.nth,gettext("or"))):this.add(gettext("on the")).add(this.list(this.bymonthday,this.nth,gettext("and")))},_byweekday:function(){var gettext=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(gettext("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext));this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(gettext("and")),this.add(gettext("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,gettext("and"))))},_bymonth:function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},nth:function(n){var nth,npos,gettext=this.gettext;if(n==-1)return gettext("last");npos=Math.abs(n);switch(npos){case 1:case 21:case 31:nth=npos+gettext("st");break;case 2:case 22:nth=npos+gettext("nd");break;case 3:case 23:nth=npos+gettext("rd");break;default:nth=npos+gettext("th")}return n<0?nth+" "+gettext("last"):nth},monthtext:function(m){return this.language.monthNames[m-1]},weekdaytext:function(wday){return(wday.n?this.nth(wday.n)+" ":"")+this.language.dayNames[wday.getJsWeekday()]},plural:function(n){return n%100!=1},add:function(s){return this.text.push(" "),this.text.push(s),this},list:function(arr,callback,finalDelim,delim){var delimJoin=function(array,delimiter,finalDelimiter){for(var list="",i=0;i<array.length;i++)i!=0&&(list+=i==array.length-1?" "+finalDelimiter+" ":delimiter+" "),list+=array[i];return list},self,realCallback;return delim=delim||",",callback=callback||function(o){return o},self=this,realCallback=function(arg){return callback.call(self,arg)},finalDelim?delimJoin(arr.map(realCallback),delim,finalDelim):arr.map(realCallback).join(delim+" ")}};var fromText=function(text,language){return new RRule(parseText(text,language))},parseText=function(text,language){function S(){var n,wkd,m;if(ttr.expect("every"),(n=ttr.accept("number"))&&(options.interval=parseInt(n[0])),ttr.isDone())throw new Error("Unexpected end");switch(ttr.symbol){case"day(s)":options.freq=RRule.DAILY;ttr.nextSymbol()&&(ON(),F());break;case"weekday(s)":options.freq=RRule.WEEKLY;options.byweekday=[RRule.MO,RRule.TU,RRule.WE,RRule.TH,RRule.FR];ttr.nextSymbol();F();break;case"week(s)":options.freq=RRule.WEEKLY;ttr.nextSymbol()&&(ON(),F());break;case"month(s)":options.freq=RRule.MONTHLY;ttr.nextSymbol()&&(ON(),F());break;case"year(s)":options.freq=RRule.YEARLY;ttr.nextSymbol()&&(ON(),F());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":if(options.freq=RRule.WEEKLY,options.byweekday=[RRule[ttr.symbol.substr(0,2).toUpperCase()]],!ttr.nextSymbol())return;while(ttr.accept("comma")){if(ttr.isDone())throw new Error("Unexpected end");if(!(wkd=decodeWKD()))throw new Error("Unexpected symbol "+ttr.symbol+", expected weekday");options.byweekday.push(RRule[wkd]);ttr.nextSymbol()}MDAYs();F();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(options.freq=RRule.YEARLY,options.bymonth=[decodeM()],!ttr.nextSymbol())return;while(ttr.accept("comma")){if(ttr.isDone())throw new Error("Unexpected end");if(!(m=decodeM()))throw new Error("Unexpected symbol "+ttr.symbol+", expected month");options.bymonth.push(m);ttr.nextSymbol()}ON();F();break;default:throw new Error("Unknown symbol");}}function ON(){var on=ttr.accept("on"),the=ttr.accept("the"),nth,wkd,m,n;if(on||the)do if(nth=decodeNTH())(wkd=decodeWKD())?(ttr.nextSymbol(),options.byweekday||(options.byweekday=[]),options.byweekday.push(RRule[wkd].nth(nth))):(options.bymonthday||(options.bymonthday=[]),options.bymonthday.push(nth),ttr.accept("day(s)"));else if(wkd=decodeWKD())ttr.nextSymbol(),options.byweekday||(options.byweekday=[]),options.byweekday.push(RRule[wkd]);else if(ttr.symbol=="weekday(s)")ttr.nextSymbol(),options.byweekday||(options.byweekday=[]),options.byweekday.push(RRule.MO),options.byweekday.push(RRule.TU),options.byweekday.push(RRule.WE),options.byweekday.push(RRule.TH),options.byweekday.push(RRule.FR);else if(ttr.symbol=="week(s)"){if(ttr.nextSymbol(),!(n=ttr.accept("number")))throw new Error("Unexpected symbol "+ttr.symbol+", expected week number");for(options.byweekno=[n[0]];ttr.accept("comma");){if(!(n=ttr.accept("number")))throw new Error("Unexpected symbol "+ttr.symbol+"; expected monthday");options.byweekno.push(n[0])}}else if(m=decodeM())ttr.nextSymbol(),options.bymonth||(options.bymonth=[]),options.bymonth.push(m);else return;while(ttr.accept("comma")||ttr.accept("the")||ttr.accept("on"))}function decodeM(){switch(ttr.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function decodeWKD(){switch(ttr.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return ttr.symbol.substr(0,2).toUpperCase();break;default:return!1}}function decodeNTH(){switch(ttr.symbol){case"last":return ttr.nextSymbol(),-1;case"first":return ttr.nextSymbol(),1;case"second":return ttr.nextSymbol(),ttr.accept("last")?-2:2;case"third":return ttr.nextSymbol(),ttr.accept("last")?-3:3;case"nth":var v=parseInt(ttr.value[1]);if(v<-366||v>366)throw new Error("Nth out of range: "+v);return ttr.nextSymbol(),ttr.accept("last")?-v:v;default:return!1}}function MDAYs(){ttr.accept("on");ttr.accept("the");var nth;if(nth=decodeNTH())for(options.bymonthday=[nth],ttr.nextSymbol();ttr.accept("comma");){if(!(nth=decodeNTH()))throw new Error("Unexpected symbol "+ttr.symbol+"; expected monthday");options.bymonthday.push(nth);ttr.nextSymbol()}}function F(){if(ttr.symbol=="until"){var date=Date.parse(ttr.text);if(!date)throw new Error("Cannot parse until date:"+ttr.text);options.until=new Date(date)}else ttr.accept("for")&&(options.count=ttr.value[0],ttr.expect("number"))}var ttr=new Parser((language||ENGLISH).tokens),options;return ttr.start(text)?(options={},S(),options):null},Parser=function(rules){this.rules=rules};Parser.prototype.start=function(text){return this.text=text,this.done=!1,this.nextSymbol()};Parser.prototype.isDone=function(){return this.done&&this.symbol==null};Parser.prototype.nextSymbol=function(){var p=this,best,bestSymbol,match,rule,name;this.symbol=null;this.value=null;do{if(this.done)return!1;best=null;for(name in this.rules)rule=this.rules[name],(match=rule.exec(p.text))&&(best==null||match[0].length>best[0].length)&&(best=match,bestSymbol=name);if(best!=null&&(this.text=this.text.substr(best[0].length),this.text==""&&(this.done=!0)),best==null){this.done=!0;this.symbol=null;this.value=null;return}}while(bestSymbol=="SKIP");return this.symbol=bestSymbol,this.value=best,!0};Parser.prototype.accept=function(name){if(this.symbol==name){if(this.value){var v=this.value;return this.nextSymbol(),v}return this.nextSymbol(),!0}return!1};Parser.prototype.expect=function(name){if(this.accept(name))return!0;throw new Error("expected "+name+" but found "+this.symbol);};ENGLISH={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,"for":/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}};nlp={fromText:fromText,parseText:parseText,isFullyConvertible:ToText.isFullyConvertible,toText:function(rrule,gettext,language){return new ToText(rrule,gettext,language).toString()}};serverSide?module.exports=nlp:root._RRuleNLP=nlp;typeof define=="function"&&define.amd&&define("rrule",[],function(){return RRule})})(this);typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.Analytics=="undefined"&&(LiquidSpace.Analytics={});LiquidSpace.Analytics.LegacyTracker=function(){function _uCInfo(){var x,dc;if(_ucto&&_ucto!=""||(_ucto="15768000"),_uVG()){var c="",t="-",t2="-",t3="-",o=0,cs=0,cn=0,i=0,z="-",s="";if(_uanchor&&_udlh&&_udlh!=""&&(s=_udlh+"&"),s+=_udl.search,x=new Date(_udt.getTime()+_ucto*1e3),dc=_uBrowserDocument.cookie,x=" expires="+x.toGMTString()+";",_ulink&&!_ubl&&(z=_uDecodeString(_uGC(s,"__utmz=","&")),z!="-"&&z.indexOf(";")==-1))return _uBrowserDocument.cookie="__utmz="+z+"; path="+_utcp+";"+x+_udo,"";if((z=dc.indexOf("__utmz="+_DomainHash+"."),z=z>-1?_uGC(dc,"__utmz="+_DomainHash+".",";"):"-",t=_uGC(s,_ucid+"=","&"),t2=_uGC(s,_ucsr+"=","&"),t3=_uGC(s,"gclid=","&"),(t!="-"&&t!=""||t2!="-"&&t2!=""||t3!="-"&&t3!="")&&(t!="-"&&t!=""&&(c+="utmcid="+_uEC(t)),t2!="-"&&t2!=""&&(c!=""&&(c+="|"),c+="utmcsr="+_uEC(t2)),t3!="-"&&t3!=""&&(c!=""&&(c+="|"),c+="utmgclid="+_uEC(t3)),t=_uGC(s,_uccn+"=","&"),c+=t!="-"&&t!=""?"|utmccn="+_uEC(t):"|utmccn=(not+set)",t=_uGC(s,_ucmd+"=","&"),c+=t!="-"&&t!=""?"|utmcmd="+_uEC(t):"|utmcmd=(not+set)",t=_uGC(s,_uctr+"=","&"),t!="-"&&t!=""?c+="|utmctr="+_uEC(t):(t=_uOrg(1),t!="-"&&t!=""&&(c+="|utmctr="+_uEC(t))),t=_uGC(s,_ucct+"=","&"),t!="-"&&t!=""&&(c+="|utmcct="+_uEC(t)),t=_uGC(s,_ucno+"=","&"),t=="1"&&(o=1),z!="-"&&o==1))||(c=="-"||c=="")&&(c=_uOrg(),z!="-"&&_ufno==1)||(c=="-"||c=="")&&(_ufns==0&&(c=_uRef()),z!="-"&&_ufno==1)||(c=="-"||c=="")&&(z=="-"&&_ufns==0&&(c="utmccn=(direct)|utmcsr=(direct)|utmcmd=(none)"),c=="-"||c==""))return"";z!="-"&&(i=z.indexOf("."),i>-1&&(i=z.indexOf(".",i+1)),i>-1&&(i=z.indexOf(".",i+1)),i>-1&&(i=z.indexOf(".",i+1)),t=z.substring(i+1,z.length),t.toLowerCase()==c.toLowerCase()&&(cs=1),t=z.substring(0,i),(i=t.lastIndexOf("."))>-1&&(t=t.substring(i+1,t.length),cn=t*1));(cs==0||_ufns==0)&&(t=_uGC(dc,"__utma="+_DomainHash+".",";"),(i=t.lastIndexOf("."))>9&&(_uns=t.substring(i+1,t.length),_uns=_uns*1),cn++,_uns==0&&(_uns=1),_DomainHash=getUniversalDomainHash(),_uInitialSessionTime=getUniversalInitialSessionTime(),_uBrowserDocument.cookie="__utmz="+_DomainHash+"."+_uInitialSessionTime+"."+_uns+"."+cn+"."+c+"; path="+_utcp+"; "+x+_udo)}}function getUniversalDomainHash(){var cookieValue=_uGetCookie("_ga");return cookieValue?cookieValue.split(".")[2]:_DomainHash}function getUniversalInitialSessionTime(){var cookieValue=_uGetCookie("_ga");return cookieValue?cookieValue.split(".")[3]:_uInitialSessionTime}function _uRef(){var i,h,k,n,ii;if(_ur=="0"||_ur==""||_ur=="-"||(i=0,(i=_ur.indexOf("://"))<0||_uGCse()))return"";for(h=_ur.substring(i+3,_ur.length),h.indexOf("/")>-1&&(k=h.substring(h.indexOf("/"),h.length),k.indexOf("?")>-1&&(k=k.substring(0,k.indexOf("?"))),h=h.substring(0,h.indexOf("/"))),h=h.toLowerCase(),n=h,(i=n.indexOf(":"))>-1&&(n=n.substring(0,i)),ii=0;ii<_uRno.length;ii++)if((i=n.indexOf(_uRno[ii].toLowerCase()))>-1&&n.length==i+_uRno[ii].length){_ufno=1;break}return h.indexOf("www.")==0&&(h=h.substring(4,h.length)),"utmccn=(referral)|utmcsr="+_uEC(h)+"|utmcct="+_uEC(k)+"|utmcmd=referral"}function _uOrg(t){var i,h,k,ii,yy;if(_ur=="0"||_ur==""||_ur=="-"||(i=0,(i=_ur.indexOf("://"))<0||_uGCse()))return"";for(h=_ur.substring(i+3,_ur.length),h.indexOf("/")>-1&&(h=h.substring(0,h.indexOf("/"))),ii=0;ii<_uOsr.length;ii++)if(h.toLowerCase().indexOf(_uOsr[ii].toLowerCase())>-1&&((i=_ur.indexOf("?"+_uOkw[ii]+"="))>-1||(i=_ur.indexOf("&"+_uOkw[ii]+"="))>-1)){for(k=_ur.substring(i+_uOkw[ii].length+2,_ur.length),(i=k.indexOf("&"))>-1&&(k=k.substring(0,i)),yy=0;yy<_uOno.length;yy++)if(_uOno[yy].toLowerCase()==k.toLowerCase()){_ufno=1;break}return t?_uEC(k):"utmccn=(organic)|utmcsr="+_uEC(_uOsr[ii])+"|utmctr="+_uEC(k)+"|utmcmd=organic"}return""}function _uGCse(){var h,p;return h=p=_ur.split("://")[1],h.indexOf("/")>-1&&(h=h.split("/")[0],p=p.substring(p.indexOf("/")+1,p.length)),p.indexOf("?")>-1&&(p=p.split("?")[0]),h.toLowerCase().indexOf("google")>-1&&(_ur.indexOf("?q=")>-1||_ur.indexOf("&q=")>-1)&&p.toLowerCase().indexOf("cse")>-1?!0:void 0}function _uGC(l,n,s){if(!l||l==""||!n||n==""||!s||s=="")return"-";var i,i2,i3,c="-";return i=l.indexOf(n),i3=n.indexOf("=")+1,i>-1&&(i2=l.indexOf(s,i),i2<0&&(i2=l.length),c=l.substring(i+i3,i2)),c}function _uDomain(){if(!_udn||_udn==""||_udn=="none")return _udn="",1;if(_udn=="auto"){var d=_uBrowserDocument.domain;d.substring(0,4)=="www."&&(d=d.substring(4,d.length));_udn=d}return(_udn=_udn.toLowerCase(),_uhash=="off")?1:_uHash(_udn)}function _uHash(d){var h,g,i,c;if(!d||d=="")return 1;for(h=0,g=0,i=d.length-1;i>=0;i--)c=parseInt(d.charCodeAt(i)),h=(h<<6&268435455)+c+(c<<14),(g=h&266338304)!=0&&(h=h^g>>21);return h}function _uEC(s){var n="",i;if(!s||s=="")return"";for(i=0;i<s.length;i++)n+=s.charAt(i)==" "?"+":s.charAt(i);return n}function _uIN(n){var i,c;if(!n)return!1;for(i=0;i<n.length;i++)if(c=n.charAt(i),(c<"0"||c>"9")&&c!=".")return!1;return!0}function _uEncodeString(s,u){return typeof encodeURIComponent=="function"?u?encodeURI(s):encodeURIComponent(s):escape(s)}function _uDecodeString(s){return typeof decodeURIComponent=="function"?decodeURIComponent(s):unescape(s)}function _uVG(){return(_udn.indexOf("www.google.")==0||_udn.indexOf(".google.")==0||_udn.indexOf("google.")==0)&&_utcp=="/"&&_udn.indexOf("google.org")==-1?!1:!0}function _uGetCookieExpire(){return new Date((new Date).getTime()+63072e6).toGMTString()}function _uGetCookie(name){var value="; "+document.cookie,parts=value.split("; "+name+"=");if(parts.length==2)return parts.pop().split(";").shift()}var _udn="auto",_uhash="on",_utimeout="1800",_ulink=0,_uanchor=0,_utcp="/",_ucto="15768000",_uccn="utm_campaign",_ucmd="utm_medium",_ucsr="utm_source",_uctr="utm_term",_ucct="utm_content",_ucid="utm_id",_ucno="utm_nooverride",_uOsr=[],_uOkw=[],initialize;_uOsr[0]="google";_uOkw[0]="q";_uOsr[1]="yahoo";_uOkw[1]="p";_uOsr[2]="msn";_uOkw[2]="q";_uOsr[3]="aol";_uOkw[3]="query";_uOsr[4]="aol";_uOkw[4]="encquery";_uOsr[5]="lycos";_uOkw[5]="query";_uOsr[6]="ask";_uOkw[6]="q";_uOsr[7]="altavista";_uOkw[7]="q";_uOsr[8]="netscape";_uOkw[8]="query";_uOsr[9]="cnn";_uOkw[9]="query";_uOsr[10]="looksmart";_uOkw[10]="qt";_uOsr[11]="about";_uOkw[11]="terms";_uOsr[12]="mamma";_uOkw[12]="query";_uOsr[13]="alltheweb";_uOkw[13]="q";_uOsr[14]="gigablast";_uOkw[14]="q";_uOsr[15]="voila";_uOkw[15]="rdata";_uOsr[16]="virgilio";_uOkw[16]="qs";_uOsr[17]="live";_uOkw[17]="q";_uOsr[18]="baidu";_uOkw[18]="wd";_uOsr[19]="alice";_uOkw[19]="qs";_uOsr[20]="yandex";_uOkw[20]="text";_uOsr[21]="najdi";_uOkw[21]="q";_uOsr[22]="aol";_uOkw[22]="q";_uOsr[23]="club-internet";_uOkw[23]="query";_uOsr[24]="mama";_uOkw[24]="query";_uOsr[25]="seznam";_uOkw[25]="q";_uOsr[26]="search";_uOkw[26]="q";_uOsr[27]="wp";_uOkw[27]="szukaj";_uOsr[28]="onet";_uOkw[28]="qt";_uOsr[29]="netsprint";_uOkw[29]="q";_uOsr[30]="google.interia";_uOkw[30]="q";_uOsr[31]="szukacz";_uOkw[31]="q";_uOsr[32]="yam";_uOkw[32]="k";_uOsr[33]="pchome";_uOkw[33]="q";_uOsr[34]="kvasir";_uOkw[34]="searchExpr";_uOsr[35]="sesam";_uOkw[35]="q";_uOsr[36]="ozu";_uOkw[36]="q";_uOsr[37]="terra";_uOkw[37]="query";_uOsr[38]="nostrum";_uOkw[38]="query";_uOsr[39]="mynet";_uOkw[39]="q";_uOsr[40]="ekolay";_uOkw[40]="q";_uOsr[41]="search.ilse";_uOkw[41]="search_for";_uOsr[42]="bing";_uOkw[42]="q";var _uOno=[],_uRno=[],_uff,_DomainHash,_udt,_ubl=0,_udo="",_uu,_ufns=0,_uns=0,_ur="-",_ufno=0,_uInitialSessionTime=0,_uBrowserDocument=document,_udl=_uBrowserDocument.location,_udlh="",_uwv="1.4";return _udl.hash&&(_udlh=_udl.href.substring(_udl.href.indexOf("#"))),_utcp&&_utcp!=""||(_utcp="/"),initialize=function(page){if(_udl.protocol!="file:"&&(!_uff||page&&page!="")){var a,b,c,xx,v,z,k,x="",s="",f=0,nv=0,nx=" expires="+_uGetCookieExpire()+";",dc=_uBrowserDocument.cookie;(_DomainHash=_uDomain(),_uVG())&&(_uu=Math.round(Math.random()*2147483647),_udt=new Date,_uInitialSessionTime=Math.round(_udt.getTime()/1e3),_udn&&_udn!=""&&(_udo=" domain="+_udn+";"),_utimeout&&_utimeout!=""&&(x=new Date(_udt.getTime()+_utimeout*1e3),x=" expires="+x.toGMTString()+";"),_ulink&&(_uanchor&&_udlh&&_udlh!=""&&(s=_udlh+"&"),s+=_udl.search,s&&s!=""&&s.indexOf("__utma=")>=0&&(_uIN(a=_uGC(s,"__utma=","&"))||(a="-"),_uIN(b=_uGC(s,"__utmb=","&"))||(b="-"),_uIN(c=_uGC(s,"__utmc=","&"))||(c="-"),v=_uGC(s,"__utmv=","&"),z=_uGC(s,"__utmz=","&"),k=_uGC(s,"__utmk=","&"),xx=_uGC(s,"__utmx=","&"),k*1!=_uHash(a+b+c+xx+z+v)*1+_DomainHash*1&&(_ubl=1,a="-",b="-",c="-",xx="-",z="-",v="-"),a!="-"&&b!="-"&&c!="-"?f=1:a!="-"&&(f=2))),_uCInfo())}},{initialize:initialize}}();typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.GetMobileApp=function(options){options=$.extend({buttonText:"Get App",textApplicationSource:null,placeholder:"Enter phone # to download",orangeButton:!1},options);var _self=this;this.statusMessage=ko.observable();this.validPhoneNumber=ko.observable(!0);this.showStatusMessage=ko.observable(!1);this.enable=ko.observable(!0);this.number=ko.observable();this.buttonText=ko.observable(options.buttonText);this.orangeButton=ko.observable(options.orangeButton);this.isError=ko.observable(!1);this.placeholder=options.placeholder;this.textApp=function(){_self.showStatusMessage(!1);_self.isError(!1);_self.number()&&(_self.enable(!1),_self.buttonText("Sending..."),$.ajax({type:"POST",url:"/Calendar/TextApplication",data:{phoneNumber:_self.number(),textApplicationSource:options.textApplicationSource},async:!0,success:function(result){result?_self.buttonText("Sent!"):(_self.enable(!0),_self.showStatusMessage(!0),_self.isError(!0),_self.buttonText(options.buttonText),_self.statusMessage("Error! Link wasn't sent."))},error:function(xhr,ajaxOptions,thrownError){_self.enable(!0);_self.showStatusMessage(!0);_self.isError(!0);_self.buttonText(options.buttonText);_self.statusMessage("Server error.")}}))}};typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.LogonPopup=function(params){var _self=this;params=$.extend({email:null,mode:"signin"},params);this.mode=ko.observable(params.mode);this.email=ko.observable(params.email);this.password=ko.observable(params.password);this.newPassword=ko.observable();this.confirmPassword=ko.observable();this.validationMessage=ko.observable();this.showPasswordResetMessage=ko.observable(!1);this.passwordResetMessageEmail=ko.observable();this.mode.subscribe(function(){_self.showPasswordResetMessage(!1)});this.resetPassword=function(){$("#ForgotPasswordForm .formErrors").hide();$("#ForgotPasswordForm").valid()&&($("#SignInDialog").activity(),ajaxData=$("#ForgotPasswordForm").formToArray(!0),LSHelper.HelperLib.blockUI($("#SignInDialog")),$.ajax({type:"POST",url:GetUrl("ForgotPasswordEnterEmail","Account"),data:ajaxData,success:function(data){$("#SignInDialog").activity(!1);data.success?(_self.mode("signin"),LSHelper.HelperLib.unblockUI($("#SignInDialog")),_self.passwordResetMessageEmail(_self.email()),_self.showPasswordResetMessage(!0)):($("#ForgotPasswordForm .formErrors").html(data.error),$("#ForgotPasswordForm .formErrors").show(),LSHelper.HelperLib.unblockUI($("#SignInDialog")),$("#ForgotPasswordForm #Email").focus())},error:function(){$("#SignInDialog").activity(!1);$("#ForgotPasswordForm .formErrors").text("Unable to communicate with server. Please refresh your browser and try again.");$("#ForgotPasswordForm .formErrors").show();LSHelper.HelperLib.unblockUI($("#SignInDialog"));$("#ForgotPasswordForm #Email").focus()}}))};_self.changePassword=function(){$("#changePasswordForm").valid()&&(_self.password()==_self.newPassword()&&_self.validationMessage("New password should be different from the old one"),$("#SignInDialog").activity(),LSHelper.HelperLib.blockUI($("#SignInDialog")),_self.validationMessage(null),$.ajax({url:"/Account/ChangePasswordAndEnable",type:"POST",data:{email:_self.email(),oldPassword:_self.password(),newPassword:_self.newPassword(),confirmPassword:_self.confirmPassword()},success:function(data){data.success?(_self.password(),$.ajax({type:"POST",url:"/Account/LogOnPopUp",data:{userName:_self.email(),password:_self.newPassword()},success:function(data){data.success==!0?data.showTermsOfUse?showTermsOfUse(data):loginSuccess(data):_self.mode("signin")},complete:function(){$("#SignInDialog").activity(!1);LSHelper.HelperLib.unblockUI($("#SignInDialog"))}})):(_self.validationMessage(data.message),$("#SignInDialog").activity(!1),LSHelper.HelperLib.unblockUI($("#SignInDialog")))},error:function(){$("#SignInDialog").activity(!1);LSHelper.HelperLib.unblockUI($("#SignInDialog"))}}))}},function($){"use strict";function MultipleSelect($el,options){var that=this,elWidth=$el.width();this.$el=$el.hide();this.options=options;this.$parent=$('<div class="ms-parent"><\/div>');this.$choice=$('<div class="ms-choice"><span class="placeholder">'+options.placeholder+"<\/span><div><\/div><\/div>");this.$drop=$('<div class="ms-drop"><\/div>');this.$el.after(this.$parent);this.$parent.append(this.$choice);this.$parent.append(this.$drop);this.$el.prop("disabled")&&this.$choice.addClass("disabled");this.$choice.css("width",elWidth+"px").find("span").css("width",elWidth-31+"px");this.$drop.css({width:(options.width||elWidth)+"px"});$("body").click(function(e){$(e.target)[0]!==that.$choice[0]&&$(e.target).parents(".ms-choice")[0]!==that.$choice[0]&&($(e.target)[0]===that.$drop[0]||$(e.target).parents(".ms-drop")[0]!==that.$drop[0])&&that.close()});this.options.isopen&&this.open()}MultipleSelect.prototype={constructor:MultipleSelect,init:function(){var that=this,html=[];this.options.filter&&html.push('<div class="ms-search">','<input type="text" autocomplete="off" autocorrect="off" autocapitilize="off" spellcheck="false">',"<\/div>");html.push("<ul>");this.options.selectAll&&html.push("<li>","<label>",'<input type="checkbox" name="selectAll" /> ',this.options.selectAllText,"<\/label>","<\/li>");$.each(this.$el.children(),function(i,elm){html.push(that.optionToHtml(i,elm))});html.push("<\/ul>");this.$drop.html(html.join(""));this.$drop.find("ul").css("max-height",this.options.maxHeight+"px");this.$drop.find(".multiple").css("width",isNaN(parseInt(this.options.multipleWidth))?this.options.multipleWidth:this.options.multipleWidth+"px");this.$searchInput=this.$drop.find(".ms-search input");this.$selectAll=this.$drop.find('input[name="selectAll"]');this.$selectGroups=this.$drop.find("label.optgroup");this.$selectItems=this.$drop.find('input[name="selectItem"]:enabled');this.$disableItems=this.$drop.find('input[name="selectItem"]:disabled');this.events();this.update()},optionToHtml:function(i,elm,group,groupDisabled){var that=this,$elm=$(elm),html=[],multiple=this.options.multiple;if($elm.is("option")){var value=$elm.val(),text=$elm.text(),selected=$elm.prop("selected"),disabled=groupDisabled||$elm.prop("disabled");html.push("<li"+(multiple?' class="multiple"':"")+">","<label"+(disabled?' class="disabled"':"")+">",'<input type="'+(multiple?"checkbox":"radio")+'" name="selectItem" value="'+value+'"style="'+(multiple?'"':'display:none;"')+(selected?' checked="checked"':"")+(disabled?' disabled="disabled"':"")+(group?' data-group="'+group+'"':"")+"/> ",text,"<\/label>","<\/li>")}else if(!group&&$elm.is("optgroup")){var _group="group_"+i,label=$elm.attr("label"),disabled=$elm.prop("disabled");html.push('<li class="group">','<label class="optgroup'+(disabled?" disabled":"")+'" data-group="'+_group+'">',label,"<\/label>","<\/li>");$.each($elm.children(),function(i,elm){html.push(that.optionToHtml(i,elm,_group,disabled))})}return html.join("")},events:function(){var that=this;this.$choice.off("click").on("click",function(){that[that.options.isopen?"close":"open"]()});this.$searchInput.off("keyup").on("keyup",function(){that.filter()});this.$selectAll.parent().off("click").on("click",function(ev){that.$selectAll.click();that.$selectAll[0].checked=!that.$selectAll[0].checked;ev.stopPropagation()});this.$selectAll.off("click").on("click",function(ev){ev.stopPropagation();var checked=$(this).prop("checked"),$items=that.$selectItems.filter(":visible");$items.length===that.$selectItems.length?that[checked?"checkAll":"uncheckAll"]():($items.prop("checked",checked),that.update())});this.$selectGroups.off("click").on("click",function(){var group=$(this).attr("data-group"),$items=that.$selectItems.filter(":visible"),$children=$items.filter('[data-group="'+group+'"]'),checked=$children.length!==$children.filter(":checked").length;$children.prop("checked",checked);that.updateSelectAll();that.update();that.options.onOptgroupClick({label:$(this).text(),checked:checked,children:$children.get()})});this.$selectItems.parent().off("click").on("click",function(ev){var $input,value,checked,$realEl;ev.stopPropagation();ev.preventDefault();that.options.multiple||that.close();$input=$(this).find("input");value=$input.val();$input.prop("checked",!$input.prop("checked"));checked=$input.prop("checked");$realEl=that.$el.find("[value='"+value+"']");checked?(that.options.multiple||that.$el.find("[selected]").removeAttr("selected"),$realEl.attr("selected","selected")):$realEl.removeAttr("selected");that.updateSelectAll();that.update();that.options.onClick({label:$(this).text(),value:value,checked:checked})})},open:function(){this.$choice.hasClass("disabled")||(this.options.isopen=!0,this.$choice.find(">div").addClass("open"),this.$drop.show(),this.options.filter&&(this.$searchInput.val(""),this.filter()),this.options.onOpen(),this.updateSelectAll())},close:function(){this.options.isopen=!1;this.$choice.find(">div").removeClass("open");this.$drop.hide();this.options.onClose()},update:function(){var selects=this.getSelects("text"),$span=this.$choice.find(">span");selects.length?selects.length==this.$selectItems.length&&this.options.allSelectedText?$span.removeClass("placeholder").html(this.options.allSelectedText):$span.removeClass("placeholder").html(selects.join(",")):$span.addClass("placeholder").html(this.options.placeholder);this.$el.val(this.getSelects())},updateSelectAll:function(){var $items=this.$selectItems.filter(":visible");this.$selectAll.prop("checked",$items.length&&$items.length===$items.filter(":checked").length)},getSelects:function(type){var values=[];return this.$drop.find('input[name="selectItem"]:checked').each(function(){values.push(type==="text"?$(this).parent().text():$(this).val())}),values},setSelects:function(values){var that=this;this.$selectItems.prop("checked",!1);$.each(values,function(i,value){that.$selectItems.filter('[value="'+value+'"]').prop("checked",!0)});this.$selectAll.prop("checked",this.$selectItems.length===this.$selectItems.filter(":checked").length);this.update()},enable:function(){this.$choice.removeClass("disabled")},disable:function(){this.$choice.addClass("disabled")},checkAll:function(){var that=this;this.$selectItems.prop("checked",!0);this.$selectAll.prop("checked",!0);this.update();this.options.onCheckAll()},uncheckAll:function(){var that=this;this.$selectItems.prop("checked",!1);this.$selectAll.prop("checked",!1);this.update();this.options.onUncheckAll()},refresh:function(){this.init()},filter:function(){var that=this,text=$.trim(this.$searchInput.val()).toLowerCase();text.length===0?(this.$selectItems.parent().show(),this.$disableItems.parent().show(),this.$selectGroups.show()):(this.$selectItems.each(function(){var $parent=$(this).parent();$parent[$parent.text().toLowerCase().indexOf(text)<0?"hide":"show"]()}),this.$disableItems.parent().hide(),this.$selectGroups.each(function(){var group=$(this).attr("data-group"),$items=that.$selectItems.filter(":visible");$(this)[$items.filter('[data-group="'+group+'"]').length===0?"hide":"show"]()}));this.updateSelectAll()}};$.fn.multipleSelect=function(){var option=arguments[0],args=arguments,value,allowedMethods=["getSelects","setSelects","enable","disable","checkAll","uncheckAll","refresh"];return this.each(function(){var $this=$(this),data=$this.data("multipleSelect"),options=$.extend({},$.fn.multipleSelect.defaults,typeof option=="object"&&option);if(data||(data=new MultipleSelect($this,options),$this.data("multipleSelect",data)),typeof option=="string"){if($.inArray(option,allowedMethods)<0)throw"Unknown method: "+option;value=data[option](args[1])}else data.init()}),value?value:this};$.fn.multipleSelect.defaults={isopen:!1,placeholder:"",selectAll:!0,selectAllText:"Select all",multiple:!1,multipleWidth:80,filter:!1,width:undefined,maxHeight:250,allSelectedText:undefined,onOpen:function(){return!1},onClose:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onOptgroupClick:function(){return!1},onClick:function(){return!1}}}(jQuery),function($){function div(){return $("<div/>")}var abs=Math.abs,max=Math.max,min=Math.min,round=Math.round;$.imgAreaSelect=function(img,options){function viewX(x){return x+imgOfs.left-parOfs.left}function viewY(y){return y+imgOfs.top-parOfs.top}function selX(x){return x-imgOfs.left+parOfs.left}function selY(y){return y-imgOfs.top+parOfs.top}function evX(event){var coords=touchCoords(event)||event,x;if(x=parseInt(coords.pageX))return x-parOfs.left}function evY(event){var coords=touchCoords(event)||event,y;if(y=parseInt(coords.pageY))return y-parOfs.top}function touchCoords(event){var oev=event.originalEvent||{};return oev.touches&&oev.touches.length?oev.touches[0]:!1}function getSelection(noScale){var sx=noScale||scaleX,sy=noScale||scaleY;return{x1:round(selection.x1*sx),y1:round(selection.y1*sy),x2:round(selection.x2*sx)-1,y2:round(selection.y2*sy)-1,width:round(selection.x2*sx)-round(selection.x1*sx),height:round(selection.y2*sy)-round(selection.y1*sy)}}function setSelection(x1,y1,x2,y2,noScale){var sx=noScale||scaleX,sy=noScale||scaleY;selection={x1:round(x1/sx||0),y1:round(y1/sy||0),x2:round(++x2/sx||0),y2:round(++y2/sy||0)};selection.width=selection.x2-selection.x1;selection.height=selection.y2-selection.y1}function adjust(){imgLoaded&&$img.width()&&(imgOfs={left:round($img.offset().left),top:round($img.offset().top)},imgWidth=$img.innerWidth(),imgHeight=$img.innerHeight(),imgOfs.top+=$img.outerHeight()-imgHeight>>1,imgOfs.left+=$img.outerWidth()-imgWidth>>1,minWidth=round(options.minWidth/scaleX)||0,minHeight=round(options.minHeight/scaleY)||0,maxWidth=round(min(options.maxWidth/scaleX||16777216,imgWidth)),maxHeight=round(min(options.maxHeight/scaleY||16777216,imgHeight)),parOfs=position=="fixed"?{left:$(document).scrollLeft(),top:$(document).scrollTop()}:/static|^$/.test($parent.css("position"))?{left:0,top:0}:{left:round($parent.offset().left)-$parent.scrollLeft(),top:round($parent.offset().top)-$parent.scrollTop()},left=viewX(0),top=viewY(0),(selection.x2>imgWidth||selection.y2>imgHeight)&&fixAreaCoords())}function update(resetKeyPress){if(shown){$box.css({left:viewX(selection.x1),top:viewY(selection.y1)}).add($area).width(w=selection.width).height(h=selection.height);$area.add($border).add($handles).css({left:0,top:0});$border.add($outer).width(max(w-$border.outerWidth()+$border.innerWidth(),0)).height(max(h-$border.outerHeight()+$border.innerHeight(),0));$outer.css({left:left,top:top,width:w,height:h,borderStyle:"solid",borderWidth:selection.y1+"px "+(imgWidth-selection.x2)+"px "+(imgHeight-selection.y2)+"px "+selection.x1+"px"});w-=$handles.outerWidth();h-=$handles.outerHeight();switch($handles.length){case 8:$($handles[4]).css({left:w>>1});$($handles[5]).css({left:w,top:h>>1});$($handles[6]).css({left:w>>1,top:h});$($handles[7]).css({top:h>>1});case 4:$handles.slice(1,3).css({left:w});$handles.slice(2,4).css({top:h})}resetKeyPress!==!1&&($.imgAreaSelect.keyPress!=docKeyPress&&$(document).unbind($.imgAreaSelect.keyPress,$.imgAreaSelect.onKeyPress),options.keys&&$(document)[$.imgAreaSelect.keyPress]($.imgAreaSelect.onKeyPress=docKeyPress))}}function doUpdate(resetKeyPress){adjust();update(resetKeyPress);x1=viewX(selection.x1);y1=viewY(selection.y1);x2=viewX(selection.x2);y2=viewY(selection.y2)}function hide($elem,fn){options.fadeDuration?$elem.fadeOut(options.fadeDuration,fn):$elem.hide()}function breakWhenNoTouch(event){return touch&&!/^touch/.test(event.type)}function checkResize(event){var x=selX(evX(event))-selection.x1,y=selY(evY(event))-selection.y1;resize="";options.resizable&&(y<=options.resizeMargin?resize="n":y>=selection.height-options.resizeMargin&&(resize="s"),x<=options.resizeMargin?resize+="w":x>=selection.width-options.resizeMargin&&(resize+="e"));$box.css("cursor",resize?resize+"-resize":options.movable?"move":"")}function areaMouseMove(event){if(!breakWhenNoTouch(event)){if(!adjusted){adjust();adjusted=!0;$box.one("mouseout",function(){adjusted=!1})}checkResize(event)}}function docMouseUp(event){touch=!1;$("body").css("cursor","");(options.autoHide||selection.width*selection.height==0)&&hide($box.add($outer),function(){$(this).hide()});$(document).off("mousemove touchmove",selectingMouseMove);$box.on("mousemove touchmove",areaMouseMove);if(event)options.onSelectEnd(img,getSelection())}function areaMouseDown(event){if(event.type=="mousedown"&&event.which!=1)return!1;if(event.type=="touchstart"?(touch&&docMouseUp(),touch=!0,checkResize(event)):adjust(),resize){x1=viewX(selection["x"+(1+/w/.test(resize))]);y1=viewY(selection["y"+(1+/n/.test(resize))]);x2=viewX(selection["x"+(1+!/w/.test(resize))]);y2=viewY(selection["y"+(1+!/n/.test(resize))]);edgeX=x2-evX(event);edgeY=y2-evY(event);$(document).on("mousemove touchmove",selectingMouseMove).one("mouseup touchend",docMouseUp);$box.off("mousemove touchmove",areaMouseMove)}else if(options.movable){startX=left+selection.x1-evX(event);startY=top+selection.y1-evY(event);$box.off("mousemove touchmove",areaMouseMove);$(document).on("mousemove touchmove",movingMouseMove).one("mouseup touchend",function(){touch=!1;options.onSelectEnd(img,getSelection());$(document).off("mousemove touchmove",movingMouseMove);$box.on("mousemove touchmove",areaMouseMove)})}else $img.mousedown(event);return!1}function fixAspectRatio(xFirst){aspectRatio&&(xFirst?(x2=max(left,min(left+imgWidth,x1+abs(y2-y1)*aspectRatio*(x2>x1||-1))),y2=round(max(top,min(top+imgHeight,y1+abs(x2-x1)/aspectRatio*(y2>y1||-1)))),x2=round(x2)):(y2=max(top,min(top+imgHeight,y1+abs(x2-x1)/aspectRatio*(y2>y1||-1))),x2=round(max(left,min(left+imgWidth,x1+abs(y2-y1)*aspectRatio*(x2>x1||-1)))),y2=round(y2)))}function fixAreaCoords(){x1=min(x1,left+imgWidth);y1=min(y1,top+imgHeight);abs(x2-x1)<minWidth&&(x2=x1-minWidth*(x2<x1||-1),x2<left?x1=left+minWidth:x2>left+imgWidth&&(x1=left+imgWidth-minWidth));abs(y2-y1)<minHeight&&(y2=y1-minHeight*(y2<y1||-1),y2<top?y1=top+minHeight:y2>top+imgHeight&&(y1=top+imgHeight-minHeight));x2=max(left,min(x2,left+imgWidth));y2=max(top,min(y2,top+imgHeight));fixAspectRatio(abs(x2-x1)<abs(y2-y1)*aspectRatio);abs(x2-x1)>maxWidth&&(x2=x1-maxWidth*(x2<x1||-1),fixAspectRatio());abs(y2-y1)>maxHeight&&(y2=y1-maxHeight*(y2<y1||-1),fixAspectRatio(!0));selection={x1:selX(min(x1,x2)),x2:selX(max(x1,x2)),y1:selY(min(y1,y2)),y2:selY(max(y1,y2)),width:abs(x2-x1),height:abs(y2-y1)}}function doResize(){fixAreaCoords();update();options.onSelectChange(img,getSelection())}function selectingMouseMove(event){if(!breakWhenNoTouch(event))return fixAreaCoords(),x2=/w|e|^$/.test(resize)||aspectRatio?evX(event)+edgeX:viewX(selection.x2),y2=/n|s|^$/.test(resize)||aspectRatio?evY(event)+edgeY:viewY(selection.y2),doResize(),!1}function doMove(newX1,newY1){x2=(x1=newX1)+selection.width;y2=(y1=newY1)+selection.height;$.extend(selection,{x1:selX(x1),y1:selY(y1),x2:selX(x2),y2:selY(y2)});update();options.onSelectChange(img,getSelection())}function movingMouseMove(event){if(!breakWhenNoTouch(event))return x1=max(left,min(startX+evX(event),left+imgWidth-selection.width)),y1=max(top,min(startY+evY(event),top+imgHeight-selection.height)),doMove(x1,y1),event.preventDefault(),!1}function startSelection(){$(document).off("mousemove touchmove",startSelection);adjust();x2=x1;y2=y1;doResize();resize="";$outer.is(":visible")||$box.add($outer).hide().fadeIn(options.fadeDuration||0);shown=!0;$(document).off("mouseup touchend",cancelSelection).on("mousemove touchmove",selectingMouseMove).one("mouseup touchend",docMouseUp);$box.off("mousemove touchmove",areaMouseMove);options.onSelectStart(img,getSelection())}function cancelSelection(){if($(document).off("mousemove touchmove",startSelection).off("mouseup touchend",cancelSelection),hide($box.add($outer)),setSelection(selX(x1),selY(y1),selX(x1),selY(y1)),!(this instanceof $.imgAreaSelect)){options.onSelectChange(img,getSelection());options.onSelectEnd(img,getSelection())}}function imgMouseDown(event){if(event.type=="mousedown"&&event.which!=1||$outer.is(":animated"))return!1;touch=event.type=="touchstart";adjust();startX=x1=evX(event);startY=y1=evY(event);edgeX=edgeY=0;$(document).on({"mousemove touchmove":startSelection,"mouseup touchend":cancelSelection});return!1}function windowResize(){doUpdate(!1)}function imgLoad(){imgLoaded=!0;setOptions(options=$.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},options));options.show&&(shown=!0,adjust(),update(),$box.add($outer).hide().fadeIn(options.fadeDuration||0));setTimeout(function(){options.onInit(img,getSelection())},0)}function setOptions(newOptions){if(newOptions.parent&&($parent=$(newOptions.parent)).append($box).append($outer),$.extend(options,newOptions),adjust(),newOptions.handles!=null){for($handles.remove(),$handles=$([]),i=newOptions.handles?newOptions.handles=="corners"?4:8:0;i--;)$handles=$handles.add(div());$handles.addClass(options.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:zIndex+1||1});!parseInt($handles.css("width"))>=0&&$handles.width(5).height(5)}for(scaleX=options.imageWidth/imgWidth||1,scaleY=options.imageHeight/imgHeight||1,newOptions.x1!=null&&(setSelection(newOptions.x1,newOptions.y1,newOptions.x2,newOptions.y2),newOptions.show=!newOptions.hide),newOptions.keys&&(options.keys=$.extend({shift:1,ctrl:"resize"},newOptions.keys)),$outer.addClass(options.classPrefix+"-outer"),$area.addClass(options.classPrefix+"-selection"),i=0;i++<4;)$($border[i-1]).addClass(options.classPrefix+"-border"+i);if($box.append($area.add($border)).append($handles),msie&&((o=($outer.css("filter")||"").match(/opacity=(\d+)/))&&$outer.css("opacity",o[1]/100),(o=($border.css("filter")||"").match(/opacity=(\d+)/))&&$border.css("opacity",o[1]/100)),newOptions.hide?hide($box.add($outer)):newOptions.show&&imgLoaded&&(shown=!0,$box.add($outer).fadeIn(options.fadeDuration||0),doUpdate()),aspectRatio=(d=(options.aspectRatio||"").split(/:/))[0]/d[1],$img.add($outer).off("mousedown touchstart",imgMouseDown),options.disable||options.enable===!1)$box.off({"mousemove touchmove":areaMouseMove,"mousedown touchstart":areaMouseDown}),$(window).off("resize",windowResize);else{if(options.enable||options.disable===!1){if(options.resizable||options.movable)$box.on({"mousemove touchmove":areaMouseMove,"mousedown touchstart":areaMouseDown});$(window).resize(windowResize)}if(!options.persistent)$img.add($outer).on("mousedown touchstart",imgMouseDown)}options.enable=options.disable=undefined}var $img=$(img),imgLoaded,$box=div(),$area=div(),$border=div().add(div()).add(div()).add(div()),$outer=div(),$handles=$([]),left,top,imgOfs={left:0,top:0},imgWidth,imgHeight,$parent,parOfs={left:0,top:0},zIndex=0,position="absolute",startX,startY,edgeX,edgeY,scaleX,scaleY,resize,minWidth,minHeight,maxWidth,maxHeight,aspectRatio,shown,x1,y1,x2,y2,selection={x1:0,y1:0,x2:0,y2:0,width:0,height:0},ua=navigator.userAgent,touch,$p,d,i,o,w,h,adjusted,docKeyPress=function(event){var k=options.keys,d,t,key=event.keyCode;if(d=!isNaN(k.alt)&&(event.altKey||event.originalEvent.altKey)?k.alt:!isNaN(k.ctrl)&&event.ctrlKey?k.ctrl:!isNaN(k.shift)&&event.shiftKey?k.shift:isNaN(k.arrows)?10:k.arrows,k.arrows=="resize"||k.shift=="resize"&&event.shiftKey||k.ctrl=="resize"&&event.ctrlKey||k.alt=="resize"&&(event.altKey||event.originalEvent.altKey)){switch(key){case 37:d=-d;case 39:t=max(x1,x2);x1=min(x1,x2);x2=max(t+d,x1);fixAspectRatio();break;case 38:d=-d;case 40:t=max(y1,y2);y1=min(y1,y2);y2=max(t+d,y1);fixAspectRatio(!0);break;default:return}doResize()}else{x1=min(x1,x2);y1=min(y1,y2);switch(key){case 37:doMove(max(x1-d,left),y1);break;case 38:doMove(x1,max(y1-d,top));break;case 39:doMove(x1+min(d,imgWidth-selX(x2)),y1);break;case 40:doMove(x1,y1+min(d,imgHeight-selY(y2)));break;default:return}}return!1},msie,safari;for(this.remove=function(){setOptions({disable:!0});$box.add($outer).remove()},this.getOptions=function(){return options},this.setOptions=setOptions,this.getSelection=getSelection,this.setSelection=setSelection,this.cancelSelection=cancelSelection,this.update=doUpdate,msie=(/msie ([\w.]+)/i.exec(ua)||[])[1],safari=/webkit/i.test(ua)&&!/chrome/i.test(ua),$p=$img;$p.length;)zIndex=max(zIndex,isNaN($p.css("z-index"))?zIndex:$p.css("z-index")),options.parent||$p.css("position")!="fixed"||(position="fixed"),$p=$p.parent(":not(body)");zIndex=options.zIndex||zIndex;$.imgAreaSelect.keyPress=msie||safari?"keydown":"keypress";$box.add($outer).hide().css({position:position,overflow:"hidden",zIndex:zIndex||"0"});$box.css({zIndex:zIndex+2||2});$area.add($border).css({position:"absolute",fontSize:0});img.complete||img.readyState=="complete"||!$img.is("img")?imgLoad():$img.one("load",imgLoad);!imgLoaded&&msie&&msie>=7&&(img.src=img.src)};$.fn.imgAreaSelect=function(options){return(options=options||{},this.each(function(){$(this).data("imgAreaSelect")?options.remove?($(this).data("imgAreaSelect").remove(),$(this).removeData("imgAreaSelect")):$(this).data("imgAreaSelect").setOptions(options):options.remove||(options.enable===undefined&&options.disable===undefined&&(options.enable=!0),$(this).data("imgAreaSelect",new $.imgAreaSelect(this,options)))}),options.instance)?$(this).data("imgAreaSelect"):this}}(jQuery),function(window,document){Croppic=function(obj,options){var that=this;that.obj=$(obj);that.outputDiv=that.obj;that.options={uploadUrl:"",uploadData:{},cropUrl:"",cropData:{},outputUrlId:"",zoomFactor:10,doubleZoomControls:!1,modal:!1,customUploadButtonId:"",loaderHtml:"",onBeforeImgUpload:null,onAfterImgUpload:null,onImgDrag:null,onImgZoom:null,onBeforeImgCrop:null,onAfterImgCrop:null,aspectRatio:null,initialWidth:null,initialHeight:null};for(i in options)that.options[i]=options[i];that.init()};Croppic.prototype={id:"",imgInitW:0,imgInitH:0,imgW:0,imgH:0,objW:0,objH:0,windowW:0,windowH:$(window).height(),obj:{},outputDiv:{},outputUrlObj:{},img:{},previewImg:{},form:{},cropControlsUpload:{},cropControlsCrop:{},cropControlZoomMuchIn:{},cropControlZoomMuchOut:{},cropControlZoomIn:{},cropControlZoomOut:{},cropControlCrop:{},cropControlReset:{},cropControlRemoveCroppedImage:{},modal:{},loader:{},areaSelect:{},init:function(){var that=this;that.objW=that.obj.width();that.objH=that.obj.height();that.createImgUploadControls();that.bindImgUploadControl()},createImgUploadControls:function(){var that=this,cropControlUpload="",cropControlRemoveCroppedImage,html;that.options.customUploadButtonId===""&&(cropControlUpload='<i class="cropControlUpload"><\/i>');cropControlRemoveCroppedImage='<i class="cropControlRemoveCroppedImage"><\/i>';html='<div class="cropControls cropControlsUpload"> '+cropControlUpload+" <\/div>";that.outputDiv.append(html);that.cropControlsUpload=that.outputDiv.find(".cropControlsUpload");that.options.customUploadButtonId===""?that.imgUploadControl=that.outputDiv.find(".cropControlUpload"):(that.imgUploadControl=that.outputDiv.find("#"+that.options.customUploadButtonId),that.imgUploadControl.show())},bindImgUploadControl:function(){var that=this,formHtml='<form class="_imgUploadForm" enctype="multipart/form-data" method="post" novalidate="novalidate"> <label class="file-input-label"> <input title="Upload new photo" type="file" name="img" class="ignore-jquery-validate"> <\/label> <\/form>';that.imgUploadControl.append(formHtml);that.form=that.imgUploadControl.find("._imgUploadForm");setTimeout(function(){that.form.find('input[type="file"]').change(function(){if(window.File&&window.FileReader&&window.FileList&&window.Blob&&that.form.find('input[type="file"]')[0].files[0].size>2e7){LSHelper.Dialog.alertDialog("Maximum allowed image size is 20MB");return}that.options.onBeforeImgUpload&&that.options.onBeforeImgUpload.call(that);that.showLoader();that.imgUploadControl.hide();that.form.ajaxSubmit({data:that.options.uploadData,url:that.options.uploadUrl,success:function(data){var response=$.parseJSON(data),sourceImageIsLessThanExpected,inited;if(response.status=="success")if(that.imgInitW=that.imgW=response.width,that.imgInitH=that.imgH=response.height,sourceImageIsLessThanExpected=response.width<.7*that.options.initialWidth||response.height<.7*that.options.initialHeight,that.objW=that.options.initialWidth,that.objH=that.options.initialHeight,that.options.modal&&that.createModal(),that.imgUrl=response.url,$(window).width()>600){that.obj.append('<div class="source-image-wrapper '+(sourceImageIsLessThanExpected?"sourceImageIsLessThanExpected":"")+'"><img class="source-image" src="'+response.url+'"><img width=0 height=0 class="preview-image"><\/div>');inited=!1;that.obj.find(".source-image").on("load",function(){inited||(inited=!0,that.hideLoader(),that.initCropper())})}else that.hideLoader(),that.reset();response.status=="error"&&(that.hideLoader(),that.reset());that.options.onAfterImgUpload&&that.options.onAfterImgUpload.call(that,response)},error:function(jqXHR,textStatus,errorThrown){that.hideLoader();that.reset();var message="Image uploading has failed. ";switch(textStatus){case"timeout":message+="Connection timed out";break;case"abort":message+="Connection aborted";break;default:message+="Connection error";break}that.options.onAfterImgUpload&&that.options.onAfterImgUpload.call(that,{status:"error",success:!1,message:message})}})})})},createModal:function(){var that=this,marginTop,modalHTML;that.hideLoader();marginTop=that.windowH/2-that.objH/2;modalHTML='<div id="croppicModal"><\/div>';$("body").append(modalHTML);that.modal=$("#croppicModal");that.obj=$("#croppicModal");that.showLoader()},destroyModal:function(){var that=this;that.obj=that.outputDiv;that.modal.remove()},initCropper:function(){var that=this,initialCropArea;if(that.img=that.obj.find(".source-image"),that.previewImg=that.obj.find(".preview-image"),that.img.parent().wrap('<div class="cropImgWrapper" style="overflow:hidden; z-index:1;"><\/div>'),that.createCropControls(),that.initialScaleImg(),initialCropArea={},that.options.aspectRatio||!$(that.img).innerWidth()){var aspectR=that.objW/that.objH,cropWidth=Math.min(that.imgW,that.objW),cropHeight=Math.round(cropWidth/aspectR);cropHeight>that.imgH&&(cropHeight=that.imgH,cropWidth=Math.round(aspectR*cropHeight));initialCropArea={x1:0,y1:0,x2:cropWidth-1,y2:cropHeight-1,show:!0}}else initialCropArea={x1:0,y1:0,x2:$(that.img).innerWidth()-1,y2:$(that.img).innerHeight()-1,show:!0};that.areaSelect=that.img.imgAreaSelect({x1:initialCropArea.x1,y1:initialCropArea.y1,x2:initialCropArea.x2,y2:initialCropArea.y2,show:initialCropArea.show,handles:!0,instance:!0,persistent:!0,aspectRatio:that.options.aspectRatio,onSelectChange:that.preview,onSelectEnd:function(img,selection){(selection.height==0||selection.width==0)&&(that.areaSelect.setSelection(initialCropArea.x1,initialCropArea.y1,initialCropArea.x2,initialCropArea.y2),that.areaSelect.setOptions({show:!0}),that.areaSelect.update());that.imgInitH/that.imgH*selection.height<.7*that.objH||that.imgInitW/that.imgW*selection.width<.7+that.objW?$(".cropImgWrapper").addClass("cropAreaIsLessThanExpected"):$(".cropImgWrapper").removeClass("cropAreaIsLessThanExpected")}})},preview:function(img,selection){},initialScaleImg:function(){var that=this;that.zoom(-that.imgInitW,!0);that.zoom(40,!0)},createCropControls:function(){var that=this,cropControlZoomMuchIn='<i class="cropControlZoomMuchIn"><\/i>',cropControlZoomIn='<i class="cropControlZoomIn"><\/i>',cropControlZoomOut='<i class="cropControlZoomOut"><\/i>',cropControlZoomMuchOut='<i class="cropControlZoomMuchOut"><\/i>',cropControlCrop='<i class="cropControlCrop"><\/i>',cropControlReset='<i class="cropControlReset"><\/i>',html,getSpan=function(text){return"<span class='crop-text'>"+text+"<\/span>"};html=that.options.doubleZoomControls?'<div class="cropControls cropControlsCrop">'+cropControlZoomMuchIn+cropControlZoomIn+cropControlZoomOut+cropControlZoomMuchOut+cropControlCrop+cropControlReset+"<\/div>":'<div class="cropControls cropControlsCrop"><div><span class="cropControlWrapper">'+cropControlZoomMuchIn+getSpan("Zoom in")+'<\/span><span class="cropControlWrapper">'+cropControlZoomMuchOut+getSpan("Zoom out")+'<\/span><span class="cropControlWrapper">'+cropControlCrop+getSpan("Save")+'<\/span><span class="cropControlWrapper">'+cropControlReset+getSpan("Cancel")+"<\/span><\/div><\/div>";that.img.parent().prepend(html);that.cropControlsCrop=that.obj.find(".cropControlsCrop");that.cropControlZoomMuchIn=that.cropControlsCrop.find(".cropControlZoomMuchIn");that.cropControlZoomMuchIn.on("click",function(){that.zoom(that.options.zoomFactor*10)});that.cropControlZoomMuchOut=that.cropControlsCrop.find(".cropControlZoomMuchOut");that.cropControlZoomMuchOut.on("click",function(){that.zoom(-that.options.zoomFactor*10)});if(that.options.doubleZoomControls){that.cropControlZoomIn=that.cropControlsCrop.find(".cropControlZoomIn");that.cropControlZoomIn.on("click",function(){that.zoom(that.options.zoomFactor)});that.cropControlZoomOut=that.cropControlsCrop.find(".cropControlZoomOut");that.cropControlZoomOut.on("click",function(){that.zoom(-that.options.zoomFactor)})}that.cropControlCrop=that.cropControlsCrop.find(".cropControlCrop");that.cropControlCrop.on("click",function(){that.crop()});that.cropControlReset=that.cropControlsCrop.find(".cropControlReset");that.cropControlReset.on("click",function(){that.reset()})},zoom:function(x,initialLoad){var that=this,ratio=that.imgW/that.imgH,newWidth=that.imgW+x,newHeight=newWidth/ratio,doPositioning=!0,rateX,rateY,selection;newWidth+x<80||newHeight+x*ratio<80||(initialLoad&&((newWidth<that.objW||newHeight<that.objH)&&(newWidth-that.objW<newHeight-that.objH?(newWidth=that.objW,newHeight=newWidth/ratio):(newHeight=that.objH,newWidth=ratio*newHeight),doPositioning=!1),(newWidth>that.imgInitW||newHeight>that.imgInitH)&&(newWidth-that.imgInitW<newHeight-that.imgInitH?(newWidth=that.imgInitW,newHeight=newWidth/ratio):(newHeight=that.imgInitH,newWidth=ratio*newHeight),doPositioning=!0)),newHeight>$(window).height()&&(newHeight=$(window).height()-150,newWidth=newHeight*ratio),newWidth>$(window).width()&&(newWidth=$(window).width()-100,newHeight=newWidth/ratio),newWidth=Math.round(newWidth),newHeight=Math.round(newHeight),rateX=newWidth/that.imgW,rateY=newHeight/that.imgH,that.imgW=newWidth,that.img.width(newWidth),that.imgH=newHeight,that.img.height(newHeight),that.areaSelect.getSelection&&(selection=that.areaSelect.getSelection(),isNaN(selection.x1)||(that.areaSelect.setSelection(selection.x1*rateX,selection.y1*rateY,selection.x2*rateX,selection.y2*rateY),that.areaSelect.update())),that.options.onImgZoom&&that.options.onImgZoom.call(that))},crop:function(){var that=this,areaOptions;that.options.onBeforeImgCrop&&that.options.onBeforeImgCrop.call(that);that.cropControlsCrop.hide();that.showLoader();areaOptions=that.areaSelect.getOptions();areaOptions.movable=!1;areaOptions.resizable=!1;areaOptions.x1=null;areaOptions.y1=null;areaOptions.x2=null;areaOptions.y2=null;that.areaSelect.setOptions(areaOptions);var selection=that.areaSelect.getSelection(),cropData={imgInitW:that.imgInitW,imgInitH:that.imgInitH,imgW:that.imgW,imgH:that.imgH,imgY1:selection.y1,imgX1:selection.x1,cropH:selection.y2-selection.y1,cropW:selection.x2-selection.x1},dataToSend=$.extend(cropData,that.options.cropData);that.form.ajaxSubmit({data:dataToSend,url:that.options.cropUrl,success:function(data){var response=$.parseJSON(data);response.status=="success"&&(that.destroy(),that.options.outputUrlId!==""&&$("#"+that.options.outputUrlId).val(response.url),that.init(),that.hideLoader(),that.areaSelect.cancelSelection());response.status=="error"&&that.obj.append('<p style="width:100%; height:100%;>'+response.message+'<\/p>">');that.options.onAfterImgCrop&&that.options.onAfterImgCrop.call(that,response)}})},showLoader:function(elem){var that=this;elem=elem!=null?elem:that.obj;that.obj.append(that.options.loaderHtml);that.loader=that.obj.children().last()},hideLoader:function(){var that=this;that.loader.remove()},reset:function(){var that=this;that.areaSelect&&that.areaSelect.remove&&that.areaSelect.remove();that.destroy();that.init()},destroy:function(){var that=this;that.options.modal&&!$.isEmptyObject(that.modal)&&that.destroyModal();$.isEmptyObject(that.cropControlsUpload)||that.cropControlsUpload.remove();$.isEmptyObject(that.cropControlsCrop)||that.cropControlsCrop.remove();$.isEmptyObject(that.loader)||that.loader.remove();$.isEmptyObject(that.form)||that.form.remove()}}}(window,document);window.LSHelper=window.LSHelper||{};LSHelper.imageUpload=function(data,rootElem,options){var settings=$.extend({afterCropCallback:function(){},afterDeleteCallback:function(){},afterUploadCallback:function(){},onBeforeImgUpload:function(){},onBeforeImgCrop:function(){}},options),_this=this;_this.viewModel=ko.mapping.fromJS(data);_this.viewModel.noInitialPicture=_this.viewModel.PictureId()==null||_this.viewModel.PictureId()=="00000000-0000-0000-0000-000000000000";_this.viewModel.pregeneratedPictureId=ko.computed(function(){return _this.viewModel.noInitialPicture?_this.viewModel.PictureId():"00000000-0000-0000-0000-000000000000"});_this.viewModel.showDeleteButton||(_this.viewModel.showDeleteButton=ko.observable(!0));_this.viewModel.PictureUrl=ko.observable(_this.viewModel.EmptyImage());_this.viewModel.Loading=ko.observable(!1);_this.viewModel.buttonText=ko.computed(function(){return _this.viewModel.PictureId()!="00000000-0000-0000-0000-000000000000"&&_this.viewModel.Loading()==!1&&_this.viewModel.PictureId()!=null?"Change":"Upload"});_this.viewModel.setPictureUrl=function(){_this.viewModel.PictureUrl(GetUrl("Index","Picture")+"?maxWidth="+_this.viewModel.Width()+"&maxHeight="+_this.viewModel.Height()+"&crop="+_this.viewModel.Crop()+"&id="+_this.viewModel.PictureId()+"&timestamp="+(new Date).getTime())};_this.viewModel.noImage=ko.computed(function(){return(_this.viewModel.PictureId()==null||_this.viewModel.PictureId()=="00000000-0000-0000-0000-000000000000")&&!_this.viewModel.Loading()});_this.viewModel.showDelete=ko.computed(function(){return!_this.viewModel.noImage()&&_this.viewModel.showDeleteButton()==!0});data.HasImage&&_this.viewModel.setPictureUrl();_this.viewModel.deleteFunc=function(){LSHelper.Dialog.confirmDialog("Are you sure you want to delete this image?",function(){LSHelper.HelperLib.blockUI();_this.viewModel.deleteImage(function(){settings.afterDeleteCallback()})},null,null,"Yes",null,"No","imageDeleteConfirmDialog")};_this.viewModel.deleteImage=function(onSuccess){var postData={Id:_this.viewModel.PictureDbOwnerId(),pictureType:_this.viewModel.PictureType(),pictureId:_this.viewModel.PictureId()};$.ajax({type:"POST",url:GetUrl("DeletePicture","Picture"),data:postData,success:function(data){onSuccess!=null&&onSuccess(data);_this.viewModel.PictureId(null);_this.viewModel.PictureUrl(_this.viewModel.EmptyImage());setUploaderParams()},complete:function(){LSHelper.HelperLib.unblockUI()}})};var setUploaderParams=function(){var data={pictureId:_this.viewModel.PictureId(),id:_this.viewModel.PictureDbOwnerId(),pictureType:_this.viewModel.PictureType(),tags:_this.viewModel.Tag()};_this.viewModel.cropContainerModal.options.uploadData=_this.viewModel.cropContainerModal.options.cropData=data},initUploader=function(){var afterUpload=function(data){var timestamp=(new Date).getTime();data.status=="success"?(_this.viewModel.PictureId(data.id),_this.viewModel.setPictureUrl()):data.message!=undefined&&LSHelper.Dialog.alertDialog(data.message,null,function(){});_this.viewModel.Loading(!1);LSHelper.HelperLib.unblockUI();setUploaderParams()},croppicContainerModalOptions={uploadUrl:GetUrl("SaveImage","Picture"),cropUrl:GetUrl("SaveImage","Picture"),loaderHtml:'<div class="bubblingG"><span id="bubblingG_1"><\/span><span id="bubblingG_2"><\/span><span id="bubblingG_3"><\/span><\/div> ',customUploadButtonId:_this.viewModel.UploadBtnElId(),modal:!0,aspectRatio:_this.viewModel.IgnoreAspectRatio()==!0?null:_this.viewModel.Width()+":"+_this.viewModel.Height(),initialWidth:_this.viewModel.TargetWidth(),initialHeight:_this.viewModel.TargetHeight(),onBeforeImgUpload:function(){LSHelper.HelperLib.blockUI();_this.viewModel.Loading(!0);settings.onBeforeImgUpload(data)},onAfterImgUpload:function(data){afterUpload(data);settings.afterUploadCallback(data)},onBeforeImgCrop:function(){LSHelper.HelperLib.blockUI();_this.viewModel.Loading(!0);settings.onBeforeImgCrop(data)},onAfterImgCrop:function(data){afterUpload(data);settings.afterCropCallback(data)}};_this.viewModel.cropContainerModal=new Croppic(rootElem,croppicContainerModalOptions);setUploaderParams()},$elem=$(rootElem);_this.viewModel.uploader=initUploader();ko.cleanNode($elem[0]);ko.applyBindings(_this.viewModel,$elem[0])};$(document).ready(function(){var $button=$("header .mobile-menu-button"),$activeMenu;$button.length>0&&($activeMenu=$("header .mobile-menu"),$button.live("touchstart click",function(event){$("header .mobile-menu-wrapper").toggleClass("active");event.stopPropagation();event.preventDefault()}),$activeMenu.live("touchstart click",function(event){event.stopPropagation()}),$("header .mobile-menu-wrapper").live("touchstart click",function(event){$(this).hasClass("active")&&($(this).toggleClass("active"),event.stopPropagation(),event.preventDefault())}),$(".mobile-menu > ul > li.section-caption > .section-title").live("touchstart click",function(event){$(this).parent().toggleClass("checked");event.stopPropagation();event.preventDefault()}))});$(document).ready(function(){var mouseleaveTimeoutHandler=null,init=function(){var $header=$("header"),$lis=$(".desktop-layout nav > ul > li"),hideSubMenu;$header.addClass("ha");$lis.mouseenter(function(ev){$header.addClass("ha-header-hover");clearTimeout(mouseleaveTimeoutHandler);$lis.removeClass("ha-submenu-hover");$lis.find(".sub-menu").height(0);$(this).addClass("ha-submenu-hover");$(this).find(".sub-menu").height($(this).find(".dynamic-container").height())});hideSubMenu=function(){$header.removeClass("ha-header-hover");$lis.removeClass("ha-submenu-hover");$lis.find(".sub-menu").height(0)};$lis.mouseleave(function(ev){var timeout=$(this).find(".sub-menu").length?1e3:1;mouseleaveTimeoutHandler=setTimeout(function(){hideSubMenu()},timeout)});$lis.find("a").on("click",function(){hideSubMenu()});$header.on("clickoutside",function(){hideSubMenu()})};$(document).on("headerReloaded",function(){init()});init()});typeof LiquidSpace=="undefined"&&(LiquidSpace={});LiquidSpace.Favorites=function(){var _self=this,$wrapper=null,_favoriteClass="favorited",_favoriteBlockClass="fav-blocked",favoriteViewModel=null,managerViewModel,$dialog;return _self.setFavorites=function(){var collections,colIndex,favorites,favIndex;for(favoriteViewModel.originalCollections(ko.mapping.toJS(favoriteViewModel.Collections())),collections=favoriteViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)for(collections[colIndex].IsWorkspaceFavorited(!1),favorites=collections[colIndex].Favorites(),favIndex=0;favIndex<favorites.length;favIndex++)if(favorites[favIndex].WorkspaceId()==favoriteViewModel.WorkspaceId()){collections[colIndex].IsWorkspaceFavorited(!0);break}favoriteViewModel.Collections().length!=1||favoriteViewModel.Collections()[0].IsWorkspaceFavorited()||(favoriteViewModel.Collections()[0].IsWorkspaceFavorited(!0),favoriteViewModel.Collections()[0].Favorites.push({WorkspaceId:favoriteViewModel.WorkspaceId}))},_self.initDialogViewModel=function(options){favoriteViewModel=ko.mapping.fromJS({Collections:[],WorkspaceId:options.workspaceId,VenueId:options.venueId,MemberId:options.memberId});favoriteViewModel.originalCollections=ko.observableArray([]);favoriteViewModel.dataLoaded=ko.observable(!1);favoriteViewModel.listView=ko.observable(!0);favoriteViewModel.newCollectionName=ko.observable("").extend({required:{params:!0,message:"You need to name your collection"},validation:{validator:function(val){for(var result=!0,collections=favoriteViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Name()==val){result=!1;break}return result},message:"You already got one like that."}});favoriteViewModel.errorGroup=ko.validation.group([favoriteViewModel.newCollectionName]);favoriteViewModel.showValidationMessages=ko.observable(!1);favoriteViewModel.saveButtonDisabled=ko.computed(function(){var collections,colIndex;if(!favoriteViewModel.Collections().length)return!0;if(favoriteViewModel.originalCollections().length!=favoriteViewModel.Collections().length)return!1;for(collections=favoriteViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Favorites().length!=favoriteViewModel.originalCollections()[colIndex].Favorites.length)return!1;return!0});favoriteViewModel.save=function(){for(var dataModel=ko.mapping.toJS(favoriteViewModel),colIndex=0;colIndex<dataModel.Collections.length;colIndex++)delete dataModel.Collections[colIndex].Favorites;$.ajax({url:"/Favorite/FavoriteDialog",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(dataModel),success:function(data){var isWorkspaceFavorited,collections,colIndex;if(data&&data.success){for(isWorkspaceFavorited=!1,collections=favoriteViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].IsWorkspaceFavorited()){isWorkspaceFavorited=!0;break}isWorkspaceFavorited?($('.favorite-widget[data-workspaceId="'+favoriteViewModel.WorkspaceId()+'"]').addClass(_favoriteClass),$("#favorite-workspace-completed-banner").fadeIn(1e3).delay(5e3).fadeOut(1e3)):$('.favorite-widget[data-workspaceId="'+favoriteViewModel.WorkspaceId()+'"]').removeClass(_favoriteClass);options.callback&&$.isFunction(options.callback)&&options.callback(options.venueId,options.workspaceId,isWorkspaceFavorited)}favoriteViewModel.close(!0)},complete:function(){$(options.elem).removeClass(_favoriteBlockClass)}})};favoriteViewModel.newButtonDisabled=ko.computed(function(){return!!favoriteViewModel.errorGroup().length});favoriteViewModel.close=function(doNotSave){doNotSave===!0||favoriteViewModel.saveButtonDisabled()||favoriteViewModel.save();$(options.elem).removeClass(_favoriteBlockClass);$wrapper!=null&&($wrapper.remove(),$wrapper=null)};favoriteViewModel.createCollection=function(){favoriteViewModel.errorGroup().length?favoriteViewModel.showValidationMessages(!0):(favoriteViewModel.Collections.push({Name:ko.observable(favoriteViewModel.newCollectionName()),IsWorkspaceFavorited:ko.observable(!1),Favorites:ko.observableArray([])}),favoriteViewModel.showValidationMessages(!1),favoriteViewModel.newCollectionName(""),favoriteViewModel.listView(!0))};favoriteViewModel.toggleFavorite=function(data){var isFavorited=data.IsWorkspaceFavorited(),favorites,favoriteToRemove,i;if(isFavorited){for(favorites=data.Favorites(),favoriteToRemove=null,i=0;i<favorites.length;i++)if(favorites[i].WorkspaceId()==favoriteViewModel.WorkspaceId()){favoriteToRemove=favorites[i];break}favoriteToRemove&&data.Favorites.remove(favoriteToRemove)}else data.Favorites.push({WorkspaceId:favoriteViewModel.WorkspaceId});data.IsWorkspaceFavorited(!isFavorited)};ko.cleanNode($wrapper[0]);ko.applyBindings(favoriteViewModel,$wrapper[0])},_self.favorite=function(options){var $elem,elemOffset,left,top;if(options=$.extend({elem:null,venueId:null,workspaceId:null,memberId:null,callback:function(venueId,workspaceId,isWorkspaceFavorited){},showToast:!1},options),!options.venueId||!options.workspaceId||!options.elem)return options.callback(options.venueId,options.workspaceId,!1);if($elem=$(options.elem),!$elem.hasClass(_favoriteBlockClass)){if($wrapper&&favoriteViewModel&&favoriteViewModel.close(),document.notLoggedInCallBack=function(){favoriteViewModel!=null&&favoriteViewModel.close();$elem.removeClass(_favoriteBlockClass);LSHelper.Account.popUpSignIn({onLogInSuccessCallback:function(userId){LiquidSpace.Favorites.favorite(options)},onlyHeaderReload:!0,signInMessage:"Great Space! Sign In to save this and others to your Favorites.",joinMessage:"To keep track and share your favorites, join our community.",popupParams:{mode:"join",regType:"FavoriteWorkspace",additionalRegData:options.workspaceId}})},User.id==null){document.notLoggedInCallBack();return}$elem.addClass(_favoriteBlockClass);$wrapper||($wrapper=$($("#favorite-dialog-template").html()),$("body").append($wrapper));initDialogViewModel(options);$wrapper.length>0&&(elemOffset=$elem.offset(),left=elemOffset.left-$wrapper.width()+$elem.width()+20,left<0&&-left<$wrapper.width()&&(left=0),top=elemOffset.top,$wrapper.css("top",top+"px").css("left",left+"px"),$wrapper.show());favoriteViewModel.dataLoaded(!1);$.ajax({url:"/Favorite/FavoriteDialog",data:{workspaceId:options.workspaceId,venueId:options.venueId},type:"GET",success:function(data){data&&(ko.mapping.fromJS(data.Data,favoriteViewModel),_self.setFavorites(),favoriteViewModel.dataLoaded(!0))}})}},managerViewModel=null,$dialog=null,_self.currentRequest=null,_self.collectionManageMenu=function(options){var menuModes={menu:"menu","new":"new",rename:"rename","delete":"delete",duplicate:"duplicate",deleteShared:"deleteShared"},repositionDialog,initManageViewModel;if(options=$.extend({elem:null,collectionId:null,renameCallback:function(collection){},deleteCallback:function(success){},deleteSharedCallback:function(success){},duplicateCallback:function(collection){},newCallback:function(collection){},initialMode:menuModes.menu,collections:[],isOwner:!0,isShared:!1},options),menuModes[options.initialMode]||(options.initialMode=menuModes.menu),!options.elem)return!1;_self.currentRequest&&(_self.currentRequest.abort(),_self.currentRequest=null);$dialog&&($dialog.remove(),$dialog=null);repositionDialog=function(){var $elem=$(options.elem);if($dialog.length&&$elem.length){var offset=$elem.offset(),pinOffset={top:12,left:7},top=offset.top+$elem.height()+pinOffset.top,left=offset.left-$dialog.width()+$elem.width()+pinOffset.left;left<0&&-left<$dialog.width()&&(left=0);$dialog.css("top",top+"px").css("left",left+"px")}};initManageViewModel=function(options){managerViewModel=ko.mapping.fromJS({Collections:options.collections});managerViewModel.isOwner=ko.observable(options.isOwner);managerViewModel.isShared=ko.observable(options.isShared);managerViewModel.dataLoaded=ko.observable(!1);managerViewModel.processing=ko.observable(!1);managerViewModel.mode=ko.observable(options.initialMode);managerViewModel.newCollectionName=ko.observable("").extend({required:{onlyIf:function(){var mode=managerViewModel.mode();return mode==menuModes.rename||mode==menuModes.new||mode==menuModes.duplicate},message:"You need to name your collection"},validation:{validator:function(val){for(var result=!0,collections=managerViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Name()==val){result=!1;break}return result},message:"You already got one like that."}});managerViewModel.newCollectionName.subscribe(function(newValue){managerViewModel.serverErrors([])});managerViewModel.errorGroup=ko.validation.group([managerViewModel.newCollectionName]);managerViewModel.serverErrors=ko.observableArray([]);managerViewModel.validationErrors=ko.computed(function(){var result=managerViewModel.serverErrors();return managerViewModel.errorGroup().forEach(function(error){result.push(error)}),result});managerViewModel.showValidationMessages=ko.observable(!1);managerViewModel.title=ko.computed(function(){var result="";switch(managerViewModel.mode()){case menuModes.rename:result="Rename Collection";break;case menuModes.duplicate:result="Copy Collection";break;case menuModes.delete:case menuModes.deleteShared:result="Are you sure?";break;case menuModes.new:result="New Collection";break}return result});managerViewModel.submitDisabled=ko.computed(function(){return managerViewModel.processing()||!!managerViewModel.errorGroup().length});managerViewModel.submitText=ko.computed(function(){var result="";switch(managerViewModel.mode()){case menuModes.rename:case menuModes.duplicate:case menuModes.new:result="Done!";break;case menuModes.delete:case menuModes.deleteShared:result="Yes, delete.";break}return result});managerViewModel.cancelText=ko.computed(function(){var result="";switch(managerViewModel.mode()){case menuModes.rename:case menuModes.duplicate:case menuModes.new:result="Cancel";break;case menuModes.delete:case menuModes.deleteShared:result="No, wait! Keep it.";break}return result});managerViewModel.fullDialogView=ko.computed(function(){return managerViewModel.mode()!=menuModes.menu});managerViewModel.getCollection=function(collectionId){var result=null,collections,colIndex;if(collectionId)for(collections=managerViewModel.Collections(),colIndex=0;colIndex<collections.length;colIndex++)if(collections[colIndex].Id()==collectionId){result=collections[colIndex];break}return result};managerViewModel.linkCopied=ko.observable(!1);managerViewModel.setCollectionUrlCopied=function(){managerViewModel.linkCopied(!0);setTimeout(function(){managerViewModel.close()},3e3)};managerViewModel.collectionUrl=ko.computed(function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);return selectedCollection!=null?selectedCollection.CollectionFullUrl():null});managerViewModel.selectMode=function(mode){var previousMode=managerViewModel.mode(),selectedCollection;managerViewModel.mode(mode);mode==menuModes.duplicate?(managerViewModel.newCollectionName("Startup Friendly Spaces"),$dialog.find("input.collection-name-input").select().focus()):mode==menuModes.rename&&(selectedCollection=managerViewModel.getCollection(options.collectionId),selectedCollection&&managerViewModel.newCollectionName(selectedCollection.Name()),$dialog.find("input.collection-name-input").select().focus());previousMode!=mode&&(previousMode==menuModes.menu||mode==menuModes.menu)&&repositionDialog()};managerViewModel.close=function(){$(options.elem).removeClass(_favoriteBlockClass);$dialog.remove()};managerViewModel.css=ko.computed(function(){var css=["mode-"+managerViewModel.mode()];return managerViewModel.linkCopied()&&css.push("mode-link-copied"),css.join(" ")});managerViewModel.submit=function(){var mode=managerViewModel.mode(),urls={rename:"/Favorite/RenameCollection","new":"/Favorite/CreateCollection",duplicate:"/Favorite/DuplicateCollection","delete":"/Favorite/DeleteCollection",deleteShared:"/Favorite/DeleteSharedCollection"};urls[mode]&&!managerViewModel.errorGroup().length?(managerViewModel.processing(!0),$.ajax({url:urls[mode],type:"POST",data:{collectionId:options.collectionId,newName:managerViewModel.newCollectionName()},success:function(data){if(data&&data.success){switch(managerViewModel.mode()){case menuModes.rename:options.renameCallback(data.collection);break;case menuModes.duplicate:options.duplicateCallback(data.collection);break;case menuModes.delete:options.deleteCallback(!0);break;case menuModes.new:options.newCallback(data.collection);break;case menuModes.deleteShared:options.deleteSharedCallback(!0);break}managerViewModel.close()}else data.message&&(managerViewModel.serverErrors([data.message]),managerViewModel.showValidationMessages(!0))},complete:function(){managerViewModel!=null&&managerViewModel.processing(!1);$(options.elem).removeClass(_favoriteBlockClass)}})):managerViewModel.showValidationMessages(!0)};managerViewModel.canRename=ko.computed(function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);return managerViewModel.isOwner()&&selectedCollection&&selectedCollection.FavoritesCount()>0});managerViewModel.canDuplicate=ko.computed(function(){var selectedCollection=managerViewModel.getCollection(options.collectionId);return!managerViewModel.isShared()&&selectedCollection&&selectedCollection.FavoritesCount()>0});managerViewModel.canDelete=ko.computed(function(){return(!managerViewModel.dataLoaded()||managerViewModel.Collections().filter(function(e){return!e.IsLiquidspaceCollection()}).length>1)&&managerViewModel.isOwner()});managerViewModel.canDeleteShared=ko.computed(function(){return managerViewModel.isShared()});managerViewModel.selectMode(options.initialMode);ko.cleanNode($dialog[0]);ko.applyBindingsWithValidation(managerViewModel,$dialog[0],{insertMessages:!1,decorateElement:!1});$dialog.find("input.collection-name-input").select().focus()};$dialog||($dialog=$($("#collections-manage-template").html()),$("body").append($dialog));initManageViewModel(options);repositionDialog();managerViewModel.Collections().length?managerViewModel.dataLoaded(!0):_self.currentRequest=$.ajax({url:"/Favorite/ManageCollectionDialog",data:{},type:"GET",success:function(data){data&&(ko.mapping.fromJS(data.Data,managerViewModel),managerViewModel.dataLoaded(!0))}})},_self}();typeof LiquidSpace=="undefined"&&(LiquidSpace={});typeof LiquidSpace.View=="undefined"&&(LiquidSpace.View={});LiquidSpace.View.WorkspaceRequest=function(params){params=$.extend({model:{},requestWrapperSelector:null,showRequestCompletedBannerFunc:function(){},closeDialogFunc:function(){},isTourRequest:!1},params);var viewModel={email:ko.observable(params.model.Email),fullname:ko.observable(params.model.FullName),phone:ko.observable(params.model.Phone),company:ko.observable(params.model.Company),personalDataFilled:ko.observable(params.model.PersonalDataFilled),memberId:ko.observable(params.model.MemberId),password:ko.observable(),assignData:function(data){data&&(data.FullName&&viewModel.fullname(data.FullName),data.Email&&viewModel.email(data.Email),data.Phone&&viewModel.phone(data.Phone),data.Company&&viewModel.company(data.Company),data.MemberId&&viewModel.memberId(data.MemberId),data.PersonalDataFilled&&viewModel.personalDataFilled(data.PersonalDataFilled))},isPasswordWrong:ko.observable(!1),request:function(){if(viewModel.isPasswordWrong(!1),$("#workspaceRequestForm").valid()){var $dialog=$(params.requestWrapperSelector),data=$dialog.formToArray(!0);viewModel.personalDataFilled()&&(data.push({name:"FullName",value:viewModel.fullname()}),data.push({name:"Email",value:viewModel.email()}),data.push({name:"Phone",value:viewModel.phone()}),data.push({name:"Company",value:viewModel.company()}));LSHelper.HelperLib.blockUI($dialog);$.ajax({type:"POST",url:GetUrl("WorkspaceRequest","Venues"),data:data,success:function(response){if(response.isException){response.memberId!=null&&response.memberId!=Guid.Empty&&LSHelper.Account.reloadHeader();LSHelper.UI.showError({title:"Access Exception",content:response.content});params.closeDialogFunc();return}response.success?($(document).trigger("WorkspaceRequestSuccess"),LSHelper.Account.reloadHeader(),response.state&&$(window).trigger("agreeToShareApproved",{venueId:response.venueId,state:response.state,visaImageUrl:response.visaImageUrl,buttonState:response.buttonState,userId:response.memberId}),LSHelper.ga.trackMonthlyRequest(params.model.RequestType,params.model.WorkspaceId),params.showRequestCompletedBannerFunc(),params.closeDialogFunc(),window.scrollTo(0,0)):viewModel.isPasswordWrong(!0)},complete:function(){LSHelper.HelperLib.unblockUI($dialog)}})}},signInFunc:function(messages){messages=messages||{};var $dialog=$(params.requestWrapperSelector);LSHelper.HelperLib.blockUI($dialog);LSHelper.Account.popUpSignIn({onCloseCallback:function(){LSHelper.HelperLib.unblockUI($dialog)},onLogInSuccessCallback:function(userId){LSHelper.HelperLib.blockUI($dialog);$.ajax({type:"POST",url:GetUrl("WorkspaceRequestDialogGetJson","Venues"),data:{venueId:params.model.VenueId,workspaceId:params.model.WorkspaceId,isTourRequest:params.isTourRequest},success:function(response){if(response.isException){LSHelper.UI.showError(response);params.closeDialogFunc();return}viewModel.assignData(response)},error:function(){params.closeDialogFunc()},complete:function(){LSHelper.HelperLib.unblockUI($dialog)}})},onlyHeaderReload:!0,signInMessage:messages.signInMessage,joinMessage:messages.joinMessage,userName:viewModel.email()?viewModel.email():null})}};return viewModel.sendRequestAvailable=ko.computed(function(){return!!(viewModel.email()&&viewModel.fullname()&&viewModel.phone()&&viewModel.company()&&(viewModel.memberId()||!viewModel.memberId()&&viewModel.password()))}),viewModel.isAnonymous=ko.computed(function(){return viewModel.memberId()?!1:!0}),viewModel};COMPILED=!0;goog=goog||{};goog.global=this;goog.isDef=function(a){return void 0!==a};goog.exportPath_=function(a,b,c){a=a.split(".");c=c||goog.global;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}};goog.define=function(a,b){var c=b;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?c=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(c=goog.global.CLOSURE_DEFINES[a]));goog.exportPath_(a,c)};goog.DEBUG=!0;goog.LOCALE="en";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;goog.provide=function(a){if(!COMPILED&&goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');goog.constructNamespace_(a)};goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(a){if(!goog.isString(a)||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+a+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=a,!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED)return goog.isProvided_(a)?a in goog.loadedModules_?goog.loadedModules_[a]:goog.getObjectByName(a):null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."));};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={"goog.module":!0});goog.getObjectByName=function(a,b){for(var c=a.split("."),d=b||goog.global,e;e=c.shift();)if(goog.isDefAndNotNull(d[e]))d=d[e];else return null;return d};goog.globalize=function(a,b){var c=b||goog.global;for(var d in a)c[d]=a[d]};goog.addDependency=function(a,b,c,d){var e,f,g;if(goog.DEPENDENCIES_ENABLED){for(a=a.replace(/\\/g,"/"),f=goog.dependencies_,g=0;e=b[g];g++)f.nameToPath[e]=a,f.pathIsModule[a]=!!d;for(d=0;b=c[d];d++)a in f.requires||(f.requires[a]={}),f.requires[a][b]=!0}};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};goog.require=function(a){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(a),goog.isProvided_(a))return goog.isInModuleLoader_()?goog.module.getInternal_(a):null;if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b)return goog.writeScripts_(b),null}a="goog.require could not find: "+a;goog.logToConsole_(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};goog.addSingletonGetter=function(a){a.getInstance=function(){return a.instance_?a.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a),a.instance_=new a)}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&"write"in a},goog.findBasePath_=function(){var a,b;if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(a=goog.global.document.getElementsByTagName("SCRIPT"),b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=-1==d?c.length:d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a,b){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(a,b)&&(goog.dependencies_.written[a]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(a){goog.importScript_("",'goog.retrieveAndExecModule_("'+a+'");')&&(goog.dependencies_.written[a]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(a,b){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(b+"\n//# sourceURL="+a+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+b+"\n;return exports});\n//# sourceURL="+a+"\n"},goog.loadQueuedModules_=function(){var a=goog.queuedModules_.length,b,c;if(0<a)for(b=goog.queuedModules_,goog.queuedModules_=[],c=0;c<a;c++)goog.maybeProcessDeferredPath_(b[c])},goog.maybeProcessDeferredDep_=function(a){goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)&&(a=goog.getPathFromDeps_(a),goog.maybeProcessDeferredPath_(goog.basePath+a))},goog.isDeferredModule_=function(a){return(a=goog.getPathFromDeps_(a))&&goog.dependencies_.pathIsModule[a]?goog.basePath+a in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(a){if((a=goog.getPathFromDeps_(a))&&a in goog.dependencies_.requires)for(var b in goog.dependencies_.requires[a])if(!goog.isProvided_(b)&&!goog.isDeferredModule_(b))return!1;return!0},goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=goog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a];goog.globalEval(b)}},goog.loadModuleFromUrl=function(a){goog.retrieveAndExecModule_(a)},goog.loadModule=function(a){var b=goog.moduleLoaderState_,c,d;try{if(goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1},goog.isFunction(a))c=a.call(goog.global,{});else if(goog.isString(a))c=goog.loadModuleFromSource_.call(goog.global,a);else throw Error("Invalid module definition");if(d=goog.moduleLoaderState_.moduleName,!goog.isString(d)||!d)throw Error('Invalid module name "'+d+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,c):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(c);goog.loadedModules_[d]=c}finally{goog.moduleLoaderState_=b}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(a){goog.global.document.write('<script type="text/javascript" src="'+a+'"><\/script>')},goog.appendScriptSrcNode_=function(a){var b=goog.global.document,c=b.createElement("script");c.type="text/javascript";c.src=a;c.defer=!1;c.async=!1;b.head.appendChild(c)},goog.writeScriptTag_=function(a,b){var c,d;if(goog.inHtmlDocument_()){if(c=goog.global.document,!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==c.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}return d=goog.IS_OLD_IE_,void 0===b?d?(d=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",c.write('<script type="text/javascript" src="'+a+'"'+d+"><\/script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(a):goog.writeScriptSrcNode_(a):c.write('<script type="text/javascript">'+b+"<\/script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(a,b){return"complete"==a.readyState&&goog.lastNonModuleScriptIndex_==b&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(a){function b(a){if(!(a in e.written||a in e.visited)){if(e.visited[a]=!0,a in e.requires)for(var f in e.requires[a])if(!goog.isProvided_(f))if(f in e.nameToPath)b(e.nameToPath[f]);else throw Error("Undefined nameToPath for "+f);a in d||(d[a]=!0,c.push(a))}}var c=[],d={},e=goog.dependencies_,f,g;for(b(a),a=0;a<c.length;a++)f=c[a],goog.dependencies_.written[f]=!0;for(g=goog.moduleLoaderState_,goog.moduleLoaderState_=null,a=0;a<c.length;a++)if(f=c[a])e.pathIsModule[f]?goog.importModule_(goog.basePath+f):goog.importScript_(goog.basePath+f);else throw goog.moduleLoaderState_=g,Error("Undefined script input");goog.moduleLoaderState_=g},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));goog.normalizePath_=function(a){a=a.split("/");for(var b=0;b<a.length;)"."==a[b]?a.splice(b,1):b&&".."==a[b]&&a[b-1]&&".."!=a[b-1]?a.splice(--b,2):b++;return a.join("/")};goog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);var b=new goog.global.XMLHttpRequest;return b.open("get",a,!1),b.send(),b.responseText};goog.retrieveAndExecModule_=function(a){var b,c,d;if(!COMPILED)if(b=a,a=goog.normalizePath_(a),c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,d=goog.loadFileSync_(a),null!=d)d=goog.wrapModule_(a,d),goog.IS_OLD_IE_?(goog.dependencies_.deferred[b]=d,goog.queuedModules_.push(b)):c(a,d);else throw Error("load of "+a+"failed");};goog.typeOf=function(a){var b=typeof a,c;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;if(c=Object.prototype.toString.call(a),"[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var b=goog.typeOf(a),c;if("object"==b||"array"==b){if(a.clone)return a.clone();b="array"==b?[]:{};for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};goog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)};goog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();return b.push.apply(b,arguments),a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split("-");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")},d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};return b?a+"-"+d(b):d(a)};goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b){return b&&(a=a.replace(/\{\$([^}]+)}/g,function(a,d){return null!=b&&d in b?b[d]:a})),a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=function(a,b,c){a[b]=c};goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};goog.base=function(a,b,c){var d=arguments.callee.caller,e,f,g;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!d)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(d.superClass_){for(e=Array(arguments.length-1),f=1;f<arguments.length;f++)e[f-1]=arguments[f];return d.superClass_.constructor.apply(a,e)}for(e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];for(f=!1,g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};goog.scope=function(a){a.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=function(a,b){var c=b.constructor,d=b.statics;return c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).");}),c=goog.defineClass.createSealingConstructor_(c,a),a&&goog.inherits(c,a),delete b.constructor,delete b.statics,goog.defineClass.applyProperties_(c.prototype,b),null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d)),c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=function(a,b){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(b&&b.prototype&&b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return a;var c=function(){var b=a.apply(this,arguments)||this;return b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_],this.constructor===c&&Object.seal(b),b};return c}return a};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.defineClass.applyProperties_=function(a,b){var c,d;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.string={};goog.string.StringBuffer=function(a,b){null!=a&&this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(a){this.buffer_=""+a};goog.string.StringBuffer.prototype.append=function(a,b,c){if(this.buffer_+=a,null!=b)for(var d=1;d<arguments.length;d++)this.buffer_+=arguments[d];return this};goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};goog.debug={};goog.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:" "};goog.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(0,b.length))};goog.string.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};goog.string.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.subs=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};goog.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmptyOrWhitespace=function(a){return/^[\s\xa0]*$/.test(a)};goog.string.isEmptyString=function(a){return 0==a.length};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(a){return!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return" "==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"�">=a};goog.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};goog.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};goog.string.caseInsensitiveCompare=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1};goog.string.numberAwareCompare_=function(a,b,c){var h;if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=0;g<f;g++)if(c=d[g],h=e[g],c!=h)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(h,10),!isNaN(b)&&a-b)?a-b:c<h?-1:1;return d.length!=e.length?d.length-e.length:a<b?-1:1};goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\D+/g)};goog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};goog.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};goog.string.htmlEscape=function(a,b){if(b)a=a.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(a=a.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(goog.string.AMP_RE_,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(goog.string.LT_RE_,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(goog.string.GT_RE_,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(goog.string.QUOT_RE_,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(goog.string.NULL_RE_,"&#0;"));goog.string.DETECT_DOUBLE_ESCAPING&&-1!=a.indexOf("e")&&(a=a.replace(goog.string.E_RE_,"&#101;"))}return a};goog.string.AMP_RE_=/&/g;goog.string.LT_RE_=/</g;goog.string.GT_RE_=/>/g;goog.string.QUOT_RE_=/"/g;goog.string.SINGLE_QUOTE_RE_=/'/g;goog.string.NULL_RE_=/\x00/g;goog.string.E_RE_=/e/g;goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/;goog.string.unescapeEntities=function(a){return goog.string.contains(a,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};goog.string.unescapeEntitiesWithDocument=function(a,b){return goog.string.contains(a,"&")?goog.string.unescapeEntitiesUsingDom_(a,b):a};goog.string.unescapeEntitiesUsingDom_=function(a,b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d;return d=b?b.createElement("div"):goog.global.document.createElement("div"),a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,b){var g=c[a],h;return g?g:("#"==b.charAt(0)&&(h=Number("0"+b.substr(1)),isNaN(h)||(g=String.fromCharCode(h))),g||(d.innerHTML=a+" ",g=d.firstChild.nodeValue.slice(0,-1)),c[a]=g)})};goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return a}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g," &#160;"),b)};goog.string.preserveSpaces=function(a){return a.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(a,b){for(var e,c=b.length,d=0;d<c;d++)if(e=1==c?b:b.charAt(d),a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1);return a};goog.string.truncate=function(a,b,c){return c&&(a=goog.string.unescapeEntities(a)),a.length>b&&(a=a.substring(0,b-3)+"..."),c&&(a=goog.string.htmlEscape(a)),a};goog.string.truncateMiddle=function(a,b,c,d){if(c&&(a=goog.string.unescapeEntities(a)),d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+"..."+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+"..."+a.substring(e));return c&&(a=goog.string.htmlEscape(a)),a};goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0b":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};goog.string.quote=function(a){var b,c,d,e;if(a=String(a),a.quote)return a.quote();for(b=['"'],c=0;c<a.length;c++)d=a.charAt(c),e=d.charCodeAt(0),b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d));return b.push('"'),b.join("")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join("")};goog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b=a,c=a.charCodeAt(0);return 31<c&&127>c?b=a:(256>c?(b="\\x",16>c||256<c)&&(b+="0"):(b="\\u",4096>c&&(b+="0")),b+=c.toString(16).toUpperCase()),goog.string.jsEscapeCache_[a]=b};goog.string.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.caseInsensitiveContains=function(a,b){return goog.string.contains(a.toLowerCase(),b.toLowerCase())};goog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;return 0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c)),d};goog.string.remove=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"");return a.replace(c,"")};goog.string.removeAll=function(a,b){var c=new RegExp(goog.string.regExpEscape(b),"g");return a.replace(c,"")};goog.string.regExpEscape=function(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};goog.string.padNumber=function(a,b,c){return a=goog.isDef(c)?a.toFixed(c):String(a),c=a.indexOf("."),-1==c&&(c=a.length),goog.string.repeat("0",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?"":String(a)};goog.string.buildString=function(a){return Array.prototype.join.call(arguments,"")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};goog.string.compareVersions=function(a,b){for(var m,n,c=0,d=goog.string.trim(String(a)).split("."),e=goog.string.trim(String(b)).split("."),f=Math.max(d.length,e.length),g=0;0==c&&g<f;g++){var h=d[g]||"",k=e[g]||"",l=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{if(m=l.exec(h)||["","",""],n=p.exec(k)||["","",""],0==m[0].length&&0==n[0].length)break;var c=0==m[1].length?0:parseInt(m[1],10),q=0==n[1].length?0:parseInt(n[1],10),c=goog.string.compareElements_(c,q)||goog.string.compareElements_(0==m[2].length,0==n[2].length)||goog.string.compareElements_(m[2],n[2])}while(0==c)}return c};goog.string.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmptyOrWhitespace(a)?NaN:b};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})};goog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(a,b){var c=goog.isString(b)?goog.string.regExpEscape(b):"\\s";return a.replace(new RegExp("(^"+(c?"|["+c+"]+":"")+")([a-z])","g"),function(a,b,c){return b+c.toUpperCase()})};goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};goog.string.parseInt=function(a){return isFinite(a)&&(a=String(a)),goog.isString(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(b)),d};goog.string.editDistance=function(a,b){var c=[],d=[],e,f;if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){for(d[0]=e+1,f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){b.unshift(a);goog.debug.Error.call(this,goog.string.subs.apply(null,b));b.shift();this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;goog.asserts.doAssertFailure_=function(a,b,c,d){var e="Assertion failed",f;c?(e=e+(": "+c),f=d):a&&(e+=": "+a,f=b);a=new goog.asserts.AssertionError(""+e,f||[]);goog.asserts.errorHandler_(a)};goog.asserts.setErrorHandler=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=a)};goog.asserts.assert=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_("",null,b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.fail=function(a,b){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(a)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertString=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(a)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertFunction=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertObject=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertArray=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(a)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertBoolean=function(a,b,c){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(a)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertElement=function(a,b,c){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2)),a};goog.asserts.assertInstanceof=function(a,b,c,d){return!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3)),a};goog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+" should not be enumerable in Object.prototype.")};goog.asserts.getType_=function(a){return a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=!1;goog.array.peek=function(a){return a[a.length-1]};goog.array.last=goog.array.peek;goog.array.ARRAY_PROTOTYPE_=Array.prototype;goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(a,b,c){return goog.asserts.assert(null!=a.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,goog.isString(a))return goog.isString(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(a,b,c){return goog.asserts.assert(null!=a.length),goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){if(c=null==c?a.length-1:c,0>c&&(c=Math.max(0,a.length+c)),goog.isString(a))return goog.isString(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(a,b,c){goog.asserts.assert(null!=a.length);goog.array.ARRAY_PROTOTYPE_.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;--d)d in e&&b.call(c,e[d],d,a)};goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(a,b,c){return goog.asserts.assert(null!=a.length),goog.array.ARRAY_PROTOTYPE_.filter.call(a,b,c)}:function(a,b,c){for(var k,d=a.length,e=[],f=0,g=goog.isString(a)?a.split(""):a,h=0;h<d;h++)h in g&&(k=g[h],b.call(c,k,h,a)&&(e[f++]=k));return e};goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(a,b,c){return goog.asserts.assert(null!=a.length),goog.array.ARRAY_PROTOTYPE_.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=goog.isString(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(a,b,c,d){return goog.asserts.assert(null!=a.length),d&&(b=goog.bind(b,d)),goog.array.ARRAY_PROTOTYPE_.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;return goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)}),e};goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(a,b,c,d){return goog.asserts.assert(null!=a.length),d&&(b=goog.bind(b,d)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;return goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)}),e};goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(a,b,c){return goog.asserts.assert(null!=a.length),goog.array.ARRAY_PROTOTYPE_.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(a,b,c){return goog.asserts.assert(null!=a.length),goog.array.ARRAY_PROTOTYPE_.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.count=function(a,b,c){var d=0;return goog.array.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c),d};goog.array.find=function(a,b,c){return b=goog.array.findIndex(a,b,c),0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){return b=goog.array.findIndexRight(a,b,c),0>b?null:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndexRight=function(a,b,c){for(var d=a.length,e=goog.isString(a)?a.split(""):a,d=d-1;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!goog.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};goog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){var c=goog.array.indexOf(a,b),d;return(d=0<=c)&&goog.array.removeAt(a,c),d};goog.array.removeAt=function(a,b){return goog.asserts.assert(null!=a.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){return b=goog.array.findIndex(a,b,c),0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAllIf=function(a,b,c){var d=0;return goog.array.forEachRight(a,function(e,f){b.call(c,e,f,a)&&goog.array.removeAt(a,f)&&d++}),d};goog.array.concat=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.join=function(a){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(a){var b=a.length,c,d;if(0<b){for(c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(a,b){for(var d,e,f,g,c=1;c<arguments.length;c++)if(d=arguments[c],goog.isArrayLike(d))for(e=a.length||0,f=d.length||0,a.length=e+f,g=0;g<f;g++)a[e+g]=d[g];else a.push(d)};goog.array.splice=function(a,b,c,d){return goog.asserts.assert(null!=a.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(a,goog.array.slice(arguments,1))};goog.array.slice=function(a,b,c){return goog.asserts.assert(null!=a.length),2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(a,b):goog.array.ARRAY_PROTOTYPE_.slice.call(a,b,c)};goog.array.removeDuplicates=function(a,b,c){var d,g,h;b=b||a;d=function(a){return goog.isObject(a)?"o"+goog.getUid(a):(typeof a).charAt(0)+a};c=c||d;for(var d={},e=0,f=0;f<a.length;)g=a[f++],h=c(g),Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,b[e++]=g);b.length=e};goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};goog.array.binarySearch_=function(a,b,c,d,e){for(var h,k,l,f=0,g=a.length;f<g;)k=f+g>>1,l=c?b.call(e,a[k],k,a):b(d,a[k]),0<l?f=k+1:(g=k,h=!l);return h?f:~f};goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)};goog.array.stableSort=function(a,b){for(var d,c=0;c<a.length;c++)a[c]={index:c,value:a[c]};for(d=b||goog.array.defaultCompare,goog.array.sort(a,function(a,b){return d(a.value,b.value)||a.index-b.index}),c=0;c<a.length;c++)a[c]=a[c].value};goog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(b(a),b(c))})};goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,function(a){return a[b]},c)};goog.array.isSorted=function(a,b,c){var d,e;for(b=b||goog.array.defaultCompare,d=1;d<a.length;d++)if(e=b(a[d-1],a[d]),0<e||0==e&&c)return!1;return!0};goog.array.equals=function(a,b,c){var d,e;if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;for(d=a.length,c=c||goog.array.defaultCompareEquality,e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};goog.array.compare3=function(a,b,c){var d,e,f;for(c=c||goog.array.defaultCompare,d=Math.min(a.length,b.length),e=0;e<d;e++)if(f=c(a[e],b[e]),0!=f)return f;return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};goog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){return c=goog.array.binarySearch(a,b,c),0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};goog.array.binaryRemove=function(a,b,c){return b=goog.array.binarySearch(a,b,c),0<=b?goog.array.removeAt(a,b):!1};goog.array.bucket=function(a,b,c){for(var f,g,d={},e=0;e<a.length;e++)f=a[e],g=b.call(c,f,e,a),goog.isDef(g)&&(d[g]||(d[g]=[])).push(f);return d};goog.array.toObject=function(a,b,c){var d={};return goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e}),d};goog.array.range=function(a,b,c){var d=[],e=0,f=a;if(c=c||1,void 0!==b&&(e=a,f=b),0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};goog.array.flatten=function(a){for(var d,e,b=[],c=0;c<arguments.length;c++)if(d=arguments[c],goog.isArray(d))for(e=0;e<d.length;e+=8192)for(var f=goog.array.slice(d,e,e+8192),f=goog.array.flatten.apply(null,f),g=0;g<f.length;g++)b.push(f[g]);else b.push(d);return b};goog.array.rotate=function(a,b){return goog.asserts.assert(null!=a.length),a.length&&(b%=a.length,0<b?goog.array.ARRAY_PROTOTYPE_.unshift.apply(a,a.splice(-b,b)):0>b&&goog.array.ARRAY_PROTOTYPE_.push.apply(a,a.splice(0,-b))),a};goog.array.moveItem=function(a,b,c){goog.asserts.assert(0<=b&&b<a.length);goog.asserts.assert(0<=c&&c<a.length);b=goog.array.ARRAY_PROTOTYPE_.splice.call(a,b,1);goog.array.ARRAY_PROTOTYPE_.splice.call(a,c,0,b[0])};goog.array.zip=function(a){var e,f;if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b};goog.array.shuffle=function(a,b){for(var e,f,c=b||Math.random,d=a.length-1;0<d;d--)e=Math.floor(c()*(d+1)),f=a[d],a[d]=a[e],a[e]=f};goog.array.copyByIndex=function(a,b){var c=[];return goog.array.forEach(b,function(b){c.push(a[b])}),c};goog.proto2={};goog.proto2.FieldDescriptor=function(a,b,c){this.parent_=a;goog.asserts.assert(goog.string.isNumeric(b));this.tag_=b;this.name_=c.name;this.isPacked_=!!c.packed;this.isRepeated_=!!c.repeated;this.isRequired_=!!c.required;this.fieldType_=c.fieldType;this.nativeType_=c.type;this.deserializationConversionPermitted_=!1;switch(this.fieldType_){case goog.proto2.FieldDescriptor.FieldType.INT64:case goog.proto2.FieldDescriptor.FieldType.UINT64:case goog.proto2.FieldDescriptor.FieldType.FIXED64:case goog.proto2.FieldDescriptor.FieldType.SFIXED64:case goog.proto2.FieldDescriptor.FieldType.SINT64:case goog.proto2.FieldDescriptor.FieldType.FLOAT:case goog.proto2.FieldDescriptor.FieldType.DOUBLE:this.deserializationConversionPermitted_=!0}this.defaultValue_=c.defaultValue};goog.proto2.FieldDescriptor.FieldType={DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18};goog.proto2.FieldDescriptor.prototype.getTag=function(){return this.tag_};goog.proto2.FieldDescriptor.prototype.getContainingType=function(){return this.parent_.prototype.getDescriptor()};goog.proto2.FieldDescriptor.prototype.getName=function(){return this.name_};goog.proto2.FieldDescriptor.prototype.getDefaultValue=function(){if(void 0===this.defaultValue_){var a=this.nativeType_;if(a===Boolean)this.defaultValue_=!1;else if(a===Number)this.defaultValue_=0;else if(a===String)this.defaultValue_=this.deserializationConversionPermitted_?"0":"";else return new a}return this.defaultValue_};goog.proto2.FieldDescriptor.prototype.getFieldType=function(){return this.fieldType_};goog.proto2.FieldDescriptor.prototype.getNativeType=function(){return this.nativeType_};goog.proto2.FieldDescriptor.prototype.deserializationConversionPermitted=function(){return this.deserializationConversionPermitted_};goog.proto2.FieldDescriptor.prototype.getFieldMessageType=function(){return this.nativeType_.prototype.getDescriptor()};goog.proto2.FieldDescriptor.prototype.isCompositeType=function(){return this.fieldType_==goog.proto2.FieldDescriptor.FieldType.MESSAGE||this.fieldType_==goog.proto2.FieldDescriptor.FieldType.GROUP};goog.proto2.FieldDescriptor.prototype.isPacked=function(){return this.isPacked_};goog.proto2.FieldDescriptor.prototype.isRepeated=function(){return this.isRepeated_};goog.proto2.FieldDescriptor.prototype.isRequired=function(){return this.isRequired_};goog.proto2.FieldDescriptor.prototype.isOptional=function(){return!this.isRepeated_&&!this.isRequired_};goog.object={};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={};for(var e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={};for(var e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};goog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};goog.object.getCount=function(a){var b=0;for(var c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b};goog.object.getKeys=function(a){var b=[],c=0;for(var d in a)b[c++]=d;return b};goog.object.getValueByKeys=function(a,b){for(var c=goog.isArrayLike(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],goog.isDef(a));c++);return a};goog.object.containsKey=function(a,b){return null!==a&&b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};goog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;return(c=b in a)&&delete a[b],c};goog.object.add=function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key "'+b+'"');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return null!==a&&b in a?a[b]:c};goog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=function(a,b,c){return b in a?a[b]:(c=c(),a[b]=c)};goog.object.equals=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(c in b)if(!(c in a))return!1;return!0};goog.object.clone=function(a){var b={};for(var c in a)b[c]=a[c];return b};goog.object.unsafeClone=function(a){var b=goog.typeOf(a),c;if("object"==b||"array"==b){if(goog.isFunction(a.clone))return a.clone();b="array"==b?[]:{};for(c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={};for(var c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");goog.object.extend=function(a,b){for(var c,d,f,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};goog.object.create=function(a){var b=arguments.length,c,d;if(1==b&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error("Uneven number of arguments");for(c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length,c,d;if(1==b&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};goog.object.createImmutableView=function(a){var b=a;return Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b)),b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};goog.proto2.Descriptor=function(a,b,c){for(this.messageType_=a,this.name_=b.name||null,this.fullName_=b.fullName||null,this.containingType_=b.containingType,this.fields_={},a=0;a<c.length;a++)b=c[a],this.fields_[b.getTag()]=b};goog.proto2.Descriptor.prototype.getName=function(){return this.name_};goog.proto2.Descriptor.prototype.getFullName=function(){return this.fullName_};goog.proto2.Descriptor.prototype.getContainingType=function(){return this.containingType_?this.containingType_.getDescriptor():null};goog.proto2.Descriptor.prototype.getFields=function(){var a=goog.object.getValues(this.fields_);return goog.array.sort(a,function(a,c){return a.getTag()-c.getTag()}),a};goog.proto2.Descriptor.prototype.getFieldsMap=function(){return this.fields_};goog.proto2.Descriptor.prototype.findFieldByName=function(a){return goog.object.findValue(this.fields_,function(b,c,d){return b.getName()==a})||null};goog.proto2.Descriptor.prototype.findFieldByTag=function(a){return goog.asserts.assert(goog.string.isNumeric(a)),this.fields_[parseInt(a,10)]||null};goog.proto2.Descriptor.prototype.createMessageInstance=function(){return new this.messageType_};goog.proto2.Message=function(){this.values_={};this.fields_=this.getDescriptor().getFieldsMap();this.deserializedFields_=this.lazyDeserializer_=null};goog.proto2.Message.FieldType={DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18};goog.proto2.Message.prototype.initializeForLazyDeserializer=function(a,b){this.lazyDeserializer_=a;this.values_=b;this.deserializedFields_={}};goog.proto2.Message.prototype.setUnknown=function(a,b){goog.asserts.assert(!this.fields_[a],"Field is not unknown in this message");goog.asserts.assert(1<=a,"Tag is not valid");goog.asserts.assert(null!==b,"Value cannot be null");this.values_[a]=b;this.deserializedFields_&&delete this.deserializedFields_[a]};goog.proto2.Message.prototype.forEachUnknown=function(a,b){var c=b||this,d,e;for(d in this.values_)e=Number(d),this.fields_[e]||a.call(c,e,this.values_[d])};goog.proto2.Message.prototype.has=function(a){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.has$Value(a.getTag())};goog.proto2.Message.prototype.arrayOf=function(a){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.array$Values(a.getTag())};goog.proto2.Message.prototype.countOf=function(a){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.count$Values(a.getTag())};goog.proto2.Message.prototype.get=function(a,b){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.get$Value(a.getTag(),b)};goog.proto2.Message.prototype.getOrDefault=function(a,b){return goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field"),this.get$ValueOrDefault(a.getTag(),b)};goog.proto2.Message.prototype.set=function(a,b){goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field");this.set$Value(a.getTag(),b)};goog.proto2.Message.prototype.add=function(a,b){goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field");this.add$Value(a.getTag(),b)};goog.proto2.Message.prototype.clear=function(a){goog.asserts.assert(a.getContainingType()==this.getDescriptor(),"The current message does not contain the given field");this.clear$Field(a.getTag())};goog.proto2.Message.prototype.equals=function(a){var b,c,d,e,h,k;if(!a||this.constructor!=a.constructor)return!1;for(b=this.getDescriptor().getFields(),c=0;c<b.length;c++){if(d=b[c],e=d.getTag(),this.has$Value(e)!=a.has$Value(e))return!1;if(this.has$Value(e)){var f=d.isCompositeType(),g=this.getValueForTag_(e),e=a.getValueForTag_(e);if(d.isRepeated()){if(g.length!=e.length)return!1;for(d=0;d<g.length;d++)if(h=g[d],k=e[d],f?!h.equals(k):h!=k)return!1}else if(f?!g.equals(e):g!=e)return!1}}return!0};goog.proto2.Message.prototype.copyFrom=function(a){goog.asserts.assert(this.constructor==a.constructor,"The source message must have the same type.");this!=a&&(this.values_={},this.deserializedFields_&&(this.deserializedFields_={}),this.mergeFrom(a))};goog.proto2.Message.prototype.mergeFrom=function(a){var b,c,e,f,d,g;for(goog.asserts.assert(this.constructor==a.constructor,"The source message must have the same type."),b=this.getDescriptor().getFields(),c=0;c<b.length;c++)if(d=b[c],e=d.getTag(),a.has$Value(e))if(this.deserializedFields_&&delete this.deserializedFields_[d.getTag()],f=d.isCompositeType(),d.isRepeated())for(d=a.array$Values(e),g=0;g<d.length;g++)this.add$Value(e,f?d[g].clone():d[g]);else d=a.getValueForTag_(e),f?(f=this.getValueForTag_(e))?f.mergeFrom(d):this.set$Value(e,d.clone()):this.set$Value(e,d)};goog.proto2.Message.prototype.clone=function(){var a=new this.constructor;return a.copyFrom(this),a};goog.proto2.Message.prototype.initDefaults=function(a){for(var b=this.getDescriptor().getFields(),c=0;c<b.length;c++){var d=b[c],e=d.getTag(),f=d.isCompositeType();if(this.has$Value(e)||d.isRepeated()||(f?this.values_[e]=new(d.getNativeType()):a&&(this.values_[e]=d.getDefaultValue())),f)if(d.isRepeated())for(d=this.array$Values(e),e=0;e<d.length;e++)d[e].initDefaults(a);else this.get$Value(e).initDefaults(a)}};goog.proto2.Message.prototype.has$Value=function(a){return null!=this.values_[a]};goog.proto2.Message.prototype.getValueForTag_=function(a){var b=this.values_[a];return goog.isDefAndNotNull(b)?this.lazyDeserializer_?a in this.deserializedFields_?this.deserializedFields_[a]:(b=this.lazyDeserializer_.deserializeField(this,this.fields_[a],b),this.deserializedFields_[a]=b):b:null};goog.proto2.Message.prototype.get$Value=function(a,b){var c=this.getValueForTag_(a),d;return this.fields_[a].isRepeated()?(d=b||0,goog.asserts.assert(0<=d&&d<c.length,"Given index %s is out of bounds.  Repeated field length: %s",d,c.length),c[d]):c};goog.proto2.Message.prototype.get$ValueOrDefault=function(a,b){return this.has$Value(a)?this.get$Value(a,b):this.fields_[a].getDefaultValue()};goog.proto2.Message.prototype.array$Values=function(a){return this.getValueForTag_(a)||[]};goog.proto2.Message.prototype.count$Values=function(a){return this.fields_[a].isRepeated()?this.has$Value(a)?this.values_[a].length:0:this.has$Value(a)?1:0};goog.proto2.Message.prototype.set$Value=function(a,b){goog.asserts.ENABLE_ASSERTS&&this.checkFieldType_(this.fields_[a],b);this.values_[a]=b;this.deserializedFields_&&(this.deserializedFields_[a]=b)};goog.proto2.Message.prototype.add$Value=function(a,b){goog.asserts.ENABLE_ASSERTS&&this.checkFieldType_(this.fields_[a],b);this.values_[a]||(this.values_[a]=[]);this.values_[a].push(b);this.deserializedFields_&&delete this.deserializedFields_[a]};goog.proto2.Message.prototype.checkFieldType_=function(a,b){a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.ENUM?goog.asserts.assertNumber(b):goog.asserts.assert(b.constructor==a.getNativeType())};goog.proto2.Message.prototype.clear$Field=function(a){delete this.values_[a];this.deserializedFields_&&delete this.deserializedFields_[a]};goog.proto2.Message.createDescriptor=function(a,b){var c=[],d=b[0];for(var e in b)0!=e&&c.push(new goog.proto2.FieldDescriptor(a,e,b[e]));return new goog.proto2.Descriptor(a,d,c)};goog.proto2.Serializer=function(){};goog.proto2.Serializer.DECODE_SYMBOLIC_ENUMS=!1;goog.proto2.Serializer.prototype.getSerializedValue=function(a,b){return a.isCompositeType()?this.serialize(b):goog.isNumber(b)&&!isFinite(b)?b.toString():b};goog.proto2.Serializer.prototype.deserialize=function(a,b){var c=a.createMessageInstance();return this.deserializeTo(c,b),goog.asserts.assert(c instanceof goog.proto2.Message),c};goog.proto2.Serializer.prototype.getDeserializedValue=function(a,b){if(a.isCompositeType())return b instanceof goog.proto2.Message?b:this.deserialize(a.getFieldMessageType(),b);if(a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.ENUM){if(goog.proto2.Serializer.DECODE_SYMBOLIC_ENUMS&&goog.isString(b)){var c=a.getNativeType();if(c.hasOwnProperty(b))return c[b]}return b}if(!a.deserializationConversionPermitted())return b;if(c=a.getNativeType(),c===String){if(goog.isNumber(b))return String(b)}else if(c===Number&&goog.isString(b)&&("Infinity"===b||"-Infinity"===b||"NaN"===b||/^-?[0-9]+$/.test(b)))return Number(b);return b};goog.proto2.LazyDeserializer=function(){};goog.inherits(goog.proto2.LazyDeserializer,goog.proto2.Serializer);goog.proto2.LazyDeserializer.prototype.deserialize=function(a,b){var c=a.createMessageInstance();return c.initializeForLazyDeserializer(this,b),goog.asserts.assert(c instanceof goog.proto2.Message),c};goog.proto2.LazyDeserializer.prototype.deserializeTo=function(a,b){throw Error("Unimplemented");};goog.proto2.PbLiteSerializer=function(){};goog.inherits(goog.proto2.PbLiteSerializer,goog.proto2.LazyDeserializer);goog.proto2.PbLiteSerializer.prototype.zeroIndexing_=!1;goog.proto2.PbLiteSerializer.prototype.setZeroIndexed=function(a){this.zeroIndexing_=a};goog.proto2.PbLiteSerializer.prototype.serialize=function(a){for(var f,g,h,b=a.getDescriptor().getFields(),c=[],d=this.zeroIndexing_,e=0;e<b.length;e++)if(f=b[e],a.has(f))if(g=f.getTag(),g=d?g-1:g,f.isRepeated())for(c[g]=[],h=0;h<a.countOf(f);h++)c[g][h]=this.getSerializedValue(f,a.get(f,h));else c[g]=this.getSerializedValue(f,a.get(f));return a.forEachUnknown(function(a,b){c[d?a-1:a]=b}),c};goog.proto2.PbLiteSerializer.prototype.deserializeField=function(a,b,c){if(null==c)return c;if(b.isRepeated()){a=[];goog.asserts.assert(goog.isArray(c),"Value must be array: %s",c);for(var d=0;d<c.length;d++)a[d]=this.getDeserializedValue(b,c[d]);return a}return this.getDeserializedValue(b,c)};goog.proto2.PbLiteSerializer.prototype.getSerializedValue=function(a,b){return a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.BOOL?b?1:0:goog.proto2.Serializer.prototype.getSerializedValue.apply(this,arguments)};goog.proto2.PbLiteSerializer.prototype.getDeserializedValue=function(a,b){return a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.BOOL?(goog.asserts.assert(goog.isNumber(b)||goog.isBoolean(b),"Value is expected to be a number or boolean"),!!b):goog.proto2.Serializer.prototype.getDeserializedValue.apply(this,arguments)};goog.proto2.PbLiteSerializer.prototype.deserialize=function(a,b){var c=b,d;if(this.zeroIndexing_){c=[];for(d in b)c[parseInt(d,10)+1]=b[d]}return goog.proto2.PbLiteSerializer.superClass_.deserialize.call(this,a,c)};goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=function(){var a=goog.labs.userAgent.util.getNavigator_();return a&&(a=a.userAgent)?a:""};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()};goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(b,a)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(b,a)};goog.labs.userAgent.util.extractVersionTuples=function(a){for(var b=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")};goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))};goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")};goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")};goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchEdge_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")};goog.labs.userAgent.browser.getVersion=function(){function a(a){return a=goog.array.find(a,d),c[a]||""}var b=goog.labs.userAgent.util.getUserAgent(),c,d;return goog.labs.userAgent.browser.isIE()?goog.labs.userAgent.browser.getIEVersion_(b):(b=goog.labs.userAgent.util.extractVersionTuples(b),c={},goog.array.forEach(b,function(a){c[a[0]]=a[1]}),d=goog.partial(goog.object.containsKey,c),goog.labs.userAgent.browser.isOpera()?a(["Version","Opera","OPR"]):goog.labs.userAgent.browser.isEdge()?a(["Edge"]):goog.labs.userAgent.browser.isChrome()?a(["Chrome","CriOS"]):(b=b[2])&&b[1]||"")};goog.labs.userAgent.browser.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),a)};goog.labs.userAgent.browser.getIEVersion_=function(a){var b=/rv: *([\d\.]*)/.exec(a),c;if(b&&b[1])return b[1];if(b="",c=/MSIE +([\d\.]+)/.exec(a),c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case"4.0":b="8.0";break;case"5.0":b="9.0";break;case"6.0":b="10.0";break;case"7.0":b="11.0"}else b="7.0";else b=c[1];return b};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")};goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent(),b,c;if(a){if(a=goog.labs.userAgent.util.extractVersionTuples(a),b=goog.labs.userAgent.engine.getEngineTuple_(a),b)return"Gecko"==b[0]?goog.labs.userAgent.engine.getVersionForKey_(a,"Firefox"):b[1];if(a=a[0],a&&(c=a[2])&&(c=/Trident\/([^\s;]+)/.exec(c)))return c[1]}return""};goog.labs.userAgent.engine.getEngineTuple_=function(a){var b,c;if(!goog.labs.userAgent.engine.isEdge())return a[1];for(b=0;b<a.length;b++)if(c=a[b],"Edge"==c[0])return c};goog.labs.userAgent.engine.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)};goog.labs.userAgent.engine.getVersionForKey_=function(a,b){var c=goog.array.find(a,function(a){return b==a[0]});return c&&c[1]||""};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")};goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")};goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")};goog.labs.userAgent.platform.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent(),b="";return goog.labs.userAgent.platform.isWindows()?(b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(b=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(b=/Android\s+([^\);]+)(\)|;)/,b=(a=b.exec(a))&&a[1]):goog.labs.userAgent.platform.isChromeOS()&&(b=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1]),b||""};goog.labs.userAgent.platform.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};goog.userAgent.getNavigator=function(){return goog.global.navigator||null};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")};goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigator();return a&&a.platform||""};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;goog.userAgent.ASSUME_IPAD=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var a=goog.userAgent.getNavigator();return!!a&&goog.string.contains(a.appVersion||"","X11")};goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.operaVersion_=function(){var a=goog.global.opera.version;try{return a()}catch(b){return a}};goog.userAgent.determineVersion_=function(){if(goog.userAgent.OPERA&&goog.global.opera)return goog.userAgent.operaVersion_();var a="",b=goog.userAgent.getVersionRegexResult_();return b&&(a=b?b[1]:""),goog.userAgent.IE&&(b=goog.userAgent.getDocumentMode_(),b>parseFloat(a))?String(b):a};goog.userAgent.getVersionRegexResult_=function(){var a=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\:([^\);]+)(\)|;)/.exec(a):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(a):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(a):void 0};goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;if(a)return a.documentMode};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[a]||(goog.userAgent.isVersionOrHigherCache_[a]=0<=goog.string.compareVersions(goog.userAgent.VERSION,a))};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;goog.userAgent.isDocumentModeOrHigher=function(a){return goog.userAgent.DOCUMENT_MODE>=a};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=function(){var a=goog.global.document,b=goog.userAgent.getDocumentMode_();if(a&&goog.userAgent.IE)return b||("CSS1Compat"==a.compatMode?parseInt(goog.userAgent.VERSION,10):5)}();goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)};goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"};goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(a){return!0===goog.dom.tags.VOID_TAGS_[a]};goog.string.TypedString=function(){};goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"};goog.string.Const.unwrap=function(a){return a instanceof goog.string.Const&&a.constructor===goog.string.Const&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?a.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+a+"'"),"type_error:Const")};goog.string.Const.from=function(a){return goog.string.Const.create__googStringSecurityPrivate_(a)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.create__googStringSecurityPrivate_=function(a){var b=new goog.string.Const;return b.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a,b};goog.html={};goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeStyle.fromConstant=function(a){return(a=goog.string.Const.unwrap(a),0===a.length)?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(a),goog.asserts.assert(goog.string.endsWith(a,";"),"Last character of style string is not ';': "+a),goog.asserts.assert(goog.string.contains(a,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+a),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a))};goog.html.SafeStyle.checkStyle_=function(a){goog.asserts.assert(!/[<>]/.test(a),"Forbidden characters in style string: "+a)};goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"});goog.html.SafeStyle.unwrap=function(a){return a instanceof goog.html.SafeStyle&&a.constructor===goog.html.SafeStyle&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?a.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+a+"'"),"type_error:SafeStyle")};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a,this};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse("");goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez";goog.html.SafeStyle.create=function(a){var b="",c,d;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);d=a[c];null!=d&&(d instanceof goog.string.Const?(d=goog.string.Const.unwrap(d),goog.asserts.assert(!/[{;}]/.test(d),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(d)?goog.html.SafeStyle.hasBalancedQuotes_(d)||(goog.asserts.fail("String value requires balanced quotes, got: "+d),d=goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only [-,.\"'%_!# a-zA-Z0-9], got: "+d),d=goog.html.SafeStyle.INNOCUOUS_STRING),b+=c+":"+d+";")}return b?(goog.html.SafeStyle.checkStyle_(b),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)):goog.html.SafeStyle.EMPTY};goog.html.SafeStyle.hasBalancedQuotes_=function(a){for(var e,b=!0,c=!0,d=0;d<a.length;d++)e=a.charAt(d),"'"==e&&c?b=!b:'"'==e&&b&&(c=!c);return b&&c};goog.html.SafeStyle.VALUE_RE_=/^[-,."'%_!# a-zA-Z0-9]+$/;goog.html.SafeStyle.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyle.unwrap(a)};return goog.array.forEach(arguments,c),b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeStyleSheet.concat=function(a){var b="",c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyleSheet.unwrap(a)};return goog.array.forEach(arguments,c),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};goog.html.SafeStyleSheet.fromConstant=function(a){return(a=goog.string.Const.unwrap(a),0===a.length)?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(a,"<"),"Forbidden '<' character in style sheet string: "+a),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a))};goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"});goog.html.SafeStyleSheet.unwrap=function(a){return a instanceof goog.html.SafeStyleSheet&&a.constructor===goog.html.SafeStyleSheet&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+a+"'"),"type_error:SafeStyleSheet")};goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a,this};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse("");goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(a){return goog.fs.url.getUrlObject_().createObjectURL(a)};goog.fs.url.revokeObjectUrl=function(a){goog.fs.url.getUrlObject_().revokeObjectURL(a)};goog.fs.url.getUrlObject_=function(){var a=goog.fs.url.findUrlObject_();if(null!=a)return a;throw Error("This browser doesn't seem to support blob URLs");};goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null};goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4));goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;goog.i18n.bidi.toDir=function(a,b){return"number"==typeof a?0<a?goog.i18n.bidi.Dir.LTR:0>a?goog.i18n.bidi.Dir.RTL:b?null:goog.i18n.bidi.Dir.NEUTRAL:null==a?null:a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿";goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ";goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(a,b){return b?a.replace(goog.i18n.bidi.htmlSkipReg_,""):a};goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(a,b){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;goog.i18n.bidi.hasAnyLtr=function(a,b){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(a){return goog.i18n.bidi.rtlRe_.test(a)};goog.i18n.bidi.isLtrChar=function(a){return goog.i18n.bidi.ltrRe_.test(a)};goog.i18n.bidi.isNeutralChar=function(a){return!goog.i18n.bidi.isLtrChar(a)&&!goog.i18n.bidi.isRtlChar(a)};goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(a,b){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;goog.i18n.bidi.startsWithLtr=function(a,b){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(a,b){return a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b),goog.i18n.bidi.isRequiredLtrRe_.test(a)||!goog.i18n.bidi.hasAnyLtr(a)&&!goog.i18n.bidi.hasAnyRtl(a)};goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(a,b){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;goog.i18n.bidi.endsWithRtl=function(a,b){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=function(a){return goog.i18n.bidi.rtlLocalesRe_.test(a)};goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g;goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;goog.i18n.bidi.guardBracketInHtml=function(a,b){return(void 0===b?goog.i18n.bidi.hasAnyRtl(a):b)?a.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&<\/span>"):a.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&<\/span>")};goog.i18n.bidi.guardBracketInText=function(a,b){var c=(void 0===b?goog.i18n.bidi.hasAnyRtl(a):b)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return a.replace(goog.i18n.bidi.bracketGuardTextRe_,c+"$&"+c)};goog.i18n.bidi.enforceRtlInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+a+"<\/span>"};goog.i18n.bidi.enforceRtlInText=function(a){return goog.i18n.bidi.Format.RLE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.enforceLtrInHtml=function(a){return"<"==a.charAt(0)?a.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+a+"<\/span>"};goog.i18n.bidi.enforceLtrInText=function(a){return goog.i18n.bidi.Format.LRE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;goog.i18n.bidi.mirrorCSS=function(a){return a.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;goog.i18n.bidi.normalizeHebrewQuote=function(a){return a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;goog.i18n.bidi.estimateDirection=function(a,b){for(var h,c=0,d=0,e=!1,f=goog.i18n.bidi.stripHtmlIfNeeded_(a,b).split(goog.i18n.bidi.wordSeparatorRe_),g=0;g<f.length;g++)h=f[g],goog.i18n.bidi.startsWithRtl(h)?(c++,d++):goog.i18n.bidi.isRequiredLtrRe_.test(h)?e=!0:goog.i18n.bidi.hasAnyLtr(h)?d++:goog.i18n.bidi.hasNumeralsRe_.test(h)&&(e=!0);return 0==d?e?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:c/d>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.detectRtlDirectionality=function(a,b){return goog.i18n.bidi.estimateDirection(a,b)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(a,b){a&&(b=goog.i18n.bidi.toDir(b))&&(a.style.textAlign=b==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,a.dir=b==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")};goog.i18n.bidi.setElementDirByTextDirectionality=function(a,b){switch(goog.i18n.bidi.estimateDirection(b)){case goog.i18n.bidi.Dir.LTR:a.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:a.dir="rtl";break;default:a.removeAttribute("dir")}};goog.i18n.bidi.DirectionalString=function(){};goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});goog.html.SafeUrl.unwrap=function(a){return a instanceof goog.html.SafeUrl&&a.constructor===goog.html.SafeUrl&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?a.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+a+"'"),"type_error:SafeUrl")};goog.html.SafeUrl.fromConstant=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm))$/i;goog.html.SafeUrl.fromBlob=function(a){return a=goog.html.SAFE_MIME_TYPE_PATTERN_.test(a.type)?goog.fs.url.createObjectUrl(a):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i;goog.html.SafeUrl.fromDataUrl=function(a){var b=a.match(goog.html.DATA_URL_PATTERN_),b=b&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(b[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b?a:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.sanitize=function(a){return a instanceof goog.html.SafeUrl?a:(a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a),goog.html.SAFE_URL_PATTERN_.test(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a))};goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.SafeUrl;return b.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a,b};goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_};goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"});goog.html.TrustedResourceUrl.unwrap=function(a){return a instanceof goog.html.TrustedResourceUrl&&a.constructor===goog.html.TrustedResourceUrl&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+a+"'"),"type_error:TrustedResourceUrl")};goog.html.TrustedResourceUrl.fromConstant=function(a){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(a){var b=new goog.html.TrustedResourceUrl;return b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a,b};goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;this.dir_=null};goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_};goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0;goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_};goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"});goog.html.SafeHtml.unwrap=function(a){return a instanceof goog.html.SafeHtml&&a.constructor===goog.html.SafeHtml&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?a.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+a+"'"),"type_error:SafeHtml")};goog.html.SafeHtml.htmlEscape=function(a){if(a instanceof goog.html.SafeHtml)return a;var b=null;return a.implementsGoogI18nBidiDirectionalString&&(b=a.getDirection()),a=a.implementsGoogStringTypedString?a.getTypedStringValue():String(a),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(a),b)};goog.html.SafeHtml.htmlEscapePreservingNewlines=function(a){return a instanceof goog.html.SafeHtml?a:(a=goog.html.SafeHtml.htmlEscape(a),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(a)),a.getDirection()))};goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(a){return a instanceof goog.html.SafeHtml?a:(a=goog.html.SafeHtml.htmlEscape(a),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(a)),a.getDirection()))};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_=goog.object.createSet(goog.dom.TagName.EMBED,goog.dom.TagName.IFRAME,goog.dom.TagName.LINK,goog.dom.TagName.OBJECT,goog.dom.TagName.SCRIPT,goog.dom.TagName.STYLE,goog.dom.TagName.TEMPLATE);goog.html.SafeHtml.create=function(a,b,c){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(a))throw Error("Invalid tag name <"+a+">.");if(a.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+a+"> is not allowed for SafeHtml.");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(a,b,c)};goog.html.SafeHtml.createIframe=function(a,b,c,d){var e={};return e.src=a||null,e.srcdoc=b||null,a=goog.html.SafeHtml.combineAttributes(e,{sandbox:""},c),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",a,d)};goog.html.SafeHtml.createStyle=function(a,b){var c=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},b),d="",e;for(a=goog.array.concat(a),e=0;e<a.length;e++)d+=goog.html.SafeStyleSheet.unwrap(a[e]);return d=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(d,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",c,d)};goog.html.SafeHtml.getAttrNameAndValue_=function(a,b,c){if(c instanceof goog.string.Const)c=goog.string.Const.unwrap(c);else if("style"==b.toLowerCase())c=goog.html.SafeHtml.getStyleValue_(c);else{if(/^on/i.test(b))throw Error('Attribute "'+b+'" requires goog.string.Const value, "'+c+'" given.');if(b.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(c instanceof goog.html.TrustedResourceUrl)c=goog.html.TrustedResourceUrl.unwrap(c);else if(c instanceof goog.html.SafeUrl)c=goog.html.SafeUrl.unwrap(c);else if(goog.isString(c))c=goog.html.SafeUrl.sanitize(c).getTypedStringValue();else throw Error('Attribute "'+b+'" on tag "'+a+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+c+'" given.');}return c.implementsGoogStringTypedString&&(c=c.getTypedStringValue()),goog.asserts.assert(goog.isString(c)||goog.isNumber(c),"String or number value expected, got "+typeof c+" with value: "+c),b+'="'+goog.string.htmlEscape(String(c))+'"'};goog.html.SafeHtml.getStyleValue_=function(a){if(!goog.isObject(a))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof a+" given: "+a);return a instanceof goog.html.SafeStyle||(a=goog.html.SafeStyle.create(a)),goog.html.SafeStyle.unwrap(a)};goog.html.SafeHtml.createWithDir=function(a,b,c,d){return b=goog.html.SafeHtml.create(b,c,d),b.dir_=a,b};goog.html.SafeHtml.concat=function(a){var b=goog.i18n.bidi.Dir.NEUTRAL,c="",d=function(a){goog.isArray(a)?goog.array.forEach(a,d):(a=goog.html.SafeHtml.htmlEscape(a),c+=goog.html.SafeHtml.unwrap(a),a=a.getDirection(),b==goog.i18n.bidi.Dir.NEUTRAL?b=a:a!=goog.i18n.bidi.Dir.NEUTRAL&&b!=a&&(b=null))};return goog.array.forEach(arguments,d),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,b)};goog.html.SafeHtml.concatWithDir=function(a,b){var c=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return c.dir_=a,c};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(a,b){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(a,b)};goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=a,this.dir_=b,this};goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(a,b,c){var d=null,e="<"+a,f,g;if(b)for(f in b){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(f))throw Error('Invalid attribute name "'+f+'".');g=b[f];goog.isDefAndNotNull(g)&&(e+=" "+goog.html.SafeHtml.getAttrNameAndValue_(a,f,g))}return goog.isDefAndNotNull(c)?goog.isArray(c)||(c=[c]):c=[],goog.dom.tags.isVoidTag(a.toLowerCase())?(goog.asserts.assert(!c.length,"Void tag <"+a+"> does not allow content."),e+=">"):(d=goog.html.SafeHtml.concat(c),e+=">"+goog.html.SafeHtml.unwrap(d)+"<\/"+a+">",d=d.getDirection()),(a=b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(a)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,d)};goog.html.SafeHtml.combineAttributes=function(a,b,c){var d={},e,f;for(e in a)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=a[e];for(e in b)goog.asserts.assert(e.toLowerCase()==e,"Must be lower case"),d[e]=b[e];for(e in c){if(f=e.toLowerCase(),f in a)throw Error('Cannot override "'+f+'" attribute, got "'+e+'" with value "'+c[e]+'"');f in b&&delete d[f];d[e]=c[e]}return d};goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL);goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"};goog.dom.safe.insertAdjacentHtml=function(a,b,c){a.insertAdjacentHTML(b,goog.html.SafeHtml.unwrap(c))};goog.dom.safe.setInnerHtml=function(a,b){a.innerHTML=goog.html.SafeHtml.unwrap(b)};goog.dom.safe.setOuterHtml=function(a,b){a.outerHTML=goog.html.SafeHtml.unwrap(b)};goog.dom.safe.documentWrite=function(a,b){a.write(goog.html.SafeHtml.unwrap(b))};goog.dom.safe.setAnchorHref=function(a,b){var c;c=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitize(b);a.href=goog.html.SafeUrl.unwrap(c)};goog.dom.safe.setEmbedSrc=function(a,b){a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setFrameSrc=function(a,b){a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setIframeSrc=function(a,b){a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setLinkHrefAndRel=function(a,b,c){a.rel=c;goog.string.caseInsensitiveContains(c,"stylesheet")?(goog.asserts.assert(b instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),a.href=goog.html.TrustedResourceUrl.unwrap(b)):a.href=b instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(b):b instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(b):goog.html.SafeUrl.sanitize(b).getTypedStringValue()};goog.dom.safe.setObjectData=function(a,b){a.data=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setScriptSrc=function(a,b){a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setLocationHref=function(a,b){var c;c=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitize(b);a.href=goog.html.SafeUrl.unwrap(c)};goog.dom.safe.openInWindow=function(a,b,c,d,e){return a=a instanceof goog.html.SafeUrl?a:goog.html.SafeUrl.sanitize(a),(b||window).open(goog.html.SafeUrl.unwrap(a),c?goog.string.Const.unwrap(c):"",d,e)};goog.math={};goog.math.randomInt=function(a){return Math.floor(Math.random()*a)};goog.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};goog.math.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)};goog.math.modulo=function(a,b){var c=a%b;return 0>c*b?c+b:c};goog.math.lerp=function(a,b,c){return a+c*(b-a)};goog.math.nearlyEquals=function(a,b,c){return Math.abs(a-b)<=(c||1e-6)};goog.math.standardAngle=function(a){return goog.math.modulo(a,360)};goog.math.standardAngleInRadians=function(a){return goog.math.modulo(a,2*Math.PI)};goog.math.toRadians=function(a){return a*Math.PI/180};goog.math.toDegrees=function(a){return 180*a/Math.PI};goog.math.angleDx=function(a,b){return b*Math.cos(goog.math.toRadians(a))};goog.math.angleDy=function(a,b){return b*Math.sin(goog.math.toRadians(a))};goog.math.angle=function(a,b,c,d){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(d-b,c-a)))};goog.math.angleDifference=function(a,b){var c=goog.math.standardAngle(b)-goog.math.standardAngle(a);return 180<c?c-=360:-180>=c&&(c=360+c),c};goog.math.sign=Math.sign||function(a){return 0<a?1:0>a?-1:a};goog.math.longestCommonSubsequence=function(a,b,c,d){var k;c=c||function(a,b){return a==b};d=d||function(b,c){return a[b]};for(var e=a.length,f=b.length,g=[],h=0;h<e+1;h++)g[h]=[],g[h][0]=0;for(k=0;k<f+1;k++)g[0][k]=0;for(h=1;h<=e;h++)for(k=1;k<=f;k++)g[h][k]=c(a[h-1],b[k-1])?g[h-1][k-1]+1:Math.max(g[h-1][k],g[h][k-1]);for(var l=[],h=e,k=f;0<h&&0<k;)c(a[h-1],b[k-1])?(l.unshift(d(h-1,k-1)),h--,k--):g[h-1][k]>g[h][k-1]?h--:k--;return l};goog.math.sum=function(a){return goog.array.reduce(arguments,function(a,c){return a+c},0)};goog.math.average=function(a){return goog.math.sum.apply(null,arguments)/arguments.length};goog.math.sampleVariance=function(a){var b=arguments.length,c;return 2>b?0:(c=goog.math.average.apply(null,arguments),goog.math.sum.apply(null,goog.array.map(arguments,function(a){return Math.pow(a-c,2)}))/(b-1))};goog.math.standardDeviation=function(a){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))};goog.math.isInt=function(a){return isFinite(a)&&0==a%1};goog.math.isFiniteNumber=function(a){return isFinite(a)&&!isNaN(a)};goog.math.isNegativeZero=function(a){return 0==a&&0>1/a};goog.math.log10Floor=function(a){if(0<a){var b=Math.round(Math.log(a)*Math.LOG10E);return b-(parseFloat("1e"+b)>a?1:0)}return 0==a?-Infinity:NaN};goog.math.safeFloor=function(a,b){return goog.asserts.assert(!goog.isDef(b)||0<b),Math.floor(a+(b||2e-15))};goog.math.safeCeil=function(a,b){return goog.asserts.assert(!goog.isDef(b)||0<b),Math.ceil(a-(b||2e-15))};goog.math.Coordinate=function(a,b){this.x=goog.isDef(a)?a:0;this.y=goog.isDef(b)?b:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"});goog.math.Coordinate.equals=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};goog.math.Coordinate.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};goog.math.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=function(a){return goog.math.angle(0,0,a.x,a.y)};goog.math.Coordinate.squaredDistance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};goog.math.Coordinate.difference=function(a,b){return new goog.math.Coordinate(a.x-b.x,a.y-b.y)};goog.math.Coordinate.sum=function(a,b){return new goog.math.Coordinate(a.x+b.x,a.y+b.y)};goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this};goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this};goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this};goog.math.Coordinate.prototype.translate=function(a,b){return a instanceof goog.math.Coordinate?(this.x+=a.x,this.y+=a.y):(this.x+=a,goog.isNumber(b)&&(this.y+=b)),this};goog.math.Coordinate.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;return this.x*=a,this.y*=c,this};goog.math.Coordinate.prototype.rotateRadians=function(a,b){var c=b||new goog.math.Coordinate(0,0),d=this.x,e=this.y,f=Math.cos(a),g=Math.sin(a);this.x=(d-c.x)*f-(e-c.y)*g+c.x;this.y=(d-c.x)*g+(e-c.y)*f+c.y};goog.math.Coordinate.prototype.rotateDegrees=function(a,b){this.rotateRadians(goog.math.toRadians(a),b)};goog.math.Size=function(a,b){this.width=a;this.height=b};goog.math.Size.equals=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this};goog.math.Size.prototype.fitsInside=function(a){return this.width<=a.width&&this.height<=a.height};goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this};goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};goog.math.Size.prototype.scale=function(a,b){var c=goog.isNumber(b)?b:a;return this.width*=a,this.height*=c,this};goog.math.Size.prototype.scaleToCover=function(a){return a=this.aspectRatio()<=a.aspectRatio()?a.width/this.width:a.height/this.height,this.scale(a)};goog.math.Size.prototype.scaleToFit=function(a){return a=this.aspectRatio()>a.aspectRatio()?a.width/this.width:a.height/this.height,this.scale(a)};goog.dom.ASSUME_QUIRKS_MODE=!1;goog.dom.ASSUME_STANDARDS_MODE=!1;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.getDomHelper=function(a){return a?new goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};goog.dom.getDocument=function(){return document};goog.dom.getElement=function(a){return goog.dom.getElementHelper_(document,a)};goog.dom.getElementHelper_=function(a,b){return goog.isString(b)?a.getElementById(b):b};goog.dom.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(document,a)};goog.dom.getRequiredElementHelper_=function(a,b){goog.asserts.assertString(b);var c=goog.dom.getElementHelper_(a,b);return goog.asserts.assertElement(c,"No element found with id: "+b)};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(document,a,b,c)};goog.dom.getElementsByClass=function(a,b){var c=b||document;return goog.dom.canUseQuerySelector_(c)?c.querySelectorAll("."+a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)};goog.dom.getElementByClass=function(a,b){var c=b||document,d=null;return(d=c.getElementsByClassName?c.getElementsByClassName(a)[0]:goog.dom.canUseQuerySelector_(c)?c.querySelector("."+a):goog.dom.getElementsByTagNameAndClass_(document,"*",a,b)[0])||null};goog.dom.getRequiredElementByClass=function(a,b){var c=goog.dom.getElementByClass(a,b);return goog.asserts.assert(c,"No element found with className: "+a)};goog.dom.canUseQuerySelector_=function(a){return!(!a.querySelectorAll||!a.querySelector)};goog.dom.getElementsByTagNameAndClass_=function(a,b,c,d){if(a=d||a,b=b&&"*"!=b?b.toUpperCase():"",goog.dom.canUseQuerySelector_(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){if(a=a.getElementsByClassName(c),b){d={};for(var e=0,f=0,g;g=a[f];f++)b==g.nodeName&&(d[e++]=g);return d.length=e,d}return a}if(a=a.getElementsByTagName(b||"*"),c){for(d={},f=e=0;g=a[f];f++)b=g.className,"function"==typeof b.split&&goog.array.contains(b.split(/\s+/),c)&&(d[e++]=g);return d.length=e,d}return a};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;goog.dom.setProperties=function(a,b){goog.object.forEach(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(d)?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[d],b):goog.string.startsWith(d,"aria-")||goog.string.startsWith(d,"data-")?a.setAttribute(d,b):a[d]=b})};goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};goog.dom.getViewportSize=function(a){return goog.dom.getViewportSize_(a||window)};goog.dom.getViewportSize_=function(a){return a=a.document,a=goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body,new goog.math.Size(a.clientWidth,a.clientHeight)};goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeight_=function(a){var b=a.document,c=0,d,e;if(b){if(c=b.body,d=b.documentElement,!d||!c)return 0;a=goog.dom.getViewportSize_(a).height;goog.dom.isCss1CompatMode_(b)&&d.scrollHeight?c=d.scrollHeight!=a?d.scrollHeight:d.offsetHeight:(b=d.scrollHeight,e=d.offsetHeight,d.clientHeight!=e&&(b=c.scrollHeight,e=c.offsetHeight),c=b>a?b>e?b:e:b<e?b:e)}return c};goog.dom.getPageScroll=function(a){return goog.dom.getDomHelper((a||goog.global||window).document).getDocumentScroll()};goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(a){var b=goog.dom.getDocumentScrollElement_(a);return a=goog.dom.getWindow_(a),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&a.pageYOffset!=b.scrollTop?new goog.math.Coordinate(b.scrollLeft,b.scrollTop):new goog.math.Coordinate(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};goog.dom.getDocumentScrollElement_=function(a){return a.scrollingElement?a.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body||a.documentElement};goog.dom.getWindow=function(a){return a?goog.dom.getWindow_(a):window};goog.dom.getWindow_=function(a){return a.parentWindow||a.defaultView};goog.dom.createDom=function(a,b,c){return goog.dom.createDom_(document,arguments)};goog.dom.createDom_=function(a,b){var c=b[0],d=b[1],e;return!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&d&&(d.name||d.type)&&(c=["<",c],d.name&&c.push(' name="',goog.string.htmlEscape(d.name),'"'),d.type&&(c.push(' type="',goog.string.htmlEscape(d.type),'"'),e={},goog.object.extend(e,d),delete e.type,d=e),c.push(">"),c=c.join("")),c=a.createElement(c),d&&(goog.isString(d)?c.className=d:goog.isArray(d)?c.className=d.join(" "):goog.dom.setProperties(c,d)),2<b.length&&goog.dom.append_(a,c,b,2),c};goog.dom.append_=function(a,b,c,d){function e(c){c&&b.appendChild(goog.isString(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];goog.isArrayLike(f)&&!goog.dom.isNodeLike(f)?goog.array.forEach(goog.dom.isNodeList(f)?goog.array.toArray(f):f,e):e(f)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(a){return document.createElement(a)};goog.dom.createTextNode=function(a){return document.createTextNode(String(a))};goog.dom.createTable=function(a,b,c){return goog.dom.createTable_(document,a,b,!!c)};goog.dom.createTable_=function(a,b,c,d){for(var h,k,l,e=a.createElement(goog.dom.TagName.TABLE),f=e.appendChild(a.createElement(goog.dom.TagName.TBODY)),g=0;g<b;g++){for(h=a.createElement(goog.dom.TagName.TR),k=0;k<c;k++)l=a.createElement(goog.dom.TagName.TD),d&&goog.dom.setTextContent(l,goog.string.Unicode.NBSP),h.appendChild(l);f.appendChild(h)}return e};goog.dom.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(document,a)};goog.dom.safeHtmlToNode_=function(a,b){var c=a.createElement(goog.dom.TagName.DIV);return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(goog.html.SafeHtml.create("br"),b)),c.removeChild(c.firstChild)):goog.dom.safe.setInnerHtml(c,b),goog.dom.childrenToNode_(a,c)};goog.dom.htmlToDocumentFragment=function(a){return goog.dom.htmlToDocumentFragment_(document,a)};goog.dom.htmlToDocumentFragment_=function(a,b){var c=a.createElement(goog.dom.TagName.DIV);return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(c.innerHTML="<br>"+b,c.removeChild(c.firstChild)):c.innerHTML=b,goog.dom.childrenToNode_(a,c)};goog.dom.childrenToNode_=function(a,b){if(1==b.childNodes.length)return b.removeChild(b.firstChild);for(var c=a.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);return c};goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};goog.dom.isCss1CompatMode_=function(a){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==a.compatMode};goog.dom.canHaveChildren=function(a){if(a.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(a.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0};goog.dom.appendChild=function(a,b){a.appendChild(b)};goog.dom.append=function(a,b){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,1)};goog.dom.removeChildren=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};goog.dom.insertSiblingBefore=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)};goog.dom.insertSiblingAfter=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)};goog.dom.insertChildAt=function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)};goog.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};goog.dom.replaceNode=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};goog.dom.flattenElement=function(a){var b,c=a.parentNode;if(c&&c.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(a.removeNode)return a.removeNode(!1);for(;b=a.firstChild;)c.insertBefore(b,a);return goog.dom.removeNode(a)}};goog.dom.getChildren=function(a){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=a.children?a.children:goog.array.filter(a.childNodes,function(a){return a.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(a){return goog.isDef(a.firstElementChild)?a.firstElementChild:goog.dom.getNextElementNode_(a.firstChild,!0)};goog.dom.getLastElementChild=function(a){return goog.isDef(a.lastElementChild)?a.lastElementChild:goog.dom.getNextElementNode_(a.lastChild,!1)};goog.dom.getNextElementSibling=function(a){return goog.isDef(a.nextElementSibling)?a.nextElementSibling:goog.dom.getNextElementNode_(a.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(a){return goog.isDef(a.previousElementSibling)?a.previousElementSibling:goog.dom.getNextElementNode_(a.previousSibling,!1)};goog.dom.getNextElementNode_=function(a,b){for(;a&&a.nodeType!=goog.dom.NodeType.ELEMENT;)a=b?a.nextSibling:a.previousSibling;return a};goog.dom.getNextNode=function(a){if(!a)return null;if(a.firstChild)return a.firstChild;for(;a&&!a.nextSibling;)a=a.parentNode;return a?a.nextSibling:null};goog.dom.getPreviousNode=function(a){if(!a)return null;if(!a.previousSibling)return a.parentNode;for(a=a.previousSibling;a&&a.lastChild;)a=a.lastChild;return a};goog.dom.isNodeLike=function(a){return goog.isObject(a)&&0<a.nodeType};goog.dom.isElement=function(a){return goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT};goog.dom.isWindow=function(a){return goog.isObject(a)&&a.window==a};goog.dom.getParentElement=function(a){var b;return goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY&&!(goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&a instanceof goog.global.SVGElement)&&(b=a.parentElement)?b:(b=a.parentNode,goog.dom.isElement(b)?b:null)};goog.dom.contains=function(a,b){if(a.contains&&b.nodeType==goog.dom.NodeType.ELEMENT)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};goog.dom.compareNodeOrder=function(a,b){var c,d,e,f;if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(a.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(b.nodeType==goog.dom.NodeType.DOCUMENT)return 1}return"sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode?(c=a.nodeType==goog.dom.NodeType.ELEMENT,d=b.nodeType==goog.dom.NodeType.ELEMENT,c&&d)?a.sourceIndex-b.sourceIndex:(e=a.parentNode,f=b.parentNode,e==f?goog.dom.compareSiblingOrder_(a,b):!c&&goog.dom.contains(e,b)?-1*goog.dom.compareParentsDescendantNodeIe_(a,b):!d&&goog.dom.contains(f,a)?goog.dom.compareParentsDescendantNodeIe_(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)):(d=goog.dom.getOwnerDocument(a),c=d.createRange(),c.selectNode(a),c.collapse(!0),d=d.createRange(),d.selectNode(b),d.collapse(!0),c.compareBoundaryPoints(goog.global.Range.START_TO_END,d))};goog.dom.compareParentsDescendantNodeIe_=function(a,b){var c=a.parentNode,d;if(c==b)return-1;for(d=b;d.parentNode!=c;)d=d.parentNode;return goog.dom.compareSiblingOrder_(d,a)};goog.dom.compareSiblingOrder_=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};goog.dom.findCommonAncestor=function(a){var b,c=arguments.length,d,e,f,g,h;if(!c)return null;if(1==c)return arguments[0];for(d=[],e=Infinity,b=0;b<c;b++){for(f=[],g=arguments[b];g;)f.unshift(g),g=g.parentNode;d.push(f);e=Math.min(e,f.length)}for(f=null,b=0;b<e;b++){for(g=d[0][b],h=1;h<c;h++)if(g!=d[h][b])return f;f=g}return f};goog.dom.getOwnerDocument=function(a){return goog.asserts.assert(a,"Node cannot be null or undefined."),a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};goog.dom.getFrameContentDocument=function(a){return a.contentDocument||a.contentWindow.document};goog.dom.getFrameContentWindow=function(a){return a.contentWindow||goog.dom.getWindow(goog.dom.getFrameContentDocument(a))};goog.dom.setTextContent=function(a,b){if(goog.asserts.assert(null!=a,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in a)a.textContent=b;else if(a.nodeType==goog.dom.NodeType.TEXT)a.data=b;else if(a.firstChild&&a.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{goog.dom.removeChildren(a);var c=goog.dom.getOwnerDocument(a);a.appendChild(c.createTextNode(String(b)))}};goog.dom.getOuterHtml=function(a){if("outerHTML"in a)return a.outerHTML;var b=goog.dom.getOwnerDocument(a).createElement(goog.dom.TagName.DIV);return b.appendChild(a.cloneNode(!0)),b.innerHTML};goog.dom.findNode=function(a,b){var c=[];if(goog.dom.findNodes_(a,b,c,!0))return c[0]};goog.dom.findNodes=function(a,b){var c=[];return goog.dom.findNodes_(a,b,c,!1),c};goog.dom.findNodes_=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||goog.dom.findNodes_(a,b,c,d))return!0;a=a.nextSibling}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};goog.dom.isFocusableTabIndex=function(a){return goog.dom.hasSpecifiedTabIndex_(a)&&goog.dom.isTabIndexFocusable_(a)};goog.dom.setFocusableTabIndex=function(a,b){b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex"))};goog.dom.isFocusable=function(a){var b;return(b=goog.dom.nativelySupportsFocus_(a)?!a.disabled&&(!goog.dom.hasSpecifiedTabIndex_(a)||goog.dom.isTabIndexFocusable_(a)):goog.dom.isFocusableTabIndex(a))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(a):b};goog.dom.hasSpecifiedTabIndex_=function(a){return a=a.getAttributeNode("tabindex"),goog.isDefAndNotNull(a)&&a.specified};goog.dom.isTabIndexFocusable_=function(a){return a=a.tabIndex,goog.isNumber(a)&&0<=a&&32768>a};goog.dom.nativelySupportsFocus_=function(a){return a.tagName==goog.dom.TagName.A||a.tagName==goog.dom.TagName.INPUT||a.tagName==goog.dom.TagName.TEXTAREA||a.tagName==goog.dom.TagName.SELECT||a.tagName==goog.dom.TagName.BUTTON};goog.dom.hasNonZeroBoundingRect_=function(a){return a=goog.isFunction(a.getBoundingClientRect)?a.getBoundingClientRect():{height:a.offsetHeight,width:a.offsetWidth},goog.isDefAndNotNull(a)&&0<a.height&&0<a.width};goog.dom.getTextContent=function(a){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in a)a=goog.string.canonicalizeNewlines(a.innerText);else{var b=[];goog.dom.getTextContent_(a,b,!0);a=b.join("")}return a=a.replace(/ \xAD /g," ").replace(/\xAD/g,""),a=a.replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(a=a.replace(/ +/g," "))," "!=a&&(a=a.replace(/^\s*/,"")),a};goog.dom.getRawTextContent=function(a){var b=[];return goog.dom.getTextContent_(a,b,!1),b.join("")};goog.dom.getTextContent_=function(a,b,c){if(!(a.nodeName in goog.dom.TAGS_TO_IGNORE_))if(a.nodeType==goog.dom.NodeType.TEXT)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);else for(a=a.firstChild;a;)goog.dom.getTextContent_(a,b,c),a=a.nextSibling};goog.dom.getNodeTextLength=function(a){return goog.dom.getTextContent(a).length};goog.dom.getNodeTextOffset=function(a,b){for(var e,c=b||goog.dom.getOwnerDocument(a).body,d=[];a&&a!=c;){for(e=a;e=e.previousSibling;)d.unshift(goog.dom.getTextContent(e));a=a.parentNode}return goog.string.trimLeft(d.join("")).replace(/ +/g," ").length};goog.dom.getNodeAtOffset=function(a,b,c){var e,f,d;for(a=[a],d=0,e=null;0<a.length&&d<b;)if(e=a.pop(),!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)f=e.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),d=d+f.length;else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)d+=goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName].length;else for(f=e.childNodes.length-1;0<=f;f--)a.push(e.childNodes[f]);return goog.isObject(c)&&(c.remainder=e?e.nodeValue.length+b-d-1:0,c.node=e),e};goog.dom.isNodeList=function(a){if(a&&"number"==typeof a.length){if(goog.isObject(a))return"function"==typeof a.item||"string"==typeof a.item;if(goog.isFunction(a))return"function"==typeof a.item}return!1};goog.dom.getAncestorByTagNameAndClass=function(a,b,c,d){if(!b&&!c)return null;var e=b?b.toUpperCase():null;return goog.dom.getAncestor(a,function(a){return(!e||a.nodeName==e)&&(!c||goog.isString(a.className)&&goog.array.contains(a.className.split(/\s+/),c))},!0,d)};goog.dom.getAncestorByClass=function(a,b,c){return goog.dom.getAncestorByTagNameAndClass(a,null,b,c)};goog.dom.getAncestor=function(a,b,c,d){c||(a=a.parentNode);c=null==d;for(var e=0;a&&(c||e<=d);){if(goog.asserts.assert("parentNode"!=a.name),b(a))return a;a=a.parentNode;e++}return null};goog.dom.getActiveElement=function(a){try{return a&&a.activeElement}catch(b){}return null};goog.dom.getPixelRatio=function(){var a=goog.dom.getWindow();return goog.isDef(a.devicePixelRatio)?a.devicePixelRatio:a.matchMedia?goog.dom.matchesPixelRatio_(.75)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(3)||1:1};goog.dom.matchesPixelRatio_=function(a){return goog.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+a+"),(min--moz-device-pixel-ratio: "+a+"),(min-resolution: "+a+"dppx)").matches?a:0};goog.dom.DomHelper=function(a){this.document_=a||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;goog.dom.DomHelper.prototype.setDocument=function(a){this.document_=a};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(a){return goog.dom.getElementHelper_(this.document_,a)};goog.dom.DomHelper.prototype.getRequiredElement=function(a){return goog.dom.getRequiredElementHelper_(this.document_,a)};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(a,b,c){return goog.dom.getElementsByTagNameAndClass_(this.document_,a,b,c)};goog.dom.DomHelper.prototype.getElementsByClass=function(a,b){return goog.dom.getElementsByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getElementByClass=function(a,b){return goog.dom.getElementByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.getRequiredElementByClass=function(a,b){return goog.dom.getRequiredElementByClass(a,b||this.document_)};goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(a){return goog.dom.getViewportSize(a||this.getWindow())};goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.DomHelper.prototype.createDom=function(a,b,c){return goog.dom.createDom_(this.document_,arguments)};goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)};goog.dom.DomHelper.prototype.createTextNode=function(a){return this.document_.createTextNode(String(a))};goog.dom.DomHelper.prototype.createTable=function(a,b,c){return goog.dom.createTable_(this.document_,a,b,!!c)};goog.dom.DomHelper.prototype.safeHtmlToNode=function(a){return goog.dom.safeHtmlToNode_(this.document_,a)};goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(a){return goog.dom.htmlToDocumentFragment_(this.document_,a)};goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};goog.dom.DomHelper.prototype.getActiveElement=function(a){return goog.dom.getActiveElement(a||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable;goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.json={};goog.json.USE_NATIVE_JSON=!1;goog.json.isValid=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};goog.json.parse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){if(a=String(a),goog.json.isValid(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};goog.json.unsafeParse=goog.json.USE_NATIVE_JSON?goog.global.JSON.parse:function(a){return eval("("+a+")")};goog.json.serialize=goog.json.USE_NATIVE_JSON?goog.global.JSON.stringify:function(a,b){return new goog.json.Serializer(b).serialize(a)};goog.json.Serializer=function(a){this.replacer_=a};goog.json.Serializer.prototype.serialize=function(a){var b=[];return this.serializeInternal(a,b),b.join("")};goog.json.Serializer.prototype.serializeInternal=function(a,b){if(null==a)b.push("null");else{if("object"==typeof a){if(goog.isArray(a)){this.serializeArray(a,b);return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{this.serializeObject_(a,b);return}}switch(typeof a){case"string":this.serializeString_(a,b);break;case"number":this.serializeNumber_(a,b);break;case"boolean":b.push(a);break;case"function":b.push("null");break;default:throw Error("Unknown type: "+typeof a);}}};goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0b":"\\u000b"};goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;goog.json.Serializer.prototype.serializeString_=function(a,b){b.push('"',a.replace(goog.json.Serializer.charsToReplace_,function(a){var b=goog.json.Serializer.charToJsonCharCache_[a];return b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),goog.json.Serializer.charToJsonCharCache_[a]=b),b}),'"')};goog.json.Serializer.prototype.serializeNumber_=function(a,b){b.push(isFinite(a)&&!isNaN(a)?a:"null")};goog.json.Serializer.prototype.serializeArray=function(a,b){var c=a.length,d,e;for(b.push("["),d="",e=0;e<c;e++)b.push(d),d=a[e],this.serializeInternal(this.replacer_?this.replacer_.call(a,String(e),d):d,b),d=",";b.push("]")};goog.json.Serializer.prototype.serializeObject_=function(a,b){var c,d,e;b.push("{");c="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(e=a[d],"function"!=typeof e&&(b.push(c),this.serializeString_(d,b),b.push(":"),this.serializeInternal(this.replacer_?this.replacer_.call(a,d,e):e,b),c=","));b.push("}")};goog.proto2.ObjectSerializer=function(a){this.keyOption_=a};goog.inherits(goog.proto2.ObjectSerializer,goog.proto2.Serializer);goog.proto2.ObjectSerializer.KeyOption={TAG:0,NAME:1};goog.proto2.ObjectSerializer.prototype.serialize=function(a){for(var e,f,g,b=a.getDescriptor().getFields(),c={},d=0;d<b.length;d++)if(e=b[d],f=this.keyOption_==goog.proto2.ObjectSerializer.KeyOption.NAME?e.getName():e.getTag(),a.has(e))if(e.isRepeated())for(g=[],c[f]=g,f=0;f<a.countOf(e);f++)g.push(this.getSerializedValue(e,a.get(e,f)));else c[f]=this.getSerializedValue(e,a.get(e));return a.forEachUnknown(function(a,b){c[a]=b}),c};goog.proto2.ObjectSerializer.prototype.getDeserializedValue=function(a,b){return a.getFieldType()==goog.proto2.FieldDescriptor.FieldType.BOOL&&goog.isNumber(b)?Boolean(b):goog.proto2.ObjectSerializer.superClass_.getDeserializedValue.call(this,a,b)};goog.proto2.ObjectSerializer.prototype.deserializeTo=function(a,b){var c=a.getDescriptor(),d,e,f,g;for(d in b)if(f=b[d],g=goog.string.isNumeric(d),g?e=c.findFieldByTag(d):(goog.asserts.assert(this.keyOption_==goog.proto2.ObjectSerializer.KeyOption.NAME),e=c.findFieldByName(d)),e)if(e.isRepeated())for(goog.asserts.assert(goog.isArray(f)),g=0;g<f.length;g++)a.add(e,this.getDeserializedValue(e,f[g]));else goog.asserts.assert(!goog.isArray(f)),a.set(e,this.getDeserializedValue(e,f));else g?a.setUnknown(Number(d),f):goog.asserts.fail("Failed to find field: "+e)};i18n={phonenumbers:{}};i18n.phonenumbers.RegionCode={UN001:"001",AD:"AD",AE:"AE",AO:"AO",AQ:"AQ",AR:"AR",AU:"AU",BB:"BB",BR:"BR",BS:"BS",BY:"BY",CA:"CA",CH:"CH",CN:"CN",CS:"CS",CX:"CX",DE:"DE",GB:"GB",HU:"HU",IT:"IT",JP:"JP",KR:"KR",MX:"MX",NZ:"NZ",PL:"PL",RE:"RE",SE:"SE",SG:"SG",US:"US",YT:"YT",ZW:"ZW",ZZ:"ZZ"};i18n.phonenumbers.NumberFormat=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.NumberFormat,goog.proto2.Message);i18n.phonenumbers.NumberFormat.prototype.getPattern=function(){return this.get$Value(1)};i18n.phonenumbers.NumberFormat.prototype.getPatternOrDefault=function(){return this.get$ValueOrDefault(1)};i18n.phonenumbers.NumberFormat.prototype.setPattern=function(a){this.set$Value(1,a)};i18n.phonenumbers.NumberFormat.prototype.hasPattern=function(){return this.has$Value(1)};i18n.phonenumbers.NumberFormat.prototype.patternCount=function(){return this.count$Values(1)};i18n.phonenumbers.NumberFormat.prototype.clearPattern=function(){this.clear$Field(1)};i18n.phonenumbers.NumberFormat.prototype.getFormat=function(){return this.get$Value(2)};i18n.phonenumbers.NumberFormat.prototype.getFormatOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.NumberFormat.prototype.setFormat=function(a){this.set$Value(2,a)};i18n.phonenumbers.NumberFormat.prototype.hasFormat=function(){return this.has$Value(2)};i18n.phonenumbers.NumberFormat.prototype.formatCount=function(){return this.count$Values(2)};i18n.phonenumbers.NumberFormat.prototype.clearFormat=function(){this.clear$Field(2)};i18n.phonenumbers.NumberFormat.prototype.getLeadingDigitsPattern=function(a){return this.get$Value(3,a)};i18n.phonenumbers.NumberFormat.prototype.getLeadingDigitsPatternOrDefault=function(a){return this.get$ValueOrDefault(3,a)};i18n.phonenumbers.NumberFormat.prototype.addLeadingDigitsPattern=function(a){this.add$Value(3,a)};i18n.phonenumbers.NumberFormat.prototype.leadingDigitsPatternArray=function(){return this.array$Values(3)};i18n.phonenumbers.NumberFormat.prototype.hasLeadingDigitsPattern=function(){return this.has$Value(3)};i18n.phonenumbers.NumberFormat.prototype.leadingDigitsPatternCount=function(){return this.count$Values(3)};i18n.phonenumbers.NumberFormat.prototype.clearLeadingDigitsPattern=function(){this.clear$Field(3)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixFormattingRule=function(){return this.get$Value(4)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixFormattingRuleOrDefault=function(){return this.get$ValueOrDefault(4)};i18n.phonenumbers.NumberFormat.prototype.setNationalPrefixFormattingRule=function(a){this.set$Value(4,a)};i18n.phonenumbers.NumberFormat.prototype.hasNationalPrefixFormattingRule=function(){return this.has$Value(4)};i18n.phonenumbers.NumberFormat.prototype.nationalPrefixFormattingRuleCount=function(){return this.count$Values(4)};i18n.phonenumbers.NumberFormat.prototype.clearNationalPrefixFormattingRule=function(){this.clear$Field(4)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixOptionalWhenFormatting=function(){return this.get$Value(6)};i18n.phonenumbers.NumberFormat.prototype.getNationalPrefixOptionalWhenFormattingOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.NumberFormat.prototype.setNationalPrefixOptionalWhenFormatting=function(a){this.set$Value(6,a)};i18n.phonenumbers.NumberFormat.prototype.hasNationalPrefixOptionalWhenFormatting=function(){return this.has$Value(6)};i18n.phonenumbers.NumberFormat.prototype.nationalPrefixOptionalWhenFormattingCount=function(){return this.count$Values(6)};i18n.phonenumbers.NumberFormat.prototype.clearNationalPrefixOptionalWhenFormatting=function(){this.clear$Field(6)};i18n.phonenumbers.NumberFormat.prototype.getDomesticCarrierCodeFormattingRule=function(){return this.get$Value(5)};i18n.phonenumbers.NumberFormat.prototype.getDomesticCarrierCodeFormattingRuleOrDefault=function(){return this.get$ValueOrDefault(5)};i18n.phonenumbers.NumberFormat.prototype.setDomesticCarrierCodeFormattingRule=function(a){this.set$Value(5,a)};i18n.phonenumbers.NumberFormat.prototype.hasDomesticCarrierCodeFormattingRule=function(){return this.has$Value(5)};i18n.phonenumbers.NumberFormat.prototype.domesticCarrierCodeFormattingRuleCount=function(){return this.count$Values(5)};i18n.phonenumbers.NumberFormat.prototype.clearDomesticCarrierCodeFormattingRule=function(){this.clear$Field(5)};i18n.phonenumbers.PhoneNumberDesc=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneNumberDesc,goog.proto2.Message);i18n.phonenumbers.PhoneNumberDesc.prototype.getNationalNumberPattern=function(){return this.get$Value(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.getNationalNumberPatternOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.setNationalNumberPattern=function(a){this.set$Value(2,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasNationalNumberPattern=function(){return this.has$Value(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.nationalNumberPatternCount=function(){return this.count$Values(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearNationalNumberPattern=function(){this.clear$Field(2)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleNumberPattern=function(){return this.get$Value(3)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleNumberPatternOrDefault=function(){return this.get$ValueOrDefault(3)};i18n.phonenumbers.PhoneNumberDesc.prototype.setPossibleNumberPattern=function(a){this.set$Value(3,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasPossibleNumberPattern=function(){return this.has$Value(3)};i18n.phonenumbers.PhoneNumberDesc.prototype.possibleNumberPatternCount=function(){return this.count$Values(3)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearPossibleNumberPattern=function(){this.clear$Field(3)};i18n.phonenumbers.PhoneNumberDesc.prototype.getExampleNumber=function(){return this.get$Value(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.getExampleNumberOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.setExampleNumber=function(a){this.set$Value(6,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasExampleNumber=function(){return this.has$Value(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.exampleNumberCount=function(){return this.count$Values(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearExampleNumber=function(){this.clear$Field(6)};i18n.phonenumbers.PhoneNumberDesc.prototype.getNationalNumberMatcherData=function(){return this.get$Value(7)};i18n.phonenumbers.PhoneNumberDesc.prototype.getNationalNumberMatcherDataOrDefault=function(){return this.get$ValueOrDefault(7)};i18n.phonenumbers.PhoneNumberDesc.prototype.setNationalNumberMatcherData=function(a){this.set$Value(7,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasNationalNumberMatcherData=function(){return this.has$Value(7)};i18n.phonenumbers.PhoneNumberDesc.prototype.nationalNumberMatcherDataCount=function(){return this.count$Values(7)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearNationalNumberMatcherData=function(){this.clear$Field(7)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleNumberMatcherData=function(){return this.get$Value(8)};i18n.phonenumbers.PhoneNumberDesc.prototype.getPossibleNumberMatcherDataOrDefault=function(){return this.get$ValueOrDefault(8)};i18n.phonenumbers.PhoneNumberDesc.prototype.setPossibleNumberMatcherData=function(a){this.set$Value(8,a)};i18n.phonenumbers.PhoneNumberDesc.prototype.hasPossibleNumberMatcherData=function(){return this.has$Value(8)};i18n.phonenumbers.PhoneNumberDesc.prototype.possibleNumberMatcherDataCount=function(){return this.count$Values(8)};i18n.phonenumbers.PhoneNumberDesc.prototype.clearPossibleNumberMatcherData=function(){this.clear$Field(8)};i18n.phonenumbers.PhoneMetadata=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneMetadata,goog.proto2.Message);i18n.phonenumbers.PhoneMetadata.prototype.getGeneralDesc=function(){return this.get$Value(1)};i18n.phonenumbers.PhoneMetadata.prototype.getGeneralDescOrDefault=function(){return this.get$ValueOrDefault(1)};i18n.phonenumbers.PhoneMetadata.prototype.setGeneralDesc=function(a){this.set$Value(1,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasGeneralDesc=function(){return this.has$Value(1)};i18n.phonenumbers.PhoneMetadata.prototype.generalDescCount=function(){return this.count$Values(1)};i18n.phonenumbers.PhoneMetadata.prototype.clearGeneralDesc=function(){this.clear$Field(1)};i18n.phonenumbers.PhoneMetadata.prototype.getFixedLine=function(){return this.get$Value(2)};i18n.phonenumbers.PhoneMetadata.prototype.getFixedLineOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.PhoneMetadata.prototype.setFixedLine=function(a){this.set$Value(2,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasFixedLine=function(){return this.has$Value(2)};i18n.phonenumbers.PhoneMetadata.prototype.fixedLineCount=function(){return this.count$Values(2)};i18n.phonenumbers.PhoneMetadata.prototype.clearFixedLine=function(){this.clear$Field(2)};i18n.phonenumbers.PhoneMetadata.prototype.getMobile=function(){return this.get$Value(3)};i18n.phonenumbers.PhoneMetadata.prototype.getMobileOrDefault=function(){return this.get$ValueOrDefault(3)};i18n.phonenumbers.PhoneMetadata.prototype.setMobile=function(a){this.set$Value(3,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasMobile=function(){return this.has$Value(3)};i18n.phonenumbers.PhoneMetadata.prototype.mobileCount=function(){return this.count$Values(3)};i18n.phonenumbers.PhoneMetadata.prototype.clearMobile=function(){this.clear$Field(3)};i18n.phonenumbers.PhoneMetadata.prototype.getTollFree=function(){return this.get$Value(4)};i18n.phonenumbers.PhoneMetadata.prototype.getTollFreeOrDefault=function(){return this.get$ValueOrDefault(4)};i18n.phonenumbers.PhoneMetadata.prototype.setTollFree=function(a){this.set$Value(4,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasTollFree=function(){return this.has$Value(4)};i18n.phonenumbers.PhoneMetadata.prototype.tollFreeCount=function(){return this.count$Values(4)};i18n.phonenumbers.PhoneMetadata.prototype.clearTollFree=function(){this.clear$Field(4)};i18n.phonenumbers.PhoneMetadata.prototype.getPremiumRate=function(){return this.get$Value(5)};i18n.phonenumbers.PhoneMetadata.prototype.getPremiumRateOrDefault=function(){return this.get$ValueOrDefault(5)};i18n.phonenumbers.PhoneMetadata.prototype.setPremiumRate=function(a){this.set$Value(5,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPremiumRate=function(){return this.has$Value(5)};i18n.phonenumbers.PhoneMetadata.prototype.premiumRateCount=function(){return this.count$Values(5)};i18n.phonenumbers.PhoneMetadata.prototype.clearPremiumRate=function(){this.clear$Field(5)};i18n.phonenumbers.PhoneMetadata.prototype.getSharedCost=function(){return this.get$Value(6)};i18n.phonenumbers.PhoneMetadata.prototype.getSharedCostOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.PhoneMetadata.prototype.setSharedCost=function(a){this.set$Value(6,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasSharedCost=function(){return this.has$Value(6)};i18n.phonenumbers.PhoneMetadata.prototype.sharedCostCount=function(){return this.count$Values(6)};i18n.phonenumbers.PhoneMetadata.prototype.clearSharedCost=function(){this.clear$Field(6)};i18n.phonenumbers.PhoneMetadata.prototype.getPersonalNumber=function(){return this.get$Value(7)};i18n.phonenumbers.PhoneMetadata.prototype.getPersonalNumberOrDefault=function(){return this.get$ValueOrDefault(7)};i18n.phonenumbers.PhoneMetadata.prototype.setPersonalNumber=function(a){this.set$Value(7,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPersonalNumber=function(){return this.has$Value(7)};i18n.phonenumbers.PhoneMetadata.prototype.personalNumberCount=function(){return this.count$Values(7)};i18n.phonenumbers.PhoneMetadata.prototype.clearPersonalNumber=function(){this.clear$Field(7)};i18n.phonenumbers.PhoneMetadata.prototype.getVoip=function(){return this.get$Value(8)};i18n.phonenumbers.PhoneMetadata.prototype.getVoipOrDefault=function(){return this.get$ValueOrDefault(8)};i18n.phonenumbers.PhoneMetadata.prototype.setVoip=function(a){this.set$Value(8,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasVoip=function(){return this.has$Value(8)};i18n.phonenumbers.PhoneMetadata.prototype.voipCount=function(){return this.count$Values(8)};i18n.phonenumbers.PhoneMetadata.prototype.clearVoip=function(){this.clear$Field(8)};i18n.phonenumbers.PhoneMetadata.prototype.getPager=function(){return this.get$Value(21)};i18n.phonenumbers.PhoneMetadata.prototype.getPagerOrDefault=function(){return this.get$ValueOrDefault(21)};i18n.phonenumbers.PhoneMetadata.prototype.setPager=function(a){this.set$Value(21,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPager=function(){return this.has$Value(21)};i18n.phonenumbers.PhoneMetadata.prototype.pagerCount=function(){return this.count$Values(21)};i18n.phonenumbers.PhoneMetadata.prototype.clearPager=function(){this.clear$Field(21)};i18n.phonenumbers.PhoneMetadata.prototype.getUan=function(){return this.get$Value(25)};i18n.phonenumbers.PhoneMetadata.prototype.getUanOrDefault=function(){return this.get$ValueOrDefault(25)};i18n.phonenumbers.PhoneMetadata.prototype.setUan=function(a){this.set$Value(25,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasUan=function(){return this.has$Value(25)};i18n.phonenumbers.PhoneMetadata.prototype.uanCount=function(){return this.count$Values(25)};i18n.phonenumbers.PhoneMetadata.prototype.clearUan=function(){this.clear$Field(25)};i18n.phonenumbers.PhoneMetadata.prototype.getEmergency=function(){return this.get$Value(27)};i18n.phonenumbers.PhoneMetadata.prototype.getEmergencyOrDefault=function(){return this.get$ValueOrDefault(27)};i18n.phonenumbers.PhoneMetadata.prototype.setEmergency=function(a){this.set$Value(27,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasEmergency=function(){return this.has$Value(27)};i18n.phonenumbers.PhoneMetadata.prototype.emergencyCount=function(){return this.count$Values(27)};i18n.phonenumbers.PhoneMetadata.prototype.clearEmergency=function(){this.clear$Field(27)};i18n.phonenumbers.PhoneMetadata.prototype.getVoicemail=function(){return this.get$Value(28)};i18n.phonenumbers.PhoneMetadata.prototype.getVoicemailOrDefault=function(){return this.get$ValueOrDefault(28)};i18n.phonenumbers.PhoneMetadata.prototype.setVoicemail=function(a){this.set$Value(28,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasVoicemail=function(){return this.has$Value(28)};i18n.phonenumbers.PhoneMetadata.prototype.voicemailCount=function(){return this.count$Values(28)};i18n.phonenumbers.PhoneMetadata.prototype.clearVoicemail=function(){this.clear$Field(28)};i18n.phonenumbers.PhoneMetadata.prototype.getNoInternationalDialling=function(){return this.get$Value(24)};i18n.phonenumbers.PhoneMetadata.prototype.getNoInternationalDiallingOrDefault=function(){return this.get$ValueOrDefault(24)};i18n.phonenumbers.PhoneMetadata.prototype.setNoInternationalDialling=function(a){this.set$Value(24,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNoInternationalDialling=function(){return this.has$Value(24)};i18n.phonenumbers.PhoneMetadata.prototype.noInternationalDiallingCount=function(){return this.count$Values(24)};i18n.phonenumbers.PhoneMetadata.prototype.clearNoInternationalDialling=function(){this.clear$Field(24)};i18n.phonenumbers.PhoneMetadata.prototype.getId=function(){return this.get$Value(9)};i18n.phonenumbers.PhoneMetadata.prototype.getIdOrDefault=function(){return this.get$ValueOrDefault(9)};i18n.phonenumbers.PhoneMetadata.prototype.setId=function(a){this.set$Value(9,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasId=function(){return this.has$Value(9)};i18n.phonenumbers.PhoneMetadata.prototype.idCount=function(){return this.count$Values(9)};i18n.phonenumbers.PhoneMetadata.prototype.clearId=function(){this.clear$Field(9)};i18n.phonenumbers.PhoneMetadata.prototype.getCountryCode=function(){return this.get$Value(10)};i18n.phonenumbers.PhoneMetadata.prototype.getCountryCodeOrDefault=function(){return this.get$ValueOrDefault(10)};i18n.phonenumbers.PhoneMetadata.prototype.setCountryCode=function(a){this.set$Value(10,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasCountryCode=function(){return this.has$Value(10)};i18n.phonenumbers.PhoneMetadata.prototype.countryCodeCount=function(){return this.count$Values(10)};i18n.phonenumbers.PhoneMetadata.prototype.clearCountryCode=function(){this.clear$Field(10)};i18n.phonenumbers.PhoneMetadata.prototype.getInternationalPrefix=function(){return this.get$Value(11)};i18n.phonenumbers.PhoneMetadata.prototype.getInternationalPrefixOrDefault=function(){return this.get$ValueOrDefault(11)};i18n.phonenumbers.PhoneMetadata.prototype.setInternationalPrefix=function(a){this.set$Value(11,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasInternationalPrefix=function(){return this.has$Value(11)};i18n.phonenumbers.PhoneMetadata.prototype.internationalPrefixCount=function(){return this.count$Values(11)};i18n.phonenumbers.PhoneMetadata.prototype.clearInternationalPrefix=function(){this.clear$Field(11)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredInternationalPrefix=function(){return this.get$Value(17)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredInternationalPrefixOrDefault=function(){return this.get$ValueOrDefault(17)};i18n.phonenumbers.PhoneMetadata.prototype.setPreferredInternationalPrefix=function(a){this.set$Value(17,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPreferredInternationalPrefix=function(){return this.has$Value(17)};i18n.phonenumbers.PhoneMetadata.prototype.preferredInternationalPrefixCount=function(){return this.count$Values(17)};i18n.phonenumbers.PhoneMetadata.prototype.clearPreferredInternationalPrefix=function(){this.clear$Field(17)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefix=function(){return this.get$Value(12)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixOrDefault=function(){return this.get$ValueOrDefault(12)};i18n.phonenumbers.PhoneMetadata.prototype.setNationalPrefix=function(a){this.set$Value(12,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNationalPrefix=function(){return this.has$Value(12)};i18n.phonenumbers.PhoneMetadata.prototype.nationalPrefixCount=function(){return this.count$Values(12)};i18n.phonenumbers.PhoneMetadata.prototype.clearNationalPrefix=function(){this.clear$Field(12)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredExtnPrefix=function(){return this.get$Value(13)};i18n.phonenumbers.PhoneMetadata.prototype.getPreferredExtnPrefixOrDefault=function(){return this.get$ValueOrDefault(13)};i18n.phonenumbers.PhoneMetadata.prototype.setPreferredExtnPrefix=function(a){this.set$Value(13,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasPreferredExtnPrefix=function(){return this.has$Value(13)};i18n.phonenumbers.PhoneMetadata.prototype.preferredExtnPrefixCount=function(){return this.count$Values(13)};i18n.phonenumbers.PhoneMetadata.prototype.clearPreferredExtnPrefix=function(){this.clear$Field(13)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixForParsing=function(){return this.get$Value(15)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixForParsingOrDefault=function(){return this.get$ValueOrDefault(15)};i18n.phonenumbers.PhoneMetadata.prototype.setNationalPrefixForParsing=function(a){this.set$Value(15,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNationalPrefixForParsing=function(){return this.has$Value(15)};i18n.phonenumbers.PhoneMetadata.prototype.nationalPrefixForParsingCount=function(){return this.count$Values(15)};i18n.phonenumbers.PhoneMetadata.prototype.clearNationalPrefixForParsing=function(){this.clear$Field(15)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixTransformRule=function(){return this.get$Value(16)};i18n.phonenumbers.PhoneMetadata.prototype.getNationalPrefixTransformRuleOrDefault=function(){return this.get$ValueOrDefault(16)};i18n.phonenumbers.PhoneMetadata.prototype.setNationalPrefixTransformRule=function(a){this.set$Value(16,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasNationalPrefixTransformRule=function(){return this.has$Value(16)};i18n.phonenumbers.PhoneMetadata.prototype.nationalPrefixTransformRuleCount=function(){return this.count$Values(16)};i18n.phonenumbers.PhoneMetadata.prototype.clearNationalPrefixTransformRule=function(){this.clear$Field(16)};i18n.phonenumbers.PhoneMetadata.prototype.getSameMobileAndFixedLinePattern=function(){return this.get$Value(18)};i18n.phonenumbers.PhoneMetadata.prototype.getSameMobileAndFixedLinePatternOrDefault=function(){return this.get$ValueOrDefault(18)};i18n.phonenumbers.PhoneMetadata.prototype.setSameMobileAndFixedLinePattern=function(a){this.set$Value(18,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasSameMobileAndFixedLinePattern=function(){return this.has$Value(18)};i18n.phonenumbers.PhoneMetadata.prototype.sameMobileAndFixedLinePatternCount=function(){return this.count$Values(18)};i18n.phonenumbers.PhoneMetadata.prototype.clearSameMobileAndFixedLinePattern=function(){this.clear$Field(18)};i18n.phonenumbers.PhoneMetadata.prototype.getNumberFormat=function(a){return this.get$Value(19,a)};i18n.phonenumbers.PhoneMetadata.prototype.getNumberFormatOrDefault=function(a){return this.get$ValueOrDefault(19,a)};i18n.phonenumbers.PhoneMetadata.prototype.addNumberFormat=function(a){this.add$Value(19,a)};i18n.phonenumbers.PhoneMetadata.prototype.numberFormatArray=function(){return this.array$Values(19)};i18n.phonenumbers.PhoneMetadata.prototype.hasNumberFormat=function(){return this.has$Value(19)};i18n.phonenumbers.PhoneMetadata.prototype.numberFormatCount=function(){return this.count$Values(19)};i18n.phonenumbers.PhoneMetadata.prototype.clearNumberFormat=function(){this.clear$Field(19)};i18n.phonenumbers.PhoneMetadata.prototype.getIntlNumberFormat=function(a){return this.get$Value(20,a)};i18n.phonenumbers.PhoneMetadata.prototype.getIntlNumberFormatOrDefault=function(a){return this.get$ValueOrDefault(20,a)};i18n.phonenumbers.PhoneMetadata.prototype.addIntlNumberFormat=function(a){this.add$Value(20,a)};i18n.phonenumbers.PhoneMetadata.prototype.intlNumberFormatArray=function(){return this.array$Values(20)};i18n.phonenumbers.PhoneMetadata.prototype.hasIntlNumberFormat=function(){return this.has$Value(20)};i18n.phonenumbers.PhoneMetadata.prototype.intlNumberFormatCount=function(){return this.count$Values(20)};i18n.phonenumbers.PhoneMetadata.prototype.clearIntlNumberFormat=function(){this.clear$Field(20)};i18n.phonenumbers.PhoneMetadata.prototype.getMainCountryForCode=function(){return this.get$Value(22)};i18n.phonenumbers.PhoneMetadata.prototype.getMainCountryForCodeOrDefault=function(){return this.get$ValueOrDefault(22)};i18n.phonenumbers.PhoneMetadata.prototype.setMainCountryForCode=function(a){this.set$Value(22,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasMainCountryForCode=function(){return this.has$Value(22)};i18n.phonenumbers.PhoneMetadata.prototype.mainCountryForCodeCount=function(){return this.count$Values(22)};i18n.phonenumbers.PhoneMetadata.prototype.clearMainCountryForCode=function(){this.clear$Field(22)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingDigits=function(){return this.get$Value(23)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingDigitsOrDefault=function(){return this.get$ValueOrDefault(23)};i18n.phonenumbers.PhoneMetadata.prototype.setLeadingDigits=function(a){this.set$Value(23,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasLeadingDigits=function(){return this.has$Value(23)};i18n.phonenumbers.PhoneMetadata.prototype.leadingDigitsCount=function(){return this.count$Values(23)};i18n.phonenumbers.PhoneMetadata.prototype.clearLeadingDigits=function(){this.clear$Field(23)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingZeroPossible=function(){return this.get$Value(26)};i18n.phonenumbers.PhoneMetadata.prototype.getLeadingZeroPossibleOrDefault=function(){return this.get$ValueOrDefault(26)};i18n.phonenumbers.PhoneMetadata.prototype.setLeadingZeroPossible=function(a){this.set$Value(26,a)};i18n.phonenumbers.PhoneMetadata.prototype.hasLeadingZeroPossible=function(){return this.has$Value(26)};i18n.phonenumbers.PhoneMetadata.prototype.leadingZeroPossibleCount=function(){return this.count$Values(26)};i18n.phonenumbers.PhoneMetadata.prototype.clearLeadingZeroPossible=function(){this.clear$Field(26)};i18n.phonenumbers.PhoneMetadataCollection=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneMetadataCollection,goog.proto2.Message);i18n.phonenumbers.PhoneMetadataCollection.prototype.getMetadata=function(a){return this.get$Value(1,a)};i18n.phonenumbers.PhoneMetadataCollection.prototype.getMetadataOrDefault=function(a){return this.get$ValueOrDefault(1,a)};i18n.phonenumbers.PhoneMetadataCollection.prototype.addMetadata=function(a){this.add$Value(1,a)};i18n.phonenumbers.PhoneMetadataCollection.prototype.metadataArray=function(){return this.array$Values(1)};i18n.phonenumbers.PhoneMetadataCollection.prototype.hasMetadata=function(){return this.has$Value(1)};i18n.phonenumbers.PhoneMetadataCollection.prototype.metadataCount=function(){return this.count$Values(1)};i18n.phonenumbers.PhoneMetadataCollection.prototype.clearMetadata=function(){this.clear$Field(1)};i18n.phonenumbers.NumberFormat.prototype.getDescriptor=function(){return i18n.phonenumbers.NumberFormat.descriptor_||(i18n.phonenumbers.NumberFormat.descriptor_=goog.proto2.Message.createDescriptor(i18n.phonenumbers.NumberFormat,{0:{name:"NumberFormat",fullName:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},2:{name:"format",required:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"leading_digits_pattern",repeated:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},4:{name:"national_prefix_formatting_rule",fieldType:goog.proto2.Message.FieldType.STRING,type:String},6:{name:"national_prefix_optional_when_formatting",fieldType:goog.proto2.Message.FieldType.BOOL,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",fieldType:goog.proto2.Message.FieldType.STRING,type:String}})),i18n.phonenumbers.NumberFormat.descriptor_};i18n.phonenumbers.NumberFormat.ctor=i18n.phonenumbers.NumberFormat;i18n.phonenumbers.NumberFormat.ctor.getDescriptor=i18n.phonenumbers.NumberFormat.prototype.getDescriptor;i18n.phonenumbers.PhoneNumberDesc.prototype.getDescriptor=function(){return i18n.phonenumbers.PhoneNumberDesc.descriptor_||(i18n.phonenumbers.PhoneNumberDesc.descriptor_=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneNumberDesc,{0:{name:"PhoneNumberDesc",fullName:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",fieldType:goog.proto2.Message.FieldType.STRING,type:String},3:{name:"possible_number_pattern",fieldType:goog.proto2.Message.FieldType.STRING,type:String},6:{name:"example_number",fieldType:goog.proto2.Message.FieldType.STRING,type:String},7:{name:"national_number_matcher_data",fieldType:goog.proto2.Message.FieldType.BYTES,type:String},8:{name:"possible_number_matcher_data",fieldType:goog.proto2.Message.FieldType.BYTES,type:String}})),i18n.phonenumbers.PhoneNumberDesc.descriptor_};i18n.phonenumbers.PhoneNumberDesc.ctor=i18n.phonenumbers.PhoneNumberDesc;i18n.phonenumbers.PhoneNumberDesc.ctor.getDescriptor=i18n.phonenumbers.PhoneNumberDesc.prototype.getDescriptor;i18n.phonenumbers.PhoneMetadata.prototype.getDescriptor=function(){return i18n.phonenumbers.PhoneMetadata.descriptor_||(i18n.phonenumbers.PhoneMetadata.descriptor_=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneMetadata,{0:{name:"PhoneMetadata",fullName:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},2:{name:"fixed_line",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},3:{name:"mobile",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},4:{name:"toll_free",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},5:{name:"premium_rate",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},6:{name:"shared_cost",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},7:{name:"personal_number",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},8:{name:"voip",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},21:{name:"pager",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},25:{name:"uan",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},27:{name:"emergency",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},28:{name:"voicemail",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},24:{name:"no_international_dialling",fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneNumberDesc},9:{name:"id",required:!0,fieldType:goog.proto2.Message.FieldType.STRING,type:String},10:{name:"country_code",fieldType:goog.proto2.Message.FieldType.INT32,type:Number},11:{name:"international_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},17:{name:"preferred_international_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},12:{name:"national_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},13:{name:"preferred_extn_prefix",fieldType:goog.proto2.Message.FieldType.STRING,type:String},15:{name:"national_prefix_for_parsing",fieldType:goog.proto2.Message.FieldType.STRING,type:String},16:{name:"national_prefix_transform_rule",fieldType:goog.proto2.Message.FieldType.STRING,type:String},18:{name:"same_mobile_and_fixed_line_pattern",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:!1,type:Boolean},19:{name:"number_format",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.NumberFormat},20:{name:"intl_number_format",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.NumberFormat},22:{name:"main_country_for_code",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:!1,type:Boolean},23:{name:"leading_digits",fieldType:goog.proto2.Message.FieldType.STRING,type:String},26:{name:"leading_zero_possible",fieldType:goog.proto2.Message.FieldType.BOOL,defaultValue:!1,type:Boolean}})),i18n.phonenumbers.PhoneMetadata.descriptor_};i18n.phonenumbers.PhoneMetadata.ctor=i18n.phonenumbers.PhoneMetadata;i18n.phonenumbers.PhoneMetadata.ctor.getDescriptor=i18n.phonenumbers.PhoneMetadata.prototype.getDescriptor;i18n.phonenumbers.PhoneMetadataCollection.prototype.getDescriptor=function(){return i18n.phonenumbers.PhoneMetadataCollection.descriptor_||(i18n.phonenumbers.PhoneMetadataCollection.descriptor_=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneMetadataCollection,{0:{name:"PhoneMetadataCollection",fullName:"i18n.phonenumbers.PhoneMetadataCollection"},1:{name:"metadata",repeated:!0,fieldType:goog.proto2.Message.FieldType.MESSAGE,type:i18n.phonenumbers.PhoneMetadata}})),i18n.phonenumbers.PhoneMetadataCollection.descriptor_};i18n.phonenumbers.PhoneMetadataCollection.ctor=i18n.phonenumbers.PhoneMetadataCollection;i18n.phonenumbers.PhoneMetadataCollection.ctor.getDescriptor=i18n.phonenumbers.PhoneMetadataCollection.prototype.getDescriptor;i18n.phonenumbers.metadata={};i18n.phonenumbers.metadata.countryCodeToRegionCodeMap={1:"US AG AI AS BB BM BS CA DM DO GD GU JM KN KY LC MP MS PR SX TC TT VC VG VI".split(" "),7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],800:["001"],808:["001"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],870:["001"],878:["001"],880:["BD"],881:["001"],882:["001"],883:["001"],886:["TW"],888:["001"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],979:["001"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]};i18n.phonenumbers.metadata.countryToMetadata={AC:[,[,,"[46]\\d{4}|[01589]\\d{5}","\\d{5,6}"],[,,"6[2-467]\\d{3}","\\d{5}",,,"62889"],[,,"4\\d{4}","\\d{5}",,,"40123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AC",247,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"[01589]\\d{5}","\\d{6}",,,"542011"],,,[,,"NA","NA"]],AD:[,[,,"(?:[346-9]|180)\\d{5}","\\d{6,8}"],[,,"[78]\\d{5}","\\d{6}",,,"712345"],[,,"[346]\\d{5}","\\d{6}",,,"312345"],[,,"180[02]\\d{4}","\\d{8}",,,"18001234"],[,,"9\\d{5}","\\d{6}",,,"912345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AD",376,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[346-9]"],"","",0],[,"(180[02])(\\d{4})","$1 $2",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AE:[,[,,"[2-79]\\d{7,8}|800\\d{2,9}","\\d{5,12}"],[,,"[2-4679][2-8]\\d{6}","\\d{7,8}",,,"22345678"],[,,"5[0256]\\d{7}","\\d{9}",,,"501234567"],[,,"400\\d{6}|800\\d{2,9}","\\d{5,12}",,,"800123456"],[,,"900[02]\\d{5}","\\d{9}",,,"900234567"],[,,"700[05]\\d{5}","\\d{9}",,,"700012345"],[,,"NA","NA"],[,,"NA","NA"],"AE",971,"00","0",,,"0",,,,[[,"([2-4679])(\\d{3})(\\d{4})","$1 $2 $3",["[2-4679][2-8]"],"0$1","",0],[,"(5[0256])(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1","",0],[,"([479]00)(\\d)(\\d{5})","$1 $2 $3",["[479]0"],"$1","",0],[,"([68]00)(\\d{2,9})","$1 $2",["60|8"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"600[25]\\d{5}","\\d{9}",,,"600212345"],,,[,,"NA","NA"]],AF:[,[,,"[2-7]\\d{8}","\\d{7,9}"],[,,"(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}","\\d{7,9}",,,"234567890"],[,,"7(?:[014-9]\\d{7}|2[89]\\d{6})","\\d{9}",,,"701234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AF",93,"00","0",,,"0",,,,[[,"([2-7]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AG:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}","\\d{7}(?:\\d{3})?",,,"2684601234"],[,,"268(?:464|7(?:2[0-9]|64|7[0-689]|8[02-68]))\\d{4}","\\d{10}",,,"2684641234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"26848[01]\\d{4}","\\d{10}",,,"2684801234"],"AG",1,"011","1",,,"1",,,,,,[,,"26840[69]\\d{4}","\\d{10}",,,"2684061234"],,"268",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AI:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"2644(?:6[12]|9[78])\\d{4}","\\d{7}(?:\\d{3})?",,,"2644612345"],[,,"264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}","\\d{10}",,,"2642351234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"AI",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"264",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AL:[,[,,"[2-57]\\d{7}|6\\d{8}|8\\d{5,7}|9\\d{5}","\\d{5,9}"],[,,"(?:2(?:[168][1-9]|[247]\\d|9[1-7])|3(?:1[1-3]|[2-6]\\d|[79][1-8]|8[1-9])|4\\d{2}|5(?:1[1-4]|[2-578]\\d|6[1-5]|9[1-7])|8(?:[19][1-5]|[2-6]\\d|[78][1-7]))\\d{5}","\\d{5,8}",,,"22345678"],[,,"6[6-9]\\d{7}","\\d{9}",,,"661234567"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"900\\d{3}","\\d{6}",,,"900123"],[,,"808\\d{3}","\\d{6}",,,"808123"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"AL",355,"00","0",,,"0",,,,[[,"(4)(\\d{3})(\\d{4})","$1 $2 $3",["4[0-6]"],"0$1","",0],[,"(6[6-9])(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4[7-9]"],"0$1","",0],[,"(\\d{3})(\\d{3,5})","$1 $2",["[235][16-9]|8[016-9]|[79]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AM:[,[,,"[1-9]\\d{7}","\\d{5,8}"],[,,"(?:1[01]\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47\\d)\\d{5}","\\d{5,8}",,,"10123456"],[,,"(?:4[139]|55|77|9[1-9])\\d{6}","\\d{8}",,,"77123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[016]\\d{5}","\\d{8}",,,"90012345"],[,,"80[1-4]\\d{5}","\\d{8}",,,"80112345"],[,,"NA","NA"],[,,"60[2-6]\\d{5}","\\d{8}",,,"60271234"],"AM",374,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)","",0],[,"(\\d{2})(\\d{6})","$1 $2",["4[139]|[5-7]|9[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{5})","$1 $2",["[23]"],"(0$1)","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8|90"],"0 $1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AO:[,[,,"[29]\\d{8}","\\d{9}"],[,,"2\\d(?:[26-9]\\d|\\d[26-9])\\d{5}","\\d{9}",,,"222123456"],[,,"9[1-49]\\d{7}","\\d{9}",,,"923123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AO",244,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AR:[,[,,"11\\d{8}|[2368]\\d{9}|9\\d{10}","\\d{6,11}"],[,,"11\\d{8}|(?:2(?:2(?:[013]\\d|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[067]\\d)|4(?:7[3-8]|9\\d)|6(?:[01346]\\d|2[24-6]|5[15-8])|80\\d|9(?:[0124789]\\d|3[1-6]|5[234]|6[2-46]))|3(?:3(?:2[79]|6\\d|8[2578])|4(?:[78]\\d|0[0124-9]|[1-35]\\d|4[24-7]|6[02-9]|9[123678])|5(?:[138]\\d|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24]\\d|7(?:[0469]\\d|1[1568]|2[013-9]|3[145]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[013578]\\d|2[15-7]|4[13-6]|6[1-357-9]|9[124]))|670\\d)\\d{6}","\\d{6,10}",,,"1123456789"],[,,"675\\d{7}|9(?:11[2-9]\\d{7}|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]\\d{6}|\\d{4}[2-9]\\d{5})","\\d{6,11}",,,"91123456789"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"60[04579]\\d{7}","\\d{10}",,,"6001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AR",54,"00","0",,,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))?15)?","9$1",,,[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1","",0],[,"(\\d{2})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(\\d{3})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(9)(11)(\\d{4})(\\d{4})","$2 15-$3-$4",["911"],"0$1","",0],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"],"0$1","",0],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9[23]"],"0$1","",0],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1","",1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1","",1],[,"(\\d{3})","$1",["1[012]|911"],"$1","",0]],[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1","",0],[,"(9)(11)(\\d{4})(\\d{4})","$1 $2 $3-$4",["911"]],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3-$4",["9[23]"]],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1","",1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1","",1]],[,,"NA","NA"],,,[,,"810\\d{7}","\\d{10}",,,"8101234567"],[,,"810\\d{7}","\\d{10}",,,"8101234567"],,,[,,"NA","NA"]],AS:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"6846(?:22|33|44|55|77|88|9[19])\\d{4}","\\d{7}(?:\\d{3})?",,,"6846221234"],[,,"684(?:2(?:5[2468]|72)|7(?:3[13]|70))\\d{4}","\\d{10}",,,"6847331234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"AS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"684",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AT:[,[,,"[1-9]\\d{3,12}","\\d{3,13}"],[,,"1\\d{3,12}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{3,10}","\\d{3,13}",,,"1234567890"],[,,"6(?:44|5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}","\\d{7,13}",,,"644123456"],[,,"80[02]\\d{6,10}","\\d{9,13}",,,"800123456"],[,,"(?:711|9(?:0[01]|3[019]))\\d{6,10}","\\d{9,13}",,,"900123456"],[,,"8(?:10|2[018])\\d{6,10}","\\d{9,13}",,,"810123456"],[,,"NA","NA"],[,,"780\\d{6,10}","\\d{9,13}",,,"780123456"],"AT",43,"00","0",,,"0",,,,[[,"(1)(\\d{3,12})","$1 $2",["1"],"0$1","",0],[,"(5\\d)(\\d{3,5})","$1 $2",["5[079]"],"0$1","",0],[,"(5\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["5[079]"],"0$1","",0],[,"(5\\d)(\\d{4})(\\d{4,7})","$1 $2 $3",["5[079]"],"0$1","",0],[,"(\\d{3})(\\d{3,10})","$1 $2",["316|46|51|732|6(?:44|5[0-3579]|[6-9])|7(?:1|[28]0)|[89]"],"0$1","",0],[,"(\\d{4})(\\d{3,9})","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-35-9]|5[468])|7(?:2[1-8]|35|4[1-8]|[5-79])"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"5(?:(?:0[1-9]|17)\\d{2,10}|[79]\\d{3,11})|720\\d{6,10}","\\d{5,13}",,,"50123"],,,[,,"NA","NA"]],AU:[,[,,"[1-578]\\d{5,9}","\\d{6,10}"],[,,"[237]\\d{8}|8(?:[68]\\d{3}|7[0-69]\\d{2}|9(?:[02-9]\\d{2}|1(?:[0-57-9]\\d|6[0135-9])))\\d{4}","\\d{8,9}",,,"212345678"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[147-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"180(?:0\\d{3}|2)\\d{3}","\\d{7,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"13(?:00\\d{2})?\\d{4}","\\d{6,10}",,,"1300123456"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"AU",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,[[,"([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[45]|14"],"0$1","",0],[,"(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1","",0],[,"(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[38]0|90)","1(?:[38]00|90)"],"$1","",0],[,"(180)(2\\d{3})","$1 $2",["180","1802"],"$1","",0],[,"(19\\d)(\\d{3})","$1 $2",["19[13]"],"$1","",0],[,"(19\\d{2})(\\d{4})","$1 $2",["19[67]"],"$1","",0],[,"(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"],"$1","",0]],,[,,"16\\d{3,7}","\\d{5,9}",,,"1612345"],1,,[,,"1(?:3(?:\\d{4}|00\\d{6})|80(?:0\\d{6}|2\\d{3}))","\\d{6,10}",,,"1300123456"],[,,"NA","NA"],,,[,,"NA","NA"]],AW:[,[,,"[25-9]\\d{6}","\\d{7}"],[,,"5(?:2\\d|8[1-9])\\d{4}","\\d{7}",,,"5212345"],[,,"(?:5(?:6\\d|9[2-478])|6(?:[039]0|22|4[01]|6[0-2])|7[34]\\d|9(?:6[45]|9[4-8]))\\d{4}","\\d{7}",,,"5601234"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"900\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"28\\d{5}|501\\d{4}","\\d{7}",,,"5011234"],"AW",297,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],AX:[,[,,"[135]\\d{5,9}|[27]\\d{4,9}|4\\d{5,10}|6\\d{7,8}|8\\d{6,9}","\\d{5,12}"],[,,"18[1-8]\\d{3,9}","\\d{6,12}",,,"1812345678"],[,,"4\\d{5,10}|50\\d{4,8}","\\d{6,11}",,,"412345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"[67]00\\d{5,6}","\\d{8,9}",,,"600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AX",358,"00|99[049]","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"100123"],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"10112345"],,,[,,"NA","NA"]],AZ:[,[,,"[1-9]\\d{8}","\\d{7,9}"],[,,"(?:1[28]\\d|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])|365)\\d{6}","\\d{7,9}",,,"123123456"],[,,"(?:4[04]|5[015]|60|7[07])\\d{7}","\\d{9}",,,"401234567"],[,,"88\\d{7}","\\d{9}",,,"881234567"],[,,"900200\\d{3}","\\d{9}",,,"900200123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AZ",994,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["(?:1[28]|2(?:[45]2|[0-36])|365)"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[4-8]"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BA:[,[,,"[3-9]\\d{7,8}","\\d{6,9}"],[,,"(?:[35]\\d|49)\\d{6}","\\d{6,8}",,,"30123456"],[,,"6(?:03|44|71|[1-356])\\d{6}","\\d{8,9}",,,"61123456"],[,,"8[08]\\d{6}","\\d{8}",,,"80123456"],[,,"9[0246]\\d{6}","\\d{8}",,,"90123456"],[,,"8[12]\\d{6}","\\d{8}",,,"82123456"],[,,"NA","NA"],[,,"NA","NA"],"BA",387,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6[047]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70[23]\\d{5}","\\d{8}",,,"70223456"],,,[,,"NA","NA"]],BB:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"246[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2462345678"],[,,"246(?:(?:2[346]|45|82)\\d|25[0-46])\\d{4}","\\d{10}",,,"2462501234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BB",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"246",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BD:[,[,,"[2-79]\\d{5,9}|1\\d{9}|8[0-7]\\d{4,8}","\\d{6,10}"],[,,"2(?:7(?:1[0-267]|2[0-289]|3[0-29]|[46][01]|5[1-3]|7[017]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|6[1-35]|7[1-5]|8[1-8])|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[0146-8]))\\d{4}|3(?:12?[5-7]\\d{2}|0(?:2(?:[025-79]\\d|[348]\\d{1,2})|3(?:[2-4]\\d|[56]\\d?))|2(?:1\\d{2}|2(?:[12]\\d|[35]\\d{1,2}|4\\d?))|3(?:1\\d{2}|2(?:[2356]\\d|4\\d{1,2}))|4(?:1\\d{2}|2(?:2\\d{1,2}|[47]|5\\d{2}))|5(?:1\\d{2}|29)|[67]1\\d{2}|8(?:1\\d{2}|2(?:2\\d{2}|3|4\\d)))\\d{3}|4(?:0(?:2(?:[09]\\d|7)|33\\d{2})|1\\d{3}|2(?:1\\d{2}|2(?:[25]\\d?|[348]\\d|[67]\\d{1,2}))|3(?:1\\d{2}(?:\\d{2})?|2(?:[045]\\d|[236-9]\\d{1,2})|32\\d{2})|4(?:[18]\\d{2}|2(?:[2-46]\\d{2}|3)|5[25]\\d{2})|5(?:1\\d{2}|2(?:3\\d|5))|6(?:[18]\\d{2}|2(?:3(?:\\d{2})?|[46]\\d{1,2}|5\\d{2}|7\\d)|5(?:3\\d?|4\\d|[57]\\d{1,2}|6\\d{2}|8))|71\\d{2}|8(?:[18]\\d{2}|23\\d{2}|54\\d{2})|9(?:[18]\\d{2}|2[2-5]\\d{2}|53\\d{1,2}))\\d{3}|5(?:02[03489]\\d{2}|1\\d{2}|2(?:1\\d{2}|2(?:2(?:\\d{2})?|[457]\\d{2}))|3(?:1\\d{2}|2(?:[37](?:\\d{2})?|[569]\\d{2}))|4(?:1\\d{2}|2[46]\\d{2})|5(?:1\\d{2}|26\\d{1,2})|6(?:[18]\\d{2}|2|53\\d{2})|7(?:1|24)\\d{2}|8(?:1|26)\\d{2}|91\\d{2})\\d{3}|6(?:0(?:1\\d{2}|2(?:3\\d{2}|4\\d{1,2}))|2(?:2[2-5]\\d{2}|5(?:[3-5]\\d{2}|7)|8\\d{2})|3(?:1|2[3478])\\d{2}|4(?:1|2[34])\\d{2}|5(?:1|2[47])\\d{2}|6(?:[18]\\d{2}|6(?:2(?:2\\d|[34]\\d{2})|5(?:[24]\\d{2}|3\\d|5\\d{1,2})))|72[2-5]\\d{2}|8(?:1\\d{2}|2[2-5]\\d{2})|9(?:1\\d{2}|2[2-6]\\d{2}))\\d{3}|7(?:(?:02|[3-589]1|6[12]|72[24])\\d{2}|21\\d{3}|32)\\d{3}|8(?:(?:4[12]|[5-7]2|1\\d?)|(?:0|3[12]|[5-7]1|217)\\d)\\d{4}|9(?:[35]1|(?:[024]2|81)\\d|(?:1|[24]1)\\d{2})\\d{3}","\\d{6,9}",,,"27111234"],[,,"(?:1[13-9]\\d|(?:3[78]|44)[02-9]|6(?:44|6[02-9]))\\d{7}","\\d{10}",,,"1812345678"],[,,"80[03]\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"96(?:0[49]|1[0-4]|6[69])\\d{6}","\\d{10}",,,"9604123456"],"BD",880,"00[12]?","0",,,"0",,"00",,[[,"(2)(\\d{7})","$1-$2",["2"],"0$1","",0],[,"(\\d{2})(\\d{4,6})","$1-$2",["[3-79]1"],"0$1","",0],[,"(\\d{4})(\\d{3,6})","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"],"0$1","",0],[,"(\\d{3})(\\d{3,7})","$1-$2",["[3-79][2-9]|8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BE:[,[,,"[1-9]\\d{7,8}","\\d{8,9}"],[,,"(?:1[0-69]|[23][2-8]|4[23]|5\\d|6[013-57-9]|71|8[1-79]|9[2-4])\\d{6}|80[2-8]\\d{5}","\\d{8}",,,"12345678"],[,,"4(?:6[0135-8]|[79]\\d|8[3-9])\\d{6}","\\d{9}",,,"470123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"(?:70[2-467]|90[0-79])\\d{5}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BE",32,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[6-9]"],"0$1","",0],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"78\\d{6}","\\d{8}",,,"78123456"],,,[,,"NA","NA"]],BF:[,[,,"[267]\\d{7}","\\d{8}"],[,,"2(?:0(?:49|5[23]|9[016-9])|4(?:4[569]|5[4-6]|7[0179])|5(?:[34]\\d|50))\\d{4}","\\d{8}",,,"20491234"],[,,"6(?:[0-689]\\d|7[0-5])\\d{5}|7\\d{7}","\\d{8}",,,"70123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BF",226,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BG:[,[,,"[23567]\\d{5,7}|[489]\\d{6,8}","\\d{5,9}"],[,,"2(?:[0-8]\\d{5,6}|9\\d{4,6})|(?:[36]\\d|5[1-9]|8[1-6]|9[1-7])\\d{5,6}|(?:4(?:[124-7]\\d|3[1-6])|7(?:0[1-9]|[1-9]\\d))\\d{4,5}","\\d{5,8}",,,"2123456"],[,,"(?:8[7-9]\\d|9(?:8\\d|99))\\d{6}|4(?:3[0789]|8\\d)\\d{5}","\\d{8,9}",,,"48123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"700\\d{5}","\\d{5,9}",,,"70012345"],[,,"NA","NA"],"BG",359,"00","0",,,"0",,,,[[,"(2)(\\d{5})","$1 $2",["29"],"0$1","",0],[,"(2)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{3})(\\d{4})","$1 $2",["43[124-7]|70[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[124-7]|70[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[78]00"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["999"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["48|8[7-9]|9[08]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BH:[,[,,"[136-9]\\d{7}","\\d{8}"],[,,"(?:1(?:3[1356]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7\\d{2}))\\d{4}","\\d{8}",,,"17001234"],[,,"(?:3(?:[1-4679]\\d|5[013569]|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:[69]\\d|3[03-9]|7[0-6])))\\d{4}","\\d{8}",,,"36001234"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"(?:87|9[014578])\\d{6}","\\d{8}",,,"90123456"],[,,"84\\d{6}","\\d{8}",,,"84123456"],[,,"NA","NA"],[,,"NA","NA"],"BH",973,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BI:[,[,,"[267]\\d{7}","\\d{8}"],[,,"22(?:2[0-7]|[3-5]0)\\d{4}","\\d{8}",,,"22201234"],[,,"(?:[26]9|7[14-9])\\d{6}","\\d{8}",,,"79561234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BI",257,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BJ:[,[,,"[2689]\\d{7}|7\\d{3}","\\d{4,8}"],[,,"2(?:02|1[037]|2[45]|3[68])\\d{5}","\\d{8}",,,"20211234"],[,,"(?:6[146-8]|9[03-9])\\d{6}","\\d{8}",,,"90011234"],[,,"7[3-5]\\d{2}","\\d{4}",,,"7312"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"857[58]\\d{4}","\\d{8}",,,"85751234"],"BJ",229,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"81\\d{6}","\\d{8}",,,"81123456"],,,[,,"NA","NA"]],BL:[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:2[7-9]|5[12]|87)\\d{4}","\\d{9}",,,"590271234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BL",590,"00","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BM:[,[,,"[4589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"441(?:2(?:02|23|61|[3479]\\d)|[46]\\d{2}|5(?:4\\d|60|89)|824)\\d{4}","\\d{7}(?:\\d{3})?",,,"4412345678"],[,,"441(?:[37]\\d|5[0-39])\\d{5}","\\d{10}",,,"4413701234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"441",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BN:[,[,,"[2-578]\\d{6}","\\d{7}"],[,,"2(?:[013-9]\\d|2[0-7])\\d{4}|[3-5]\\d{6}","\\d{7}",,,"2345678"],[,,"22[89]\\d{4}|[78]\\d{6}","\\d{7}",,,"7123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BN",673,"00",,,,,,,,[[,"([2-578]\\d{2})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BO:[,[,,"[23467]\\d{7}","\\d{7,8}"],[,,"(?:2(?:2\\d{2}|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d{2}|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2\\d|3[234]|4[248]|5[24]|6[2-6]|7\\d))|4(?:4\\d{2}|6(?:11|[24689]\\d|72)))\\d{4}","\\d{7,8}",,,"22123456"],[,,"[67]\\d{7}","\\d{8}",,,"71234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BO",591,"00(1\\d)?","0",,,"0(1\\d)?",,,,[[,"([234])(\\d{7})","$1 $2",["[234]"],"","0$CC $1",0],[,"([67]\\d{7})","$1",["[67]"],"","0$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BQ:[,[,,"[347]\\d{6}","\\d{7}"],[,,"(?:318[023]|416[023]|7(?:1[578]|50)\\d)\\d{3}","\\d{7}",,,"7151234"],[,,"(?:318[14-68]|416[15-9]|7(?:0[01]|7[07]|[89]\\d)\\d)\\d{3}","\\d{7}",,,"3181234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BQ",599,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BR:[,[,,"[1-46-9]\\d{7,10}|5\\d{8,9}","\\d{8,11}"],[,,"1[1-9][2-5]\\d{7}|(?:[4689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])[2-5]\\d{7}","\\d{8,11}",,,"1123456789"],[,,"(?:1[1-9]|2[12478]|[89][1-9])(?:7|9\\d)\\d{7}|(?:3[1-578]|7[13-579])9?[6-9]\\d{7}|(?:[46][1-9]|5[1-5])[6-9]\\d{7}","\\d{10,11}",,,"11961234567"],[,,"800\\d{6,7}","\\d{8,11}",,,"800123456"],[,,"[359]00\\d{6,7}","\\d{8,11}",,,"300123456"],[,,"[34]00\\d{5}","\\d{8}",,,"40041234"],[,,"NA","NA"],[,,"NA","NA"],"BR",55,"00(?:1[45]|2[135]|31|4[13])","0",,,"0(?:(1[245]|2[135]|31|4[13])(\\d{10,11}))?","$2",,,[[,"(\\d{4})(\\d{4})","$1-$2",["[2-9](?:[1-9]|0[1-9])"],"$1","",0],[,"(\\d{5})(\\d{4})","$1-$2",["9(?:[1-9]|0[1-9])"],"$1","",0],[,"(\\d{3,5})","$1",["1[125689]"],"$1","",0],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["(?:[189][1-9]|2[12478]|3[1-578]|7[13-579])9"],"($1)","0 $CC ($1)",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)",0],[,"([34]00\\d)(\\d{4})","$1-$2",["[34]00"],"","",0],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1","",0]],[[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["(?:[189][1-9]|2[12478]|3[1-578]|7[13-579])9"],"($1)","0 $CC ($1)",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)",0],[,"([34]00\\d)(\\d{4})","$1-$2",["[34]00"],"","",0],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1","",0]],[,,"NA","NA"],,,[,,"[34]00\\d{5}","\\d{8}",,,"40041234"],[,,"NA","NA"],,,[,,"NA","NA"]],BS:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[3467]|8[0-4]|9[2-467])|461|502|6(?:0[1-3]|12|7[67]|8[78]|9[89])|7(?:02|88))\\d{4}","\\d{7}(?:\\d{3})?",,,"2423456789"],[,,"242(?:3(?:5[79]|[79]5)|4(?:[2-4][1-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-9]|65|77)|6[34]6|727)\\d{4}","\\d{10}",,,"2423591234"],[,,"242300\\d{4}|8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"242",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BT:[,[,,"[1-8]\\d{6,7}","\\d{6,8}"],[,,"(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}","\\d{6,7}",,,"2345678"],[,,"[17]7\\d{6}","\\d{8}",,,"17123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BT",975,"00",,,,,,,,[[,"([17]7)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1|77"],"","",0],[,"([2-8])(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BW:[,[,,"[2-79]\\d{6,7}","\\d{7,8}"],[,,"(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0235-9]|55|6\\d|7[01]|9[0-57])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}","\\d{7}",,,"2401234"],[,,"7(?:[1-6]\\d|7[014-8])\\d{5}","\\d{8}",,,"71123456"],[,,"NA","NA"],[,,"90\\d{5}","\\d{7}",,,"9012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"79[12][01]\\d{4}","\\d{8}",,,"79101234"],"BW",267,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-6]"],"","",0],[,"(7\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7"],"","",0],[,"(90)(\\d{5})","$1 $2",["9"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],BY:[,[,,"[1-4]\\d{8}|800\\d{3,7}|[89]\\d{9,10}","\\d{6,11}"],[,,"(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d{2})|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}","\\d{6,11}",,,"152450911"],[,,"(?:2(?:5[5679]|9[1-9])|33\\d|44\\d)\\d{6}","\\d{9}",,,"294911911"],[,,"8(?:0[13]|20\\d)\\d{7}|800\\d{3,7}","\\d{6,11}",,,"8011234567"],[,,"(?:810|902)\\d{7}","\\d{10}",,,"9021234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"249\\d{6}","\\d{9}",,,"249123456"],"BY",375,"810","8",,,"8?0?",,"8~10",,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"8 0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"],"8 0$1","",0],[,"(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8[01]|9"],"8 $1","",0],[,"(82\\d)(\\d{4})(\\d{4})","$1 $2 $3",["82"],"8 $1","",0],[,"(800)(\\d{3})","$1 $2",["800"],"8 $1","",0],[,"(800)(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1","",0]],,[,,"NA","NA"],,,[,,"8(?:[013]|[12]0)\\d{8}|800\\d{3,7}|902\\d{7}","\\d{6,11}",,,"82012345678"],[,,"NA","NA"],,,[,,"NA","NA"]],BZ:[,[,,"[2-8]\\d{6}|0\\d{10}","\\d{7}(?:\\d{4})?"],[,,"[234578][02]\\d{5}","\\d{7}",,,"2221234"],[,,"6[0-367]\\d{5}","\\d{7}",,,"6221234"],[,,"0800\\d{7}","\\d{11}",,,"08001234123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BZ",501,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"],"","",0],[,"(0)(800)(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],CA:[,[,,"[2-9]\\d{9}|3\\d{6}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|73)|90[25])[2-9]\\d{6}|310\\d{4}","\\d{7}(?:\\d{3})?",,,"2042345678"],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|73)|90[25])[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2042345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}|310\\d{4}","\\d{7}(?:\\d{3})?",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"CA",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CC:[,[,,"[1458]\\d{5,9}","\\d{6,10}"],[,,"89162\\d{4}","\\d{8,9}",,,"891621234"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"1(?:80(?:0\\d{2})?|3(?:00\\d{2})?)\\d{4}","\\d{6,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"CC",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CD:[,[,,"[2-6]\\d{6}|[18]\\d{6,8}|9\\d{8}","\\d{7,9}"],[,,"1(?:2\\d{7}|\\d{6})|[2-6]\\d{6}","\\d{7,9}",,,"1234567"],[,,"8(?:[0-2459]\\d{2}|8)\\d{5}|9[7-9]\\d{7}","\\d{7,9}",,,"991234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CD",243,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["12"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[0-2459]|9"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1","",0],[,"(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CF:[,[,,"[278]\\d{7}","\\d{8}"],[,,"2[12]\\d{6}","\\d{8}",,,"21612345"],[,,"7[0257]\\d{6}","\\d{8}",,,"70012345"],[,,"NA","NA"],[,,"8776\\d{4}","\\d{8}",,,"87761234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CF",236,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CG:[,[,,"[028]\\d{8}","\\d{9}"],[,,"222[1-589]\\d{5}","\\d{9}",,,"222123456"],[,,"0[14-6]\\d{7}","\\d{9}",,,"061234567"],[,,"NA","NA"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CG",242,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"],"","",0],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],CH:[,[,,"[2-9]\\d{8}|860\\d{9}","\\d{9}(?:\\d{3})?"],[,,"(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}","\\d{9}",,,"212345678"],[,,"7[5-9]\\d{7}","\\d{9}",,,"781234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"90[016]\\d{6}","\\d{9}",,,"900123456"],[,,"84[0248]\\d{6}","\\d{9}",,,"840123456"],[,,"878\\d{6}","\\d{9}",,,"878123456"],[,,"NA","NA"],"CH",41,"00","0",,,"0",,,,[[,"([2-9]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]|[89]1"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["860"],"0$1","",0]],,[,,"74[0248]\\d{6}","\\d{9}",,,"740123456"],,,[,,"NA","NA"],[,,"5[18]\\d{7}","\\d{9}",,,"581234567"],,,[,,"860\\d{9}","\\d{12}",,,"860123456789"]],CI:[,[,,"[02-7]\\d{7}","\\d{8}"],[,,"(?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08]))\\d{5}","\\d{8}",,,"21234567"],[,,"(?:0[1-9]|4\\d|5[4-9]|6[015-79]|7[578])\\d{6}","\\d{8}",,,"01234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CI",225,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],CK:[,[,,"[2-57]\\d{4}","\\d{5}"],[,,"(?:2\\d|3[13-7]|4[1-5])\\d{3}","\\d{5}",,,"21234"],[,,"(?:5[0-68]|7\\d)\\d{3}","\\d{5}",,,"71234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CK",682,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CL:[,[,,"(?:[2-9]|600|123)\\d{7,8}","\\d{7,11}"],[,,"2(?:2\\d{7}|3(?:20|22)\\d{5}|1962\\d{4})|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57])\\d{7}","\\d{7,9}",,,"221234567"],[,,"9[4-9]\\d{7}","\\d{8,9}",,,"961234567"],[,,"800\\d{6}|1230\\d{7}","\\d{9,11}",,,"800123456"],[,,"NA","NA"],[,,"600\\d{7,8}","\\d{10,11}",,,"6001234567"],[,,"NA","NA"],[,,"44\\d{7}","\\d{9}",,,"441234567"],"CL",56,"(?:0|1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))0","0",,,"0|(1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))",,,,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)","$CC ($1)",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)",0],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1","",0],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"],"$1","",0],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"],"$1","",0],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"$1","",0],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)",0],[,"(\\d{4,5})","$1",["[1-9]"],"$1","",0]],[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)","$CC ($1)",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)",0],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1","",0],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"],"$1","",0],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"],"$1","",0],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"$1","",0],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)",0]],[,,"NA","NA"],,,[,,"600\\d{7,8}","\\d{10,11}",,,"6001234567"],[,,"NA","NA"],,,[,,"NA","NA"]],CM:[,[,,"[2368]\\d{7,8}","\\d{8,9}"],[,,"2(?:22|33|4[23])\\d{6}","\\d{9}",,,"222123456"],[,,"6[5-9]\\d{7}","\\d{9}",,,"671234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"88\\d{6}","\\d{8}",,,"88012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CM",237,"00",,,,,,,,[[,"([26])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|88"],"","",0],[,"(800)(\\d{2})(\\d{3})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CN:[,[,,"[1-7]\\d{6,11}|8[0-357-9]\\d{6,9}|9\\d{7,10}","\\d{4,12}"],[,,"21(?:100\\d{2}|95\\d{3,4}|\\d{8,10})|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98))(?:100\\d{2}|95\\d{3,4}|\\d{8})|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-3689]|6[2368]|9[02-9])|8(?:1[236-8]|2[5-7]|3\\d|5[4-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100\\d{2}|95\\d{3,4}|\\d{7})|80(?:29|6[03578]|7[018]|81)\\d{4}","\\d{4,12}",,,"1012345678"],[,,"1(?:[38]\\d|4[57]|5[0-35-9]|7[06-8])\\d{8}","\\d{11}",,,"13123456789"],[,,"(?:10)?800\\d{7}","\\d{10,12}",,,"8001234567"],[,,"16[08]\\d{5}","\\d{8}",,,"16812345"],[,,"400\\d{7}|950\\d{7,8}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[4789]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[3678]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}","\\d{7,11}",,,"4001234567"],[,,"NA","NA"],[,,"NA","NA"],"CN",86,"(1(?:[129]\\d{3}|79\\d{2}))?00","0",,,"(1(?:[129]\\d{3}|79\\d{2}))|0",,"00",,[[,"(80\\d{2})(\\d{4})","$1 $2",["80[2678]"],"0$1","$CC $1",1],[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"],"","",0],[,"(\\d{5,6})","$1",["100|95"],"","",0],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d{2}[19]","[3-9]\\d{2}(?:10|9[56])"],"0$1","$CC $1",0],[,"(\\d{3,4})(\\d{4})","$1 $2",["[2-9]"],"","",0],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[4-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-578]"],"","$CC $1",0],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"],"","",0],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"],"","",0]],[[,"(80\\d{2})(\\d{4})","$1 $2",["80[2678]"],"0$1","$CC $1",1],[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"],"","",0],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d{2}[19]","[3-9]\\d{2}(?:10|9[56])"],"0$1","$CC $1",0],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[4-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-578]"],"","$CC $1",0],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"],"","",0],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"],"","",0]],[,,"NA","NA"],,,[,,"(?:4|(?:10)?8)00\\d{7}|950\\d{7,8}","\\d{10,12}",,,"4001234567"],[,,"NA","NA"],,,[,,"NA","NA"]],CO:[,[,,"(?:[13]\\d{0,3}|[24-8])\\d{7}","\\d{7,11}"],[,,"[124-8][2-9]\\d{6}","\\d{8}",,,"12345678"],[,,"3(?:0[0-5]|1\\d|2[0-2]|5[01])\\d{7}","\\d{10}",,,"3211234567"],[,,"1800\\d{7}","\\d{11}",,,"18001234567"],[,,"19(?:0[01]|4[78])\\d{7}","\\d{11}",,,"19001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CO",57,"00(?:4(?:[14]4|56)|[579])","0",,,"0([3579]|4(?:44|56))?",,,,[[,"(\\d)(\\d{7})","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"],"($1)","0$CC $1",0],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"","0$CC $1",0],[,"(1)(\\d{3})(\\d{7})","$1-$2-$3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"],"0$1","",0]],[[,"(\\d)(\\d{7})","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"],"($1)","0$CC $1",0],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"","0$CC $1",0],[,"(1)(\\d{3})(\\d{7})","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CR:[,[,,"[24-9]\\d{7,9}","\\d{8,10}"],[,,"2[0-24-7]\\d{6}","\\d{8}",,,"22123456"],[,,"5(?:0[01]|7[0-3])\\d{5}|6(?:[0-2]\\d|30)\\d{5}|7[0-3]\\d{6}|8[3-9]\\d{6}","\\d{8}",,,"83123456"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"90[059]\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"210[0-6]\\d{4}|4\\d{7}|5100\\d{4}","\\d{8}",,,"40001234"],"CR",506,"00",,,,"(19(?:0[012468]|1[09]|20|66|77|99))",,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[24-7]|8[3-9]"],"","$CC $1",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]0"],"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CU:[,[,,"[2-57]\\d{5,7}","\\d{4,8}"],[,,"2[1-4]\\d{5,6}|3(?:1\\d{6}|[23]\\d{4,6})|4(?:[125]\\d{5,6}|[36]\\d{6}|[78]\\d{4,6})|7\\d{6,7}","\\d{4,8}",,,"71234567"],[,,"5\\d{7}","\\d{8}",,,"51234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CU",53,"119","0",,,"0",,,,[[,"(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)","",0],[,"(\\d{2})(\\d{4,6})","$1 $2",["[2-4]"],"(0$1)","",0],[,"(\\d)(\\d{7})","$1 $2",["5"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CV:[,[,,"[259]\\d{6}","\\d{7}"],[,,"2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}","\\d{7}",,,"2211234"],[,,"(?:9\\d|59)\\d{5}","\\d{7}",,,"9911234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CV",238,"0",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CW:[,[,,"[169]\\d{6,7}","\\d{7,8}"],[,,"9(?:[48]\\d{2}|50\\d|7(?:2[0-24]|[34]\\d|6[35-7]|77|8[7-9]))\\d{4}","\\d{7,8}",,,"94151234"],[,,"9(?:5(?:[1246]\\d|3[01])|6(?:[16-9]\\d|3[01]))\\d{4}","\\d{7,8}",,,"95181234"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:10|69)\\d{5}","\\d{7}",,,"1011234"],[,,"NA","NA"],[,,"NA","NA"],"CW",599,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-7]"],"","",0],[,"(9)(\\d{3})(\\d{4})","$1 $2 $3",["9"],"","",0]],,[,,"955\\d{5}","\\d{7,8}",,,"95581234"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CX:[,[,,"[1458]\\d{5,9}","\\d{6,10}"],[,,"89164\\d{4}","\\d{8,9}",,,"891641234"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"1(?:80(?:0\\d{2})?|3(?:00\\d{2})?)\\d{4}","\\d{6,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"CX",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],CY:[,[,,"[257-9]\\d{7}","\\d{8}"],[,,"2[2-6]\\d{6}","\\d{8}",,,"22345678"],[,,"9[5-79]\\d{6}","\\d{8}",,,"96123456"],[,,"800\\d{5}","\\d{8}",,,"80001234"],[,,"90[09]\\d{5}","\\d{8}",,,"90012345"],[,,"80[1-9]\\d{5}","\\d{8}",,,"80112345"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"CY",357,"00",,,,,,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"(?:50|77)\\d{6}","\\d{8}",,,"77123456"],,,[,,"NA","NA"]],CZ:[,[,,"[2-8]\\d{8}|9\\d{8,11}","\\d{9,12}"],[,,"2\\d{8}|(?:3[1257-9]|4[16-9]|5[13-9])\\d{7}","\\d{9,12}",,,"212345678"],[,,"(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}","\\d{9,12}",,,"601123456"],[,,"800\\d{6}","\\d{9,12}",,,"800123456"],[,,"9(?:0[05689]|76)\\d{6}","\\d{9,12}",,,"900123456"],[,,"8[134]\\d{7}","\\d{9,12}",,,"811234567"],[,,"70[01]\\d{6}","\\d{9,12}",,,"700123456"],[,,"9[17]0\\d{6}","\\d{9,12}",,,"910123456"],"CZ",420,"00",,,,,,,,[[,"([2-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"],"","",0],[,"(96\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["96"],"","",0],[,"(9\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9[36]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"9(?:5\\d|7[234])\\d{6}","\\d{9,12}",,,"972123456"],,,[,,"9(?:3\\d{9}|6\\d{7,10})","\\d{9,12}",,,"93123456789"]],DE:[,[,,"[1-35-9]\\d{3,14}|4(?:[0-8]\\d{4,12}|9(?:[0-37]\\d|4(?:[1-35-8]|4\\d?)|5\\d{1,2}|6[1-8]\\d?)\\d{2,8})","\\d{2,15}"],[,,"[246]\\d{5,13}|3(?:0\\d{3,13}|2\\d{9}|[3-9]\\d{4,13})|5(?:0[2-8]|[1256]\\d|[38][0-8]|4\\d{0,2}|[79][0-7])\\d{3,11}|7(?:0[2-8]|[1-9]\\d)\\d{3,10}|8(?:0[2-9]|[1-9]\\d)\\d{3,10}|9(?:0[6-9]\\d{3,10}|1\\d{4,12}|[2-9]\\d{4,11})","\\d{2,15}",,,"30123456"],[,,"1(?:5[0-25-9]\\d{8}|6[023]\\d{7,8}|7(?:[0-57-9]\\d?|6\\d)\\d{7})","\\d{10,11}",,,"15123456789"],[,,"800\\d{7,12}","\\d{10,15}",,,"8001234567890"],[,,"137[7-9]\\d{6}|900(?:[135]\\d{6}|9\\d{7})","\\d{10,11}",,,"9001234567"],[,,"1(?:3(?:7[1-6]\\d{6}|8\\d{4})|80\\d{5,11})","\\d{7,14}",,,"18012345"],[,,"700\\d{8}","\\d{11}",,,"70012345678"],[,,"NA","NA"],"DE",49,"00","0",,,"0",,,,[[,"(1\\d{2})(\\d{7,8})","$1 $2",["1[67]"],"0$1","",0],[,"(15\\d{3})(\\d{6})","$1 $2",["15[0568]"],"0$1","",0],[,"(1\\d{3})(\\d{7})","$1 $2",["15"],"0$1","",0],[,"(\\d{2})(\\d{3,11})","$1 $2",["3[02]|40|[68]9"],"0$1","",0],[,"(\\d{3})(\\d{3,11})","$1 $2",["2(?:\\d1|0[2389]|1[24]|28|34)|3(?:[3-9][15]|40)|[4-8][1-9]1|9(?:06|[1-9]1)"],"0$1","",0],[,"(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|[7-9](?:\\d[1-9]|[1-9]\\d)|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])","[24-6]|[7-9](?:\\d[1-9]|[1-9]\\d)|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|4[1246]|6[1-4]|7[1346]|8[13568]|9[1246])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))"],"0$1","",0],[,"(3\\d{4})(\\d{1,10})","$1 $2",["3"],"0$1","",0],[,"(800)(\\d{7,12})","$1 $2",["800"],"0$1","",0],[,"(177)(99)(\\d{7,8})","$1 $2 $3",["177","1779","17799"],"0$1","",0],[,"(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["(?:18|90)0|137","1(?:37|80)|900[1359]"],"0$1","",0],[,"(1\\d{2})(\\d{5,11})","$1 $2",["181"],"0$1","",0],[,"(18\\d{3})(\\d{6})","$1 $2",["185","1850","18500"],"0$1","",0],[,"(18\\d{2})(\\d{7})","$1 $2",["18[68]"],"0$1","",0],[,"(18\\d)(\\d{8})","$1 $2",["18[2-579]"],"0$1","",0],[,"(700)(\\d{4})(\\d{4})","$1 $2 $3",["700"],"0$1","",0],[,"(138)(\\d{4})","$1 $2",["138"],"0$1","",0]],,[,,"16(?:4\\d{1,10}|[89]\\d{1,11})","\\d{4,14}",,,"16412345"],,,[,,"NA","NA"],[,,"18(?:1\\d{5,11}|[2-9]\\d{8})","\\d{8,14}",,,"18500123456"],,,[,,"17799\\d{7,8}","\\d{12,13}",,,"177991234567"]],DJ:[,[,,"[27]\\d{7}","\\d{8}"],[,,"2(?:1[2-5]|7[45])\\d{5}","\\d{8}",,,"21360003"],[,,"77[6-8]\\d{5}","\\d{8}",,,"77831001"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"DJ",253,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DK:[,[,,"[2-9]\\d{7}","\\d{8}"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}","\\d{8}",,,"32123456"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}","\\d{8}",,,"20123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"DK",45,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DM:[,[,,"[57-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])\\d{4}","\\d{7}(?:\\d{3})?",,,"7674201234"],[,,"767(?:2(?:[234689]5|7[5-7])|31[5-7]|61[2-7])\\d{4}","\\d{10}",,,"7672251234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"DM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"767",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DO:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"8(?:[04]9[2-9]\\d{6}|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d{2}|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))\\d{4})","\\d{7}(?:\\d{3})?",,,"8092345678"],[,,"8[024]9[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"8092345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"DO",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"8[024]9",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],DZ:[,[,,"(?:[1-4]|[5-9]\\d)\\d{7}","\\d{8,9}"],[,,"(?:1\\d|2[013-79]|3[0-8]|4[0135689])\\d{6}|9619\\d{5}","\\d{8,9}",,,"12345678"],[,,"(?:5[4-6]|7[7-9])\\d{7}|6(?:[569]\\d|7[0-6])\\d{6}","\\d{9}",,,"551234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"80[3-689]1\\d{5}","\\d{9}",,,"808123456"],[,,"80[12]1\\d{5}","\\d{9}",,,"801123456"],[,,"NA","NA"],[,,"98[23]\\d{6}","\\d{9}",,,"983123456"],"DZ",213,"00","0",,,"0",,,,[[,"([1-4]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1","",0],[,"([5-8]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1","",0],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],EC:[,[,,"1\\d{9,10}|[2-8]\\d{7}|9\\d{8}","\\d{7,11}"],[,,"[2-7][2-7]\\d{6}","\\d{7,8}",,,"22123456"],[,,"9(?:39|[45][89]|[67][7-9]|[89]\\d)\\d{6}","\\d{9}",,,"991234567"],[,,"1800\\d{6,7}","\\d{10,11}",,,"18001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"[2-7]890\\d{4}","\\d{8}",,,"28901234"],"EC",593,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[247]|[356][2-8]"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["1"],"$1","",0]],[[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[247]|[356][2-8]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["1"],"$1","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],EE:[,[,,"1\\d{3,4}|[3-9]\\d{6,7}|800\\d{6,7}","\\d{4,10}"],[,,"(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}","\\d{7}",,,"3212345"],[,,"(?:5\\d|8[1-5])\\d{6}|5(?:[02]\\d{2}|1(?:[0-8]\\d|95)|5[0-478]\\d|64[0-4]|65[1-589])\\d{3}","\\d{7,8}",,,"51234567"],[,,"800(?:0\\d{3}|1\\d|[2-9])\\d{3}","\\d{7,10}",,,"80012345"],[,,"(?:40\\d{2}|900)\\d{4}","\\d{7,8}",,,"9001234"],[,,"NA","NA"],[,,"70[0-2]\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"EE",372,"00",,,,,,,,[[,"([3-79]\\d{2})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"],"","",0],[,"(70)(\\d{2})(\\d{4})","$1 $2 $3",["70"],"","",0],[,"(8000)(\\d{3})(\\d{3})","$1 $2 $3",["800","8000"],"","",0],[,"([458]\\d{3})(\\d{3,4})","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"],"","",0]],,[,,"NA","NA"],,,[,,"1\\d{3,4}|800[2-9]\\d{3}","\\d{4,7}",,,"8002123"],[,,"1(?:2[01245]|3[0-6]|4[1-489]|5[0-59]|6[1-46-9]|7[0-27-9]|8[189]|9[012])\\d{1,2}","\\d{4,5}",,,"12123"],,,[,,"NA","NA"]],EG:[,[,,"1\\d{4,9}|[2456]\\d{8}|3\\d{7}|[89]\\d{8,9}","\\d{5,10}"],[,,"(?:1(?:3[23]\\d|5(?:[23]|9\\d))|2[2-4]\\d{2}|3\\d{2}|4(?:0[2-5]|[578][23]|64)\\d|5(?:0[2-7]|[57][23])\\d|6[24-689]3\\d|8(?:2[2-57]|4[26]|6[237]|8[2-4])\\d|9(?:2[27]|3[24]|52|6[2356]|7[2-4])\\d)\\d{5}|1[69]\\d{3}","\\d{5,9}",,,"234567890"],[,,"1(?:0[0-269]|1[0-245]|2[0-278])\\d{7}","\\d{10}",,,"1001234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"EG",20,"00","0",,,"0",,,,[[,"(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1[012]|[89]00"],"0$1","",0],[,"(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|[89][2-9]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],EH:[,[,,"[5689]\\d{8}","\\d{9}"],[,,"528[89]\\d{5}","\\d{9}",,,"528812345"],[,,"6(?:0[0-8]|[12-79]\\d|8[017])\\d{6}","\\d{9}",,,"650123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89\\d{7}","\\d{9}",,,"891234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"EH",212,"00","0",,,"0",,,,,,[,,"NA","NA"],,"528[89]",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ER:[,[,,"[178]\\d{6}","\\d{6,7}"],[,,"1(?:1[12568]|20|40|55|6[146])\\d{4}|8\\d{6}","\\d{6,7}",,,"8370362"],[,,"17[1-3]\\d{4}|7\\d{6}","\\d{7}",,,"7123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ER",291,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ES:[,[,,"[5-9]\\d{8}","\\d{9}"],[,,"8(?:[13]0|[28][0-8]|[47][1-9]|5[01346-9]|6[0457-9])\\d{6}|9(?:[1238][0-8]\\d{6}|4[1-9]\\d{6}|5\\d{7}|6(?:[0-8]\\d{6}|9(?:0(?:[0-57-9]\\d{4}|6(?:0[0-8]|1[1-9]|[2-9]\\d)\\d{2})|[1-9]\\d{5}))|7(?:[124-9]\\d{2}|3(?:[0-8]\\d|9[1-9]))\\d{4})","\\d{9}",,,"810123456"],[,,"(?:6\\d{6}|7[1-4]\\d{5}|9(?:6906(?:09|10)|7390\\d{2}))\\d{2}","\\d{9}",,,"612345678"],[,,"[89]00\\d{6}","\\d{9}",,,"800123456"],[,,"80[367]\\d{6}","\\d{9}",,,"803123456"],[,,"90[12]\\d{6}","\\d{9}",,,"901123456"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"NA","NA"],"ES",34,"00",,,,,,,,[[,"([89]00)(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"],"","",0],[,"([5-9]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[568]|[79][0-8]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"51\\d{7}","\\d{9}",,,"511234567"],,,[,,"NA","NA"]],ET:[,[,,"[1-59]\\d{8}","\\d{7,9}"],[,,"(?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[57]|44|5[0-4])|6(?:18|2[69]|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}","\\d{7,9}",,,"111112345"],[,,"9(?:[1-3]\\d|5[89])\\d{6}","\\d{9}",,,"911234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ET",251,"00","0",,,"0",,,,[[,"([1-59]\\d)(\\d{3})(\\d{4})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FI:[,[,,"1\\d{4,11}|[2-9]\\d{4,10}","\\d{5,12}"],[,,"1(?:[3569][1-8]\\d{3,9}|[47]\\d{5,10})|2[1-8]\\d{3,9}|3(?:[1-8]\\d{3,9}|9\\d{4,8})|[5689][1-8]\\d{3,9}","\\d{5,12}",,,"1312345678"],[,,"4\\d{5,10}|50\\d{4,8}","\\d{6,11}",,,"412345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"[67]00\\d{5,6}","\\d{8,9}",,,"600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FI",358,"00|99[049]","0",,,"0",,,,[[,"(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]00|[6-8]0)"],"0$1","",0],[,"(\\d{2})(\\d{4,10})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1","",0],[,"(\\d)(\\d{4,11})","$1 $2",["[25689][1-8]|3"],"0$1","",0]],,[,,"NA","NA"],1,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"100123"],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"10112345"],,,[,,"NA","NA"]],FJ:[,[,,"[36-9]\\d{6}|0\\d{10}","\\d{7}(?:\\d{4})?"],[,,"(?:3[0-5]|6[25-7]|8[58])\\d{5}","\\d{7}",,,"3212345"],[,,"(?:7[0-8]|8[034679]|9\\d)\\d{5}","\\d{7}",,,"7012345"],[,,"0800\\d{7}","\\d{11}",,,"08001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FJ",679,"0(?:0|52)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[36-9]"],"","",0],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],FK:[,[,,"[2-7]\\d{4}","\\d{5}"],[,,"[2-47]\\d{4}","\\d{5}",,,"31234"],[,,"[56]\\d{4}","\\d{5}",,,"51234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FK",500,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FM:[,[,,"[39]\\d{6}","\\d{7}"],[,,"3[2357]0[1-9]\\d{3}|9[2-6]\\d{5}","\\d{7}",,,"3201234"],[,,"3[2357]0[1-9]\\d{3}|9[2-7]\\d{5}","\\d{7}",,,"3501234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FM",691,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FO:[,[,,"[2-9]\\d{5}","\\d{6}"],[,,"(?:20|[3-4]\\d|8[19])\\d{4}","\\d{6}",,,"201234"],[,,"(?:2[1-9]|5\\d|7[1-79])\\d{4}","\\d{6}",,,"211234"],[,,"80[257-9]\\d{3}","\\d{6}",,,"802123"],[,,"90(?:[1345][15-7]|2[125-7]|99)\\d{2}","\\d{6}",,,"901123"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:6[0-36]|88)\\d{4}","\\d{6}",,,"601234"],"FO",298,"00",,,,"(10(?:01|[12]0|88))",,,,[[,"(\\d{6})","$1",,"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],FR:[,[,,"[1-9]\\d{8}","\\d{9}"],[,,"[1-5]\\d{8}","\\d{9}",,,"123456789"],[,,"6\\d{8}|7(?:00\\d{6}|[3-9]\\d{7})","\\d{9}",,,"612345678"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89[1-37-9]\\d{6}","\\d{9}",,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"9\\d{8}","\\d{9}",,,"912345678"],"FR",33,"00","0",,,"0",,,,[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1","",0],[,"(1\\d{2})(\\d{3})","$1 $2",["11"],"$1","",0],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1","",0]],[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1","",0],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GA:[,[,,"0?\\d{7}","\\d{7,8}"],[,,"01\\d{6}","\\d{8}",,,"01441234"],[,,"0?[2-7]\\d{6}","\\d{7,8}",,,"06031234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GA",241,"00",,,,,,,,[[,"(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],GB:[,[,,"\\d{7,10}","\\d{4,10}"],[,,"2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[012])\\d{7}|1(?:(?:1(?:3[0-48]|[46][0-4]|5[012789]|7[0-49]|8[01349])|21[0-7]|31[0-8]|[459]1\\d|61[0-46-9]))\\d{6}|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-4789]|7[013-9]|9\\d)|3(?:0\\d|[25][02-9]|3[02-579]|[468][0-46-9]|7[1235679]|9[24578])|4(?:0[03-9]|[28][02-5789]|[37]\\d|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1235-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6\\d|7[0-35-9]|8[0-468]|9[0-5789])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2\\d|3[023678]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-5789]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-5789]|4[2-9]|5[0-579]|6[234789]|7[0124578]|8\\d|9[2-57]))\\d{6}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-4789]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[015789]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6\\d)|276\\d|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[567]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}|176888[234678]\\d{2}|16977[23]\\d{3}","\\d{4,10}",,,"1212345678"],[,,"7(?:[1-4]\\d\\d|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[04-9]\\d|1[02-9]|2[0-35-9]|3[0-689]))\\d{6}","\\d{10}",,,"7400123456"],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})|500\\d{6}","\\d{7}(?:\\d{2,3})?",,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[2349]))\\d{7}","\\d{10}",,,"9012345678"],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})","\\d{7}(?:\\d{3})?",,,"8431234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"GB",44,"00","0"," x",,"0",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7(?:0|6[013-9])","2|5[56]|7(?:0|6(?:[013-9]|2[0-35-9]))"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:1|\\d1)|3|9[018]"],"0$1","",0],[,"(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:387|5(?:24|39)|697|768|946)","1(?:3873|5(?:242|39[456])|697[347]|768[347]|9467)"],"0$1","",0],[,"(1\\d{3})(\\d{5,6})","$1 $2",["1"],"0$1","",0],[,"(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-5789]|62)","7(?:[1-5789]|624)"],"0$1","",0],[,"(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1","",0],[,"(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"],"0$1","",0],[,"(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"],"0$1","",0],[,"(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","",0],[,"([58]00)(\\d{6})","$1 $2",["[58]00"],"0$1","",0]],,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],1,,[,,"NA","NA"],[,,"(?:3[0347]|55)\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],GD:[,[,,"[4589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}","\\d{7}(?:\\d{3})?",,,"4732691234"],[,,"473(?:4(?:0[2-79]|1[04-9]|20|58)|5(?:2[01]|3[3-8])|901)\\d{4}","\\d{10}",,,"4734031234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"GD",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"473",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GE:[,[,,"[34578]\\d{8}","\\d{6,9}"],[,,"(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}","\\d{6,9}",,,"322123456"],[,,"5(?:14|5[01578]|68|7[0147-9]|9[0-35-9])\\d{6}","\\d{9}",,,"555123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"706\\d{6}","\\d{9}",,,"706123456"],"GE",995,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5"],"$1","",0]],,[,,"NA","NA"],,,[,,"706\\d{6}","\\d{9}",,,"706123456"],[,,"NA","NA"],,,[,,"NA","NA"]],GF:[,[,,"[56]\\d{8}","\\d{9}"],[,,"594(?:10|2[012457-9]|3[0-57-9]|4[3-9]|5[7-9]|6[0-3]|9[014])\\d{4}","\\d{9}",,,"594101234"],[,,"694(?:[04][0-7]|1[0-5]|3[018]|[29]\\d)\\d{4}","\\d{9}",,,"694201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GF",594,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GG:[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1481\\d{6}","\\d{6,10}",,,"1481456789"],[,,"7(?:781|839|911)\\d{6}","\\d{10}",,,"7781123456"],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})|500\\d{6}","\\d{7}(?:\\d{2,3})?",,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[0-3]))\\d{7}","\\d{10}",,,"9012345678"],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})","\\d{7}(?:\\d{3})?",,,"8431234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"GG",44,"00","0"," x",,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],,,[,,"NA","NA"],[,,"(?:3[0347]|55)\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],GH:[,[,,"[235]\\d{8}|8\\d{7}","\\d{7,9}"],[,,"3(?:0[237]\\d|[167](?:2[0-6]|7\\d)|2(?:2[0-5]|7\\d)|3(?:2[0-3]|7\\d)|4(?:2[013-9]|3[01]|7\\d)|5(?:2[0-7]|7\\d)|8(?:2[0-2]|7\\d)|9(?:20|7\\d))\\d{5}","\\d{7,9}",,,"302345678"],[,,"(?:2[034678]\\d|5(?:[047]\\d|5[3-6]|6[01]))\\d{6}","\\d{9}",,,"231234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GH",233,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1","",0],[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],,,[,,"NA","NA"]],GI:[,[,,"[2568]\\d{7}","\\d{8}"],[,,"2(?:00\\d|1(?:6[24-7]|9\\d)|2(?:00|2[2457]))\\d{4}","\\d{8}",,,"20012345"],[,,"(?:5[46-8]|62)\\d{6}","\\d{8}",,,"57123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"8[1-689]\\d{6}","\\d{8}",,,"88123456"],[,,"87\\d{6}","\\d{8}",,,"87123456"],[,,"NA","NA"],[,,"NA","NA"],"GI",350,"00",,,,,,,,[[,"(\\d{3})(\\d{5})","$1 $2",["2"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GL:[,[,,"[1-689]\\d{5}","\\d{6}"],[,,"(?:19|3[1-6]|6[14689]|8[14-79]|9\\d)\\d{4}","\\d{6}",,,"321000"],[,,"[245][2-9]\\d{4}","\\d{6}",,,"221234"],[,,"80\\d{4}","\\d{6}",,,"801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"3[89]\\d{4}","\\d{6}",,,"381234"],"GL",299,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GM:[,[,,"[2-9]\\d{6}","\\d{7}"],[,,"(?:4(?:[23]\\d{2}|4(?:1[024679]|[6-9]\\d))|5(?:54[0-7]|6(?:[67]\\d)|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}","\\d{7}",,,"5661234"],[,,"(?:2[0-6]|[3679]\\d)\\d{5}","\\d{7}",,,"3012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GM",220,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GN:[,[,,"[367]\\d{7,8}","\\d{8,9}"],[,,"30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])\\d{4}","\\d{8}",,,"30241234"],[,,"6[02356]\\d{7}","\\d{9}",,,"601123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"722\\d{6}","\\d{9}",,,"722123456"],"GN",224,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GP:[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:0[13468]|1[012]|2[0-68]|3[28]|4[0-8]|5[579]|6[0189]|70|8[0-689]|9\\d)\\d{4}","\\d{9}",,,"590201234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GP",590,"00","0",,,"0",,,,[[,"([56]90)(\\d{2})(\\d{4})","$1 $2-$3",,"0$1","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GQ:[,[,,"[23589]\\d{8}","\\d{9}"],[,,"3(?:3(?:3\\d[7-9]|[0-24-9]\\d[46])|5\\d{2}[7-9])\\d{4}","\\d{9}",,,"333091234"],[,,"(?:222|551)\\d{6}","\\d{9}",,,"222123456"],[,,"80\\d[1-9]\\d{5}","\\d{9}",,,"800123456"],[,,"90\\d[1-9]\\d{5}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GQ",240,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"],"","",0],[,"(\\d{3})(\\d{6})","$1 $2",["[89]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GR:[,[,,"[26-9]\\d{9}","\\d{10}"],[,,"2(?:1\\d{2}|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}","\\d{10}",,,"2123456789"],[,,"69\\d{8}","\\d{10}",,,"6912345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"90[19]\\d{7}","\\d{10}",,,"9091234567"],[,,"8(?:0[16]|12|25)\\d{7}","\\d{10}",,,"8011234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"NA","NA"],"GR",30,"00",,,,,,,,[[,"([27]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["21|7"],"","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2[2-9]1|[689]"],"","",0],[,"(2\\d{3})(\\d{6})","$1 $2",["2[2-9][02-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GT:[,[,,"[2-7]\\d{7}|1[89]\\d{9}","\\d{8}(?:\\d{3})?"],[,,"[267][2-9]\\d{6}","\\d{8}",,,"22456789"],[,,"[345]\\d{7}","\\d{8}",,,"51234567"],[,,"18[01]\\d{8}","\\d{11}",,,"18001112222"],[,,"19\\d{9}","\\d{11}",,,"19001112222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GT",502,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"],"","",0],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GU:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[5-9])|7(?:[079]7|2[0167]|3[45]|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[179]|8[789]|9[78]))\\d{4}","\\d{7}(?:\\d{3})?",,,"6713001234"],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[5-9])|7(?:[079]7|2[0167]|3[45]|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[179]|8[789]|9[78]))\\d{4}","\\d{7}(?:\\d{3})?",,,"6713001234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"GU",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"671",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GW:[,[,,"[3-79]\\d{6}","\\d{7}"],[,,"3(?:2[0125]|3[1245]|4[12]|5[1-4]|70|9[1-467])\\d{4}","\\d{7}",,,"3201234"],[,,"(?:[5-7]\\d|9[012])\\d{5}","\\d{7}",,,"5012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"40\\d{5}","\\d{7}",,,"4012345"],"GW",245,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],GY:[,[,,"[2-4679]\\d{6}","\\d{7}"],[,,"(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}","\\d{7}",,,"2201234"],[,,"6\\d{6}","\\d{7}",,,"6091234"],[,,"(?:289|862)\\d{4}","\\d{7}",,,"2891234"],[,,"9008\\d{3}","\\d{7}",,,"9008123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GY",592,"001",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HK:[,[,,"[235-7]\\d{7}|8\\d{7,8}|9\\d{4,10}","\\d{5,11}"],[,,"(?:[23]\\d|58)\\d{6}","\\d{8}",,,"21234567"],[,,"(?:5[1-79]\\d|6\\d{2}|8[4-79]\\d|9(?:0[1-9]|[1-8]\\d))\\d{5}","\\d{8}",,,"51234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900(?:[0-24-9]\\d{7}|3\\d{1,4})","\\d{5,11}",,,"90012345678"],[,,"NA","NA"],[,,"8[1-3]\\d{6}","\\d{8}",,,"81123456"],[,,"NA","NA"],"HK",852,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[235-7]|[89](?:0[1-9]|[1-9])"],"","",0],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"],"","",0],[,"(900)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["900"],"","",0],[,"(900)(\\d{2,5})","$1 $2",["900"],"","",0]],,[,,"7\\d{7}","\\d{8}",,,"71234567"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HN:[,[,,"[237-9]\\d{7}","\\d{8}"],[,,"2(?:2(?:0[019]|1[1-36]|[23]\\d|4[056]|5[57]|7[01389]|8[0146-9]|9[012])|4(?:2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:4[3-5]|5\\d|6[56]|74)|6(?:[056]\\d|34|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[34])|8(?:79|8[0-35789]|9[1-57-9]))\\d{4}","\\d{8}",,,"22123456"],[,,"[37-9]\\d{7}","\\d{8}",,,"91234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"HN",504,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1-$2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HR:[,[,,"[1-7]\\d{5,8}|[89]\\d{6,11}","\\d{6,12}"],[,,"1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6,7}","\\d{6,9}",,,"12345678"],[,,"9(?:[1-9]\\d{6,10}|01\\d{6,9})","\\d{8,12}",,,"912345678"],[,,"80[01]\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"6(?:[01459]\\d{4,7})","\\d{6,9}",,,"611234"],[,,"NA","NA"],[,,"7[45]\\d{4,7}","\\d{6,9}",,,"741234567"],[,,"NA","NA"],"HR",385,"00","0",,,"0",,,,[[,"(1)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1","",0],[,"(6[09])(\\d{4})(\\d{3})","$1 $2 $3",["6[09]"],"0$1","",0],[,"([67]2)(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]2"],"0$1","",0],[,"([2-5]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1","",0],[,"(9\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1","",0],[,"(9\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(9\\d)(\\d{3,4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[0145]|7"],"0$1","",0],[,"(\\d{2})(\\d{3,4})(\\d{3})","$1 $2 $3",["6[0145]|7"],"0$1","",0],[,"(80[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1","",0],[,"(80[01])(\\d{3,4})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"[76]2\\d{6,7}","\\d{8,9}",,,"62123456"],,,[,,"NA","NA"]],HT:[,[,,"[2-489]\\d{7}","\\d{8}"],[,,"2(?:[248]\\d|5[1-5]|94)\\d{5}","\\d{8}",,,"22453300"],[,,"(?:3[1-9]\\d|4\\d{2}|9(?:8[0-35]|9[5-9]))\\d{5}","\\d{8}",,,"34101234"],[,,"8\\d{7}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"98[89]\\d{5}","\\d{8}",,,"98901234"],"HT",509,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],HU:[,[,,"[1-9]\\d{7,8}","\\d{6,9}"],[,,"(?:1\\d|2(?:1\\d|[2-9])|3(?:[2-7]|8\\d)|4[24-9]|5[2-79]|6[23689]|7(?:1\\d|[2-9])|8[2-57-9]|9[2-69])\\d{6}","\\d{6,9}",,,"12345678"],[,,"(?:[257]0|3[01])\\d{7}","\\d{9}",,,"201234567"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"9[01]\\d{6}","\\d{8}",,,"90123456"],[,,"40\\d{6}","\\d{8}",,,"40123456"],[,,"NA","NA"],[,,"NA","NA"],"HU",36,"00","06",,,"06",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"($1)","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"($1)","",0]],,[,,"NA","NA"],,,[,,"[48]0\\d{6}","\\d{8}",,,"80123456"],[,,"NA","NA"],,,[,,"NA","NA"]],ID:[,[,,"[1-9]\\d{6,10}","\\d{5,11}"],[,,"2(?:1(?:14\\d{3}|[0-8]\\d{6,7}|500\\d{3}|9\\d{6})|2\\d{6,8}|4\\d{7,8})|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25]\\d|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36]\\d|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}","\\d{5,11}",,,"612345678"],[,,"(?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359]|9\\d)|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))\\d{5,6}|8[1-35-9]\\d{7,9}","\\d{9,11}",,,"812345678"],[,,"177\\d{6,8}|800\\d{5,7}","\\d{8,11}",,,"8001234567"],[,,"809\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ID",62,"0(?:0[1789]|10(?:00|1[67]))","0",,,"0",,,,[[,"(\\d{2})(\\d{5,8})","$1 $2",["2[124]|[36]1"],"(0$1)","",0],[,"(\\d{3})(\\d{5,8})","$1 $2",["[4579]|2[035-9]|[36][02-9]"],"(0$1)","",0],[,"(8\\d{2})(\\d{3,4})(\\d{3,4})","$1-$2-$3",["8[1-35-9]"],"0$1","",0],[,"(177)(\\d{6,8})","$1 $2",["1"],"0$1","",0],[,"(800)(\\d{5,7})","$1 $2",["800"],"0$1","",0],[,"(80\\d)(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80[79]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"8071\\d{6}","\\d{10}",,,"8071123456"],[,,"8071\\d{6}","\\d{10}",,,"8071123456"],,,[,,"NA","NA"]],IE:[,[,,"[124-9]\\d{6,9}","\\d{5,10}"],[,,"1\\d{7,8}|2(?:1\\d{6,7}|3\\d{7}|[24-9]\\d{5})|4(?:0[24]\\d{5}|[1-469]\\d{7}|5\\d{6}|7\\d{5}|8[0-46-9]\\d{7})|5(?:0[45]\\d{5}|1\\d{6}|[23679]\\d{7}|8\\d{5})|6(?:1\\d{6}|[237-9]\\d{5}|[4-6]\\d{7})|7[14]\\d{7}|9(?:1\\d{6}|[04]\\d{7}|[35-9]\\d{5})","\\d{5,10}",,,"2212345"],[,,"8(?:22\\d{6}|[35-9]\\d{7})","\\d{9}",,,"850123456"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"15(?:1[2-8]|[2-8]0|9[089])\\d{6}","\\d{10}",,,"1520123456"],[,,"18[59]0\\d{6}","\\d{10}",,,"1850123456"],[,,"700\\d{6}","\\d{9}",,,"700123456"],[,,"76\\d{7}","\\d{9}",,,"761234567"],"IE",353,"00","0",,,"0",,,,[[,"(1)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)","",0],[,"(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)","",0],[,"(\\d{3})(\\d{5})","$1 $2",["40[24]|50[45]"],"(0$1)","",0],[,"(48)(\\d{4})(\\d{4})","$1 $2 $3",["48"],"(0$1)","",0],[,"(818)(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[24-69]|7[14]"],"(0$1)","",0],[,"([78]\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["76|8[35-9]"],"0$1","",0],[,"(700)(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1","",0],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:8[059]|5)","1(?:8[059]0|5)"],"$1","",0]],,[,,"NA","NA"],,,[,,"18[59]0\\d{6}","\\d{10}",,,"1850123456"],[,,"818\\d{6}","\\d{9}",,,"818123456"],,,[,,"8[35-9]\\d{8}","\\d{10}",,,"8501234567"]],IL:[,[,,"[17]\\d{6,9}|[2-589]\\d{3}(?:\\d{3,6})?|6\\d{3}","\\d{4,10}"],[,,"[2-489]\\d{7}","\\d{7,8}",,,"21234567"],[,,"5(?:[02-47-9]\\d{2}|5(?:01|2[23]|3[34]|4[45]|5[5689]|6[67]|7[0178]|[89][6-9])|6[2-9]\\d)\\d{5}","\\d{9}",,,"501234567"],[,,"1(?:80[019]\\d{3}|255)\\d{3}","\\d{7,10}",,,"1800123456"],[,,"1(?:212|(?:9(?:0[01]|19)|200)\\d{2})\\d{4}","\\d{8,10}",,,"1919123456"],[,,"1700\\d{6}","\\d{10}",,,"1700123456"],[,,"NA","NA"],[,,"7(?:18\\d|2[23]\\d|3[237]\\d|47\\d|6(?:5\\d|8[0168])|7\\d{2}|8(?:2\\d|33|55|77|81)|99\\d)\\d{5}","\\d{9}",,,"771234567"],"IL",972,"0(?:0|1[2-9])","0",,,"0",,,,[[,"([2-489])(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1","",0],[,"([57]\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1","",0],[,"(1)([7-9]\\d{2})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"],"$1","",0],[,"(1255)(\\d{3})","$1-$2",["125"],"$1","",0],[,"(1200)(\\d{3})(\\d{3})","$1-$2-$3",["120"],"$1","",0],[,"(1212)(\\d{2})(\\d{2})","$1-$2-$3",["121"],"$1","",0],[,"(1599)(\\d{6})","$1-$2",["15"],"$1","",0],[,"(\\d{4})","*$1",["[2-689]"],"$1","",0]],,[,,"NA","NA"],,,[,,"1700\\d{6}|[2-689]\\d{3}","\\d{4,10}",,,"1700123456"],[,,"[2-689]\\d{3}|1599\\d{6}","\\d{4}(?:\\d{6})?",,,"1599123456"],,,[,,"NA","NA"]],IM:[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1624\\d{6}","\\d{6,10}",,,"1624456789"],[,,"7[569]24\\d{6}","\\d{10}",,,"7924123456"],[,,"808162\\d{4}","\\d{10}",,,"8081624567"],[,,"(?:872299|90[0167]624)\\d{4}","\\d{10}",,,"9016247890"],[,,"8(?:4(?:40[49]06|5624\\d)|70624\\d)\\d{3}","\\d{10}",,,"8456247890"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"IM",44,"00","0"," x",,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"3(?:08162\\d|3\\d{5}|4(?:40[49]06|5624\\d)|7(?:0624\\d|2299\\d))\\d{3}|55\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],IN:[,[,,"1\\d{7,12}|[2-9]\\d{9,10}","\\d{6,13}"],[,,"(?:11|2[02]|33|4[04]|79)[2-7]\\d{7}|80[2-467]\\d{7}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-467])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9\\d)\\d|8(?:2[0-6]|[013-8]\\d)))[2-7]\\d{5}","\\d{6,10}",,,"1123456789"],[,,"(?:7(?:0\\d{2}|2(?:[0235679]\\d|[14][017-9]|8[0-59]|9[389])|3(?:[058]\\d|10|7[3679]|9[689])|4(?:0[1-9]|1[015-9]|[29][89]|39|8[389])|5(?:[034678]\\d|2[03-9]|5[017-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9]\\d)|7(?:0[2-9]|[1-79]\\d|8[1-9])|8[0-79]\\d)|8(?:0(?:[01589]\\d|6[67])|1(?:[02-57-9]\\d|1[0135-9])|2(?:[236-9]\\d|5[1-9])|3(?:[0357-9]\\d|4[1-9])|[45]\\d{2}|6[02457-9]\\d|7(?:07|[1-69]\\d)|8(?:[0-26-9]\\d|44|5[2-9])|9(?:[035-9]\\d|2[2-9]|4[0-8]))|9\\d{3})\\d{6}","\\d{10}",,,"9123456789"],[,,"1(?:600\\d{6}|80(?:0\\d{4,9}|3\\d{9}))","\\d{8,13}",,,"1800123456"],[,,"186[12]\\d{9}","\\d{13}",,,"1861123456789"],[,,"1860\\d{7}","\\d{11}",,,"18603451234"],[,,"NA","NA"],[,,"NA","NA"],"IN",91,"00","0",,,"0",,,,[[,"(\\d{5})(\\d{5})","$1 $2",["7(?:[0257]|3[0157-9]|4[0-389]|6[0-35-9]|8[0-79])|8(?:0[015689]|1[0-57-9]|2[2356-9]|3[0-57-9]|[45]|6[02457-9]|7[01-69]|8[0-24-9]|9[02-9])|9","7(?:0|2(?:[0235679]|[14][017-9]|8[0-59]|9[389])|3(?:[058]|10|7[3679]|9[689])|4(?:0[1-9]|1[015-9]|[29][89]|39|8[389])|5(?:[034678]|2[03-9]|5[017-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9])|7(?:0[2-9]|[1-79]|8[1-9])|8[0-79])|8(?:0(?:[01589]|6[67])|1(?:[02-57-9]|1[0135-9])|2(?:[236-9]|5[1-9])|3(?:[0357-9]|4[1-9])|[45]|6[02457-9]|7(?:07|[1-69])|8(?:[0-26-9]|44|5[2-9])|9(?:[035-9]|2[2-9]|4[0-8]))|9"],"0$1","",1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79|80[2-46]"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)","7(?:12|2[14]|3[134]|4[47]|5(?:1|5[2-6])|[67]1|88)"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"],"0$1","",1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"],"0$1","",1],[,"(1600)(\\d{2})(\\d{4})","$1 $2 $3",["160","1600"],"$1","",1],[,"(1800)(\\d{4,5})","$1 $2",["180","1800"],"$1","",1],[,"(18[06]0)(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],"$1","",1],[,"(140)(\\d{3})(\\d{4})","$1 $2 $3",["140"],"$1","",1],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18[06]","18(?:0[03]|6[12])"],"$1","",1]],,[,,"NA","NA"],,,[,,"1(?:600\\d{6}|8(?:0(?:0\\d{4,9}|3\\d{9})|6(?:0\\d{7}|[12]\\d{9})))","\\d{8,13}",,,"1800123456"],[,,"140\\d{7}","\\d{10}",,,"1409305260"],,,[,,"NA","NA"]],IO:[,[,,"3\\d{6}","\\d{7}"],[,,"37\\d{5}","\\d{7}",,,"3709100"],[,,"38\\d{5}","\\d{7}",,,"3801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"IO",246,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],IQ:[,[,,"[1-7]\\d{7,9}","\\d{6,10}"],[,,"1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}","\\d{6,9}",,,"12345678"],[,,"7[3-9]\\d{8}","\\d{10}",,,"7912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"IQ",964,"00","0",,,"0",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1","",0],[,"([2-6]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1","",0],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],IR:[,[,,"[1-8]\\d{9}|9(?:[0-4]\\d{8}|9\\d{2,8})","\\d{4,10}"],[,,"(?:1[137]|2[13-68]|3[1458]|4[145]|5[146-8]|6[146]|7[1467]|8[13467])\\d{8}","\\d{10}",,,"2123456789"],[,,"9(?:0[1-3]|[13]\\d|2[0-2]|90)\\d{7}","\\d{10}",,,"9123456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:[2-6]0\\d|993)\\d{7}","\\d{10}",,,"9932123456"],"IR",98,"00","0",,,"0",,,,[[,"(21)(\\d{3,5})","$1 $2",["21"],"0$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["9"],"0$1","",0],[,"(\\d{3})(\\d{3})","$1 $2",["9"],"0$1","",0]],,[,,"943\\d{7}","\\d{10}",,,"9432123456"],,,[,,"NA","NA"],[,,"9990\\d{0,6}","\\d{4,10}",,,"9990123456"],,,[,,"NA","NA"]],IS:[,[,,"[4-9]\\d{6}|38\\d{7}","\\d{7,9}"],[,,"(?:4(?:1[0-24-6]|2[0-7]|[37][0-8]|4[0-245]|5[0-3568]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[013-7]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])\\d{4}","\\d{7}",,,"4101234"],[,,"38[589]\\d{6}|(?:6(?:1[1-8]|3[089]|4[0167]|5[019]|[67][0-69]|9\\d)|7(?:5[057]|7\\d|8[0-36-8])|8(?:2[0-5]|3[0-4]|[469]\\d|5[1-9]))\\d{4}","\\d{7,9}",,,"6111234"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"90\\d{5}","\\d{7}",,,"9011234"],[,,"NA","NA"],[,,"NA","NA"],[,,"49\\d{5}","\\d{7}",,,"4921234"],"IS",354,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-9]"],"","",0],[,"(3\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"(?:6(?:2[0-8]|49|8\\d)|87[0189]|95[48])\\d{4}","\\d{7}",,,"6201234"]],IT:[,[,,"[01589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9})","\\d{6,11}"],[,,"0(?:[26]\\d{4,9}|(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7})","\\d{6,11}",,,"0212345678"],[,,"3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})","\\d{9,11}",,,"3123456789"],[,,"80(?:0\\d{6}|3\\d{3})","\\d{6,9}",,,"800123456"],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})","\\d{6,10}",,,"899123456"],[,,"84(?:[08]\\d{6}|[17]\\d{3})","\\d{6,9}",,,"848123456"],[,,"1(?:78\\d|99)\\d{6}","\\d{9,10}",,,"1781234567"],[,,"55\\d{8}","\\d{10}",,,"5512345678"],"IT",39,"00",,,,,,,,[[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|55"],"","",0],[,"(0[26])(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"],"","",0],[,"(0[26])(\\d{4,6})","$1 $2",["0[26]"],"","",0],[,"(0\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"],"","",0],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"],"","",0],[,"(0\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["0[13-57-9][2-46-8]"],"","",0],[,"(0\\d{3})(\\d{2,6})","$1 $2",["0[13-57-9][2-46-8]"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["894","894[5-9]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"],"","",0]],,[,,"NA","NA"],1,,[,,"848\\d{6}","\\d{9}",,,"848123456"],[,,"NA","NA"],1,,[,,"NA","NA"]],JE:[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1534\\d{6}","\\d{6,10}",,,"1534456789"],[,,"7(?:509|7(?:00|97)|829|937)\\d{6}","\\d{10}",,,"7797123456"],[,,"80(?:07(?:35|81)|8901)\\d{4}","\\d{10}",,,"8007354567"],[,,"(?:871206|90(?:066[59]|1810|71(?:07|55)))\\d{4}","\\d{10}",,,"9018105678"],[,,"8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|70002)\\d{4}","\\d{10}",,,"8447034567"],[,,"701511\\d{4}","\\d{10}",,,"7015115678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"JE",44,"00","0"," x",,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],,,[,,"NA","NA"],[,,"3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))\\d{4}|55\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],JM:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[027-9]|[23]\\d|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468]))\\d{4}","\\d{7}(?:\\d{3})?",,,"8765123456"],[,,"876(?:2[16-9]\\d|[348]\\d{2}|5(?:0[3-9]|27|6[0-24-9]|[3-578]\\d)|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579]))\\d{4}","\\d{10}",,,"8762101234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"JM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"876",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],JO:[,[,,"[235-9]\\d{7,8}","\\d{8,9}"],[,,"(?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|3(?:00|33)|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|90))\\d{4}","\\d{8}",,,"62001234"],[,,"7(?:55|7[025-9]|8[015-9]|9[0-25-9])\\d{6}","\\d{9}",,,"790123456"],[,,"80\\d{6}","\\d{8}",,,"80012345"],[,,"900\\d{5}","\\d{8}",,,"90012345"],[,,"85\\d{6}","\\d{8}",,,"85012345"],[,,"70\\d{7}","\\d{9}",,,"700123456"],[,,"NA","NA"],"JO",962,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)","",0],[,"(7)(\\d{4})(\\d{4})","$1 $2 $3",["7[457-9]"],"0$1","",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["70|8[0158]|9"],"0$1","",0]],,[,,"74(?:66|77)\\d{5}","\\d{9}",,,"746612345"],,,[,,"NA","NA"],[,,"8(?:10|8\\d)\\d{5}","\\d{8}",,,"88101234"],,,[,,"NA","NA"]],JP:[,[,,"[1-9]\\d{8,9}|00(?:[36]\\d{7,14}|7\\d{5,7}|8\\d{7})","\\d{8,17}"],[,,"(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9]\\d|[36][1-9]\\d|4(?:6[02-8]|[2-578]\\d|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589]\\d)|7(?:3[4-9]|4[02-9]|[25-9]\\d)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679]\\d)|9(?:[679][1-9]|[2-58]\\d))\\d{6}","\\d{9}",,,"312345678"],[,,"[7-9]0[1-9]\\d{7}","\\d{10}",,,"9012345678"],[,,"120\\d{6}|800\\d{7}|00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})","\\d{8,17}",,,"120123456"],[,,"990\\d{6}","\\d{9}",,,"990123456"],[,,"NA","NA"],[,,"60\\d{7}","\\d{9}",,,"601234567"],[,,"50[1-9]\\d{7}","\\d{10}",,,"5012345678"],"JP",81,"010","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1","",0],[,"(\\d{4})(\\d{4})","$1-$2",["0077"],"$1","",0],[,"(\\d{4})(\\d{2})(\\d{3,4})","$1-$2-$3",["0077"],"$1","",0],[,"(\\d{4})(\\d{2})(\\d{4})","$1-$2-$3",["0088"],"$1","",0],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{4})(\\d{4,5})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{5})(\\d{5,6})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{6})(\\d{6,7})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1","",0],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"],"0$1","",0],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1","",0]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1","",0],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"],"0$1","",0],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1","",0]],[,,"20\\d{8}","\\d{10}",,,"2012345678"],,,[,,"00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})","\\d{8,17}",,,"00777012"],[,,"570\\d{6}","\\d{9}",,,"570123456"],1,,[,,"NA","NA"]],KE:[,[,,"20\\d{6,7}|[4-9]\\d{6,9}","\\d{7,10}"],[,,"20\\d{6,7}|4(?:[0136]\\d{7}|[245]\\d{5,7})|5(?:[08]\\d{7}|[1-79]\\d{5,7})|6(?:[01457-9]\\d{5,7}|[26]\\d{7})","\\d{7,9}",,,"202012345"],[,,"7(?:[0-36]\\d|5[0-6]|7[0-5]|8[0-25-9]|9[0-4])\\d{6}","\\d{9}",,,"712123456"],[,,"800[24-8]\\d{5,6}","\\d{9,10}",,,"800223456"],[,,"900[02-9]\\d{5}","\\d{9}",,,"900223456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KE",254,"000","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1","",0],[,"(\\d{3})(\\d{6})","$1 $2",["7"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KG:[,[,,"[235-8]\\d{8,9}","\\d{5,10}"],[,,"(?:3(?:1(?:[256]\\d|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}","\\d{5,10}",,,"312123456"],[,,"(?:20[0-35]|5[124-7]\\d|7[07]\\d)\\d{6}","\\d{9}",,,"700123456"],[,,"800\\d{6,7}","\\d{9,10}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KG",996,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[25-7]|31[25]"],"0$1","",0],[,"(\\d{4})(\\d{5})","$1 $2",["3(?:1[36]|[2-9])"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d)(\\d{3})","$1 $2 $3 $4",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KH:[,[,,"[1-9]\\d{7,9}","\\d{6,10}"],[,,"(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5\\d|6\\d?)\\d{5}|23(?:4[234]|8\\d{2})\\d{4}","\\d{6,9}",,,"23756789"],[,,"(?:1(?:[013-9]|2\\d?)|3[18]\\d|6[016-9]|7(?:[07-9]|[16]\\d)|8(?:[013-79]|8\\d)|9(?:6\\d|7\\d?|[0-589]))\\d{6}","\\d{8,9}",,,"91234567"],[,,"1800(?:1\\d|2[019])\\d{4}","\\d{10}",,,"1800123456"],[,,"1900(?:1\\d|2[09])\\d{4}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KH",855,"00[14-9]","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["1\\d[1-9]|[2-9]"],"0$1","",0],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KI:[,[,,"[2458]\\d{4}|3\\d{4,7}|7\\d{7}","\\d{5,8}"],[,,"(?:[24]\\d|3[1-9]|50|8[0-5])\\d{3}","\\d{5}",,,"31234"],[,,"7(?:[24]\\d|3[1-9]|8[0-5])\\d{5}","\\d{8}",,,"72012345"],[,,"NA","NA"],[,,"3001\\d{4}","\\d{5,8}",,,"30010000"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KI",686,"00",,,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KM:[,[,,"[379]\\d{6}","\\d{7}"],[,,"7(?:6[0-37-9]|7[0-57-9])\\d{4}","\\d{7}",,,"7712345"],[,,"3[234]\\d{5}","\\d{7}",,,"3212345"],[,,"NA","NA"],[,,"(?:39[01]|9[01]0)\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KM",269,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KN:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"869(?:2(?:29|36)|302|4(?:6[015-9]|70))\\d{4}","\\d{7}(?:\\d{3})?",,,"8692361234"],[,,"869(?:5(?:5[6-8]|6[5-7])|66\\d|76[02-6])\\d{4}","\\d{10}",,,"8697652917"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"KN",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"869",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KP:[,[,,"1\\d{9}|[28]\\d{7}","\\d{6,8}|\\d{10}"],[,,"2\\d{7}|85\\d{6}","\\d{6,8}",,,"21234567"],[,,"19[123]\\d{7}","\\d{10}",,,"1921234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KP",850,"00|99","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1","",0],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"2(?:[0-24-9]\\d{2}|3(?:[0-79]\\d|8[02-9]))\\d{4}","\\d{8}",,,"23821234"],[,,"NA","NA"],,,[,,"NA","NA"]],KR:[,[,,"[1-7]\\d{3,9}|8\\d{8}","\\d{4,10}"],[,,"(?:2|3[1-3]|[46][1-4]|5[1-5])(?:1\\d{2,3}|[1-9]\\d{6,7})","\\d{4,10}",,,"22123456"],[,,"1[0-26-9]\\d{7,8}","\\d{9,10}",,,"1000000000"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"60[2-9]\\d{6}","\\d{9}",,,"602345678"],[,,"NA","NA"],[,,"50\\d{8}","\\d{10}",,,"5012345678"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],"KR",82,"00(?:[124-68]|[37]\\d{2})","0",,,"0(8[1-46-8]|85\\d{2})?",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["1(?:0|1[19]|[69]9|5[458])|[57]0","1(?:0|1[19]|[69]9|5(?:44|59|8))|[57]0"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1(?:[169][2-8]|[78]|5[1-4])|[68]0|[3-6][1-9][1-9]","1(?:[169][2-8]|[78]|5(?:[1-3]|4[56]))|[68]0|[3-6][1-9][1-9]"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d)(\\d{4})","$1-$2-$3",["131","1312"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["131","131[13-9]"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["13[2-9]"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3-$4",["30"],"0$1","0$CC-$1",0],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"],"0$1","0$CC-$1",0],[,"(\\d)(\\d{3,4})","$1-$2",["21[0-46-9]"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{3,4})","$1-$2",["[3-6][1-9]1","[3-6][1-9]1(?:[0-46-9])"],"0$1","0$CC-$1",0],[,"(\\d{4})(\\d{4})","$1-$2",["1(?:5[46-9]|6[04678]|8[0579])","1(?:5(?:44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|55|77|99))"],"$1","0$CC-$1",0]],,[,,"15\\d{7,8}","\\d{9,10}",,,"1523456789"],,,[,,"NA","NA"],[,,"1(?:5(?:44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|55|77|99))\\d{4}","\\d{8}",,,"15441234"],,,[,,"NA","NA"]],KW:[,[,,"[12569]\\d{6,7}","\\d{7,8}"],[,,"(?:18\\d|2(?:[23]\\d{2}|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7])))\\d{4}","\\d{7,8}",,,"22345678"],[,,"(?:5(?:[05]\\d{2}|1[0-7]\\d|2(?:22|55))|6(?:0[034679]\\d|5[015-9]\\d|6\\d{2}|7[067]\\d|9[0369]\\d)|9(?:0[09]\\d|22\\d|4[01479]\\d|55\\d|6[0679]\\d|[79]\\d{2}|8[057-9]\\d))\\d{4}","\\d{8}",,,"50012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KW",965,"00",,,,,,,,[[,"(\\d{4})(\\d{3,4})","$1 $2",["[126]|9[04-9]|52[25]"],"","",0],[,"(\\d{3})(\\d{5})","$1 $2",["5[015]|92"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KY:[,[,,"[3589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))\\d{4}","\\d{7}(?:\\d{3})?",,,"3452221234"],[,,"345(?:32[1-9]|5(?:1[67]|2[5-7]|4[6-8]|76)|9(?:1[67]|2[2-9]|3[689]))\\d{4}","\\d{10}",,,"3453231234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}|345976\\d{4}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"KY",1,"011","1",,,"1",,,,,,[,,"345849\\d{4}","\\d{10}",,,"3458491234"],,"345",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],KZ:[,[,,"(?:33\\d|7\\d{2}|80[09])\\d{7}","\\d{10}"],[,,"33622\\d{5}|7(?:1(?:0(?:[23]\\d|4[023]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[1-79]|4[0-35-9]|59)|4(?:2\\d|3[013-79]|4[0-8]|5[1-79])|5(?:2\\d|3[1-8]|4[1-7]|59)|6(?:[234]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[234]\\d|5[139])|4(?:2\\d|3[1235-9]|59)|5(?:[23]\\d|4[01246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[237]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59)))\\d{5}","\\d{10}",,,"7123456789"],[,,"7(?:0[012578]|47|6[02-4]|7[15-8]|85)\\d{7}","\\d{10}",,,"7710009998"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"809\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"751\\d{7}","\\d{10}",,,"7511234567"],"KZ",7,"810","8",,,"8",,"8~10",,,,[,,"NA","NA"],,,[,,"751\\d{7}","\\d{10}",,,"7511234567"],[,,"NA","NA"],,,[,,"NA","NA"]],LA:[,[,,"[2-8]\\d{7,9}","\\d{6,10}"],[,,"(?:2[13]|3(?:0\\d|[14])|[5-7][14]|41|8[1468])\\d{6}","\\d{6,9}",,,"21212862"],[,,"20(?:2[2389]|5[4-689]|7[6-8]|9[15-9])\\d{6}","\\d{10}",,,"2023123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LA",856,"00","0",,,"0",,,,[[,"(20)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["20"],"0$1","",0],[,"([2-8]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1","",0],[,"(30)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LB:[,[,,"[13-9]\\d{6,7}","\\d{7,8}"],[,,"(?:[14-6]\\d{2}|7(?:[2-57]\\d|62|8[0-7]|9[04-9])|8[02-9]\\d|9\\d{2})\\d{4}","\\d{7}",,,"1123456"],[,,"(?:3\\d|7(?:[01]\\d|6[013-9]|8[89]|9[1-3])|81\\d)\\d{5}","\\d{7,8}",,,"71123456"],[,,"NA","NA"],[,,"9[01]\\d{6}","\\d{8}",,,"90123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"NA","NA"],[,,"NA","NA"],"LB",961,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-6]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]|9"],"0$1","",0],[,"([7-9]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[89][01]|7(?:[01]|6[013-9]|8[89]|9[1-3])"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LC:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)\\d{4}","\\d{7}(?:\\d{3})?",,,"7584305678"],[,,"758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2[0-8]))\\d{4}","\\d{10}",,,"7582845678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"LC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"758",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LI:[,[,,"6\\d{8}|[23789]\\d{6}","\\d{7,9}"],[,,"(?:2(?:01|1[27]|3\\d|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))\\d{4}","\\d{7}",,,"2345678"],[,,"6(?:51[01]|6(?:0[0-6]|2[016-9]|39))\\d{5}|7(?:[37-9]\\d|42|56)\\d{4}","\\d{7,9}",,,"660234567"],[,,"80(?:02[28]|9\\d{2})\\d{2}","\\d{7}",,,"8002222"],[,,"90(?:02[258]|1(?:23|3[14])|66[136])\\d{2}","\\d{7}",,,"9002222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LI",423,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[23789]"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[56]"],"","",0],[,"(69)(7\\d{2})(\\d{4})","$1 $2 $3",["697"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"870(?:28|87)\\d{2}","\\d{7}",,,"8702812"],,,[,,"697(?:42|56|[7-9]\\d)\\d{4}","\\d{9}",,,"697861234"]],LK:[,[,,"[1-9]\\d{8}","\\d{7,9}"],[,,"(?:[189]1|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]\\d{6}","\\d{7,9}",,,"112345678"],[,,"7[0125-8]\\d{7}","\\d{9}",,,"712345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LK",94,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{1})(\\d{6})","$1 $2 $3",["[1-689]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LR:[,[,,"2\\d{7,8}|[37-9]\\d{8}|4\\d{6}|5\\d{6,8}","\\d{7,9}"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"(?:330\\d|4[67]|5\\d|77\\d{2}|88\\d{2}|994\\d)\\d{5}|(?:20\\d{3}|33(?:0\\d{2}|2(?:02|5\\d))|555\\d{2}|77[0567]\\d{2}|88[068]\\d{2}|994\\d{2})\\d{4}","\\d{7,9}",,,"770123456"],[,,"NA","NA"],[,,"90[03]\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"332(?:0[02]|5\\d)\\d{4}","\\d{9}",,,"332001234"],"LR",231,"00","0",,,"0",,,,[[,"(2\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2579]"],"0$1","",0],[,"([4-6])(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[38]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LS:[,[,,"[2568]\\d{7}","\\d{8}"],[,,"2\\d{7}","\\d{8}",,,"22123456"],[,,"[56]\\d{7}","\\d{8}",,,"50123456"],[,,"800[256]\\d{4}","\\d{8}",,,"80021234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LS",266,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LT:[,[,,"[3-9]\\d{7}","\\d{8}"],[,,"(?:3[1478]|4[124-6]|52)\\d{6}","\\d{8}",,,"31234567"],[,,"6\\d{7}","\\d{8}",,,"61234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"9(?:0[0239]|10)\\d{5}","\\d{8}",,,"90012345"],[,,"808\\d{5}","\\d{8}",,,"80812345"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"LT",370,"00","8",,,"[08]",,,,[[,"([34]\\d)(\\d{6})","$1 $2",["37|4(?:1|5[45]|6[2-4])"],"(8-$1)","",1],[,"([3-6]\\d{2})(\\d{5})","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"],"(8-$1)","",1],[,"([7-9]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1","",1],[,"(5)(2\\d{2})(\\d{4})","$1 $2 $3",["52[0-79]"],"(8-$1)","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70[67]\\d{5}","\\d{8}",,,"70712345"],,,[,,"NA","NA"]],LU:[,[,,"[24-9]\\d{3,10}|3(?:[0-46-9]\\d{2,9}|5[013-9]\\d{1,8})","\\d{4,11}"],[,,"(?:2[2-9]\\d{2,9}|(?:[3457]\\d{2}|8(?:0[2-9]|[13-9]\\d)|9(?:0[89]|[2-579]\\d))\\d{1,8})","\\d{4,11}",,,"27123456"],[,,"6[2679][18]\\d{6}","\\d{9}",,,"628123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[015]\\d{5}","\\d{8}",,,"90012345"],[,,"801\\d{5}","\\d{8}",,,"80112345"],[,,"70\\d{6}","\\d{8}",,,"70123456"],[,,"20(?:1\\d{5}|[2-689]\\d{1,7})","\\d{4,10}",,,"20201234"],"LU",352,"00",,,,"(15(?:0[06]|1[12]|35|4[04]|55|6[26]|77|88|99)\\d)",,,,[[,"(\\d{2})(\\d{3})","$1 $2",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,4})","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:[1-9]|0[2-9])|9(?:[1-9]|0[2-46-9])"],"","$CC $1",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["70|80[01]|90[015]"],"","$CC $1",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LV:[,[,,"[2689]\\d{7}","\\d{8}"],[,,"6[3-8]\\d{6}","\\d{8}",,,"63123456"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"81\\d{6}","\\d{8}",,,"81123456"],[,,"NA","NA"],[,,"NA","NA"],"LV",371,"00",,,,,,,,[[,"([2689]\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],LY:[,[,,"[25679]\\d{8}","\\d{7,9}"],[,,"(?:2[1345]|5[1347]|6[123479]|71)\\d{7}","\\d{7,9}",,,"212345678"],[,,"9[1-6]\\d{7}","\\d{9}",,,"912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LY",218,"00","0",,,"0",,,,[[,"([25679]\\d)(\\d{7})","$1-$2",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MA:[,[,,"[5689]\\d{8}","\\d{9}"],[,,"5(?:2(?:(?:[015-7]\\d|2[2-9]|3[2-57]|4[2-8]|8[235-7])\\d|9(?:0\\d|[89]0))|3(?:(?:[0-4]\\d|[57][2-9]|6[235-8]|9[3-9])\\d|8(?:0\\d|[89]0)))\\d{4}","\\d{9}",,,"520123456"],[,,"6(?:0[0-8]|[12-79]\\d|8[017])\\d{6}","\\d{9}",,,"650123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89\\d{7}","\\d{9}",,,"891234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MA",212,"00","0",,,"0",,,,[[,"([56]\\d{2})(\\d{6})","$1-$2",["5(?:2[015-7]|3[0-4])|6"],"0$1","",0],[,"([58]\\d{3})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9])|892","5(?:2(?:[2-48]|90)|3(?:[5-79]|80))|892"],"0$1","",0],[,"(5\\d{4})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"],"0$1","",0],[,"(8[09])(\\d{7})","$1-$2",["8(?:0|9[013-9])"],"0$1","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MC:[,[,,"[4689]\\d{7,8}","\\d{8,9}"],[,,"870\\d{5}|9[2-47-9]\\d{6}","\\d{8}",,,"99123456"],[,,"6\\d{8}|4(?:4\\d|5[1-9])\\d{5}","\\d{8,9}",,,"612345678"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MC",377,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1","",0],[,"(6)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["8"],"$1","",0]],,[,,"NA","NA"],,,[,,"8\\d{7}","\\d{8}"],[,,"NA","NA"],,,[,,"NA","NA"]],MD:[,[,,"[235-9]\\d{7}","\\d{8}"],[,,"(?:2(?:1[0569]|2\\d|3[015-7]|4[1-46-9]|5[0-24689]|6[2-589]|7[1-37]|9[1347-9])|5(?:33|5[257]))\\d{5}","\\d{8}",,,"22212345"],[,,"(?:562\\d|6(?:[089]\\d{2}|1[01]\\d|21\\d|7(?:[1-6]\\d|7[0-4]))|7(?:6[07]|7[457-9]|[89]\\d)\\d)\\d{4}","\\d{8}",,,"62112345"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[056]\\d{5}","\\d{8}",,,"90012345"],[,,"808\\d{5}","\\d{8}",,,"80812345"],[,,"NA","NA"],[,,"3[08]\\d{6}","\\d{8}",,,"30123456"],"MD",373,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1","",0],[,"([25-7]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["2[13-79]|[5-7]"],"0$1","",0],[,"([89]\\d{2})(\\d{5})","$1 $2",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"8(?:03|14)\\d{5}","\\d{8}",,,"80312345"],,,[,,"NA","NA"]],ME:[,[,,"[2-9]\\d{7,8}","\\d{6,9}"],[,,"(?:20[2-8]|3(?:0[2-7]|[12][35-7]|3[4-7])|4(?:0[2367]|1[267])|5(?:0[467]|1[267]|2[367]))\\d{5}","\\d{6,8}",,,"30234567"],[,,"6(?:00\\d|32\\d|[89]\\d{2}|61\\d|7(?:[0-8]\\d|9(?:[3-9]|[0-2]\\d)))\\d{4}","\\d{8,9}",,,"67622901"],[,,"80\\d{6}","\\d{8}",,,"80080002"],[,,"(?:9(?:4[1568]|5[178]))\\d{5}","\\d{8}",,,"94515151"],[,,"NA","NA"],[,,"NA","NA"],[,,"78[1-9]\\d{5}","\\d{8}",,,"78108780"],"ME",382,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]|6[036-9]","[2-57-9]|6(?:[03689]|7(?:[0-8]|9[3-9]))"],"0$1","",0],[,"(67)(9)(\\d{3})(\\d{3})","$1 $2 $3 $4",["679","679[0-2]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"77\\d{6}","\\d{8}",,,"77273012"],,,[,,"NA","NA"]],MF:[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:[02][79]|13|5[0-268]|[78]7)\\d{4}","\\d{9}",,,"590271234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MF",590,"00","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MG:[,[,,"[23]\\d{8}","\\d{7,9}"],[,,"20(?:2\\d{2}|4[47]\\d|5[3467]\\d|6[279]\\d|7(?:2[29]|[35]\\d)|8[268]\\d|9[245]\\d)\\d{4}","\\d{7,9}",,,"202123456"],[,,"3[2-49]\\d{7}","\\d{9}",,,"321234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"22\\d{7}","\\d{9}",,,"221234567"],"MG",261,"00","0",,,"0",,,,[[,"([23]\\d)(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MH:[,[,,"[2-6]\\d{6}","\\d{7}"],[,,"(?:247|528|625)\\d{4}","\\d{7}",,,"2471234"],[,,"(?:235|329|45[56]|545)\\d{4}","\\d{7}",,,"2351234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"635\\d{4}","\\d{7}",,,"6351234"],"MH",692,"011","1",,,"1",,,,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MK:[,[,,"[2-578]\\d{7}","\\d{8}"],[,,"(?:2(?:[23]\\d|5[124578]|6[01])|3(?:1[3-6]|[23][2-6]|4[2356])|4(?:[23][2-6]|4[3-6]|5[256]|6[25-8]|7[24-6]|8[4-6]))\\d{5}","\\d{6,8}",,,"22212345"],[,,"7(?:[0-25-8]\\d{2}|32\\d|421)\\d{4}","\\d{8}",,,"72345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"5[02-9]\\d{6}","\\d{8}",,,"50012345"],[,,"8(?:0[1-9]|[1-9]\\d)\\d{5}","\\d{8}",,,"80123456"],[,,"NA","NA"],[,,"NA","NA"],"MK",389,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"([347]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1","",0],[,"([58]\\d{2})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ML:[,[,,"[246-9]\\d{7}","\\d{8}"],[,,"(?:2(?:0(?:2[0-589]|7\\d)|1(?:2[5-7]|[3-689]\\d|7[2-4689]))|44[239]\\d)\\d{4}","\\d{8}",,,"20212345"],[,,"[67]\\d{7}|9[0-25-9]\\d{6}","\\d{8}",,,"65012345"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ML",223,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"],"","",0],[,"(\\d{4})","$1",["67|74"],"","",0]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"],"","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MM:[,[,,"[14578]\\d{5,7}|[26]\\d{5,8}|9(?:2\\d{0,2}|[58]|3\\d|4\\d{1,2}|6\\d?|[79]\\d{0,2})\\d{6}","\\d{5,10}"],[,,"1(?:2\\d{1,2}|[3-5]\\d|6\\d?|[89][0-6]\\d)\\d{4}|2(?:[236-9]\\d{4}|4(?:0\\d{5}|\\d{4})|5(?:1\\d{3,6}|[02-9]\\d{3,5}))|4(?:2[245-8]|[346][2-6]|5[3-5])\\d{4}|5(?:2(?:20?|[3-8])|3[2-68]|4(?:21?|[4-8])|5[23]|6[2-4]|7[2-8]|8[24-7]|9[2-7])\\d{4}|6(?:0[23]|1[2356]|[24][2-6]|3[24-6]|5[2-4]|6[2-8]|7(?:[2367]|4\\d|5\\d?|8[145]\\d)|8[245]|9[24])\\d{4}|7(?:[04][24-8]|[15][2-7]|22|3[2-4])\\d{4}|8(?:1(?:2\\d?|[3-689])|2[2-8]|3[24]|4[24-7]|5[245]|6[23])\\d{4}","\\d{5,9}",,,"1234567"],[,,"17[01]\\d{4}|9(?:2(?:[0-4]|5\\d{2}|6[0-5]\\d)|3[0-36]\\d|4(?:0[0-4]\\d|[1379]\\d|2\\d{2}|4[0-589]\\d|5\\d{2}|88)|5[0-6]|61?\\d|7(?:3\\d|[789]\\d{2})|8\\d|9(?:1\\d|[67]\\d{2}|[089]))\\d{5}","\\d{7,10}",,,"92123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"1333\\d{4}","\\d{8}",,,"13331234"],"MM",95,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["1|2[45]"],"0$1","",0],[,"(2)(\\d{4})(\\d{4})","$1 $2 $3",["251"],"0$1","",0],[,"(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["67|81"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{3,4})","$1 $2 $3",["[4-8]"],"0$1","",0],[,"(9)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1","",0],[,"(9)([34]\\d{4})(\\d{4})","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"],"0$1","",0],[,"(9)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92[56]"],"0$1","",0],[,"(9)(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["93"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MN:[,[,,"[12]\\d{7,9}|[57-9]\\d{7}","\\d{6,10}"],[,,"[12](?:1\\d|2(?:[1-3]\\d?|7\\d)|3[2-8]\\d{1,2}|4[2-68]\\d{1,2}|5[1-4689]\\d{1,2})\\d{5}|5[0568]\\d{6}","\\d{6,10}",,,"50123456"],[,,"(?:8[0689]|9[013-9])\\d{6}","\\d{8}",,,"88123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"7[05-8]\\d{6}","\\d{8}",,,"75123456"],"MN",976,"001","0",,,"0",,,,[[,"([12]\\d)(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1","",0],[,"([12]2\\d)(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1","",0],[,"([12]\\d{3})(\\d{5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)2"],"0$1","",0],[,"(\\d{4})(\\d{4})","$1 $2",["[57-9]"],"$1","",0],[,"([12]\\d{4})(\\d{4,5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)[4-9]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MO:[,[,,"[268]\\d{7}","\\d{8}"],[,,"(?:28[2-57-9]|8[2-57-9]\\d)\\d{5}","\\d{8}",,,"28212345"],[,,"6[236]\\d{6}","\\d{8}",,,"66123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MO",853,"00",,,,,,,,[[,"([268]\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MP:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)\\d{4}","\\d{7}(?:\\d{3})?",,,"6702345678"],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)\\d{4}","\\d{7}(?:\\d{3})?",,,"6702345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"MP",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"670",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MQ:[,[,,"[56]\\d{8}","\\d{9}"],[,,"596(?:0[2-5]|[12]0|3[05-9]|4[024-8]|[5-7]\\d|89|9[4-8])\\d{4}","\\d{9}",,,"596301234"],[,,"696(?:[0-479]\\d|5[01]|8[0-689])\\d{4}","\\d{9}",,,"696201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MQ",596,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MR:[,[,,"[2-48]\\d{7}","\\d{8}"],[,,"25[08]\\d{5}|35\\d{6}|45[1-7]\\d{5}","\\d{8}",,,"35123456"],[,,"[234][0-46-9]\\d{6}","\\d{8}",,,"22123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MR",222,"00",,,,,,,,[[,"([2-48]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MS:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"664491\\d{4}","\\d{7}(?:\\d{3})?",,,"6644912345"],[,,"66449[2-6]\\d{4}","\\d{10}",,,"6644923456"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"MS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"664",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MT:[,[,,"[2357-9]\\d{7}","\\d{8}"],[,,"2(?:0(?:1[0-6]|3[1-4]|[69]\\d)|[1-357]\\d{2})\\d{4}","\\d{8}",,,"21001234"],[,,"(?:7(?:210|[79]\\d{2})|9(?:2(?:1[01]|31)|696|8(?:1[1-3]|89|97)|9\\d{2}))\\d{4}","\\d{8}",,,"96961234"],[,,"800[3467]\\d{4}","\\d{8}",,,"80071234"],[,,"5(?:0(?:0(?:37|43)|6\\d{2}|70\\d|9[0168])|[12]\\d0[1-5])\\d{3}","\\d{8}",,,"50037123"],[,,"NA","NA"],[,,"NA","NA"],[,,"3550\\d{4}","\\d{8}",,,"35501234"],"MT",356,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"7117\\d{4}","\\d{8}",,,"71171234"],,,[,,"NA","NA"],[,,"501\\d{5}","\\d{8}",,,"50112345"],,,[,,"NA","NA"]],MU:[,[,,"[2-9]\\d{6,7}","\\d{7,8}"],[,,"(?:2(?:[03478]\\d|1[0-7]|6[1-69])|4(?:[013568]\\d|2[4-7])|5(?:44\\d|471)|6\\d{2}|8(?:14|3[129]))\\d{4}","\\d{7,8}",,,"2012345"],[,,"5(?:2[59]\\d|4(?:2[1-389]|4\\d|7[1-9]|9\\d)|7\\d{2}|8(?:[0-2568]\\d|7[15-8])|9[0-8]\\d)\\d{4}","\\d{8}",,,"52512345"],[,,"80[012]\\d{4}","\\d{7}",,,"8001234"],[,,"30\\d{5}","\\d{7}",,,"3012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"3(?:20|9\\d)\\d{4}","\\d{7}",,,"3201234"],"MU",230,"0(?:0|[2-7]0|33)",,,,,,"020",,[[,"([2-46-9]\\d{2})(\\d{4})","$1 $2",["[2-46-9]"],"","",0],[,"(5\\d{3})(\\d{4})","$1 $2",["5"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MV:[,[,,"[3467]\\d{6}|9(?:00\\d{7}|\\d{6})","\\d{7,10}"],[,,"(?:3(?:0[01]|3[0-59])|6(?:[567][02468]|8[024689]|90))\\d{4}","\\d{7}",,,"6701234"],[,,"(?:46[46]|7[3-9]\\d|9[15-9]\\d)\\d{4}","\\d{7}",,,"7712345"],[,,"NA","NA"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MV",960,"0(?:0|19)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1-$2",["[3467]|9(?:[1-9]|0[1-9])"],"","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["900"],"","",0]],,[,,"781\\d{4}","\\d{7}",,,"7812345"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MW:[,[,,"(?:1(?:\\d{2})?|[2789]\\d{2})\\d{6}","\\d{7,9}"],[,,"(?:1[2-9]|21\\d{2})\\d{5}","\\d{7,9}",,,"1234567"],[,,"(?:111|77\\d|88\\d|99\\d)\\d{6}","\\d{9}",,,"991234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MW",265,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"0$1","",0],[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1789]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MX:[,[,,"[1-9]\\d{9,10}","\\d{7,11}"],[,,"(?:33|55|81)\\d{8}|(?:2(?:0[01]|2[2-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}","\\d{7,10}",,,"2221234567"],[,,"1(?:(?:33|55|81)\\d{8}|(?:2(?:2[2-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7})","\\d{11}",,,"12221234567"],[,,"8(?:00|88)\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"300\\d{7}","\\d{10}",,,"3001234567"],[,,"500\\d{7}","\\d{10}",,,"5001234567"],[,,"NA","NA"],"MX",52,"0[09]","01",,,"0[12]|04[45](\\d{10})","1$1",,,[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1","",1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","044 $2 $3 $4",["1(?:33|55|81)"],"$1","",1],[,"(1)(\\d{3})(\\d{3})(\\d{4})","044 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"],"$1","",1]],[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1","",1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3 $4",["1(?:33|55|81)"]],[,"(1)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],MY:[,[,,"[13-9]\\d{7,9}","\\d{6,10}"],[,,"(?:3[2-9]\\d|[4-9][2-9])\\d{6}","\\d{6,9}",,,"323456789"],[,,"1(?:1[1-5]\\d{2}|[02-4679][2-9]\\d|59\\d{2}|8(?:1[23]|[2-9]\\d))\\d{5}","\\d{9,10}",,,"123456789"],[,,"1[378]00\\d{6}","\\d{10}",,,"1300123456"],[,,"1600\\d{6}","\\d{10}",,,"1600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"154\\d{7}","\\d{10}",,,"1541234567"],"MY",60,"00","0",,,"0",,,,[[,"([4-79])(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1","",0],[,"(3)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1","",0],[,"([18]\\d)(\\d{3})(\\d{3,4})","$1-$2 $3",["1[02-46-9][1-9]|8"],"0$1","",0],[,"(1)([36-8]00)(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]0"],"","",0],[,"(11)(\\d{4})(\\d{4})","$1-$2 $3",["11"],"0$1","",0],[,"(15[49])(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],MZ:[,[,,"[28]\\d{7,8}","\\d{8,9}"],[,,"2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}","\\d{8}",,,"21123456"],[,,"8[23467]\\d{7}","\\d{9}",,,"821234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MZ",258,"00",,,,,,,,[[,"([28]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-7]"],"","",0],[,"(80\\d)(\\d{3})(\\d{3})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NA:[,[,,"[68]\\d{7,8}","\\d{8,9}"],[,,"6(?:1(?:17|2(?:[0189]\\d|[2-6]|7\\d?)|3(?:[01378]|2\\d)|4[01]|69|7[014])|2(?:17|5(?:[0-36-8]|4\\d?)|69|70)|3(?:17|2(?:[0237]\\d?|[14-689])|34|6[289]|7[01]|81)|4(?:17|2(?:[012]|7?)|4(?:[06]|1\\d)|5(?:[01357]|[25]\\d?)|69|7[01])|5(?:17|2(?:[0459]|[23678]\\d?)|69|7[01])|6(?:17|2(?:5|6\\d?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234]\\d?)|3(?:0\\d?|[13])|69|7[01]))\\d{4}","\\d{8,9}",,,"61221234"],[,,"(?:60|8[125])\\d{7}","\\d{9}",,,"811234567"],[,,"NA","NA"],[,,"8701\\d{5}","\\d{9}",,,"870123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"8(?:3\\d{2}|86)\\d{5}","\\d{8,9}",,,"88612345"],"NA",264,"00","0",,,"0",,,,[[,"(8\\d)(\\d{3})(\\d{4})","$1 $2 $3",["8[1235]"],"0$1","",0],[,"(6\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1","",0],[,"(88)(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1","",0],[,"(870)(\\d{3})(\\d{3})","$1 $2 $3",["870"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NC:[,[,,"[2-57-9]\\d{5}","\\d{6}"],[,,"(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}","\\d{6}",,,"201234"],[,,"(?:5[0-4]|[79]\\d|8[0-79])\\d{4}","\\d{6}",,,"751234"],[,,"NA","NA"],[,,"36\\d{4}","\\d{6}",,,"366711"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NC",687,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-46-9]|5[0-4]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NE:[,[,,"[0289]\\d{7}","\\d{8}"],[,,"2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}","\\d{8}",,,"20201234"],[,,"(?:8[089]|9\\d)\\d{6}","\\d{8}",,,"93123456"],[,,"08\\d{6}","\\d{8}",,,"08123456"],[,,"09\\d{6}","\\d{8}",,,"09123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NE",227,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[289]|09"],"","",0],[,"(08)(\\d{3})(\\d{3})","$1 $2 $3",["08"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],NF:[,[,,"[13]\\d{5}","\\d{5,6}"],[,,"(?:1(?:06|17|28|39)|3[012]\\d)\\d{3}","\\d{5,6}",,,"106609"],[,,"3[58]\\d{4}","\\d{5,6}",,,"381234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NF",672,"00",,,,,,,,[[,"(\\d{2})(\\d{4})","$1 $2",["1"],"","",0],[,"(\\d)(\\d{5})","$1 $2",["3"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NG:[,[,,"[1-6]\\d{5,8}|9\\d{5,9}|[78]\\d{5,13}","\\d{5,14}"],[,,"[12]\\d{6,7}|9(?:0[3-9]|[1-9]\\d)\\d{5}|(?:3\\d|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])\\d{6}|(?:4[47]|5[14579]|6[1578]|7[0-357])\\d{5,6}|(?:78|41)\\d{5}","\\d{5,9}",,,"12345678"],[,,"(?:1(?:7[34]\\d|8(?:04|[124579]\\d|8[0-3])|95\\d)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8\\d)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8\\d)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07]\\d)\\d{4}|(?:70(?:[13-9]\\d|2[1-9])|8(?:0[2-9]|1\\d)\\d|90[2359]\\d)\\d{6}","\\d{8,10}",,,"8021234567"],[,,"800\\d{7,11}","\\d{10,14}",,,"80017591759"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NG",234,"009","0",,,"0",,,,[[,"([129])(\\d{3})(\\d{3,4})","$1 $2 $3",["[129]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:[1-79]|0[1-9])|8[2-9]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["70|8[01]|90[2359]"],"0$1","",0],[,"([78]00)(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]00"],"0$1","",0],[,"([78]00)(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]00"],"0$1","",0],[,"(78)(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"700\\d{7,11}","\\d{10,14}",,,"7001234567"],,,[,,"NA","NA"]],NI:[,[,,"[12578]\\d{7}","\\d{8}"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"5(?:5[0-7]\\d{5}|[78]\\d{6})|7[5-8]\\d{6}|8\\d{7}","\\d{8}",,,"81234567"],[,,"1800\\d{4}","\\d{8}",,,"18001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NI",505,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NL:[,[,,"1\\d{4,8}|[2-7]\\d{8}|[89]\\d{6,9}","\\d{5,10}"],[,,"(?:1[0135-8]|2[02-69]|3[0-68]|4[0135-9]|[57]\\d|8[478])\\d{7}","\\d{9}",,,"101234567"],[,,"6[1-58]\\d{7}","\\d{9}",,,"612345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234"],[,,"90[069]\\d{4,7}","\\d{7,10}",,,"9061234"],[,,"NA","NA"],[,,"NA","NA"],[,,"85\\d{7}","\\d{9}",,,"851234567"],"NL",31,"00","0",,,"0",,,,[[,"([1-578]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"],"0$1","",0],[,"([1-5]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1","",0],[,"(6)(\\d{8})","$1 $2",["6[0-57-9]"],"0$1","",0],[,"(66)(\\d{7})","$1 $2",["66"],"0$1","",0],[,"(14)(\\d{3,4})","$1 $2",["14"],"$1","",0],[,"([89]0\\d)(\\d{4,7})","$1 $2",["80|9"],"0$1","",0]],,[,,"66\\d{7}","\\d{9}",,,"662345678"],,,[,,"14\\d{3,4}","\\d{5,6}"],[,,"140(?:1(?:[035]|[16-8]\\d)|2(?:[0346]|[259]\\d)|3(?:[03568]|[124]\\d)|4(?:[0356]|[17-9]\\d)|5(?:[0358]|[124679]\\d)|7\\d|8[458])","\\d{5,6}",,,"14020"],,,[,,"NA","NA"]],NO:[,[,,"0\\d{4}|[2-9]\\d{7}","\\d{5}(?:\\d{3})?"],[,,"(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}","\\d{8}",,,"40612345"],[,,"80[01]\\d{5}","\\d{8}",,,"80012345"],[,,"82[09]\\d{5}","\\d{8}",,,"82012345"],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}","\\d{8}",,,"81021234"],[,,"880\\d{5}","\\d{8}",,,"88012345"],[,,"85[0-5]\\d{5}","\\d{8}",,,"85012345"],"NO",47,"00",,,,,,,,[[,"([489]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"],"","",0],[,"([235-7]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"],"","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}","\\d{5}(?:\\d{3})?",,,"01234"],1,,[,,"81[23]\\d{5}","\\d{8}",,,"81212345"]],NP:[,[,,"[1-8]\\d{7}|9(?:[1-69]\\d{6,8}|7[2-6]\\d{5,7}|8\\d{8})","\\d{6,10}"],[,,"(?:1[0-6]\\d|2[13-79][2-6]|3[135-8][2-6]|4[146-9][2-6]|5[135-7][2-6]|6[13-9][2-6]|7[15-9][2-6]|8[1-46-9][2-6]|9[1-79][2-6])\\d{5}","\\d{6,8}",,,"14567890"],[,,"9(?:6[013]|7[245]|8[0-24-6])\\d{7}","\\d{10}",,,"9841234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NP",977,"00","0",,,"0",,,,[[,"(1)(\\d{7})","$1-$2",["1[2-6]"],"0$1","",0],[,"(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"],"0$1","",0],[,"(9\\d{2})(\\d{7})","$1-$2",["9(?:6[013]|7[245]|8)"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NR:[,[,,"[458]\\d{6}","\\d{7}"],[,,"(?:444|888)\\d{4}","\\d{7}",,,"4441234"],[,,"55[5-9]\\d{4}","\\d{7}",,,"5551234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NR",674,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NU:[,[,,"[1-5]\\d{3}","\\d{4}"],[,,"[34]\\d{3}","\\d{4}",,,"4002"],[,,"[125]\\d{3}","\\d{4}",,,"1234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NU",683,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],NZ:[,[,,"6[235-9]\\d{6}|[2-57-9]\\d{7,10}","\\d{7,11}"],[,,"(?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])\\d{6}|24099\\d{3}","\\d{7,8}",,,"32345678"],[,,"2(?:[028]\\d{7,8}|1(?:[03]\\d{5,7}|[12457]\\d{5,6}|[689]\\d{5})|[79]\\d{7})","\\d{8,10}",,,"211234567"],[,,"508\\d{6,7}|80\\d{6,8}","\\d{8,10}",,,"800123456"],[,,"90\\d{7,9}","\\d{9,11}",,,"900123456"],[,,"NA","NA"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"NA","NA"],"NZ",64,"0(?:0|161)","0",,,"0",,"00",,[[,"([34679])(\\d{3})(\\d{4})","$1-$2 $3",["[346]|7[2-57-9]|9[1-9]"],"0$1","",0],[,"(24099)(\\d{3})","$1 $2",["240","2409","24099"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["21"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"],"0$1","",0],[,"(2\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["2[028]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|5|[89]0"],"0$1","",0]],,[,,"[28]6\\d{6,7}","\\d{8,9}",,,"26123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],OM:[,[,,"(?:2[2-6]|5|9[1-9])\\d{6}|800\\d{5,6}","\\d{7,9}"],[,,"2[2-6]\\d{6}","\\d{8}",,,"23123456"],[,,"9[1-9]\\d{6}","\\d{8}",,,"92123456"],[,,"8007\\d{4,5}|500\\d{4}","\\d{7,9}",,,"80071234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"OM",968,"00",,,,,,,,[[,"(2\\d)(\\d{6})","$1 $2",["2"],"","",0],[,"(9\\d{3})(\\d{4})","$1 $2",["9"],"","",0],[,"([58]00)(\\d{4,6})","$1 $2",["[58]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PA:[,[,,"[1-9]\\d{6,7}","\\d{7,8}"],[,,"(?:1(?:0[0-8]|1[49]|2[37]|3[0137]|4[147]|5[05]|6[58]|7[0167]|8[58]|9[139])|2(?:[0235679]\\d|1[0-7]|4[04-9]|8[028])|3(?:[09]\\d|1[014-7]|2[0-3]|3[03]|4[03-57]|55|6[068]|7[06-8]|8[06-9])|4(?:3[013-69]|4\\d|7[0-589])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-267]|3[06]|[469]0|5[06-9]|7[0-24-79]|8[7-9])|8(?:09|[34]\\d|5[0134]|8[02])|9(?:0[6-9]|1[016-8]|2[036-8]|3[3679]|40|5[0489]|6[06-9]|7[046-9]|8[36-8]|9[1-9]))\\d{4}","\\d{7}",,,"2001234"],[,,"(?:1[16]1|21[89]|8(?:1[01]|7[23]))\\d{4}|6(?:[024-9]\\d|1[0-5]|3[0-24-9])\\d{5}","\\d{7,8}",,,"60012345"],[,,"80[09]\\d{4}","\\d{7}",,,"8001234"],[,,"(?:779|8(?:55|60|7[78])|9(?:00|81))\\d{4}","\\d{7}",,,"8601234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PA",507,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"],"","",0],[,"(\\d{4})(\\d{4})","$1-$2",["6"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PE:[,[,,"[14-9]\\d{7,8}","\\d{6,9}"],[,,"(?:1\\d|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])\\d{6}","\\d{6,8}",,,"11234567"],[,,"9\\d{8}","\\d{9}",,,"912345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"805\\d{5}","\\d{8}",,,"80512345"],[,,"801\\d{5}","\\d{8}",,,"80112345"],[,,"80[24]\\d{5}","\\d{8}",,,"80212345"],[,,"NA","NA"],"PE",51,"19(?:1[124]|77|90)00","0"," Anexo ",,"0",,,,[[,"(1)(\\d{7})","$1 $2",["1"],"(0$1)","",0],[,"([4-8]\\d)(\\d{6})","$1 $2",["[4-7]|8[2-4]"],"(0$1)","",0],[,"(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)","",0],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PF:[,[,,"4\\d{5,7}|8\\d{7}","\\d{6}(?:\\d{2})?"],[,,"4(?:[09][45689]\\d|4)\\d{4}","\\d{6}(?:\\d{2})?",,,"40412345"],[,,"8[79]\\d{6}","\\d{8}",,,"87123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PF",689,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[09]|8[79]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"],"","",0]],,[,,"NA","NA"],,,[,,"44\\d{4}","\\d{6}",,,"441234"],[,,"NA","NA"],,,[,,"NA","NA"]],PG:[,[,,"[1-9]\\d{6,7}","\\d{7,8}"],[,,"(?:3[0-2]\\d|4[25]\\d|5[34]\\d|64[1-9]|77(?:[0-24]\\d|30)|85[02-46-9]|9[78]\\d)\\d{4}","\\d{7}",,,"3123456"],[,,"(?:20150|68\\d{2}|7(?:[0-369]\\d|75)\\d{2})\\d{3}","\\d{7,8}",,,"6812345"],[,,"180\\d{4}","\\d{7}",,,"1801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"275\\d{4}","\\d{7}",,,"2751234"],"PG",675,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-689]|27"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["20|7"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PH:[,[,,"2\\d{5,7}|[3-9]\\d{7,9}|1800\\d{7,9}","\\d{5,13}"],[,,"2\\d{5}(?:\\d{2})?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8])\\d{7}|88(?:22\\d{6}|42\\d{4})","\\d{5,10}",,,"21234567"],[,,"(?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[236-9]|50|7[34-79]|89|9[4-9]))\\d{7}","\\d{10}",,,"9051234567"],[,,"1800\\d{7,9}","\\d{11,13}",,,"180012345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PH",63,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)","",0],[,"(2)(\\d{5})","$1 $2",["2"],"(0$1)","",0],[,"(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)","",0],[,"(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)","",0],[,"([3-8]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[3-8]"],"(0$1)","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["81|9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"","",0],[,"(1800)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PK:[,[,,"1\\d{8}|[2-8]\\d{5,11}|9(?:[013-9]\\d{4,9}|2\\d(?:111\\d{6}|\\d{3,7}))","\\d{6,12}"],[,,"(?:21|42)[2-9]\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}|58[126]\\d{7}","\\d{6,10}",,,"2123456789"],[,,"3(?:0\\d|1[0-6]|2[0-5]|3[0-7]|4[0-8]|55|64)\\d{7}","\\d{10}",,,"3012345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"900\\d{5}","\\d{8}",,,"90012345"],[,,"NA","NA"],[,,"122\\d{6}","\\d{9}",,,"122044444"],[,,"NA","NA"],"PK",92,"00","0",,,"0",,,,[[,"(\\d{2})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"],"(0$1)","",0],[,"(\\d{3})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d111"],"(0$1)","",0],[,"(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)","",0],[,"(\\d{3})(\\d{6,7})","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d[2-9]"],"(0$1)","",0],[,"(3\\d{2})(\\d{7})","$1 $2",["3"],"0$1","",0],[,"([15]\\d{3})(\\d{5,6})","$1 $2",["58[12]|1"],"(0$1)","",0],[,"(586\\d{2})(\\d{5})","$1 $2",["586"],"(0$1)","",0],[,"([89]00)(\\d{3})(\\d{2})","$1 $2 $3",["[89]00"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:[1-8]|0[468])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}","\\d{11,12}",,,"21111825888"],,,[,,"NA","NA"]],PL:[,[,,"[12]\\d{6,8}|[3-57-9]\\d{8}|6\\d{5,8}","\\d{6,9}"],[,,"(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])\\d{7}|[12]2\\d{5}","\\d{6,9}",,,"123456789"],[,,"(?:5[0137]|6[069]|7[2389]|88)\\d{7}","\\d{9}",,,"512345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"801\\d{6}","\\d{9}",,,"801234567"],[,,"NA","NA"],[,,"39\\d{7}","\\d{9}",,,"391234567"],"PL",48,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"],"","",0],[,"(\\d{2})(\\d{1})(\\d{4})","$1 $2 $3",["[12]2"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["26|39|5[0137]|6[0469]|7[02389]|8[08]"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"],"","",0],[,"(\\d{3})(\\d{3})","$1 $2",["64"],"","",0]],,[,,"64\\d{4,7}","\\d{6,9}",,,"641234567"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PM:[,[,,"[45]\\d{5}","\\d{6}"],[,,"41\\d{4}","\\d{6}",,,"411234"],[,,"55\\d{4}","\\d{6}",,,"551234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PM",508,"00","0",,,"0",,,,[[,"([45]\\d)(\\d{2})(\\d{2})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PR:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:787|939)[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"7872345678"],[,,"(?:787|939)[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"7872345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"PR",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"787|939",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PS:[,[,,"[24589]\\d{7,8}|1(?:[78]\\d{8}|[49]\\d{2,3})","\\d{4,10}"],[,,"(?:22[234789]|42[45]|82[01458]|92[369])\\d{5}","\\d{7,8}",,,"22234567"],[,,"5[69]\\d{7}","\\d{9}",,,"599123456"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"1(?:4|9\\d)\\d{2}","\\d{4,5}",,,"19123"],[,,"1700\\d{6}","\\d{10}",,,"1700123456"],[,,"NA","NA"],[,,"NA","NA"],"PS",970,"00","0",,,"0",,,,[[,"([2489])(2\\d{2})(\\d{4})","$1 $2 $3",["[2489]"],"0$1","",0],[,"(5[69]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1","",0],[,"(1[78]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[78]"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PT:[,[,,"[2-46-9]\\d{8}","\\d{9}"],[,,"2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}","\\d{9}",,,"212345678"],[,,"9(?:[1236]\\d{2}|480)\\d{5}","\\d{9}",,,"912345678"],[,,"80[02]\\d{6}","\\d{9}",,,"800123456"],[,,"6(?:0[178]|4[68])\\d{6}|76(?:0[1-57]|1[2-47]|2[237])\\d{5}","\\d{9}",,,"760123456"],[,,"80(?:8\\d|9[1579])\\d{5}","\\d{9}",,,"808123456"],[,,"884[0-4689]\\d{5}","\\d{9}",,,"884123456"],[,,"30\\d{7}","\\d{9}",,,"301234567"],"PT",351,"00",,,,,,,,[[,"(2\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"],"","",0],[,"([2-46-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[3-9]|[346-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"7(?:0(?:7\\d|8[17]))\\d{5}","\\d{9}",,,"707123456"],,,[,,"600\\d{6}","\\d{9}",,,"600110000"]],PW:[,[,,"[2-8]\\d{6}","\\d{7}"],[,,"2552255|(?:277|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76))\\d{4}","\\d{7}",,,"2771234"],[,,"(?:6[234689]0|77[45789])\\d{4}","\\d{7}",,,"6201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PW",680,"01[12]",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],PY:[,[,,"5[0-5]\\d{4,7}|[2-46-9]\\d{5,8}","\\d{5,9}"],[,,"(?:[26]1|3[289]|4[124678]|7[123]|8[1236])\\d{5,7}|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4]\\d|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)\\d{5,6}","\\d{5,9}",,,"212345678"],[,,"9(?:6[12]|[78][1-6]|9[1-5])\\d{6}","\\d{9}",,,"961456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"8700[0-4]\\d{4}","\\d{9}",,,"870012345"],"PY",595,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"],"($1)","",0],[,"(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1","",0],[,"(\\d{3})(\\d{6})","$1 $2",["9[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8700"],"","",0],[,"(\\d{3})(\\d{4,6})","$1 $2",["[2-8][1-9]"],"($1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"[2-9]0\\d{4,7}","\\d{6,9}",,,"201234567"],,,[,,"NA","NA"]],QA:[,[,,"[2-8]\\d{6,7}","\\d{7,8}"],[,,"4[04]\\d{6}","\\d{7,8}",,,"44123456"],[,,"[3567]\\d{7}","\\d{7,8}",,,"33123456"],[,,"800\\d{4}","\\d{7,8}",,,"8001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"QA",974,"00",,,,,,,,[[,"([28]\\d{2})(\\d{4})","$1 $2",["[28]"],"","",0],[,"([3-7]\\d{3})(\\d{4})","$1 $2",["[3-7]"],"","",0]],,[,,"2(?:[12]\\d|61)\\d{4}","\\d{7}",,,"2123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],RE:[,[,,"[268]\\d{8}","\\d{9}"],[,,"262\\d{6}","\\d{9}",,,"262161234"],[,,"6(?:9[23]|47)\\d{6}","\\d{9}",,,"692123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89[1-37-9]\\d{6}","\\d{9}",,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"NA","NA"],"RE",262,"00","0",,,"0",,,,[[,"([268]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],1,"262|6[49]|8",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],RO:[,[,,"2\\d{5,8}|[37-9]\\d{8}","\\d{6,9}"],[,,"2(?:1(?:\\d{7}|9\\d{3})|[3-6](?:\\d{7}|\\d9\\d{2}))|3[13-6]\\d{7}","\\d{6,9}",,,"211234567"],[,,"7(?:[0-8]\\d{2}|99\\d)\\d{5}","\\d{9}",,,"712345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"90[036]\\d{6}","\\d{9}",,,"900123456"],[,,"801\\d{6}","\\d{9}",,,"801123456"],[,,"802\\d{6}","\\d{9}",,,"802123456"],[,,"NA","NA"],"RO",40,"00","0"," int ",,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1","",0],[,"(21)(\\d{4})","$1 $2",["21"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23][3-7]|[7-9]"],"0$1","",0],[,"(2\\d{2})(\\d{3})","$1 $2",["2[3-6]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"37\\d{7}","\\d{9}",,,"372123456"],,,[,,"NA","NA"]],RS:[,[,,"[126-9]\\d{4,11}|3(?:[0-79]\\d{3,10}|8[2-9]\\d{2,9})","\\d{5,12}"],[,,"(?:1(?:[02-9][2-9]|1[1-9])\\d|2(?:[0-24-7][2-9]\\d|[389](?:0[2-9]|[2-9]\\d))|3(?:[0-8][2-9]\\d|9(?:[2-9]\\d|0[2-9])))\\d{3,8}","\\d{5,12}",,,"10234567"],[,,"6(?:[0-689]|7\\d)\\d{6,7}","\\d{8,10}",,,"601234567"],[,,"800\\d{3,9}","\\d{6,12}",,,"80012345"],[,,"(?:90[0169]|78\\d)\\d{3,7}","\\d{6,12}",,,"90012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RS",381,"00","0",,,"0",,,,[[,"([23]\\d{2})(\\d{4,9})","$1 $2",["(?:2[389]|39)0"],"0$1","",0],[,"([1-3]\\d)(\\d{5,10})","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"],"0$1","",0],[,"(6\\d)(\\d{6,8})","$1 $2",["6"],"0$1","",0],[,"([89]\\d{2})(\\d{3,9})","$1 $2",["[89]"],"0$1","",0],[,"(7[26])(\\d{4,9})","$1 $2",["7[26]"],"0$1","",0],[,"(7[08]\\d)(\\d{4,9})","$1 $2",["7[08]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"7[06]\\d{4,10}","\\d{6,12}",,,"700123456"],,,[,,"NA","NA"]],RU:[,[,,"[3489]\\d{9}","\\d{10}"],[,,"(?:3(?:0[12]|4[1-35-79]|5[1-3]|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-7]|7[1-37-9]))\\d{7}","\\d{10}",,,"3011234567"],[,,"9\\d{9}","\\d{10}",,,"9123456789"],[,,"80[04]\\d{7}","\\d{10}",,,"8001234567"],[,,"80[39]\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RU",7,"810","8",,,"8",,"8~10",,[[,"(\\d{3})(\\d{2})(\\d{2})","$1-$2-$3",["[1-79]"],"$1","",1],[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[34689]"],"8 ($1)","",1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)","",1]],[[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[34689]"],"8 ($1)","",1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)","",1]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],RW:[,[,,"[027-9]\\d{7,8}","\\d{8,9}"],[,,"2[258]\\d{7}|06\\d{6}","\\d{8,9}",,,"250123456"],[,,"7[238]\\d{7}","\\d{9}",,,"720123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RW",250,"00","0",,,"0",,,,[[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"$1","",0],[,"([7-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1","",0],[,"(0\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],SA:[,[,,"1\\d{7,8}|(?:[2-467]|92)\\d{7}|5\\d{8}|8\\d{9}","\\d{7,10}"],[,,"11\\d{7}|1?(?:2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}","\\d{7,9}",,,"112345678"],[,,"(?:5(?:[013-689]\\d|7[0-26-8])|811\\d)\\d{6}","\\d{9,10}",,,"512345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"92[05]\\d{6}","\\d{9}",,,"920012345"],[,,"NA","NA"],[,,"NA","NA"],"SA",966,"00","0",,,"0",,,,[[,"([1-467])(\\d{3})(\\d{4})","$1 $2 $3",["[1-467]"],"0$1","",0],[,"(1\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[1-467]"],"0$1","",0],[,"(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1","",0],[,"(92\\d{2})(\\d{5})","$1 $2",["92"],"$1","",0],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"$1","",0],[,"(811)(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SB:[,[,,"[1-9]\\d{4,6}","\\d{5,7}"],[,,"(?:1[4-79]|[23]\\d|4[0-2]|5[03]|6[0-37])\\d{3}","\\d{5}",,,"40123"],[,,"48\\d{3}|7(?:30|[46-8]\\d|5[025-9]|9[0-5])\\d{4}|8[4-8]\\d{5}|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])\\d{4}","\\d{5,7}",,,"7421234"],[,,"1[38]\\d{3}","\\d{5}",,,"18123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"5[12]\\d{3}","\\d{5}",,,"51123"],"SB",677,"0[01]",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["[7-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SC:[,[,,"[2468]\\d{5,6}","\\d{6,7}"],[,,"4[2-46]\\d{5}","\\d{7}",,,"4217123"],[,,"2[5-8]\\d{5}","\\d{7}",,,"2510123"],[,,"8000\\d{2}","\\d{6}",,,"800000"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"64\\d{5}","\\d{7}",,,"6412345"],"SC",248,"0[0-2]",,,,,,"00",,[[,"(\\d{3})(\\d{3})","$1 $2",["8"],"","",0],[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SD:[,[,,"[19]\\d{8}","\\d{9}"],[,,"1(?:[125]\\d|8[3567])\\d{6}","\\d{9}",,,"121231234"],[,,"9[0-3569]\\d{7}","\\d{9}",,,"911231234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SD",249,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SE:[,[,,"[1-9]\\d{5,9}","\\d{5,10}"],[,,"1(?:0[1-8]\\d{6}|[136]\\d{5,7}|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)\\d{5,6})|2(?:[136]\\d{5,7}|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])\\d{5,6})|3(?:[356]\\d{5,7}|(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])\\d{5,6})|4(?:0[1-9]\\d{4,6}|[246]\\d{5,7}|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])\\d{5,6})|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])\\d{5,6}|6(?:0[1-9]\\d{4,6}|3\\d{5,7}|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])\\d{5,6})|8[1-9]\\d{5,7}|9(?:0[1-9]\\d{4,6}|(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])\\d{5,6})","\\d{5,9}",,,"8123456"],[,,"7[02369]\\d{7}","\\d{9}",,,"701234567"],[,,"20(?:0(?:0\\d{2}|[1-9](?:0\\d{1,4}|[1-9]\\d{4}))|1(?:0\\d{4}|[1-9]\\d{4,5})|[2-9]\\d{5})","\\d{6,9}",,,"20123456"],[,,"9(?:00|39|44)(?:1(?:[0-26]\\d{5}|[3-57-9]\\d{2})|2(?:[0-2]\\d{5}|[3-9]\\d{2})|3(?:[0139]\\d{5}|[24-8]\\d{2})|4(?:[045]\\d{5}|[1-36-9]\\d{2})|5(?:5\\d{5}|[0-46-9]\\d{2})|6(?:[679]\\d{5}|[0-58]\\d{2})|7(?:[078]\\d{5}|[1-69]\\d{2})|8(?:[578]\\d{5}|[0-469]\\d{2}))","\\d{7}(?:\\d{3})?",,,"9001234567"],[,,"77(?:0(?:0\\d{2}|[1-9](?:0\\d|[1-9]\\d{4}))|[1-6][1-9]\\d{5})","\\d{6}(?:\\d{3})?",,,"771234567"],[,,"75[1-8]\\d{6}","\\d{9}",,,"751234567"],[,,"NA","NA"],"SE",46,"00","0",,,"0",,,,[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1","",0],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"],"0$1","",0],[,"([1-69]\\d)(\\d{3})(\\d{2})","$1-$2 $3",["1[13689]|2[136]|3[1356]|4[0246]|54|6[03]|90"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1","",0],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1","",0],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["7"],"0$1","",0],[,"(77)(\\d{2})(\\d{2})","$1-$2$3",["7"],"0$1","",0],[,"(20)(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1","",0],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9[034]"],"0$1","",0],[,"(9[034]\\d)(\\d{4})","$1-$2",["9[034]"],"0$1","",0]],[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1 $2 $3 $4",["8"]],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],[,"([1-69]\\d)(\\d{3})(\\d{2})","$1 $2 $3",["1[13689]|2[136]|3[1356]|4[0246]|54|6[03]|90"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1 $2 $3",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7"]],[,"(77)(\\d{2})(\\d{2})","$1 $2 $3",["7"]],[,"(20)(\\d{2,3})(\\d{2})","$1 $2 $3",["20"]],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["9[034]"]],[,"(9[034]\\d)(\\d{4})","$1 $2",["9[034]"]]],[,,"74[02-9]\\d{6}","\\d{9}",,,"740123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SG:[,[,,"[36]\\d{7}|[17-9]\\d{7,10}","\\d{8,11}"],[,,"6[1-9]\\d{6}","\\d{8}",,,"61234567"],[,,"(?:8[1-8]|9[0-8])\\d{6}","\\d{8}",,,"81234567"],[,,"1?800\\d{7}","\\d{10,11}",,,"18001234567"],[,,"1900\\d{7}","\\d{11}",,,"19001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"3[12]\\d{6}","\\d{8}",,,"31234567"],"SG",65,"0[0-3]\\d",,,,,,,,[[,"([3689]\\d{3})(\\d{4})","$1 $2",["[369]|8[1-9]"],"","",0],[,"(1[89]00)(\\d{3})(\\d{4})","$1 $2 $3",["1[89]"],"","",0],[,"(7000)(\\d{4})(\\d{3})","$1 $2 $3",["70"],"","",0],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"7000\\d{7}","\\d{11}",,,"70001234567"],,,[,,"NA","NA"]],SH:[,[,,"[256]\\d{4}","\\d{4,5}"],[,,"2(?:[0-57-9]\\d|6[4-9])\\d{2}","\\d{5}",,,"22158"],[,,"[56]\\d{4}","\\d{5}"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"262\\d{2}","\\d{5}"],"SH",290,"00",,,,,,,,,,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SI:[,[,,"[1-7]\\d{6,7}|[89]\\d{4,7}","\\d{5,8}"],[,,"(?:1\\d|[25][2-8]|3[4-8]|4[24-8]|7[3-8])\\d{6}","\\d{7,8}",,,"11234567"],[,,"(?:[37][01]|4[0139]|51|6[48])\\d{6}","\\d{8}",,,"31234567"],[,,"80\\d{4,6}","\\d{6,8}",,,"80123456"],[,,"90\\d{4,6}|89[1-3]\\d{2,5}","\\d{5,8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:59|8[1-3])\\d{6}","\\d{8}",,,"59012345"],"SI",386,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|3[4-8]|4[24-8]|5[2-8]|7[3-8]"],"(0$1)","",0],[,"([3-7]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1","",0],[,"([89][09])(\\d{3,6})","$1 $2",["[89][09]"],"0$1","",0],[,"([58]\\d{2})(\\d{5})","$1 $2",["59|8[1-3]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SJ:[,[,,"0\\d{4}|[4789]\\d{7}","\\d{5}(?:\\d{3})?"],[,,"79\\d{6}","\\d{8}",,,"79123456"],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}","\\d{8}",,,"41234567"],[,,"80[01]\\d{5}","\\d{8}",,,"80012345"],[,,"82[09]\\d{5}","\\d{8}",,,"82012345"],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}","\\d{8}",,,"81021234"],[,,"880\\d{5}","\\d{8}",,,"88012345"],[,,"85[0-5]\\d{5}","\\d{8}",,,"85012345"],"SJ",47,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}","\\d{5}(?:\\d{3})?",,,"01234"],1,,[,,"81[23]\\d{5}","\\d{8}",,,"81212345"]],SK:[,[,,"[2-689]\\d{8}","\\d{9}"],[,,"[2-5]\\d{8}","\\d{9}",,,"212345678"],[,,"9(?:0[1-8]|1[0-24-9]|4[0489])\\d{6}","\\d{9}",,,"912123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"9(?:[78]\\d{7}|00\\d{6})","\\d{9}",,,"900123456"],[,,"8[5-9]\\d{7}","\\d{9}",,,"850123456"],[,,"NA","NA"],[,,"6(?:5[0-4]|9[0-6])\\d{6}","\\d{9}",,,"690123456"],"SK",421,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1","",0],[,"([3-5]\\d)(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1","",0],[,"([689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"(?:8(?:00|[5-9]\\d)|9(?:00|[78]\\d))\\d{6}","\\d{9}",,,"800123456"],[,,"96\\d{7}","\\d{9}",,,"961234567"],,,[,,"NA","NA"]],SL:[,[,,"[2-9]\\d{7}","\\d{6,8}"],[,,"[235]2[2-4][2-9]\\d{4}","\\d{6,8}",,,"22221234"],[,,"(?:2[15]|3[03-5]|4[04]|5[05]|66|7[6-9]|88|99)\\d{6}","\\d{6,8}",,,"25123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SL",232,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"(0$1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SM:[,[,,"[05-7]\\d{7,9}","\\d{6,10}"],[,,"0549(?:8[0157-9]|9\\d)\\d{4}","\\d{6,10}",,,"0549886377"],[,,"6[16]\\d{6}","\\d{8}",,,"66661212"],[,,"NA","NA"],[,,"7[178]\\d{6}","\\d{8}",,,"71123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"5[158]\\d{6}","\\d{8}",,,"58001110"],"SM",378,"00",,,,"(?:0549)?([89]\\d{5})","0549$1",,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"],"","",0],[,"(0549)(\\d{6})","$1 $2",["0"],"","",0],[,"(\\d{6})","0549 $1",["[89]"],"","",0]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"],"","",0],[,"(0549)(\\d{6})","($1) $2",["0"]],[,"(\\d{6})","(0549) $1",["[89]"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],SN:[,[,,"[3789]\\d{8}","\\d{9}"],[,,"3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611|90[1-5])\\d{5}","\\d{9}",,,"301012345"],[,,"7(?:[067]\\d|21|8[0-26]|90)\\d{6}","\\d{9}",,,"701234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"88[4689]\\d{6}","\\d{9}",,,"884123456"],[,,"81[02468]\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"3392\\d{5}|93330\\d{4}","\\d{9}",,,"933301234"],"SN",221,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SO:[,[,,"[1-79]\\d{6,8}","\\d{7,9}"],[,,"(?:1\\d|2[0-79]|3[0-46-8]|4[0-7]|59)\\d{5}","\\d{7}",,,"4012345"],[,,"(?:15\\d|2(?:4\\d|8)|6[1-35-9]?\\d{2}|7(?:[1-8]\\d|99?\\d)|907\\d)\\d{5}","\\d{7,9}",,,"71123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SO",252,"00","0",,,"0",,,,[[,"(\\d)(\\d{6})","$1 $2",["2[0-79]|[13-5]"],"","",0],[,"(\\d)(\\d{7})","$1 $2",["24|[67]"],"","",0],[,"(\\d{2})(\\d{5,7})","$1 $2",["15|28|6[1-35-9]|799"],"","",0],[,"(90\\d)(\\d{3})(\\d{3})","$1 $2 $3",["90"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SR:[,[,,"[2-8]\\d{5,6}","\\d{6,7}"],[,,"(?:2[1-3]|3[0-7]|4\\d|5[2-58]|68\\d)\\d{4}","\\d{6,7}",,,"211234"],[,,"(?:7[124-7]|8[1-9])\\d{5}","\\d{7}",,,"7412345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"5(?:6\\d{4}|90[0-4]\\d{3})","\\d{6,7}",,,"561234"],"SR",597,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1-$2",["[2-4]|5[2-58]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"],"","",0],[,"(\\d{3})(\\d{4})","$1-$2",["59|[6-8]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SS:[,[,,"[19]\\d{8}","\\d{9}"],[,,"18\\d{7}","\\d{9}",,,"181234567"],[,,"(?:12|9[1257])\\d{7}","\\d{9}",,,"977123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SS",211,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ST:[,[,,"[29]\\d{6}","\\d{7}"],[,,"22\\d{5}","\\d{7}",,,"2221234"],[,,"9(?:0(?:0[5-9]|[1-9]\\d)|[89]\\d{2})\\d{3}","\\d{7}",,,"9812345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ST",239,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SV:[,[,,"[267]\\d{7}|[89]\\d{6}(?:\\d{4})?","\\d{7,8}|\\d{11}"],[,,"2[1-6]\\d{6}","\\d{8}",,,"21234567"],[,,"[67]\\d{7}","\\d{8}",,,"70123456"],[,,"800\\d{4}(?:\\d{4})?","\\d{7}(?:\\d{4})?",,,"8001234"],[,,"900\\d{4}(?:\\d{4})?","\\d{7}(?:\\d{4})?",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SV",503,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[267]"],"","",0],[,"(\\d{3})(\\d{4})","$1 $2",["[89]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SX:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"7215(?:4[2-8]|8[239]|9[056])\\d{4}","\\d{7}(?:\\d{3})?",,,"7215425678"],[,,"7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}","\\d{10}",,,"7215205678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"SX",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"721",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SY:[,[,,"[1-59]\\d{7,8}","\\d{6,9}"],[,,"(?:1(?:1\\d?|4\\d|[2356])|2(?:1\\d?|[235])|3(?:[13]\\d|4)|4[13]|5[1-3])\\d{6}","\\d{6,9}",,,"112345678"],[,,"9(?:22|[35][0-8]|4\\d|6[024-9]|88|9[0-489])\\d{6}","\\d{9}",,,"944567890"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SY",963,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1","",1],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],SZ:[,[,,"[027]\\d{7}","\\d{8}"],[,,"2[2-5]\\d{6}","\\d{8}",,,"22171234"],[,,"7[6-8]\\d{6}","\\d{8}",,,"76123456"],[,,"0800\\d{4}","\\d{8}",,,"08001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SZ",268,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[027]"],"","",0]],,[,,"NA","NA"],,,[,,"0800\\d{4}","\\d{8}",,,"08001234"],[,,"NA","NA"],1,,[,,"NA","NA"]],TA:[,[,,"8\\d{3}","\\d{4}"],[,,"8\\d{3}","\\d{4}",,,"8999"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TA",290,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TC:[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"649(?:712|9(?:4\\d|50))\\d{4}","\\d{7}(?:\\d{3})?",,,"6497121234"],[,,"649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-7])|4[34][1-3])\\d{4}","\\d{10}",,,"6492311234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"64971[01]\\d{4}","\\d{10}",,,"6497101234"],"TC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"649",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TD:[,[,,"[2679]\\d{7}","\\d{8}"],[,,"22(?:[3789]0|5[0-5]|6[89])\\d{4}","\\d{8}",,,"22501234"],[,,"(?:6[02368]\\d|77\\d|9\\d{2})\\d{5}","\\d{8}",,,"63012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TD",235,"00|16",,,,,,"00",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TG:[,[,,"[29]\\d{7}","\\d{8}"],[,,"2(?:2[2-7]|3[23]|44|55|66|77)\\d{5}","\\d{8}",,,"22212345"],[,,"9[0-389]\\d{6}","\\d{8}",,,"90112345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TG",228,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TH:[,[,,"[2-9]\\d{7,8}|1\\d{3}(?:\\d{5,6})?","\\d{4}|\\d{8,10}"],[,,"(?:2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:14|6[1-3]|[89]\\d)\\d{7}","\\d{9}",,,"812345678"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"1900\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"6[08]\\d{7}","\\d{9}",,,"601234567"],"TH",66,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"([13-9]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["14|[3-9]"],"0$1","",0],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"$1","",0]],,[,,"NA","NA"],,,[,,"1\\d{3}","\\d{4}",,,"1100"],[,,"1\\d{3}","\\d{4}",,,"1100"],,,[,,"NA","NA"]],TJ:[,[,,"[3-59]\\d{8}","\\d{3,9}"],[,,"(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}","\\d{3,9}",,,"372123456"],[,,"(?:50[125]|9[0-35-9]\\d)\\d{6}","\\d{9}",,,"917123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TJ",992,"810","8",,,"8",,"8~10",,[[,"([349]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],"(8) $1","",1],[,"([459]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[48]|5|9(?:1[59]|[0235-9])"],"(8) $1","",1],[,"(331700)(\\d)(\\d{2})","$1 $2 $3",["331","3317","33170","331700"],"(8) $1","",1],[,"(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"],"(8) $1","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TK:[,[,,"[2-9]\\d{3}","\\d{4}"],[,,"[2-4]\\d{3}","\\d{4}",,,"3010"],[,,"[5-9]\\d{3}","\\d{4}",,,"5190"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TK",690,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TL:[,[,,"[2-489]\\d{6}|7\\d{6,7}","\\d{7,8}"],[,,"(?:2[1-5]|3[1-9]|4[1-4])\\d{5}","\\d{7}",,,"2112345"],[,,"7[3-8]\\d{6}","\\d{8}",,,"77212345"],[,,"80\\d{5}","\\d{7}",,,"8012345"],[,,"90\\d{5}","\\d{7}",,,"9012345"],[,,"NA","NA"],[,,"70\\d{5}","\\d{7}",,,"7012345"],[,,"NA","NA"],"TL",670,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-489]"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["7"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TM:[,[,,"[1-6]\\d{7}","\\d{8}"],[,,"(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}","\\d{8}",,,"12345678"],[,,"6[2-9]\\d{6}","\\d{8}",,,"66123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TM",993,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)","",0],[,"(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1","",0],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["13|[2-5]"],"(8 $1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TN:[,[,,"[2-57-9]\\d{7}","\\d{8}"],[,,"3[012]\\d{6}|7\\d{7}|81200\\d{3}","\\d{8}",,,"71234567"],[,,"(?:[259]\\d|4[0-24])\\d{6}","\\d{8}",,,"20123456"],[,,"8010\\d{4}","\\d{8}",,,"80101234"],[,,"88\\d{6}","\\d{8}",,,"88123456"],[,,"8[12]10\\d{4}","\\d{8}",,,"81101234"],[,,"NA","NA"],[,,"NA","NA"],"TN",216,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TO:[,[,,"[02-8]\\d{4,6}","\\d{5,7}"],[,,"(?:2\\d|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])\\d{3}","\\d{5}",,,"20123"],[,,"(?:7[578]|8[47-9])\\d{5}","\\d{7}",,,"7715123"],[,,"0800\\d{3}","\\d{7}",,,"0800222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TO",676,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1-$2",["[1-6]|7[0-4]|8[05]"],"","",0],[,"(\\d{3})(\\d{4})","$1 $2",["7[5-9]|8[47-9]"],"","",0],[,"(\\d{4})(\\d{3})","$1 $2",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],TR:[,[,,"[2-589]\\d{9}|444\\d{4}","\\d{7,10}"],[,,"(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}","\\d{10}",,,"2123456789"],[,,"5(?:0[1-7]|22|[34]\\d|5[1-59]|9[246])\\d{7}","\\d{10}",,,"5012345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TR",90,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[23]|4(?:[0-35-9]|4[0-35-9])"],"(0$1)","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[589]"],"0$1","",1],[,"(444)(\\d{1})(\\d{3})","$1 $2 $3",["444"],"","",0]],,[,,"512\\d{7}","\\d{10}",,,"5123456789"],,,[,,"444\\d{4}","\\d{7}",,,"4441444"],[,,"444\\d{4}|850\\d{7}","\\d{7,10}",,,"4441444"],,,[,,"NA","NA"]],TT:[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"868(?:2(?:01|2[1-5]|3[1-5])|6(?:0[79]|1[02-8]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}","\\d{7}(?:\\d{3})?",,,"8682211234"],[,,"868(?:2(?:[789]\\d)|3(?:0[1-9]|1[02-9]|[2-9]\\d)|4[6-9]\\d|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}","\\d{10}",,,"8682911234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"TT",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"868",[,,"NA","NA"],[,,"NA","NA"],,,[,,"868619\\d{4}","\\d{10}"]],TV:[,[,,"[29]\\d{4,5}","\\d{5,6}"],[,,"2[02-9]\\d{3}","\\d{5}",,,"20123"],[,,"90\\d{4}","\\d{6}",,,"901234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TV",688,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TW:[,[,,"[2-689]\\d{7,8}|7\\d{7,9}","\\d{8,10}"],[,,"[2-8]\\d{7,8}","\\d{8,9}",,,"21234567"],[,,"9\\d{8}","\\d{9}",,,"912345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],"TW",886,"0(?:0[25679]|19)","0","#",,"0",,,,[[,"([2-8])(\\d{3,4})(\\d{4})","$1 $2 $3",["[2-6]|[78][1-9]"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["80|9"],"0$1","",0],[,"(70)(\\d{4})(\\d{4})","$1 $2 $3",["70"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],TZ:[,[,,"\\d{9}","\\d{7,9}"],[,,"2[2-8]\\d{7}","\\d{7,9}",,,"222345678"],[,,"(?:6[25-8]|7[13-9])\\d{7}","\\d{9}",,,"621234567"],[,,"80[08]\\d{6}","\\d{9}",,,"800123456"],[,,"90\\d{7}","\\d{9}",,,"900123456"],[,,"8(?:40|6[01])\\d{6}","\\d{9}",,,"840123456"],[,,"NA","NA"],[,,"41\\d{7}","\\d{9}",,,"412345678"],"TZ",255,"00[056]","0",,,"0",,,,[[,"([24]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1","",0],[,"([67]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1","",0],[,"([89]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UA:[,[,,"[3-9]\\d{8}","\\d{5,9}"],[,,"(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}","\\d{5,9}",,,"311234567"],[,,"(?:39|50|6[36-8]|73|9[1-9])\\d{7}","\\d{9}",,,"391234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"89\\d{7}","\\d{9}",,,"891234567"],"UA",380,"00","0",,,"0",,"0~0",,[[,"([3-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|6[37]|7[37])|6[36-8]|73|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|73|9[1-9]"],"0$1","",0],[,"([3-689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3[1-8]2|4[13678]2|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90"],"0$1","",0],[,"([3-6]\\d{3})(\\d{5})","$1 $2",["3(?:5[013-9]|[1-46-8])|4(?:[137][013-9]|6|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6[0135-9]|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])","3(?:5[013-9]|[1-46-8](?:22|[013-9]))|4(?:[137][013-9]|6(?:[013-9]|22)|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6(?:3[02389]|[015689])|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UG:[,[,,"\\d{9}","\\d{5,9}"],[,,"20(?:[0147]\\d{2}|2(?:40|[5-9]\\d)|3[23]\\d|5[0-4]\\d|6[03]\\d|8[0-2]\\d)\\d{4}|[34]\\d{8}","\\d{5,9}",,,"312345678"],[,,"2030\\d{5}|7(?:0[0-7]|[15789]\\d|2[03]|30|[46][0-4])\\d{6}","\\d{9}",,,"712345678"],[,,"800[123]\\d{5}","\\d{9}",,,"800123456"],[,,"90[123]\\d{6}","\\d{9}",,,"901123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UG",256,"00[057]","0",,,"0",,,,[[,"(\\d{3})(\\d{6})","$1 $2",["[7-9]|20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])"],"0$1","",0],[,"(\\d{2})(\\d{7})","$1 $2",["3|4(?:[1-5]|6[0-36-9])"],"0$1","",0],[,"(2024)(\\d{5})","$1 $2",["2024"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],US:[,[,,"[2-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[04589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[04589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,"","",1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UY:[,[,,"[2489]\\d{6,7}","\\d{7,8}"],[,,"2\\d{7}|4[2-7]\\d{6}","\\d{7,8}",,,"21231234"],[,,"9[1-9]\\d{6}","\\d{8}",,,"94231234"],[,,"80[05]\\d{4}","\\d{7}",,,"8001234"],[,,"90[0-8]\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UY",598,"0(?:1[3-9]\\d|0)","0"," int. ",,"0",,"00",,[[,"(\\d{4})(\\d{4})","$1 $2",["[24]"],"","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{4})","$1 $2",["[89]0"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],UZ:[,[,,"[679]\\d{8}","\\d{7,9}"],[,,"(?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d{2}|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12]\\d|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}","\\d{7,9}",,,"662345678"],[,,"6(?:1(?:2(?:98|2[01])|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:11\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4])|7\\d{2})|5(?:19[01]|2(?:27|9[26])|30\\d|59\\d|7\\d{2})|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79]\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3]\\d)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|5\\d|3[01]|7[0-4])|5[67]\\d|6(?:2[0-26]|8\\d)|7\\d{2}))\\d{4}|7(?:0\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078])|9[4-6]\\d)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[05629]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07])))\\d{4}|9[0-57-9]\\d{7}","\\d{7,9}",,,"912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UZ",998,"810","8",,,"8",,"8~10",,[[,"([679]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"8 $1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VA:[,[,,"(?:0(?:878\\d{5}|6698\\d{5})|[1589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9}))","\\d{6,11}"],[,,"06698\\d{5}","\\d{10}",,,"0669812345"],[,,"3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})","\\d{9,11}",,,"3123456789"],[,,"80(?:0\\d{6}|3\\d{3})","\\d{6,9}",,,"800123456"],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})","\\d{6,10}",,,"899123456"],[,,"84(?:[08]\\d{6}|[17]\\d{3})","\\d{6,9}",,,"848123456"],[,,"1(?:78\\d|99)\\d{6}","\\d{9,10}",,,"1781234567"],[,,"55\\d{8}","\\d{10}",,,"5512345678"],"VA",39,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"848\\d{6}","\\d{9}",,,"848123456"],[,,"NA","NA"],1,,[,,"NA","NA"]],VC:[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"784(?:266|3(?:6[6-9]|7\\d|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}","\\d{7}(?:\\d{3})?",,,"7842661234"],[,,"784(?:4(?:3[0-4]|5[45]|89|9[0-5])|5(?:2[6-9]|3[0-4]))\\d{4}","\\d{10}",,,"7844301234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"784",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VE:[,[,,"[24589]\\d{9}","\\d{7,10}"],[,,"(?:2(?:12|3[457-9]|[58][1-9]|[467]\\d|9[1-6])|50[01])\\d{7}","\\d{7,10}",,,"2121234567"],[,,"4(?:1[24-8]|2[46])\\d{7}","\\d{10}",,,"4121234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VE",58,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{7})","$1-$2",,"0$1","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VG:[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}|496[0-5]\\d{3})","\\d{7}(?:\\d{3})?",,,"2842291234"],[,,"284(?:(?:3(?:0[0-3]|4[0-367])|4(?:4[0-6]|68|99)|54[0-57])\\d{4}|496[6-9]\\d{3})","\\d{10}",,,"2843001234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VG",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"284",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VI:[,[,,"[3589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}","\\d{7}(?:\\d{3})?",,,"3406421234"],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}","\\d{7}(?:\\d{3})?",,,"3406421234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VI",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"340",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],VN:[,[,,"[17]\\d{6,9}|[2-69]\\d{7,9}|8\\d{6,8}","\\d{7,10}"],[,,"(?:2(?:[025-79]|1[0189]|[348][01])|3(?:[0136-9]|[25][01])|4\\d|5(?:[01][01]|[2-9])|6(?:[0-46-8]|5[01])|7(?:[02-79]|[18][01])|8[1-9])\\d{7}","\\d{9,10}",,,"2101234567"],[,,"(?:9\\d|1(?:2\\d|6[2-9]|8[68]|99))\\d{7}","\\d{9,10}",,,"912345678"],[,,"1800\\d{4,6}","\\d{8,10}",,,"1800123456"],[,,"1900\\d{4,6}","\\d{8,10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VN",84,"00","0",,,"0",,,,[[,"([17]99)(\\d{4})","$1 $2",["[17]99"],"0$1","",1],[,"([48])(\\d{4})(\\d{4})","$1 $2 $3",["[48]"],"0$1","",1],[,"([235-7]\\d)(\\d{4})(\\d{3})","$1 $2 $3",["2[025-79]|3[0136-9]|5[2-9]|6[0-46-8]|7[02-79]"],"0$1","",1],[,"(80)(\\d{5})","$1 $2",["80"],"0$1","",1],[,"(69\\d)(\\d{4,5})","$1 $2",["69"],"0$1","",1],[,"([235-7]\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["2[1348]|3[25]|5[01]|65|7[18]"],"0$1","",1],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",1],[,"(1[2689]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[26]|8[68]|99)"],"0$1","",1],[,"(1[89]00)(\\d{4,6})","$1 $2",["1[89]0"],"$1","",1]],,[,,"NA","NA"],,,[,,"[17]99\\d{4}|69\\d{5,6}","\\d{7,8}",,,"1992000"],[,,"[17]99\\d{4}|69\\d{5,6}|80\\d{5}","\\d{7,8}",,,"1992000"],,,[,,"NA","NA"]],VU:[,[,,"[2-57-9]\\d{4,6}","\\d{5,7}"],[,,"(?:2[02-9]\\d|3(?:[5-7]\\d|8[0-8])|48[4-9]|88\\d)\\d{2}","\\d{5}",,,"22123"],[,,"(?:5(?:7[2-5]|[0-689]\\d)|7[013-7]\\d)\\d{4}","\\d{7}",,,"5912345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VU",678,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[579]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"3[03]\\d{3}|900\\d{4}","\\d{5,7}",,,"30123"],,,[,,"NA","NA"]],WF:[,[,,"[5-7]\\d{5}","\\d{6}"],[,,"(?:50|68|72)\\d{4}","\\d{6}",,,"501234"],[,,"(?:50|68|72)\\d{4}","\\d{6}",,,"501234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"WF",681,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],WS:[,[,,"[2-8]\\d{4,6}","\\d{5,7}"],[,,"(?:[2-5]\\d|6[1-9]|84\\d{2})\\d{3}","\\d{5,7}",,,"22123"],[,,"(?:60|7[25-7]\\d)\\d{4}","\\d{6,7}",,,"601234"],[,,"800\\d{3}","\\d{6}",,,"800123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"WS",685,"0",,,,,,,,[[,"(8\\d{2})(\\d{3,4})","$1 $2",["8"],"","",0],[,"(7\\d)(\\d{5})","$1 $2",["7"],"","",0],[,"(\\d{5})","$1",["[2-6]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],YE:[,[,,"[1-7]\\d{6,8}","\\d{6,9}"],[,,"(?:1(?:7\\d|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68])\\d{5}","\\d{6,8}",,,"1234567"],[,,"7[0137]\\d{7}","\\d{9}",,,"712345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"YE",967,"00","0",,,"0",,,,[[,"([1-7])(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1","",0],[,"(7\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7[0137]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],YT:[,[,,"[268]\\d{8}","\\d{9}"],[,,"269(?:6[0-4]|50)\\d{4}","\\d{9}",,,"269601234"],[,,"639\\d{6}","\\d{9}",,,"639123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"YT",262,"00","0",,,"0",,,,,,[,,"NA","NA"],,"269|63",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ZA:[,[,,"[1-79]\\d{8}|8(?:[067]\\d{7}|[1-4]\\d{3,7})","\\d{5,9}"],[,,"(?:1[0-8]|2[0-378]|3[1-69]|4\\d|5[1346-8])\\d{7}","\\d{9}",,,"101234567"],[,,"(?:6[0-5]|7[0-46-9])\\d{7}|8[1-4]\\d{3,7}","\\d{5,9}",,,"711234567"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"86[2-9]\\d{6}|90\\d{7}","\\d{9}",,,"862345678"],[,,"860\\d{6}","\\d{9}",,,"860123456"],[,,"NA","NA"],[,,"87\\d{7}","\\d{9}",,,"871234567"],"ZA",27,"00","0",,,"0",,,,[[,"(860)(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-79]|8(?:[0-47]|6[1-9])"],"0$1","",0],[,"(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"861\\d{6}","\\d{9}",,,"861123456"],,,[,,"NA","NA"]],ZM:[,[,,"[289]\\d{8}","\\d{9}"],[,,"21[1-8]\\d{6}","\\d{9}",,,"211234567"],[,,"9(?:5[05]|6\\d|7[1-9])\\d{6}","\\d{9}",,,"955123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ZM",260,"00","0",,,"0",,,,[[,"([29]\\d)(\\d{7})","$1 $2",["[29]"],"0$1","",0],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],ZW:[,[,,"2(?:[012457-9]\\d{3,8}|6(?:[14]\\d{7}|\\d{4}))|[13-79]\\d{4,9}|8[06]\\d{8}","\\d{3,10}"],[,,"(?:2(?:0(?:4\\d|5\\d{2})|2[278]\\d|48\\d|7(?:[1-7]\\d|[089]\\d{2})|8(?:[2-57-9]|[146]\\d{2})|98)|3(?:08|17|3[78]|7(?:[19]|[56]\\d)|8[37]|98)|5[15][78]|6(?:28\\d{2}|[36]7|75\\d|[69]8|8(?:7\\d|8)))\\d{3}|(?:2(?:1[39]|2[0157]|6[14]|7[35]|84)|329)\\d{7}|(?:1(?:3\\d{2}|9\\d|[4-8])|2(?:0\\d{2}|[569]\\d)|3(?:[26]|[013459]\\d)|5(?:0|5\\d{2}|[689]\\d)|6(?:[39]|[01246]\\d|[78]\\d{2}))\\d{3}|(?:29\\d|39|54)\\d{6}|(?:(?:25|54)83|2582\\d)\\d{3}|(?:4\\d{6,7}|9[2-9]\\d{4,5})","\\d{3,10}",,,"1312345"],[,,"7[1378]\\d{7}","\\d{9}",,,"711234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"86(?:1[12]|30|44|55|77|8[367]|99)\\d{6}","\\d{10}",,,"8686123456"],"ZW",263,"00","0",,,"0",,,,[[,"([49])(\\d{3})(\\d{2,4})","$1 $2 $3",["4|9[2-9]"],"0$1","",0],[,"(7\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["7"],"0$1","",0],[,"(86\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["86[24]"],"0$1","",0],[,"([2356]\\d{2})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:08|17|3[78]|7[1569]|8[37]|98)|5[15][78]|6(?:[29]8|[38]7|6[78]|75|[89]8)"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|6[14]|7[35]|84)|329"],"0$1","",0],[,"([1-356]\\d)(\\d{3,5})","$1 $2",["1[3-9]|2[0569]|3[0-69]|5[05689]|6[0-46-9]"],"0$1","",0],[,"([235]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[23]9|54"],"0$1","",0],[,"([25]\\d{3})(\\d{3,5})","$1 $2",["(?:25|54)8","258[23]|5483"],"0$1","",0],[,"(8\\d{3})(\\d{6})","$1 $2",["86"],"0$1","",0],[,"(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],800:[,[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",800,"",,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],808:[,[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],"001",808,"",,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],870:[,[,,"[35-7]\\d{8}","\\d{9}",,,"301234567"],[,,"NA","NA",,,"301234567"],[,,"(?:[356]\\d|7[6-8])\\d{7}","\\d{9}",,,"301234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",870,"",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],878:[,[,,"1\\d{11}","\\d{12}",,,"101234567890"],[,,"NA","NA",,,"101234567890"],[,,"NA","NA",,,"101234567890"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"10\\d{10}","\\d{12}",,,"101234567890"],"001",878,"",,,,,,,1,[[,"(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],881:[,[,,"[67]\\d{8}","\\d{9}",,,"612345678"],[,,"NA","NA",,,"612345678"],[,,"[67]\\d{8}","\\d{9}",,,"612345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",881,"",,,,,,,,[[,"(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[67]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],882:[,[,,"[13]\\d{6,11}","\\d{7,12}",,,"3451234567"],[,,"NA","NA",,,"3451234567"],[,,"3(?:2\\d{3}|37\\d{2}|4(?:2|7\\d{3}))\\d{4}","\\d{7,10}",,,"3451234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15678]|9[0689])\\d{4}|6\\d{5,10})|345\\d{7}","\\d{7,12}",,,"3451234567"],"001",882,"",,,,,,,,[[,"(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"],"","",0],[,"(\\d{2})(\\d{5})","$1 $2",["16|342"],"","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["348"],"","",0],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1"],"","",0],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"],"","",0],[,"(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["16"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"348[57]\\d{7}","\\d{11}",,,"3451234567"]],883:[,[,,"51\\d{7}(?:\\d{3})?","\\d{9}(?:\\d{3})?",,,"510012345"],[,,"NA","NA",,,"510012345"],[,,"NA","NA",,,"510012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"51(?:00\\d{5}(?:\\d{3})?|[13]0\\d{8})","\\d{9}(?:\\d{3})?",,,"510012345"],"001",883,"",,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"],"","",0],[,"(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],888:[,[,,"\\d{11}","\\d{11}",,,"12345678901"],[,,"NA","NA",,,"12345678901"],[,,"NA","NA",,,"12345678901"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",888,"",,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"\\d{11}","\\d{11}",,,"12345678901"],1,,[,,"NA","NA"]],979:[,[,,"\\d{9}","\\d{9}",,,"123456789"],[,,"NA","NA",,,"123456789"],[,,"NA","NA",,,"123456789"],[,,"NA","NA"],[,,"\\d{9}","\\d{9}",,,"123456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",979,"",,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]]};i18n.phonenumbers.PhoneNumber=function(){goog.proto2.Message.call(this)};goog.inherits(i18n.phonenumbers.PhoneNumber,goog.proto2.Message);i18n.phonenumbers.PhoneNumber.prototype.getCountryCode=function(){return this.get$Value(1)};i18n.phonenumbers.PhoneNumber.prototype.getCountryCodeOrDefault=function(){return this.get$ValueOrDefault(1)};i18n.phonenumbers.PhoneNumber.prototype.setCountryCode=function(a){this.set$Value(1,a)};i18n.phonenumbers.PhoneNumber.prototype.hasCountryCode=function(){return this.has$Value(1)};i18n.phonenumbers.PhoneNumber.prototype.countryCodeCount=function(){return this.count$Values(1)};i18n.phonenumbers.PhoneNumber.prototype.clearCountryCode=function(){this.clear$Field(1)};i18n.phonenumbers.PhoneNumber.prototype.getNationalNumber=function(){return this.get$Value(2)};i18n.phonenumbers.PhoneNumber.prototype.getNationalNumberOrDefault=function(){return this.get$ValueOrDefault(2)};i18n.phonenumbers.PhoneNumber.prototype.setNationalNumber=function(a){this.set$Value(2,a)};i18n.phonenumbers.PhoneNumber.prototype.hasNationalNumber=function(){return this.has$Value(2)};i18n.phonenumbers.PhoneNumber.prototype.nationalNumberCount=function(){return this.count$Values(2)};i18n.phonenumbers.PhoneNumber.prototype.clearNationalNumber=function(){this.clear$Field(2)};i18n.phonenumbers.PhoneNumber.prototype.getExtension=function(){return this.get$Value(3)};i18n.phonenumbers.PhoneNumber.prototype.getExtensionOrDefault=function(){return this.get$ValueOrDefault(3)};i18n.phonenumbers.PhoneNumber.prototype.setExtension=function(a){this.set$Value(3,a)};i18n.phonenumbers.PhoneNumber.prototype.hasExtension=function(){return this.has$Value(3)};i18n.phonenumbers.PhoneNumber.prototype.extensionCount=function(){return this.count$Values(3)};i18n.phonenumbers.PhoneNumber.prototype.clearExtension=function(){this.clear$Field(3)};i18n.phonenumbers.PhoneNumber.prototype.getItalianLeadingZero=function(){return this.get$Value(4)};i18n.phonenumbers.PhoneNumber.prototype.getItalianLeadingZeroOrDefault=function(){return this.get$ValueOrDefault(4)};i18n.phonenumbers.PhoneNumber.prototype.setItalianLeadingZero=function(a){this.set$Value(4,a)};i18n.phonenumbers.PhoneNumber.prototype.hasItalianLeadingZero=function(){return this.has$Value(4)};i18n.phonenumbers.PhoneNumber.prototype.italianLeadingZeroCount=function(){return this.count$Values(4)};i18n.phonenumbers.PhoneNumber.prototype.clearItalianLeadingZero=function(){this.clear$Field(4)};i18n.phonenumbers.PhoneNumber.prototype.getNumberOfLeadingZeros=function(){return this.get$Value(8)};i18n.phonenumbers.PhoneNumber.prototype.getNumberOfLeadingZerosOrDefault=function(){return this.get$ValueOrDefault(8)};i18n.phonenumbers.PhoneNumber.prototype.setNumberOfLeadingZeros=function(a){this.set$Value(8,a)};i18n.phonenumbers.PhoneNumber.prototype.hasNumberOfLeadingZeros=function(){return this.has$Value(8)};i18n.phonenumbers.PhoneNumber.prototype.numberOfLeadingZerosCount=function(){return this.count$Values(8)};i18n.phonenumbers.PhoneNumber.prototype.clearNumberOfLeadingZeros=function(){this.clear$Field(8)};i18n.phonenumbers.PhoneNumber.prototype.getRawInput=function(){return this.get$Value(5)};i18n.phonenumbers.PhoneNumber.prototype.getRawInputOrDefault=function(){return this.get$ValueOrDefault(5)};i18n.phonenumbers.PhoneNumber.prototype.setRawInput=function(a){this.set$Value(5,a)};i18n.phonenumbers.PhoneNumber.prototype.hasRawInput=function(){return this.has$Value(5)};i18n.phonenumbers.PhoneNumber.prototype.rawInputCount=function(){return this.count$Values(5)};i18n.phonenumbers.PhoneNumber.prototype.clearRawInput=function(){this.clear$Field(5)};i18n.phonenumbers.PhoneNumber.prototype.getCountryCodeSource=function(){return this.get$Value(6)};i18n.phonenumbers.PhoneNumber.prototype.getCountryCodeSourceOrDefault=function(){return this.get$ValueOrDefault(6)};i18n.phonenumbers.PhoneNumber.prototype.setCountryCodeSource=function(a){this.set$Value(6,a)};i18n.phonenumbers.PhoneNumber.prototype.hasCountryCodeSource=function(){return this.has$Value(6)};i18n.phonenumbers.PhoneNumber.prototype.countryCodeSourceCount=function(){return this.count$Values(6)};i18n.phonenumbers.PhoneNumber.prototype.clearCountryCodeSource=function(){this.clear$Field(6)};i18n.phonenumbers.PhoneNumber.prototype.getPreferredDomesticCarrierCode=function(){return this.get$Value(7)};i18n.phonenumbers.PhoneNumber.prototype.getPreferredDomesticCarrierCodeOrDefault=function(){return this.get$ValueOrDefault(7)};i18n.phonenumbers.PhoneNumber.prototype.setPreferredDomesticCarrierCode=function(a){this.set$Value(7,a)};i18n.phonenumbers.PhoneNumber.prototype.hasPreferredDomesticCarrierCode=function(){return this.has$Value(7)};i18n.phonenumbers.PhoneNumber.prototype.preferredDomesticCarrierCodeCount=function(){return this.count$Values(7)};i18n.phonenumbers.PhoneNumber.prototype.clearPreferredDomesticCarrierCode=function(){this.clear$Field(7)};i18n.phonenumbers.PhoneNumber.CountryCodeSource={FROM_NUMBER_WITH_PLUS_SIGN:1,FROM_NUMBER_WITH_IDD:5,FROM_NUMBER_WITHOUT_PLUS_SIGN:10,FROM_DEFAULT_COUNTRY:20};i18n.phonenumbers.PhoneNumber.prototype.getDescriptor=function(){return i18n.phonenumbers.PhoneNumber.descriptor_||(i18n.phonenumbers.PhoneNumber.descriptor_=goog.proto2.Message.createDescriptor(i18n.phonenumbers.PhoneNumber,{0:{name:"PhoneNumber",fullName:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,fieldType:goog.proto2.Message.FieldType.INT32,type:Number},2:{name:"national_number",required:!0,fieldType:goog.proto2.Message.FieldType.UINT64,type:Number},3:{name:"extension",fieldType:goog.proto2.Message.FieldType.STRING,type:String},4:{name:"italian_leading_zero",fieldType:goog.proto2.Message.FieldType.BOOL,type:Boolean},8:{name:"number_of_leading_zeros",fieldType:goog.proto2.Message.FieldType.INT32,defaultValue:1,type:Number},5:{name:"raw_input",fieldType:goog.proto2.Message.FieldType.STRING,type:String},6:{name:"country_code_source",fieldType:goog.proto2.Message.FieldType.ENUM,defaultValue:i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN,type:i18n.phonenumbers.PhoneNumber.CountryCodeSource},7:{name:"preferred_domestic_carrier_code",fieldType:goog.proto2.Message.FieldType.STRING,type:String}})),i18n.phonenumbers.PhoneNumber.descriptor_};i18n.phonenumbers.PhoneNumber.ctor=i18n.phonenumbers.PhoneNumber;i18n.phonenumbers.PhoneNumber.ctor.getDescriptor=i18n.phonenumbers.PhoneNumber.prototype.getDescriptor;i18n.phonenumbers.PhoneNumberUtil=function(){this.regionToMetadataMap={}};goog.addSingletonGetter(i18n.phonenumbers.PhoneNumberUtil);i18n.phonenumbers.Error={INVALID_COUNTRY_CODE:"Invalid country calling code",NOT_A_NUMBER:"The string supplied did not seem to be a phone number",TOO_SHORT_AFTER_IDD:"Phone number too short after IDD",TOO_SHORT_NSN:"The string supplied is too short to be a phone number",TOO_LONG:"The string supplied is too long to be a phone number"};i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_=1;i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_=2;i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_FOR_NSN_=17;i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_COUNTRY_CODE_=3;i18n.phonenumbers.PhoneNumberUtil.MAX_INPUT_STRING_LENGTH_=250;i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_="ZZ";i18n.phonenumbers.PhoneNumberUtil.COLOMBIA_MOBILE_TO_FIXED_LINE_PREFIX_="3";i18n.phonenumbers.PhoneNumberUtil.MOBILE_TOKEN_MAPPINGS_={52:"1",54:"9"};i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN="+";i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_="*";i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_=";ext=";i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_="tel:";i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_=";phone-context=";i18n.phonenumbers.PhoneNumberUtil.RFC3966_ISDN_SUBADDRESS_=";isub=";i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","+":i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN,"*":"*"};i18n.phonenumbers.PhoneNumberUtil.ALPHA_MAPPINGS_={A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"};i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"};i18n.phonenumbers.PhoneNumberUtil.ALL_PLUS_NUMBER_GROUPING_SYMBOLS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",a:"A",b:"B",c:"C",d:"D",e:"E",f:"F",g:"G",h:"H",i:"I",j:"J",k:"K",l:"L",m:"M",n:"N",o:"O",p:"P",q:"Q",r:"R",s:"S",t:"T",u:"U",v:"V",w:"W",x:"X",y:"Y",z:"Z","-":"-","－":"-","‐":"-","‑":"-","‒":"-","–":"-","—":"-","―":"-","−":"-","/":"/","／":"/"," ":" ","　":" ","⁠":" ",".":".","．":"."};i18n.phonenumbers.PhoneNumberUtil.UNIQUE_INTERNATIONAL_PREFIX_=/[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?/;i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION="-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～";i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_="0-9０-９٠-٩۰-۹";i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_="A-Za-z";i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_="+＋";i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_PATTERN=new RegExp("["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]+");i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN_=new RegExp("^["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]+");i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_="["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+"]+";i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN=new RegExp("(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"])");i18n.phonenumbers.PhoneNumberUtil.VALID_START_CHAR_PATTERN_=new RegExp("["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]");i18n.phonenumbers.PhoneNumberUtil.SECOND_NUMBER_START_PATTERN_=/[\\\/] *x/;i18n.phonenumbers.PhoneNumberUtil.UNWANTED_END_CHAR_PATTERN_=new RegExp("[^"+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_+"#]+$");i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_=/(?:.*?[A-Za-z]){3}.*/;i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_PHONE_NUMBER_PATTERN_="["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{"+i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_+"}";i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_="["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]*(?:["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_+"]*["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]){3,}["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_+i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]*";i18n.phonenumbers.PhoneNumberUtil.DEFAULT_EXTN_PREFIX_=" ext. ";i18n.phonenumbers.PhoneNumberUtil.CAPTURING_EXTN_DIGITS_="(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{1,7})";i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERNS_FOR_PARSING_=i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_+i18n.phonenumbers.PhoneNumberUtil.CAPTURING_EXTN_DIGITS_+"|[  \\t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|[,xｘ#＃~～]|int|anexo|ｉｎｔ)[:\\.．]?[  \\t,-]*"+i18n.phonenumbers.PhoneNumberUtil.CAPTURING_EXTN_DIGITS_+"#?|[- ]+(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{1,5})#";i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_=new RegExp("(?:"+i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERNS_FOR_PARSING_+")$","i");i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_PATTERN_=new RegExp("^"+i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_PHONE_NUMBER_PATTERN_+"$|^"+i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_+"(?:"+i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERNS_FOR_PARSING_+")?$","i");i18n.phonenumbers.PhoneNumberUtil.NON_DIGITS_PATTERN_=/\D+/;i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_=/(\$\d)/;i18n.phonenumbers.PhoneNumberUtil.NP_PATTERN_=/\$NP/;i18n.phonenumbers.PhoneNumberUtil.FG_PATTERN_=/\$FG/;i18n.phonenumbers.PhoneNumberUtil.CC_PATTERN_=/\$CC/;i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_ONLY_PREFIX_PATTERN_=/^\(?\$1\)?$/;i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY="001";i18n.phonenumbers.PhoneNumberFormat={E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3};i18n.phonenumbers.PhoneNumberType={FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1};i18n.phonenumbers.PhoneNumberUtil.MatchType={NOT_A_NUMBER:0,NO_MATCH:1,SHORT_NSN_MATCH:2,NSN_MATCH:3,EXACT_MATCH:4};i18n.phonenumbers.PhoneNumberUtil.ValidationResult={IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3};i18n.phonenumbers.PhoneNumberUtil.extractPossibleNumber=function(a){var b=a.search(i18n.phonenumbers.PhoneNumberUtil.VALID_START_CHAR_PATTERN_);return 0<=b?(a=a.substring(b),a=a.replace(i18n.phonenumbers.PhoneNumberUtil.UNWANTED_END_CHAR_PATTERN_,""),b=a.search(i18n.phonenumbers.PhoneNumberUtil.SECOND_NUMBER_START_PATTERN_),0<=b&&(a=a.substring(0,b))):a="",a};i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber=function(a){return a.length<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_?!1:i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_PATTERN_,a)};i18n.phonenumbers.PhoneNumberUtil.normalize=function(a){return i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_,a)?i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(a,i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_,!0):i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(a)};i18n.phonenumbers.PhoneNumberUtil.normalizeSB_=function(a){var b=i18n.phonenumbers.PhoneNumberUtil.normalize(a.toString());a.clear();a.append(b)};i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly=function(a){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(a,i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS,!0)};i18n.phonenumbers.PhoneNumberUtil.convertAlphaCharactersInNumber=function(a){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(a,i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_,!1)};i18n.phonenumbers.PhoneNumberUtil.prototype.getLengthOfGeographicalAreaCode=function(a){var b=this.getMetadataForRegion(this.getRegionCodeForNumber(a));return null!=b&&(b.hasNationalPrefix()||a.hasItalianLeadingZero())&&this.isNumberGeographical(a)?this.getLengthOfNationalDestinationCode(a):0};i18n.phonenumbers.PhoneNumberUtil.prototype.getLengthOfNationalDestinationCode=function(a){var b;return a.hasExtension()?(b=a.clone(),b.clearExtension()):b=a,b=this.format(b,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL).split(i18n.phonenumbers.PhoneNumberUtil.NON_DIGITS_PATTERN_),0==b[0].length&&b.shift(),2>=b.length?0:this.getNumberType(a)==i18n.phonenumbers.PhoneNumberType.MOBILE&&(a=i18n.phonenumbers.PhoneNumberUtil.getCountryMobileToken(a.getCountryCodeOrDefault()),""!=a)?b[2].length+a.length:b[1].length};i18n.phonenumbers.PhoneNumberUtil.getCountryMobileToken=function(a){return i18n.phonenumbers.PhoneNumberUtil.MOBILE_TOKEN_MAPPINGS_[a]||""};i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedRegions=function(){return goog.array.filter(Object.keys(i18n.phonenumbers.metadata.countryToMetadata),function(a){return isNaN(a)})};i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedGlobalNetworkCallingCodes=function(){var a=goog.array.filter(Object.keys(i18n.phonenumbers.metadata.countryToMetadata),function(a){return!isNaN(a)});return goog.array.map(a,function(a){return parseInt(a,10)})};i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_=function(a,b,c){for(var d=new goog.string.StringBuffer,e,f,g=a.length,h=0;h<g;++h)e=a.charAt(h),f=b[e.toUpperCase()],null!=f?d.append(f):c||d.append(e);return d.toString()};i18n.phonenumbers.PhoneNumberUtil.prototype.formattingRuleHasFirstGroupOnly=function(a){return 0==a.length||i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_ONLY_PREFIX_PATTERN_.test(a)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberGeographical=function(a){return a=this.getNumberType(a),a==i18n.phonenumbers.PhoneNumberType.FIXED_LINE||a==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE};i18n.phonenumbers.PhoneNumberUtil.prototype.isValidRegionCode_=function(a){return null!=a&&isNaN(a)&&a.toUpperCase()in i18n.phonenumbers.metadata.countryToMetadata};i18n.phonenumbers.PhoneNumberUtil.prototype.hasValidCountryCallingCode_=function(a){return a in i18n.phonenumbers.metadata.countryCodeToRegionCodeMap};i18n.phonenumbers.PhoneNumberUtil.prototype.format=function(a,b){var c,d;if(0==a.getNationalNumber()&&a.hasRawInput()&&(c=a.getRawInputOrDefault(),0<c.length))return c;if(c=a.getCountryCodeOrDefault(),d=this.getNationalSignificantNumber(a),b==i18n.phonenumbers.PhoneNumberFormat.E164)return this.prefixNumberWithCountryCallingCode_(c,i18n.phonenumbers.PhoneNumberFormat.E164,d,"");if(!this.hasValidCountryCallingCode_(c))return d;var e=this.getRegionCodeForCountryCode(c),f=this.getMetadataForRegionOrCallingCode_(c,e),e=this.maybeGetFormattedExtension_(a,f,b),d=this.formatNsn_(d,f,b);return this.prefixNumberWithCountryCallingCode_(c,b,d,e)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatByPattern=function(a,b,c){var d=a.getCountryCodeOrDefault(),e=this.getNationalSignificantNumber(a),h;if(!this.hasValidCountryCallingCode_(d))return e;var f=this.getRegionCodeForCountryCode(d),f=this.getMetadataForRegionOrCallingCode_(d,f),g="",g=this.chooseFormattingPatternForNumber_(c,e);return null==g?g=e:(c=g.clone(),g=g.getNationalPrefixFormattingRuleOrDefault(),0<g.length&&(h=f.getNationalPrefixOrDefault(),0<h.length?(g=g.replace(i18n.phonenumbers.PhoneNumberUtil.NP_PATTERN_,h).replace(i18n.phonenumbers.PhoneNumberUtil.FG_PATTERN_,"$1"),c.setNationalPrefixFormattingRule(g)):c.clearNationalPrefixFormattingRule()),g=this.formatNsnUsingPattern_(e,c,b)),a=this.maybeGetFormattedExtension_(a,f,b),this.prefixNumberWithCountryCallingCode_(d,b,g,a)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNationalNumberWithCarrierCode=function(a,b){var c=a.getCountryCodeOrDefault(),d=this.getNationalSignificantNumber(a);if(!this.hasValidCountryCallingCode_(c))return d;var e=this.getRegionCodeForCountryCode(c),f=this.getMetadataForRegionOrCallingCode_(c,e),e=this.maybeGetFormattedExtension_(a,f,i18n.phonenumbers.PhoneNumberFormat.NATIONAL),d=this.formatNsn_(d,f,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,b);return this.prefixNumberWithCountryCallingCode_(c,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,d,e)};i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForRegionOrCallingCode_=function(a,b){return i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY==b?this.getMetadataForNonGeographicalRegion(a):this.getMetadataForRegion(b)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNationalNumberWithPreferredCarrierCode=function(a,b){return this.formatNationalNumberWithCarrierCode(a,a.hasPreferredDomesticCarrierCode()?a.getPreferredDomesticCarrierCodeOrDefault():b)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNumberForMobileDialing=function(a,b,c){var d=a.getCountryCodeOrDefault(),e;if(!this.hasValidCountryCallingCode_(d))return a.hasRawInput()?a.getRawInputOrDefault():"";e="";a=a.clone();a.clearExtension();var f=this.getRegionCodeForCountryCode(d),g=this.getNumberType(a),h=g!=i18n.phonenumbers.PhoneNumberType.UNKNOWN;if(b==f)e=g==i18n.phonenumbers.PhoneNumberType.FIXED_LINE||g==i18n.phonenumbers.PhoneNumberType.MOBILE||g==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE,"CO"==f&&g==i18n.phonenumbers.PhoneNumberType.FIXED_LINE?e=this.formatNationalNumberWithCarrierCode(a,i18n.phonenumbers.PhoneNumberUtil.COLOMBIA_MOBILE_TO_FIXED_LINE_PREFIX_):"BR"==f&&e?e=a.hasPreferredDomesticCarrierCode()?this.formatNationalNumberWithPreferredCarrierCode(a,""):"":h&&"HU"==f?e=this.getNddPrefixForRegion(f,!0)+" "+this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL):d==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_?(b=this.getMetadataForRegion(b),e=this.canBeInternationallyDialled(a)&&!this.isShorterThanPossibleNormalNumber_(b,this.getNationalSignificantNumber(a))?this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)):e=(f==i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY||("MX"==f||"CL"==f)&&e)&&this.canBeInternationallyDialled(a)?this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);else if(h&&this.canBeInternationallyDialled(a))return c?this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(a,i18n.phonenumbers.PhoneNumberFormat.E164);return c?e:i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(e,i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_,!0)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatOutOfCountryCallingNumber=function(a,b){var c,d;if(!this.isValidRegionCode_(b))return this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);if(c=a.getCountryCodeOrDefault(),d=this.getNationalSignificantNumber(a),!this.hasValidCountryCallingCode_(c))return d;if(c==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_){if(this.isNANPACountry(b))return c+" "+this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)}else if(c==this.getCountryCodeForValidRegion_(b))return this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);var e=this.getMetadataForRegion(b),f=e.getInternationalPrefixOrDefault(),g="";return i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(i18n.phonenumbers.PhoneNumberUtil.UNIQUE_INTERNATIONAL_PREFIX_,f)?g=f:e.hasPreferredInternationalPrefix()&&(g=e.getPreferredInternationalPrefixOrDefault()),e=this.getRegionCodeForCountryCode(c),e=this.getMetadataForRegionOrCallingCode_(c,e),d=this.formatNsn_(d,e,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL),e=this.maybeGetFormattedExtension_(a,e,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL),0<g.length?g+" "+c+" "+d+e:this.prefixNumberWithCountryCallingCode_(c,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL,d,e)};i18n.phonenumbers.PhoneNumberUtil.prototype.formatInOriginalFormat=function(a,b){var c,d,e,f;if(a.hasRawInput()&&(this.hasUnexpectedItalianLeadingZero_(a)||!this.hasFormattingPatternForNumber_(a)))return a.getRawInputOrDefault();if(!a.hasCountryCodeSource())return this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);switch(a.getCountryCodeSource()){case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN:c=this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);break;case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_IDD:c=this.formatOutOfCountryCallingNumber(a,b);break;case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN:c=this.format(a,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL).substring(1);break;default:if(d=this.getRegionCodeForCountryCode(a.getCountryCodeOrDefault()),e=this.getNddPrefixForRegion(d,!0),c=this.format(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL),null==e||0==e.length)break;if(this.rawInputContainsNationalPrefix_(a.getRawInputOrDefault(),e,d))break;if(d=this.getMetadataForRegion(d),e=this.getNationalSignificantNumber(a),d=this.chooseFormattingPatternForNumber_(d.numberFormatArray(),e),null==d)break;if(e=d.getNationalPrefixFormattingRuleOrDefault(),f=e.indexOf("$1"),0>=f)break;if(e=e.substring(0,f),e=i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(e),0==e.length)break;c=d.clone();c.clearNationalPrefixFormattingRule();c=this.formatByPattern(a,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,[c])}return d=a.getRawInputOrDefault(),null!=c&&0<d.length&&(e=i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(c,i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_,!0),f=i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(d,i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_,!0),e!=f&&(c=d)),c};i18n.phonenumbers.PhoneNumberUtil.prototype.rawInputContainsNationalPrefix_=function(a,b,c){if(a=i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(a),goog.string.startsWith(a,b))try{return this.isValidNumber(this.parse(a.substring(b.length),c))}catch(d){}return!1};i18n.phonenumbers.PhoneNumberUtil.prototype.hasUnexpectedItalianLeadingZero_=function(a){return a.hasItalianLeadingZero()&&!this.isLeadingZeroPossible(a.getCountryCodeOrDefault())};i18n.phonenumbers.PhoneNumberUtil.prototype.hasFormattingPatternForNumber_=function(a){var b=a.getCountryCodeOrDefault(),c=this.getRegionCodeForCountryCode(b),b=this.getMetadataForRegionOrCallingCode_(b,c);return null==b?!1:(a=this.getNationalSignificantNumber(a),null!=this.chooseFormattingPatternForNumber_(b.numberFormatArray(),a))};i18n.phonenumbers.PhoneNumberUtil.prototype.formatOutOfCountryKeepingAlphaChars=function(a,b){var c=a.getRawInputOrDefault(),d,e,f;if(0==c.length)return this.formatOutOfCountryCallingNumber(a,b);if(d=a.getCountryCodeOrDefault(),!this.hasValidCountryCallingCode_(d))return c;if(c=i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(c,i18n.phonenumbers.PhoneNumberUtil.ALL_PLUS_NUMBER_GROUPING_SYMBOLS_,!0),e=this.getNationalSignificantNumber(a),3<e.length&&(f=c.indexOf(e.substring(0,3)),-1!=f&&(c=c.substring(f))),f=this.getMetadataForRegion(b),d==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_){if(this.isNANPACountry(b))return d+" "+c}else if(null!=f&&d==this.getCountryCodeForValidRegion_(b))return(d=this.chooseFormattingPatternForNumber_(f.numberFormatArray(),e),null==d)?c:(d=d.clone(),d.setPattern("(\\d+)(.*)"),d.setFormat("$1$2"),this.formatNsnUsingPattern_(c,d,i18n.phonenumbers.PhoneNumberFormat.NATIONAL));return e="",null!=f&&(e=f.getInternationalPrefixOrDefault(),e=i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(i18n.phonenumbers.PhoneNumberUtil.UNIQUE_INTERNATIONAL_PREFIX_,e)?e:f.getPreferredInternationalPrefixOrDefault()),f=this.getRegionCodeForCountryCode(d),f=this.getMetadataForRegionOrCallingCode_(d,f),f=this.maybeGetFormattedExtension_(a,f,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL),0<e.length?e+" "+d+" "+c+f:this.prefixNumberWithCountryCallingCode_(d,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL,c,f)};i18n.phonenumbers.PhoneNumberUtil.prototype.getNationalSignificantNumber=function(a){var b=""+a.getNationalNumber();return a.hasItalianLeadingZero()&&a.getItalianLeadingZero()?Array(a.getNumberOfLeadingZerosOrDefault()+1).join("0")+b:b};i18n.phonenumbers.PhoneNumberUtil.prototype.prefixNumberWithCountryCallingCode_=function(a,b,c,d){switch(b){case i18n.phonenumbers.PhoneNumberFormat.E164:return i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+a+c+d;case i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL:return i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+a+" "+c+d;case i18n.phonenumbers.PhoneNumberFormat.RFC3966:return i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_+i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+a+"-"+c+d;default:return c+d}};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNsn_=function(a,b,c,d){return b=0==b.intlNumberFormatArray().length||c==i18n.phonenumbers.PhoneNumberFormat.NATIONAL?b.numberFormatArray():b.intlNumberFormatArray(),b=this.chooseFormattingPatternForNumber_(b,a),null==b?a:this.formatNsnUsingPattern_(a,b,c,d)};i18n.phonenumbers.PhoneNumberUtil.prototype.chooseFormattingPatternForNumber_=function(a,b){for(var c,f,d=a.length,e=0;e<d;++e)if(c=a[e],f=c.leadingDigitsPatternCount(),(0==f||0==b.search(c.getLeadingDigitsPattern(f-1)))&&(f=new RegExp(c.getPattern()),i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(f,b)))return c;return null};i18n.phonenumbers.PhoneNumberUtil.prototype.formatNsnUsingPattern_=function(a,b,c,d){var e=b.getFormatOrDefault(),f=new RegExp(b.getPattern()),g=b.getDomesticCarrierCodeFormattingRuleOrDefault(),h="";return c==i18n.phonenumbers.PhoneNumberFormat.NATIONAL&&null!=d&&0<d.length&&0<g.length?(b=g.replace(i18n.phonenumbers.PhoneNumberUtil.CC_PATTERN_,d),e=e.replace(i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_,b),h=a.replace(f,e)):(b=b.getNationalPrefixFormattingRuleOrDefault(),h=c==i18n.phonenumbers.PhoneNumberFormat.NATIONAL&&null!=b&&0<b.length?a.replace(f,e.replace(i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_,b)):a.replace(f,e)),c==i18n.phonenumbers.PhoneNumberFormat.RFC3966&&(h=h.replace(new RegExp("^"+i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_),""),h=h.replace(new RegExp(i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_,"g"),"-")),h};i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumber=function(a){return this.getExampleNumberForType(a,i18n.phonenumbers.PhoneNumberType.FIXED_LINE)};i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumberForType=function(a,b){if(!this.isValidRegionCode_(a))return null;var c=this.getNumberDescByType_(this.getMetadataForRegion(a),b);try{if(c.hasExampleNumber())return this.parse(c.getExampleNumberOrDefault(),a)}catch(d){}return null};i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumberForNonGeoEntity=function(a){var b=this.getMetadataForNonGeographicalRegion(a);if(null!=b){b=b.getGeneralDesc();try{if(b.hasExampleNumber())return this.parse("+"+a+b.getExampleNumber(),"ZZ")}catch(c){}}return null};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeGetFormattedExtension_=function(a,b,c){return a.hasExtension()&&0!=a.getExtension().length?c==i18n.phonenumbers.PhoneNumberFormat.RFC3966?i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_+a.getExtension():b.hasPreferredExtnPrefix()?b.getPreferredExtnPrefix()+a.getExtensionOrDefault():i18n.phonenumbers.PhoneNumberUtil.DEFAULT_EXTN_PREFIX_+a.getExtensionOrDefault():""};i18n.phonenumbers.PhoneNumberUtil.prototype.getNumberDescByType_=function(a,b){switch(b){case i18n.phonenumbers.PhoneNumberType.PREMIUM_RATE:return a.getPremiumRate();case i18n.phonenumbers.PhoneNumberType.TOLL_FREE:return a.getTollFree();case i18n.phonenumbers.PhoneNumberType.MOBILE:return a.getMobile();case i18n.phonenumbers.PhoneNumberType.FIXED_LINE:case i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE:return a.getFixedLine();case i18n.phonenumbers.PhoneNumberType.SHARED_COST:return a.getSharedCost();case i18n.phonenumbers.PhoneNumberType.VOIP:return a.getVoip();case i18n.phonenumbers.PhoneNumberType.PERSONAL_NUMBER:return a.getPersonalNumber();case i18n.phonenumbers.PhoneNumberType.PAGER:return a.getPager();case i18n.phonenumbers.PhoneNumberType.UAN:return a.getUan();case i18n.phonenumbers.PhoneNumberType.VOICEMAIL:return a.getVoicemail();default:return a.getGeneralDesc()}};i18n.phonenumbers.PhoneNumberUtil.prototype.getNumberType=function(a){var b=this.getRegionCodeForNumber(a),b=this.getMetadataForRegionOrCallingCode_(a.getCountryCodeOrDefault(),b);return null==b?i18n.phonenumbers.PhoneNumberType.UNKNOWN:(a=this.getNationalSignificantNumber(a),this.getNumberTypeHelper_(a,b))};i18n.phonenumbers.PhoneNumberUtil.prototype.getNumberTypeHelper_=function(a,b){return this.isNumberMatchingDesc_(a,b.getGeneralDesc())?this.isNumberMatchingDesc_(a,b.getPremiumRate())?i18n.phonenumbers.PhoneNumberType.PREMIUM_RATE:this.isNumberMatchingDesc_(a,b.getTollFree())?i18n.phonenumbers.PhoneNumberType.TOLL_FREE:this.isNumberMatchingDesc_(a,b.getSharedCost())?i18n.phonenumbers.PhoneNumberType.SHARED_COST:this.isNumberMatchingDesc_(a,b.getVoip())?i18n.phonenumbers.PhoneNumberType.VOIP:this.isNumberMatchingDesc_(a,b.getPersonalNumber())?i18n.phonenumbers.PhoneNumberType.PERSONAL_NUMBER:this.isNumberMatchingDesc_(a,b.getPager())?i18n.phonenumbers.PhoneNumberType.PAGER:this.isNumberMatchingDesc_(a,b.getUan())?i18n.phonenumbers.PhoneNumberType.UAN:this.isNumberMatchingDesc_(a,b.getVoicemail())?i18n.phonenumbers.PhoneNumberType.VOICEMAIL:this.isNumberMatchingDesc_(a,b.getFixedLine())?b.getSameMobileAndFixedLinePattern()||this.isNumberMatchingDesc_(a,b.getMobile())?i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE:i18n.phonenumbers.PhoneNumberType.FIXED_LINE:!b.getSameMobileAndFixedLinePattern()&&this.isNumberMatchingDesc_(a,b.getMobile())?i18n.phonenumbers.PhoneNumberType.MOBILE:i18n.phonenumbers.PhoneNumberType.UNKNOWN:i18n.phonenumbers.PhoneNumberType.UNKNOWN};i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForRegion=function(a){var b,c;if(null==a)return null;if(a=a.toUpperCase(),b=this.regionToMetadataMap[a],null==b){if(b=new goog.proto2.PbLiteSerializer,c=i18n.phonenumbers.metadata.countryToMetadata[a],null==c)return null;b=b.deserialize(i18n.phonenumbers.PhoneMetadata.getDescriptor(),c);this.regionToMetadataMap[a]=b}return b};i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForNonGeographicalRegion=function(a){return this.getMetadataForRegion(""+a)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberMatchingDesc_=function(a,b){return i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(b.getPossibleNumberPatternOrDefault(),a)&&i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(b.getNationalNumberPatternOrDefault(),a)};i18n.phonenumbers.PhoneNumberUtil.prototype.isValidNumber=function(a){var b=this.getRegionCodeForNumber(a);return this.isValidNumberForRegion(a,b)};i18n.phonenumbers.PhoneNumberUtil.prototype.isValidNumberForRegion=function(a,b){var c=a.getCountryCodeOrDefault(),d=this.getMetadataForRegionOrCallingCode_(c,b);return null==d||i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY!=b&&c!=this.getCountryCodeForValidRegion_(b)?!1:(c=this.getNationalSignificantNumber(a),this.getNumberTypeHelper_(c,d)!=i18n.phonenumbers.PhoneNumberType.UNKNOWN)};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForNumber=function(a){if(null==a)return null;var b=a.getCountryCodeOrDefault(),b=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[b];return null==b?null:1==b.length?b[0]:this.getRegionCodeForNumberFromRegionList_(a,b)};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForNumberFromRegionList_=function(a,b){for(var g,c=this.getNationalSignificantNumber(a),d,e=b.length,f=0;f<e;f++)if(d=b[f],g=this.getMetadataForRegion(d),g.hasLeadingDigits()){if(0==c.search(g.getLeadingDigits()))return d}else if(this.getNumberTypeHelper_(c,g)!=i18n.phonenumbers.PhoneNumberType.UNKNOWN)return d;return null};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForCountryCode=function(a){return a=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[a],null==a?i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_:a[0]};i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodesForCountryCode=function(a){return a=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[a],null==a?[]:a};i18n.phonenumbers.PhoneNumberUtil.prototype.getCountryCodeForRegion=function(a){return this.isValidRegionCode_(a)?this.getCountryCodeForValidRegion_(a):0};i18n.phonenumbers.PhoneNumberUtil.prototype.getCountryCodeForValidRegion_=function(a){var b=this.getMetadataForRegion(a);if(null==b)throw"Invalid region code: "+a;return b.getCountryCodeOrDefault()};i18n.phonenumbers.PhoneNumberUtil.prototype.getNddPrefixForRegion=function(a,b){var c=this.getMetadataForRegion(a);return null==c?null:(c=c.getNationalPrefixOrDefault(),0==c.length)?null:(b&&(c=c.replace("~","")),c)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNANPACountry=function(a){return null!=a&&goog.array.contains(i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_],a.toUpperCase())};i18n.phonenumbers.PhoneNumberUtil.prototype.isLeadingZeroPossible=function(a){return a=this.getMetadataForRegionOrCallingCode_(a,this.getRegionCodeForCountryCode(a)),null!=a&&a.getLeadingZeroPossibleOrDefault()};i18n.phonenumbers.PhoneNumberUtil.prototype.isAlphaNumber=function(a){return i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(a)?(a=new goog.string.StringBuffer(a),this.maybeStripExtension(a),i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_,a.toString())):!1};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumber=function(a){return this.isPossibleNumberWithReason(a)==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE};i18n.phonenumbers.PhoneNumberUtil.prototype.testNumberLengthAgainstPattern_=function(a,b){return i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(a,b)?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE:0==b.search(a)?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_LONG:i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT};i18n.phonenumbers.PhoneNumberUtil.prototype.isShorterThanPossibleNormalNumber_=function(a,b){var c=a.getGeneralDesc().getPossibleNumberPatternOrDefault();return this.testNumberLengthAgainstPattern_(c,b)==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberWithReason=function(a){var b=this.getNationalSignificantNumber(a),c;return(a=a.getCountryCodeOrDefault(),!this.hasValidCountryCallingCode_(a))?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.INVALID_COUNTRY_CODE:(c=this.getRegionCodeForCountryCode(a),a=this.getMetadataForRegionOrCallingCode_(a,c).getGeneralDesc().getPossibleNumberPatternOrDefault(),this.testNumberLengthAgainstPattern_(a,b))};i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberString=function(a,b){try{return this.isPossibleNumber(this.parse(a,b))}catch(c){return!1}};i18n.phonenumbers.PhoneNumberUtil.prototype.truncateTooLongNumber=function(a){if(this.isValidNumber(a))return!0;var b=a.clone(),c=a.getNationalNumberOrDefault();do if(c=Math.floor(c/10),b.setNationalNumber(c),0==c||this.isPossibleNumberWithReason(b)==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT)return!1;while(!this.isValidNumber(b));return a.setNationalNumber(c),!0};i18n.phonenumbers.PhoneNumberUtil.prototype.extractCountryCode=function(a,b){var c=a.toString(),d,e,f;if(0==c.length||"0"==c.charAt(0))return 0;for(e=c.length,f=1;f<=i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_COUNTRY_CODE_&&f<=e;++f)if(d=parseInt(c.substring(0,f),10),d in i18n.phonenumbers.metadata.countryCodeToRegionCodeMap)return b.append(c.substring(f)),d;return 0};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeExtractCountryCode=function(a,b,c,d,e){var f,g,h;if(0==a.length)return 0;if(a=new goog.string.StringBuffer(a),null!=b&&(f=b.getInternationalPrefix()),null==f&&(f="NonMatch"),f=this.maybeStripInternationalPrefixAndNormalize(a,f),d&&e.setCountryCodeSource(f),f!=i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY){if(a.getLength()<=i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw i18n.phonenumbers.Error.TOO_SHORT_AFTER_IDD;if(c=this.extractCountryCode(a,c),0!=c)return e.setCountryCode(c),c;throw i18n.phonenumbers.Error.INVALID_COUNTRY_CODE;}if(null!=b&&(f=b.getCountryCodeOrDefault(),g=""+f,h=a.toString(),goog.string.startsWith(h,g))){var k=new goog.string.StringBuffer(h.substring(g.length)),h=b.getGeneralDesc(),g=new RegExp(h.getNationalNumberPatternOrDefault());if(this.maybeStripNationalPrefixAndCarrierCode(k,b,null),b=k.toString(),h=h.getPossibleNumberPatternOrDefault(),!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(g,a.toString())&&i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(g,b)||this.testNumberLengthAgainstPattern_(h,a.toString())==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_LONG)return c.append(b),d&&e.setCountryCodeSource(i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN),e.setCountryCode(f),f}return e.setCountryCode(0),0};i18n.phonenumbers.PhoneNumberUtil.prototype.parsePrefixAsIdd_=function(a,b){var c=b.toString(),d,e;return 0==c.search(a)?(d=c.match(a)[0].length,e=c.substring(d).match(i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN),e&&null!=e[1]&&0<e[1].length&&"0"==i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(e[1]))?!1:(b.clear(),b.append(c.substring(d)),!0):!1};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripInternationalPrefixAndNormalize=function(a,b){var c=a.toString();return 0==c.length?i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY:i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN_.test(c)?(c=c.replace(i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN_,""),a.clear(),a.append(i18n.phonenumbers.PhoneNumberUtil.normalize(c)),i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN):(c=new RegExp(b),i18n.phonenumbers.PhoneNumberUtil.normalizeSB_(a),this.parsePrefixAsIdd_(c,a)?i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_IDD:i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY)};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripNationalPrefixAndCarrierCode=function(a,b,c){var d=a.toString(),e=d.length,f=b.getNationalPrefixForParsing(),g;if(0==e||null==f||0==f.length)return!1;if(g=new RegExp("^(?:"+f+")"),e=g.exec(d)){var f=new RegExp(b.getGeneralDesc().getNationalNumberPatternOrDefault()),h=i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(f,d),k=e.length-1;if(b=b.getNationalPrefixTransformRule(),null==b||0==b.length||null==e[k]||0==e[k].length){if(h&&!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(f,d.substring(e[0].length)))return!1;null!=c&&0<k&&null!=e[k]&&c.append(e[1]);a.set(d.substring(e[0].length))}else{if(d=d.replace(g,b),h&&!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_(f,d))return!1;null!=c&&0<k&&c.append(e[1]);a.set(d)}return!0}return!1};i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripExtension=function(a){var b=a.toString(),c=b.search(i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_);if(0<=c&&i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(b.substring(0,c)))for(var d=b.match(i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_),e=d.length,f=1;f<e;++f)if(null!=d[f]&&0<d[f].length)return a.clear(),a.append(b.substring(0,c)),d[f];return""};i18n.phonenumbers.PhoneNumberUtil.prototype.checkRegionForParsing_=function(a,b){return this.isValidRegionCode_(b)||null!=a&&0<a.length&&i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN_.test(a)};i18n.phonenumbers.PhoneNumberUtil.prototype.parse=function(a,b){return this.parseHelper_(a,b,!1,!0)};i18n.phonenumbers.PhoneNumberUtil.prototype.parseAndKeepRawInput=function(a,b){if(!this.isValidRegionCode_(b)&&0<a.length&&a.charAt(0)!=i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN)throw i18n.phonenumbers.Error.INVALID_COUNTRY_CODE;return this.parseHelper_(a,b,!0,!0)};i18n.phonenumbers.PhoneNumberUtil.prototype.setItalianLeadingZerosForPhoneNumber_=function(a,b){if(1<a.length&&"0"==a.charAt(0)){b.setItalianLeadingZero(!0);for(var c=1;c<a.length-1&&"0"==a.charAt(c);)c++;1!=c&&b.setNumberOfLeadingZeros(c)}};i18n.phonenumbers.PhoneNumberUtil.prototype.parseHelper_=function(a,b,c,d){var e;if(null==a)throw i18n.phonenumbers.Error.NOT_A_NUMBER;if(a.length>i18n.phonenumbers.PhoneNumberUtil.MAX_INPUT_STRING_LENGTH_)throw i18n.phonenumbers.Error.TOO_LONG;if(e=new goog.string.StringBuffer,this.buildNationalNumberForParsing_(a,e),!i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(e.toString()))throw i18n.phonenumbers.Error.NOT_A_NUMBER;if(d&&!this.checkRegionForParsing_(e.toString(),b))throw i18n.phonenumbers.Error.INVALID_COUNTRY_CODE;d=new i18n.phonenumbers.PhoneNumber;c&&d.setRawInput(a);a=this.maybeStripExtension(e);0<a.length&&d.setExtension(a);a=this.getMetadataForRegion(b);var f=new goog.string.StringBuffer,g=0,h=e.toString();try{g=this.maybeExtractCountryCode(h,a,f,c,d)}catch(k){if(k==i18n.phonenumbers.Error.INVALID_COUNTRY_CODE&&i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN_.test(h)){if(h=h.replace(i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN_,""),g=this.maybeExtractCountryCode(h,a,f,c,d),0==g)throw k;}else throw k;}if(0!=g?(e=this.getRegionCodeForCountryCode(g),e!=b&&(a=this.getMetadataForRegionOrCallingCode_(g,e))):(i18n.phonenumbers.PhoneNumberUtil.normalizeSB_(e),f.append(e.toString()),null!=b?(g=a.getCountryCodeOrDefault(),d.setCountryCode(g)):c&&d.clearCountryCodeSource()),f.getLength()<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw i18n.phonenumbers.Error.TOO_SHORT_NSN;if(null!=a&&(b=new goog.string.StringBuffer,e=new goog.string.StringBuffer(f.toString()),this.maybeStripNationalPrefixAndCarrierCode(e,a,b),this.isShorterThanPossibleNormalNumber_(a,e.toString())||(f=e,c&&d.setPreferredDomesticCarrierCode(b.toString()))),c=f.toString(),b=c.length,b<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw i18n.phonenumbers.Error.TOO_SHORT_NSN;if(b>i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_FOR_NSN_)throw i18n.phonenumbers.Error.TOO_LONG;return this.setItalianLeadingZerosForPhoneNumber_(c,d),d.setNationalNumber(parseInt(c,10)),d};i18n.phonenumbers.PhoneNumberUtil.prototype.buildNationalNumberForParsing_=function(a,b){var c=a.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_),d,e;0<c?(d=c+i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_.length,a.charAt(d)==i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN&&(e=a.indexOf(";",d),0<e?b.append(a.substring(d,e)):b.append(a.substring(d))),d=a.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_),b.append(a.substring(0<=d?d+i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_.length:0,c))):b.append(i18n.phonenumbers.PhoneNumberUtil.extractPossibleNumber(a));c=b.toString();d=c.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_ISDN_SUBADDRESS_);0<d&&(b.clear(),b.append(c.substring(0,d)))};i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberMatch=function(a,b){var c,d,e,f;if("string"==typeof a)try{c=this.parse(a,i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_)}catch(g){if(g!=i18n.phonenumbers.Error.INVALID_COUNTRY_CODE)return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER;if("string"!=typeof b&&(e=this.getRegionCodeForCountryCode(b.getCountryCodeOrDefault()),e!=i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_)){try{c=this.parse(a,e)}catch(h){return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER}return c=this.isNumberMatch(c,b),c==i18n.phonenumbers.PhoneNumberUtil.MatchType.EXACT_MATCH?i18n.phonenumbers.PhoneNumberUtil.MatchType.NSN_MATCH:c}try{c=this.parseHelper_(a,null,!1,!1)}catch(h){return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER}}else c=a.clone();if("string"==typeof b)try{return d=this.parse(b,i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_),this.isNumberMatch(a,d)}catch(g){return g!=i18n.phonenumbers.Error.INVALID_COUNTRY_CODE?i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER:this.isNumberMatch(b,c)}else d=b.clone();return(c.clearRawInput(),c.clearCountryCodeSource(),c.clearPreferredDomesticCarrierCode(),d.clearRawInput(),d.clearCountryCodeSource(),d.clearPreferredDomesticCarrierCode(),c.hasExtension()&&0==c.getExtension().length&&c.clearExtension(),d.hasExtension()&&0==d.getExtension().length&&d.clearExtension(),c.hasExtension()&&d.hasExtension()&&c.getExtension()!=d.getExtension())?i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH:(e=c.getCountryCodeOrDefault(),f=d.getCountryCodeOrDefault(),0!=e&&0!=f)?c.equals(d)?i18n.phonenumbers.PhoneNumberUtil.MatchType.EXACT_MATCH:e==f&&this.isNationalNumberSuffixOfTheOther_(c,d)?i18n.phonenumbers.PhoneNumberUtil.MatchType.SHORT_NSN_MATCH:i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH:(c.setCountryCode(0),d.setCountryCode(0),c.equals(d)?i18n.phonenumbers.PhoneNumberUtil.MatchType.NSN_MATCH:this.isNationalNumberSuffixOfTheOther_(c,d)?i18n.phonenumbers.PhoneNumberUtil.MatchType.SHORT_NSN_MATCH:i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH)};i18n.phonenumbers.PhoneNumberUtil.prototype.isNationalNumberSuffixOfTheOther_=function(a,b){var c=""+a.getNationalNumber(),d=""+b.getNationalNumber();return goog.string.endsWith(c,d)||goog.string.endsWith(d,c)};i18n.phonenumbers.PhoneNumberUtil.prototype.canBeInternationallyDialled=function(a){var b=this.getMetadataForRegion(this.getRegionCodeForNumber(a));return null==b?!0:(a=this.getNationalSignificantNumber(a),!this.isNumberMatchingDesc_(a,b.getNoInternationalDialling()))};i18n.phonenumbers.PhoneNumberUtil.matchesEntirely_=function(a,b){var c="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a);return c&&c[0].length==b.length?!0:!1};i18n.phonenumbers.AsYouTypeFormatter=function(a){this.DIGIT_PLACEHOLDER_=" ";this.DIGIT_PATTERN_=new RegExp(this.DIGIT_PLACEHOLDER_);this.currentOutput_="";this.formattingTemplate_=new goog.string.StringBuffer;this.currentFormattingPattern_="";this.accruedInput_=new goog.string.StringBuffer;this.accruedInputWithoutFormatting_=new goog.string.StringBuffer;this.ableToFormat_=!0;this.isExpectingCountryCallingCode_=this.isCompleteNumber_=this.inputHasFormatting_=!1;this.phoneUtil_=i18n.phonenumbers.PhoneNumberUtil.getInstance();this.positionToRemember_=this.originalPosition_=this.lastMatchPosition_=0;this.prefixBeforeNationalNumber_=new goog.string.StringBuffer;this.shouldAddSpaceAfterNationalPrefix_=!1;this.extractedNationalPrefix_="";this.nationalNumber_=new goog.string.StringBuffer;this.possibleFormats_=[];this.defaultCountry_=a;this.defaultMetadata_=this.currentMetadata_=this.getMetadataForRegion_(this.defaultCountry_)};i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_=" ";i18n.phonenumbers.AsYouTypeFormatter.EMPTY_METADATA_=new i18n.phonenumbers.PhoneMetadata;i18n.phonenumbers.AsYouTypeFormatter.EMPTY_METADATA_.setInternationalPrefix("NA");i18n.phonenumbers.AsYouTypeFormatter.CHARACTER_CLASS_PATTERN_=/\[([^\[\]])*\]/g;i18n.phonenumbers.AsYouTypeFormatter.STANDALONE_DIGIT_PATTERN_=/\d(?=[^,}][^,}])/g;i18n.phonenumbers.AsYouTypeFormatter.ELIGIBLE_FORMAT_PATTERN_=new RegExp("^["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+"]*(\\$\\d["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+"]*)+$");i18n.phonenumbers.AsYouTypeFormatter.NATIONAL_PREFIX_SEPARATORS_PATTERN_=/[- ]/;i18n.phonenumbers.AsYouTypeFormatter.MIN_LEADING_DIGITS_LENGTH_=3;i18n.phonenumbers.AsYouTypeFormatter.prototype.getMetadataForRegion_=function(a){return a=this.phoneUtil_.getCountryCodeForRegion(a),a=this.phoneUtil_.getRegionCodeForCountryCode(a),a=this.phoneUtil_.getMetadataForRegion(a),null!=a?a:i18n.phonenumbers.AsYouTypeFormatter.EMPTY_METADATA_};i18n.phonenumbers.AsYouTypeFormatter.prototype.maybeCreateNewTemplate_=function(){for(var c,d,a=this.possibleFormats_.length,b=0;b<a;++b){if(c=this.possibleFormats_[b],d=c.getPatternOrDefault(),this.currentFormattingPattern_==d)return!1;if(this.createFormattingTemplate_(c))return this.currentFormattingPattern_=d,this.shouldAddSpaceAfterNationalPrefix_=i18n.phonenumbers.AsYouTypeFormatter.NATIONAL_PREFIX_SEPARATORS_PATTERN_.test(c.getNationalPrefixFormattingRule()),this.lastMatchPosition_=0,!0}return this.ableToFormat_=!1};i18n.phonenumbers.AsYouTypeFormatter.prototype.getAvailableFormats_=function(a){for(var e,b=this.isCompleteNumber_&&0<this.currentMetadata_.intlNumberFormatCount()?this.currentMetadata_.intlNumberFormatArray():this.currentMetadata_.numberFormatArray(),c=b.length,d=0;d<c;++d)e=b[d],(!this.currentMetadata_.hasNationalPrefix()||this.isCompleteNumber_||e.getNationalPrefixOptionalWhenFormatting()||this.phoneUtil_.formattingRuleHasFirstGroupOnly(e.getNationalPrefixFormattingRuleOrDefault()))&&this.isFormatEligible_(e.getFormatOrDefault())&&this.possibleFormats_.push(e);this.narrowDownPossibleFormats_(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.isFormatEligible_=function(a){return i18n.phonenumbers.AsYouTypeFormatter.ELIGIBLE_FORMAT_PATTERN_.test(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.narrowDownPossibleFormats_=function(a){for(var g,f,b=[],c=a.length-i18n.phonenumbers.AsYouTypeFormatter.MIN_LEADING_DIGITS_LENGTH_,d=this.possibleFormats_.length,e=0;e<d;++e)f=this.possibleFormats_[e],0==f.leadingDigitsPatternCount()?b.push(this.possibleFormats_[e]):(g=Math.min(c,f.leadingDigitsPatternCount()-1),f=f.getLeadingDigitsPattern(g),0==a.search(f)&&b.push(this.possibleFormats_[e]));this.possibleFormats_=b};i18n.phonenumbers.AsYouTypeFormatter.prototype.createFormattingTemplate_=function(a){var b=a.getPatternOrDefault();return-1!=b.indexOf("|")?!1:(b=b.replace(i18n.phonenumbers.AsYouTypeFormatter.CHARACTER_CLASS_PATTERN_,"\\d"),b=b.replace(i18n.phonenumbers.AsYouTypeFormatter.STANDALONE_DIGIT_PATTERN_,"\\d"),this.formattingTemplate_.clear(),a=this.getFormattingTemplate_(b,a.getFormatOrDefault()),0<a.length?(this.formattingTemplate_.append(a),!0):!1)};i18n.phonenumbers.AsYouTypeFormatter.prototype.getFormattingTemplate_=function(a,b){var c="999999999999999".match(a)[0];return c.length<this.nationalNumber_.getLength()?"":(c=c.replace(new RegExp(a,"g"),b),c.replace(RegExp("9","g"),this.DIGIT_PLACEHOLDER_))};i18n.phonenumbers.AsYouTypeFormatter.prototype.clear=function(){this.currentOutput_="";this.accruedInput_.clear();this.accruedInputWithoutFormatting_.clear();this.formattingTemplate_.clear();this.lastMatchPosition_=0;this.currentFormattingPattern_="";this.prefixBeforeNationalNumber_.clear();this.extractedNationalPrefix_="";this.nationalNumber_.clear();this.ableToFormat_=!0;this.inputHasFormatting_=!1;this.originalPosition_=this.positionToRemember_=0;this.isExpectingCountryCallingCode_=this.isCompleteNumber_=!1;this.possibleFormats_=[];this.shouldAddSpaceAfterNationalPrefix_=!1;this.currentMetadata_!=this.defaultMetadata_&&(this.currentMetadata_=this.getMetadataForRegion_(this.defaultCountry_))};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigit=function(a){return this.currentOutput_=this.inputDigitWithOptionToRememberPosition_(a,!1)};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigitAndRememberPosition=function(a){return this.currentOutput_=this.inputDigitWithOptionToRememberPosition_(a,!0)};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigitWithOptionToRememberPosition_=function(a,b){if(this.accruedInput_.append(a),b&&(this.originalPosition_=this.accruedInput_.getLength()),this.isDigitOrLeadingPlusSign_(a)?a=this.normalizeAndAccrueDigitsAndPlusSign_(a,b):(this.ableToFormat_=!1,this.inputHasFormatting_=!0),!this.ableToFormat_){if(!this.inputHasFormatting_)if(this.attemptToExtractIdd_()){if(this.attemptToExtractCountryCallingCode_())return this.attemptToChoosePatternWithPrefixExtracted_()}else if(this.ableToExtractLongerNdd_())return this.prefixBeforeNationalNumber_.append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),this.attemptToChoosePatternWithPrefixExtracted_();return this.accruedInput_.toString()}switch(this.accruedInputWithoutFormatting_.getLength()){case 0:case 1:case 2:return this.accruedInput_.toString();case 3:if(this.attemptToExtractIdd_())this.isExpectingCountryCallingCode_=!0;else return this.extractedNationalPrefix_=this.removeNationalPrefixFromNationalNumber_(),this.attemptToChooseFormattingPattern_();default:if(this.isExpectingCountryCallingCode_)return this.attemptToExtractCountryCallingCode_()&&(this.isExpectingCountryCallingCode_=!1),this.prefixBeforeNationalNumber_.toString()+this.nationalNumber_.toString();if(0<this.possibleFormats_.length){var c=this.inputDigitHelper_(a),d=this.attemptToFormatAccruedDigits_();return 0<d.length?d:(this.narrowDownPossibleFormats_(this.nationalNumber_.toString()),this.maybeCreateNewTemplate_()?this.inputAccruedNationalNumber_():this.ableToFormat_?this.appendNationalNumber_(c):this.accruedInput_.toString())}return this.attemptToChooseFormattingPattern_()}};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToChoosePatternWithPrefixExtracted_=function(){return this.ableToFormat_=!0,this.isExpectingCountryCallingCode_=!1,this.possibleFormats_=[],this.lastMatchPosition_=0,this.formattingTemplate_.clear(),this.currentFormattingPattern_="",this.attemptToChooseFormattingPattern_()};i18n.phonenumbers.AsYouTypeFormatter.prototype.getExtractedNationalPrefix_=function(){return this.extractedNationalPrefix_};i18n.phonenumbers.AsYouTypeFormatter.prototype.ableToExtractLongerNdd_=function(){var a,b;return 0<this.extractedNationalPrefix_.length&&(a=this.nationalNumber_.toString(),this.nationalNumber_.clear(),this.nationalNumber_.append(this.extractedNationalPrefix_),this.nationalNumber_.append(a),a=this.prefixBeforeNationalNumber_.toString(),b=a.lastIndexOf(this.extractedNationalPrefix_),this.prefixBeforeNationalNumber_.clear(),this.prefixBeforeNationalNumber_.append(a.substring(0,b))),this.extractedNationalPrefix_!=this.removeNationalPrefixFromNationalNumber_()};i18n.phonenumbers.AsYouTypeFormatter.prototype.isDigitOrLeadingPlusSign_=function(a){return i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN.test(a)||1==this.accruedInput_.getLength()&&i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_PATTERN.test(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToFormatAccruedDigits_=function(){for(var d,e,a=this.nationalNumber_.toString(),b=this.possibleFormats_.length,c=0;c<b;++c)if(d=this.possibleFormats_[c],e=d.getPatternOrDefault(),new RegExp("^(?:"+e+")$").test(a))return this.shouldAddSpaceAfterNationalPrefix_=i18n.phonenumbers.AsYouTypeFormatter.NATIONAL_PREFIX_SEPARATORS_PATTERN_.test(d.getNationalPrefixFormattingRule()),a=a.replace(new RegExp(e,"g"),d.getFormat()),this.appendNationalNumber_(a);return""};i18n.phonenumbers.AsYouTypeFormatter.prototype.appendNationalNumber_=function(a){var b=this.prefixBeforeNationalNumber_.getLength();return this.shouldAddSpaceAfterNationalPrefix_&&0<b&&this.prefixBeforeNationalNumber_.toString().charAt(b-1)!=i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_?this.prefixBeforeNationalNumber_+i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_+a:this.prefixBeforeNationalNumber_+a};i18n.phonenumbers.AsYouTypeFormatter.prototype.getRememberedPosition=function(){if(!this.ableToFormat_)return this.originalPosition_;for(var a=0,b=0,c=this.accruedInputWithoutFormatting_.toString(),d=this.currentOutput_.toString();a<this.positionToRemember_&&b<d.length;)c.charAt(a)==d.charAt(b)&&a++,b++;return b};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToChooseFormattingPattern_=function(){var a=this.nationalNumber_.toString();return a.length>=i18n.phonenumbers.AsYouTypeFormatter.MIN_LEADING_DIGITS_LENGTH_?(this.getAvailableFormats_(a),a=this.attemptToFormatAccruedDigits_(),0<a.length?a:this.maybeCreateNewTemplate_()?this.inputAccruedNationalNumber_():this.accruedInput_.toString()):this.appendNationalNumber_(a)};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputAccruedNationalNumber_=function(){var a=this.nationalNumber_.toString(),b=a.length,c,d;if(0<b){for(c="",d=0;d<b;d++)c=this.inputDigitHelper_(a.charAt(d));return this.ableToFormat_?this.appendNationalNumber_(c):this.accruedInput_.toString()}return this.prefixBeforeNationalNumber_.toString()};i18n.phonenumbers.AsYouTypeFormatter.prototype.isNanpaNumberWithNationalPrefix_=function(){if(1!=this.currentMetadata_.getCountryCode())return!1;var a=this.nationalNumber_.toString();return"1"==a.charAt(0)&&"0"!=a.charAt(1)&&"1"!=a.charAt(1)};i18n.phonenumbers.AsYouTypeFormatter.prototype.removeNationalPrefixFromNationalNumber_=function(){var a=this.nationalNumber_.toString(),b=0,c;return this.isNanpaNumberWithNationalPrefix_()?(b=1,this.prefixBeforeNationalNumber_.append("1").append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),this.isCompleteNumber_=!0):this.currentMetadata_.hasNationalPrefixForParsing()&&(c=new RegExp("^(?:"+this.currentMetadata_.getNationalPrefixForParsing()+")"),c=a.match(c),null!=c&&null!=c[0]&&0<c[0].length&&(this.isCompleteNumber_=!0,b=c[0].length,this.prefixBeforeNationalNumber_.append(a.substring(0,b)))),this.nationalNumber_.clear(),this.nationalNumber_.append(a.substring(b)),a.substring(0,b)};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToExtractIdd_=function(){var a=this.accruedInputWithoutFormatting_.toString(),b=new RegExp("^(?:\\"+i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+"|"+this.currentMetadata_.getInternationalPrefix()+")"),b=a.match(b);return null!=b&&null!=b[0]&&0<b[0].length?(this.isCompleteNumber_=!0,b=b[0].length,this.nationalNumber_.clear(),this.nationalNumber_.append(a.substring(b)),this.prefixBeforeNationalNumber_.clear(),this.prefixBeforeNationalNumber_.append(a.substring(0,b)),a.charAt(0)!=i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN&&this.prefixBeforeNationalNumber_.append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),!0):!1};i18n.phonenumbers.AsYouTypeFormatter.prototype.attemptToExtractCountryCallingCode_=function(){if(0==this.nationalNumber_.getLength())return!1;var a=new goog.string.StringBuffer,b=this.phoneUtil_.extractCountryCode(this.nationalNumber_,a);return 0==b?!1:(this.nationalNumber_.clear(),this.nationalNumber_.append(a.toString()),a=this.phoneUtil_.getRegionCodeForCountryCode(b),i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY==a?this.currentMetadata_=this.phoneUtil_.getMetadataForNonGeographicalRegion(b):a!=this.defaultCountry_&&(this.currentMetadata_=this.getMetadataForRegion_(a)),this.prefixBeforeNationalNumber_.append(""+b).append(i18n.phonenumbers.AsYouTypeFormatter.SEPARATOR_BEFORE_NATIONAL_NUMBER_),this.extractedNationalPrefix_="",!0)};i18n.phonenumbers.AsYouTypeFormatter.prototype.normalizeAndAccrueDigitsAndPlusSign_=function(a,b){var c;return a==i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN?(c=a,this.accruedInputWithoutFormatting_.append(a)):(c=i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS[a],this.accruedInputWithoutFormatting_.append(c),this.nationalNumber_.append(c)),b&&(this.positionToRemember_=this.accruedInputWithoutFormatting_.getLength()),c};i18n.phonenumbers.AsYouTypeFormatter.prototype.inputDigitHelper_=function(a){var b=this.formattingTemplate_.toString(),c;return 0<=b.substring(this.lastMatchPosition_).search(this.DIGIT_PATTERN_)?(c=b.search(this.DIGIT_PATTERN_),a=b.replace(this.DIGIT_PATTERN_,a),this.formattingTemplate_.clear(),this.formattingTemplate_.append(a),this.lastMatchPosition_=c,a.substring(0,this.lastMatchPosition_+1)):(1==this.possibleFormats_.length&&(this.ableToFormat_=!1),this.currentFormattingPattern_="",this.accruedInput_.toString())};ScheduleTourViewModel=function(params){var _self=this,_currentStep,tourTimeinitialLoad;params=$.extend({model:null,$dialog:null,$form:null,showRequestCompletedBanner:function(){},onSuccess:function(){}},params);params.model.MinDate=Date.fromISO(params.model.MinDate);this.setLoading=function(){params.$dialog.lsLoading("set")};this.removeLoading=function(){params.$dialog.lsLoading("remove")};ko.mapping.fromJS(params.model,{copy:["VenueId","WorkspaceId","MemberId"],ignore:["LogOnModel","MinDate","InitialStep"]},this);this.TourDate(Date.fromISO(params.model.TourDate));this.tourDateSelected=ko.observable(!1);this.tourDatepickerToggled=ko.observable(!1);this.toggleTourDatepicker=function(forceValue){_self.tourDatepickerToggled(forceValue!=null?forceValue:!_self.tourDatepickerToggled())};this.isAnonymous=ko.observable(User.id==null||User.id==Guid.Empty);this.messengerMode=ko.observable(!1);_currentStep=ko.observable(params.model.InitialStep);this.datepickerOptions={useDateObjectForObservable:!0,dayNamesMin:["S","M","T","W","T","F","S"],minDate:params.model.MinDate,onSelect:function(){_self.tourDateSelected(!0);_self.goToStep(2);_self.toggleTourDatepicker(!1)}};this.startDateDatepickerOptions={useDateObjectForObservable:!0,minDate:params.model.MinDate,beforeShow:function(input,inst){$(inst.dpDiv).addClass("schedule-startTime-datepicker")}};this.selectedTourTime=ko.observable();this.selectedTourTime.subscribe(function(newValue){newValue?_self.TourTime(newValue.Value):_self.TourTime(null)});this.availableTimes=ko.observable([]);tourTimeinitialLoad=!0;ko.computed(function(){$.ajax({url:"/Availability/OpenHours",data:{venueId:params.model.VenueId,workspaceId:params.model.WorkspaceId,date:_self.TourDate().toServerString()},success:function(result){var tourTime,existingTourTime;_self.availableTimes(result.map(function(item){return $.extend({isSelected:ko.computed(function(){return _self.isSelected(item)}),isNotSelected:ko.computed(function(){return _self.isNotSelected(item)}),select:function(){_self.selectedTourTime(item);_self.messengerMode(!1);_self.goToStep(tourTimeinitialLoad?params.model.InitialStep:3)}},item)}));tourTimeinitialLoad&&(tourTime=_self.TourTime(),tourTime&&(existingTourTime=_self.availableTimes().find(function(i){return i.Value==tourTime}),existingTourTime?existingTourTime.select():_self.availableTimes()[0].select()),tourTimeinitialLoad=!1)}})}).extend({throttle:100});this.tourDateDisplay=ko.computed(function(){var result=new Date(_self.TourDate()).format("ddd, MMM dd, yyyy"),selectedTourTime=_self.selectedTourTime();return selectedTourTime!=null&&selectedTourTime.Text!=null&&(result+=" at "+selectedTourTime.Text),result});this.tourDateString=ko.computed(function(){return new Date(_self.TourDate()).format("ddd, MMM dd, yyyy")});this.isSelected=function(timeItem){return timeItem.Value==_self.TourTime()};this.isNotSelected=function(timeItem){return!_self.isSelected(timeItem)};this.close=function(){params.$dialog.dialog("close")};this.logOnModel=new LiquidSpace.View.LogonPopup;this.logOnModel.mode=ko.computed({read:function(){var mode="signin";switch(_currentStep()){case 5:mode="forgot";break}return mode},write:function(value){value=="forgot"?_currentStep(5):_currentStep(4)}});this.isDone=ko.observable(!1);this.dialogHeader=ko.computed(function(){var currentStep=_currentStep(),messengerMode=_self.messengerMode(),header="Schedule a Tour";switch(currentStep){case 3:messengerMode&&(header="Message Host");break;case 4:header="Sign In";break;case 5:header="Forgot Password";break}return header});this.stepsCss=ko.computed(function(){for(var css={"scht-wrapper-done":_self.isDone(),"scht-wrapper-show-password-reset-message":_self.logOnModel.showPasswordResetMessage(),"scht-anonymous":_self.isAnonymous(),"scht-messenger-mode":_self.messengerMode(),"scht-tourDate-selected":_self.tourDateSelected()},currentStep=_currentStep(),i=1;i<=5;i++)css["scht-step-"+i]=i==currentStep;return css});this.goToStep=function(index){if(_currentStep(index),index==3&&_self.selectedTourTime()==null){var item=_self.availableTimes()[0];item&&_self.selectedTourTime(item)}};this.isPasswordWrong=ko.observable(!1);this.scheduleTour=function(){var item,object;_self.isPasswordWrong(!1);params.$form.valid()&&(_self.selectedTourTime()==null&&(item=_self.availableTimes()[0],item&&_self.selectedTourTime(item)),object=ko.mapping.toJS(_self,{ignore:["MinDate","ForgotPasswordModel","LogOnModel"]}),object.TourDate=object.TourDate.toServerString(),_self.setLoading(),$.ajax({type:"POST",url:"/Tour/Schedule",data:JSON.stringify(object),contentType:"application/json; charset=utf-8",success:function(response){if(response.isException){LSHelper.UI.showError(response);params.$dialog.dialog("close");return}response.success?(_self.isDone(!0),LSHelper.Account.reloadHeader(),$(document).trigger("WorkspaceRequestSuccess"),response.state&&$(window).trigger("agreeToShareApproved",{venueId:response.venueId,state:response.state,visaImageUrl:response.visaImageUrl,buttonState:response.buttonState,userId:response.memberId}),LSHelper.ga.trackMonthlyRequest("Tour",params.model.WorkspaceId),params.onSuccess()):response.wrongCredentials&&_self.isPasswordWrong(!0)},complete:function(){_self.removeLoading()}}))};this.tourScheduledText=ko.computed(function(){var selectedTourTime=_self.selectedTourTime(),tourDate=_self.TourDate();return tourDate&&selectedTourTime?tourDate.format("dddd, MMMM d")+(tourDate%100==1?"st":"th")+" at "+selectedTourTime.Text:null});this.signInFunc=function(messages){messages=messages||{};LSHelper.HelperLib.blockUI(params.$dialog);LSHelper.Account.popUpSignIn({onCloseCallback:function(){LSHelper.HelperLib.unblockUI(params.$dialog)},onLogInSuccessCallback:function(userId){LSHelper.HelperLib.blockUI(params.$dialog);_self.isAnonymous(!1);_self.MemberId=userId;$.post("/Account/Member",function(data){data&&(_self.FullName(data.FullName),_self.Email(data.Email),_self.Phone(data.PhoneNumber),_self.Company(data.Company),_self.PersonalDataFilled(data.PersonalDataFilled));LSHelper.HelperLib.unblockUI(params.$dialog)})},onlyHeaderReload:!0,signInMessage:messages.signInMessage,joinMessage:messages.joinMessage,userName:_self.Email()?_self.Email():null})}}